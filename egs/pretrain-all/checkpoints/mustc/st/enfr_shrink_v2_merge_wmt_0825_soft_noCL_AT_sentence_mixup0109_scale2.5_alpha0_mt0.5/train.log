2023-08-25 23:12:03 | INFO | fairseq.distributed.utils | distributed init (rank 0): tcp://localhost:14557
2023-08-25 23:12:03 | INFO | fairseq.distributed.utils | distributed init (rank 1): tcp://localhost:14557
2023-08-25 23:12:03 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 1
2023-08-25 23:12:03 | INFO | fairseq.distributed.utils | distributed init (rank 6): tcp://localhost:14557
2023-08-25 23:12:03 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 6
2023-08-25 23:12:03 | INFO | fairseq.distributed.utils | distributed init (rank 2): tcp://localhost:14557
2023-08-25 23:12:03 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 2
2023-08-25 23:12:03 | INFO | fairseq.distributed.utils | distributed init (rank 7): tcp://localhost:14557
2023-08-25 23:12:03 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 7
2023-08-25 23:12:03 | INFO | fairseq.distributed.utils | distributed init (rank 4): tcp://localhost:14557
2023-08-25 23:12:03 | INFO | fairseq.distributed.utils | distributed init (rank 5): tcp://localhost:14557
2023-08-25 23:12:03 | INFO | fairseq.distributed.utils | distributed init (rank 3): tcp://localhost:14557
2023-08-25 23:12:03 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 4
2023-08-25 23:12:03 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 0
2023-08-25 23:12:03 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 5
2023-08-25 23:12:03 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 3
2023-08-25 23:12:03 | INFO | torch.distributed.distributed_c10d | Rank 5: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-25 23:12:03 | INFO | torch.distributed.distributed_c10d | Rank 3: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-25 23:12:03 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 5
2023-08-25 23:12:03 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 3
2023-08-25 23:12:04 | INFO | torch.distributed.distributed_c10d | Rank 2: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-25 23:12:04 | INFO | torch.distributed.distributed_c10d | Rank 1: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-25 23:12:04 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 2
2023-08-25 23:12:04 | INFO | torch.distributed.distributed_c10d | Rank 4: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-25 23:12:04 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 1
2023-08-25 23:12:04 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 4
2023-08-25 23:12:04 | INFO | torch.distributed.distributed_c10d | Rank 6: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-25 23:12:04 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 6
2023-08-25 23:12:04 | INFO | torch.distributed.distributed_c10d | Rank 7: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-25 23:12:04 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 7
2023-08-25 23:12:04 | INFO | torch.distributed.distributed_c10d | Rank 0: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-25 23:12:04 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 0
2023-08-25 23:12:07 | INFO | fairseq_cli.train | {'_name': None, 'common': {'_name': None, 'no_progress_bar': True, 'log_interval': 100, 'log_format': None, 'log_file': None, 'aim_repo': None, 'aim_run_hash': None, 'tensorboard_logdir': './checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5', 'wandb_project': None, 'azureml_logging': False, 'seed': 1, 'cpu': False, 'tpu': False, 'bf16': False, 'memory_efficient_bf16': False, 'fp16': True, 'memory_efficient_fp16': False, 'fp16_no_flatten_grads': False, 'fp16_init_scale': 128, 'fp16_scale_window': None, 'fp16_scale_tolerance': 0.0, 'on_cpu_convert_precision': False, 'min_loss_scale': 0.0001, 'threshold_loss_scale': None, 'amp': False, 'amp_batch_retries': 2, 'amp_init_scale': 128, 'amp_scale_window': None, 'user_dir': None, 'empty_cache_freq': 0, 'all_gather_list_size': 16384, 'model_parallel_size': 1, 'quantization_config_path': None, 'profile': False, 'reset_logging': False, 'suppress_crashes': False, 'use_plasma_view': False, 'plasma_path': '/tmp/plasma'}, 'common_eval': {'_name': None, 'path': None, 'post_process': 'sentencepiece', 'quiet': False, 'model_overrides': '{}', 'results_path': None}, 'distributed_training': {'_name': None, 'distributed_world_size': 8, 'distributed_num_procs': 8, 'distributed_rank': 0, 'distributed_backend': 'nccl', 'distributed_init_method': 'tcp://localhost:14557', 'distributed_port': -1, 'device_id': 0, 'distributed_no_spawn': False, 'ddp_backend': 'no_c10d', 'ddp_comm_hook': 'none', 'bucket_cap_mb': 25, 'fix_batches_to_gpus': False, 'find_unused_parameters': False, 'gradient_as_bucket_view': False, 'fast_stat_sync': False, 'heartbeat_timeout': -1, 'broadcast_buffers': False, 'slowmo_momentum': None, 'slowmo_base_algorithm': 'localsgd', 'localsgd_frequency': 3, 'nprocs_per_node': 8, 'pipeline_model_parallel': False, 'pipeline_balance': None, 'pipeline_devices': None, 'pipeline_chunks': 0, 'pipeline_encoder_balance': None, 'pipeline_encoder_devices': None, 'pipeline_decoder_balance': None, 'pipeline_decoder_devices': None, 'pipeline_checkpoint': 'never', 'zero_sharding': 'none', 'fp16': True, 'memory_efficient_fp16': False, 'tpu': False, 'no_reshard_after_forward': False, 'fp32_reduce_scatter': False, 'cpu_offload': False, 'use_sharded_state': False, 'not_fsdp_flatten_parameters': False}, 'dataset': {'_name': None, 'num_workers': 2, 'skip_invalid_size_inputs_valid_test': True, 'max_tokens': 11000, 'batch_size': None, 'required_batch_size_multiple': 8, 'required_seq_len_multiple': 1, 'dataset_impl': None, 'data_buffer_size': 10, 'train_subset': 'train_st,train_asr', 'valid_subset': 'dev_st', 'combine_valid_subsets': None, 'ignore_unused_valid_subsets': False, 'validate_interval': 1, 'validate_interval_updates': 0, 'validate_after_updates': 0, 'fixed_validation_seed': None, 'disable_validation': False, 'max_tokens_valid': 11000, 'batch_size_valid': None, 'max_valid_steps': None, 'curriculum': 0, 'gen_subset': 'test', 'num_shards': 1, 'shard_id': 0, 'grouped_shuffling': False, 'update_epoch_batch_itr': False, 'update_ordered_indices_seed': False}, 'optimization': {'_name': None, 'max_epoch': 100, 'max_update': 50000, 'stop_time_hours': 0.0, 'clip_norm': 10.0, 'sentence_avg': False, 'update_freq': [1], 'lr': [0.0002], 'stop_min_lr': -1.0, 'use_bmuf': False, 'skip_remainder_batch': False}, 'checkpoint': {'_name': None, 'save_dir': './checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5', 'restore_file': 'checkpoint_last.pt', 'continue_once': None, 'finetune_from_model': None, 'reset_dataloader': False, 'reset_lr_scheduler': False, 'reset_meters': False, 'reset_optimizer': False, 'optimizer_overrides': '{}', 'save_interval': 1, 'save_interval_updates': 2000, 'keep_interval_updates': 5, 'keep_interval_updates_pattern': -1, 'keep_last_epochs': 2, 'keep_best_checkpoints': 10, 'no_save': False, 'no_epoch_checkpoints': True, 'no_last_checkpoints': False, 'no_save_optimizer_state': False, 'best_checkpoint_metric': 'bleu', 'maximize_best_checkpoint_metric': True, 'patience': -1, 'checkpoint_suffix': '', 'checkpoint_shard_count': 1, 'load_checkpoint_on_all_dp_ranks': False, 'write_checkpoints_asynchronously': False, 'model_parallel_size': 1}, 'bmuf': {'_name': None, 'block_lr': 1.0, 'block_momentum': 0.875, 'global_sync_iter': 50, 'warmup_iterations': 500, 'use_nbm': False, 'average_sync': False, 'distributed_world_size': 8}, 'generation': {'_name': None, 'beam': 5, 'beam_mt': 0, 'nbest': 1, 'max_len_a': 0.0, 'max_len_b': 200, 'max_len_a_mt': 0.0, 'max_len_b_mt': 200, 'min_len': 1, 'match_source_len': False, 'unnormalized': False, 'no_early_stop': False, 'no_beamable_mm': False, 'lenpen': 1.0, 'lenpen_mt': 1.0, 'unkpen': 0.0, 'replace_unk': None, 'sacrebleu': False, 'score_reference': False, 'prefix_size': 0, 'no_repeat_ngram_size': 0, 'sampling': False, 'sampling_topk': -1, 'sampling_topp': -1.0, 'constraints': None, 'temperature': 1.0, 'diverse_beam_groups': -1, 'diverse_beam_strength': 0.5, 'diversity_rate': -1.0, 'print_alignment': None, 'print_step': False, 'lm_path': None, 'lm_weight': 0.0, 'iter_decode_eos_penalty': 0.0, 'iter_decode_max_iter': 10, 'iter_decode_force_max_iter': False, 'iter_decode_with_beam': 1, 'iter_decode_with_external_reranker': False, 'retain_iter_history': False, 'retain_dropout': False, 'retain_dropout_modules': None, 'decoding_format': None, 'no_seed_provided': False, 'eos_token': None}, 'eval_lm': {'_name': None, 'output_word_probs': False, 'output_word_stats': False, 'context_window': 0, 'softmax_batch': 9223372036854775807}, 'interactive': {'_name': None, 'buffer_size': 0, 'input': '-'}, 'model': Namespace(_name='s2t_joint', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_low_pos=False, at_nomute=False, at_nopad=True, at_scale=2.5, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=0.0, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_enfr_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_enfr_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=11000, max_tokens_valid=11000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=-0.1, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2fr/enfr-baseline/last5.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/mnt/zhangyh/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=False, use_two_contrastive=False, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/mnt/zhangyh/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'task': Namespace(_name='joint_triple_pretraining_merge', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_low_pos=False, at_nomute=False, at_nopad=True, at_scale=2.5, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=0.0, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_enfr_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_enfr_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=11000, max_tokens_valid=11000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=-0.1, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2fr/enfr-baseline/last5.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/mnt/zhangyh/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=False, use_two_contrastive=False, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/mnt/zhangyh/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'criterion': Namespace(_name='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_low_pos=False, at_nomute=False, at_nopad=True, at_scale=2.5, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=0.0, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_enfr_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_enfr_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=11000, max_tokens_valid=11000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=-0.1, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2fr/enfr-baseline/last5.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/mnt/zhangyh/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=False, use_two_contrastive=False, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/mnt/zhangyh/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'optimizer': {'_name': 'adam', 'adam_betas': '(0.9,0.98)', 'adam_eps': 1e-08, 'weight_decay': 0.0, 'use_old_adam': False, 'fp16_adam_stats': False, 'tpu': False, 'lr': [0.0002]}, 'lr_scheduler': {'_name': 'inverse_sqrt', 'warmup_updates': 5000, 'warmup_init_lr': 1e-07, 'lr': [0.0002]}, 'scoring': {'_name': 'bleu', 'pad': 1, 'eos': 2, 'unk': 3}, 'bpe': None, 'tokenizer': None, 'ema': {'_name': None, 'store_ema': False, 'ema_decay': 0.9999, 'ema_start_update': 0, 'ema_seed_model': None, 'ema_update_freq': 1, 'ema_fp32': False}}
2023-08-25 23:12:07 | INFO | fairseq.tasks.joint_triple_pretraining_merge | dictionary size (dict.wrd.txt): 9,999
2023-08-25 23:12:07 | INFO | fairseq.tasks.joint_triple_pretraining_merge | asr dictionary size (dict.wrd.txt): 9,999
2023-08-25 23:12:07 | INFO | fairseq.tasks.joint_triple_pretraining_merge | cluster dictionary size (kmeans100.convert.txt): 5,224
2023-08-25 23:12:07 | INFO | fairseq.tasks.joint_triple_pretraining_merge | Initial task weight: asr 1.0: mt 0.5
2023-08-25 23:12:07 | INFO | root | load pretrained embeddings: /mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_enfr_baseline
2023-08-25 23:12:11 | INFO | fairseq.tasks.hubert_pretraining | current directory is /mnt/zhangyh/fairseq-AT/egs/pretrain-all
2023-08-25 23:12:11 | INFO | fairseq.tasks.hubert_pretraining | HubertPretrainingTask Config {'_name': 'hubert_pretraining', 'data': 'data_all_enfr_lcrm', 'fine_tuning': False, 'labels': ['layer6.km500'], 'label_dir': None, 'label_rate': 50.0, 'sample_rate': 16000, 'normalize': False, 'enable_padding': False, 'max_keep_size': None, 'max_sample_size': 250000, 'min_sample_size': 32000, 'single_target': False, 'random_crop': True, 'pad_audio': False}
2023-08-25 23:12:11 | INFO | fairseq.models.hubert.hubert | HubertModel Config: {'_name': 'hubert', 'label_rate': 50.0, 'extractor_mode': default, 'encoder_layers': 12, 'encoder_embed_dim': 768, 'encoder_ffn_embed_dim': 3072, 'encoder_attention_heads': 12, 'activation_fn': gelu, 'layer_type': transformer, 'dropout': 0.1, 'attention_dropout': 0.1, 'activation_dropout': 0.1, 'encoder_layerdrop': 0.0, 'dropout_input': 0.0, 'dropout_features': 0.1, 'final_dim': 256, 'untie_final_proj': False, 'layer_norm_first': False, 'conv_feature_layers': '[(512,10,5)] + [(512,3,2)] * 4 + [(512,2,2)] * 2', 'conv_bias': False, 'logit_temp': 0.1, 'target_glu': False, 'feature_grad_mult': 0.0, 'mask_length': 10, 'mask_prob': 0.5, 'mask_selection': static, 'mask_other': 0.0, 'no_mask_overlap': False, 'mask_min_space': 1, 'mask_channel_length': 6, 'mask_channel_prob': 0.25, 'mask_channel_selection': static, 'mask_channel_other': 0.0, 'no_mask_channel_overlap': False, 'mask_channel_min_space': 1, 'conv_pos': 128, 'conv_pos_groups': 16, 'latent_temp': [2.0, 0.5, 0.999995], 'skip_masked': False, 'skip_nomask': False, 'checkpoint_activations': False, 'required_seq_len_multiple': 2, 'depthwise_conv_kernel_size': 31, 'attn_type': '', 'pos_enc_type': 'abs', 'fp16': True}
2023-08-25 23:12:12 | INFO | root | load pretrained hubert
2023-08-25 23:12:20 | INFO | root | load pretrained embedding as ctc proj: /mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_enfr_baseline
2023-08-25 23:12:24 | INFO | root | load pretrained encoder: /mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2fr/enfr-baseline/last5.ensemble.pt
2023-08-25 23:12:30 | INFO | root | load pretrained decoder: /mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2fr/enfr-baseline/last5.ensemble.pt
2023-08-25 23:12:30 | INFO | root | share the sematic adapter and textual encoder
2023-08-25 23:12:30 | INFO | fairseq_cli.train | S2TJoint(
  (acoustic_encoder): AcousticEncoder(
    (compress_ffn): Linear(in_features=768, out_features=512, bias=True)
    (proj): Linear(in_features=512, out_features=9999, bias=False)
    (w2v_model): HubertModel(
      (feature_extractor): ConvFeatureExtractionModel(
        (conv_layers): ModuleList(
          (0): Sequential(
            (0): Conv1d(1, 512, kernel_size=(10,), stride=(5,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): Fp32GroupNorm(512, 512, eps=1e-05, affine=True)
            (3): GELU(approximate='none')
          )
          (1-4): 4 x Sequential(
            (0): Conv1d(512, 512, kernel_size=(3,), stride=(2,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): GELU(approximate='none')
          )
          (5-6): 2 x Sequential(
            (0): Conv1d(512, 512, kernel_size=(2,), stride=(2,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): GELU(approximate='none')
          )
        )
      )
      (post_extract_proj): Linear(in_features=512, out_features=768, bias=True)
      (dropout_input): Dropout(p=0.0, inplace=False)
      (dropout_features): Dropout(p=0.1, inplace=False)
      (encoder): TransformerEncoder(
        (pos_conv): Sequential(
          (0): Conv1d(768, 768, kernel_size=(128,), stride=(1,), padding=(64,), groups=16)
          (1): SamePad()
          (2): GELU(approximate='none')
        )
        (layers): ModuleList(
          (0-11): 12 x TransformerSentenceEncoderLayer(
            (self_attn): MultiheadAttention(
              (dropout_module): FairseqDropout()
              (k_proj): Linear(in_features=768, out_features=768, bias=True)
              (v_proj): Linear(in_features=768, out_features=768, bias=True)
              (q_proj): Linear(in_features=768, out_features=768, bias=True)
              (out_proj): Linear(in_features=768, out_features=768, bias=True)
            )
            (dropout1): Dropout(p=0.1, inplace=False)
            (dropout2): Dropout(p=0.1, inplace=False)
            (dropout3): Dropout(p=0.1, inplace=False)
            (self_attn_layer_norm): FusedLayerNorm(torch.Size([768]), eps=1e-05, elementwise_affine=True)
            (fc1): Linear(in_features=768, out_features=3072, bias=True)
            (fc2): Linear(in_features=3072, out_features=768, bias=True)
            (final_layer_norm): FusedLayerNorm(torch.Size([768]), eps=1e-05, elementwise_affine=True)
          )
        )
        (layer_norm): FusedLayerNorm(torch.Size([768]), eps=1e-05, elementwise_affine=True)
      )
      (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
      (final_proj): None
    )
    (noad): NormalAdapter(
      (subsample): Conv1dSubsampler(
        (conv_layers): ModuleList(
          (0): Conv1d(512, 512, kernel_size=(5,), stride=(2,), padding=(2,))
          (1): Conv1d(256, 1024, kernel_size=(5,), stride=(2,), padding=(2,))
        )
      )
      (layers): ModuleList()
    )
    (sead): SemanticAdapter(
      (embed_positions): SinusoidalPositionalEmbedding()
      (layers): ModuleList(
        (0-5): 6 x TransformerEncoderLayerBase(
          (self_attn): MultiheadAttention(
            (dropout_module): FairseqDropout()
            (k_proj): Linear(in_features=512, out_features=512, bias=True)
            (v_proj): Linear(in_features=512, out_features=512, bias=True)
            (q_proj): Linear(in_features=512, out_features=512, bias=True)
            (out_proj): Linear(in_features=512, out_features=512, bias=True)
          )
          (self_attn_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
          (dropout_module): FairseqDropout()
          (activation_dropout_module): FairseqDropout()
          (fc1): Linear(in_features=512, out_features=2048, bias=True)
          (fc2): Linear(in_features=2048, out_features=512, bias=True)
          (final_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
        )
      )
      (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
    )
    (final_dropout): Dropout(p=0.1, inplace=False)
    (shrink_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
  )
  (textual_encoder): MTModelEncoder(
    (dropout_module): FairseqDropout()
    (embed_tokens): Embedding(9999, 512, padding_idx=1)
    (embed_positions): SinusoidalPositionalEmbedding()
    (layers): ModuleList(
      (0-5): 6 x TransformerEncoderLayerBase(
        (self_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (self_attn_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
        (dropout_module): FairseqDropout()
        (activation_dropout_module): FairseqDropout()
        (fc1): Linear(in_features=512, out_features=2048, bias=True)
        (fc2): Linear(in_features=2048, out_features=512, bias=True)
        (final_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
      )
    )
    (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
  )
  (decoder): TransformerDecoderScriptable(
    (dropout_module): FairseqDropout()
    (embed_tokens): Embedding(9999, 512, padding_idx=1)
    (embed_positions): SinusoidalPositionalEmbedding()
    (layers): ModuleList(
      (0-5): 6 x TransformerDecoderLayerBase(
        (dropout_module): FairseqDropout()
        (self_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (activation_dropout_module): FairseqDropout()
        (self_attn_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
        (encoder_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (encoder_attn_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
        (fc1): Linear(in_features=512, out_features=2048, bias=True)
        (fc2): Linear(in_features=2048, out_features=512, bias=True)
        (final_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
      )
    )
    (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
    (output_projection): Linear(in_features=512, out_features=9999, bias=False)
  )
  (task_net): TaskNetwork(
    (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
    (down_proj): Linear(in_features=512, out_features=256, bias=True)
    (up_proj): Linear(in_features=256, out_features=512, bias=True)
    (dropout_module): FairseqDropout()
    (task_proj): Linear(in_features=512, out_features=1, bias=False)
  )
)
2023-08-25 23:12:30 | INFO | fairseq_cli.train | task: JointTriplePretrainingMergeTask
2023-08-25 23:12:30 | INFO | fairseq_cli.train | model: S2TJoint
2023-08-25 23:12:30 | INFO | fairseq_cli.train | criterion: LabelSmoothedCrossEntropywithW2vCtcShrinkJointATMerge
2023-08-25 23:12:30 | INFO | fairseq_cli.train | num. shared model params: 147,043,968 (num. trained: 147,043,968)
2023-08-25 23:12:30 | INFO | fairseq_cli.train | num. expert model params: 0 (num. trained: 0)
2023-08-25 23:12:30 | INFO | fairseq.tasks.speech_to_text | pre-tokenizer: {'tokenizer': None}
2023-08-25 23:12:30 | INFO | fairseq.tasks.speech_to_text | tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/mnt/zhangyh/fairseq-AT/egs/pretrain-all/data_all_enfr_lcrm/sentencepiece.bpe.model'}
2023-08-25 23:12:30 | INFO | fairseq.tasks.joint_triple_pretraining_merge | src tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/mnt/zhangyh/fairseq-AT/egs/pretrain-all/data_all_enfr_lcrm/sentencepiece.bpe.model'}
2023-08-25 23:12:30 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="dev_st", n_samples=1408, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-25 23:12:46 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:2 to store for rank: 0
2023-08-25 23:12:46 | INFO | torch.distributed.distributed_c10d | Rank 0: Completed store-based barrier for key:store_based_barrier_key:2 with 8 nodes.
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- textual_encoder.embed_tokens.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- decoder.embed_tokens.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- decoder.output_projection.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.0.0.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.1.0.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.2.0.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.3.0.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.4.0.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.5.0.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.6.0.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- decoder.output_projection.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- task_net.task_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.k_proj.weight <- textual_encoder.layers.0.self_attn.k_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.k_proj.bias <- textual_encoder.layers.0.self_attn.k_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.v_proj.weight <- textual_encoder.layers.0.self_attn.v_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.v_proj.bias <- textual_encoder.layers.0.self_attn.v_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.q_proj.weight <- textual_encoder.layers.0.self_attn.q_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.q_proj.bias <- textual_encoder.layers.0.self_attn.q_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.out_proj.weight <- textual_encoder.layers.0.self_attn.out_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.out_proj.bias <- textual_encoder.layers.0.self_attn.out_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn_layer_norm.weight <- textual_encoder.layers.0.self_attn_layer_norm.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn_layer_norm.bias <- textual_encoder.layers.0.self_attn_layer_norm.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc1.weight <- textual_encoder.layers.0.fc1.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc1.bias <- textual_encoder.layers.0.fc1.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc2.weight <- textual_encoder.layers.0.fc2.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc2.bias <- textual_encoder.layers.0.fc2.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.final_layer_norm.weight <- textual_encoder.layers.0.final_layer_norm.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.final_layer_norm.bias <- textual_encoder.layers.0.final_layer_norm.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.k_proj.weight <- textual_encoder.layers.1.self_attn.k_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.k_proj.bias <- textual_encoder.layers.1.self_attn.k_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.v_proj.weight <- textual_encoder.layers.1.self_attn.v_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.v_proj.bias <- textual_encoder.layers.1.self_attn.v_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.q_proj.weight <- textual_encoder.layers.1.self_attn.q_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.q_proj.bias <- textual_encoder.layers.1.self_attn.q_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.out_proj.weight <- textual_encoder.layers.1.self_attn.out_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.out_proj.bias <- textual_encoder.layers.1.self_attn.out_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn_layer_norm.weight <- textual_encoder.layers.1.self_attn_layer_norm.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn_layer_norm.bias <- textual_encoder.layers.1.self_attn_layer_norm.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc1.weight <- textual_encoder.layers.1.fc1.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc1.bias <- textual_encoder.layers.1.fc1.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc2.weight <- textual_encoder.layers.1.fc2.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc2.bias <- textual_encoder.layers.1.fc2.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.final_layer_norm.weight <- textual_encoder.layers.1.final_layer_norm.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.final_layer_norm.bias <- textual_encoder.layers.1.final_layer_norm.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.k_proj.weight <- textual_encoder.layers.2.self_attn.k_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.k_proj.bias <- textual_encoder.layers.2.self_attn.k_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.v_proj.weight <- textual_encoder.layers.2.self_attn.v_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.v_proj.bias <- textual_encoder.layers.2.self_attn.v_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.q_proj.weight <- textual_encoder.layers.2.self_attn.q_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.q_proj.bias <- textual_encoder.layers.2.self_attn.q_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.out_proj.weight <- textual_encoder.layers.2.self_attn.out_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.out_proj.bias <- textual_encoder.layers.2.self_attn.out_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn_layer_norm.weight <- textual_encoder.layers.2.self_attn_layer_norm.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn_layer_norm.bias <- textual_encoder.layers.2.self_attn_layer_norm.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc1.weight <- textual_encoder.layers.2.fc1.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc1.bias <- textual_encoder.layers.2.fc1.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc2.weight <- textual_encoder.layers.2.fc2.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc2.bias <- textual_encoder.layers.2.fc2.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.final_layer_norm.weight <- textual_encoder.layers.2.final_layer_norm.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.final_layer_norm.bias <- textual_encoder.layers.2.final_layer_norm.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.k_proj.weight <- textual_encoder.layers.3.self_attn.k_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.k_proj.bias <- textual_encoder.layers.3.self_attn.k_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.v_proj.weight <- textual_encoder.layers.3.self_attn.v_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.v_proj.bias <- textual_encoder.layers.3.self_attn.v_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.q_proj.weight <- textual_encoder.layers.3.self_attn.q_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.q_proj.bias <- textual_encoder.layers.3.self_attn.q_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.out_proj.weight <- textual_encoder.layers.3.self_attn.out_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.out_proj.bias <- textual_encoder.layers.3.self_attn.out_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn_layer_norm.weight <- textual_encoder.layers.3.self_attn_layer_norm.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn_layer_norm.bias <- textual_encoder.layers.3.self_attn_layer_norm.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc1.weight <- textual_encoder.layers.3.fc1.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc1.bias <- textual_encoder.layers.3.fc1.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc2.weight <- textual_encoder.layers.3.fc2.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc2.bias <- textual_encoder.layers.3.fc2.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.final_layer_norm.weight <- textual_encoder.layers.3.final_layer_norm.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.final_layer_norm.bias <- textual_encoder.layers.3.final_layer_norm.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.k_proj.weight <- textual_encoder.layers.4.self_attn.k_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.k_proj.bias <- textual_encoder.layers.4.self_attn.k_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.v_proj.weight <- textual_encoder.layers.4.self_attn.v_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.v_proj.bias <- textual_encoder.layers.4.self_attn.v_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.q_proj.weight <- textual_encoder.layers.4.self_attn.q_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.q_proj.bias <- textual_encoder.layers.4.self_attn.q_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.out_proj.weight <- textual_encoder.layers.4.self_attn.out_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.out_proj.bias <- textual_encoder.layers.4.self_attn.out_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn_layer_norm.weight <- textual_encoder.layers.4.self_attn_layer_norm.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn_layer_norm.bias <- textual_encoder.layers.4.self_attn_layer_norm.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc1.weight <- textual_encoder.layers.4.fc1.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc1.bias <- textual_encoder.layers.4.fc1.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc2.weight <- textual_encoder.layers.4.fc2.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc2.bias <- textual_encoder.layers.4.fc2.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.final_layer_norm.weight <- textual_encoder.layers.4.final_layer_norm.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.final_layer_norm.bias <- textual_encoder.layers.4.final_layer_norm.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.k_proj.weight <- textual_encoder.layers.5.self_attn.k_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.k_proj.bias <- textual_encoder.layers.5.self_attn.k_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.v_proj.weight <- textual_encoder.layers.5.self_attn.v_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.v_proj.bias <- textual_encoder.layers.5.self_attn.v_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.q_proj.weight <- textual_encoder.layers.5.self_attn.q_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.q_proj.bias <- textual_encoder.layers.5.self_attn.q_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.out_proj.weight <- textual_encoder.layers.5.self_attn.out_proj.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.out_proj.bias <- textual_encoder.layers.5.self_attn.out_proj.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn_layer_norm.weight <- textual_encoder.layers.5.self_attn_layer_norm.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn_layer_norm.bias <- textual_encoder.layers.5.self_attn_layer_norm.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc1.weight <- textual_encoder.layers.5.fc1.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc1.bias <- textual_encoder.layers.5.fc1.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc2.weight <- textual_encoder.layers.5.fc2.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc2.bias <- textual_encoder.layers.5.fc2.bias
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.final_layer_norm.weight <- textual_encoder.layers.5.final_layer_norm.weight
2023-08-25 23:12:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.final_layer_norm.bias <- textual_encoder.layers.5.final_layer_norm.bias
2023-08-25 23:12:47 | INFO | fairseq.utils | ***********************CUDA enviroments for all 8 workers***********************
2023-08-25 23:12:47 | INFO | fairseq.utils | rank   0: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-25 23:12:47 | INFO | fairseq.utils | rank   1: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-25 23:12:47 | INFO | fairseq.utils | rank   2: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-25 23:12:47 | INFO | fairseq.utils | rank   3: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-25 23:12:47 | INFO | fairseq.utils | rank   4: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-25 23:12:47 | INFO | fairseq.utils | rank   5: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-25 23:12:47 | INFO | fairseq.utils | rank   6: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-25 23:12:47 | INFO | fairseq.utils | rank   7: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-25 23:12:47 | INFO | fairseq.utils | ***********************CUDA enviroments for all 8 workers***********************
2023-08-25 23:12:47 | INFO | fairseq_cli.train | training on 8 devices (GPUs/TPUs)
2023-08-25 23:12:47 | INFO | fairseq_cli.train | max tokens per device = 11000 and max sentences per device = None
2023-08-25 23:12:47 | INFO | fairseq.trainer | Preparing to load checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_last.pt
2023-08-25 23:12:47 | INFO | fairseq.trainer | No existing checkpoint found ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_last.pt
2023-08-25 23:12:47 | INFO | fairseq.trainer | loading train data for epoch 1
2023-08-25 23:12:47 | INFO | fairseq.tasks.speech_to_text | pre-tokenizer: {'tokenizer': None}
2023-08-25 23:12:47 | INFO | fairseq.tasks.speech_to_text | tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/mnt/zhangyh/fairseq-AT/egs/pretrain-all/data_all_enfr_lcrm/sentencepiece.bpe.model'}
2023-08-25 23:12:47 | INFO | fairseq.tasks.joint_triple_pretraining_merge | src tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/mnt/zhangyh/fairseq-AT/egs/pretrain-all/data_all_enfr_lcrm/sentencepiece.bpe.model'}
2023-08-25 23:12:49 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="train_asr", n_samples=269255, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-25 23:12:51 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="train_st", n_samples=269255, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-25 23:13:44 | INFO | fairseq.optim.adam | using FusedAdam
2023-08-25 23:13:44 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-25 23:13:44 | INFO | fairseq.trainer | begin training epoch 1
2023-08-25 23:13:44 | INFO | fairseq_cli.train | Start iterating over samples
True False
None None None
2023-08-25 23:14:24 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 64.0
True False
None None None
True False
None None None
True False
None None None
True False
None None None
2023-08-25 23:15:39 | INFO | train_inner | epoch 001:    101 / 1191 loss=17.159, trans_loss=6.4, nll_loss=5.174, w2v_ctc_loss=21.38, task_loss=2.97, contrastive_loss=0, total=6742.88, n_correct=205.28, ppl=36.09, accuracy=3.044, wps=20864.1, ups=1.07, wpb=19527.6, bsz=683.2, num_updates=100, lr=4.098e-06, gnorm=1.635, clip=0, loss_scale=64, train_wall=102, gb_free=17.7, wall=172
2023-08-25 23:16:00 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 32.0
2023-08-25 23:17:15 | INFO | train_inner | epoch 001:    202 / 1191 loss=13.535, trans_loss=6.305, nll_loss=5.101, w2v_ctc_loss=15.893, task_loss=2.847, contrastive_loss=0, total=6677.34, n_correct=190.94, ppl=34.31, accuracy=2.86, wps=20314.2, ups=1.05, wpb=19352.7, bsz=677.6, num_updates=200, lr=8.096e-06, gnorm=6.145, clip=5, loss_scale=32, train_wall=95, gb_free=17.8, wall=268
2023-08-25 23:18:43 | INFO | train_inner | epoch 001:    302 / 1191 loss=8.401, trans_loss=6.171, nll_loss=4.995, w2v_ctc_loss=8.127, task_loss=2.339, contrastive_loss=0, total=6864.64, n_correct=198.17, ppl=31.89, accuracy=2.887, wps=22506.4, ups=1.13, wpb=19894.5, bsz=719.8, num_updates=300, lr=1.2094e-05, gnorm=1.615, clip=0, loss_scale=32, train_wall=88, gb_free=18.2, wall=356
2023-08-25 23:20:10 | INFO | train_inner | epoch 001:    402 / 1191 loss=7.844, trans_loss=6.048, nll_loss=4.888, w2v_ctc_loss=7.388, task_loss=2.504, contrastive_loss=0, total=6664.2, n_correct=179.53, ppl=29.6, accuracy=2.694, wps=22243.6, ups=1.15, wpb=19324, bsz=657.6, num_updates=400, lr=1.6092e-05, gnorm=0.835, clip=0, loss_scale=32, train_wall=73, gb_free=17.9, wall=443
2023-08-25 23:21:42 | INFO | train_inner | epoch 001:    502 / 1191 loss=7.574, trans_loss=6.001, nll_loss=4.842, w2v_ctc_loss=7.029, task_loss=2.215, contrastive_loss=0, total=6743.88, n_correct=160.91, ppl=28.68, accuracy=2.386, wps=21177.9, ups=1.08, wpb=19536.7, bsz=687.8, num_updates=500, lr=2.009e-05, gnorm=0.695, clip=0, loss_scale=32, train_wall=90, gb_free=17.7, wall=535
2023-08-25 23:23:11 | INFO | train_inner | epoch 001:    602 / 1191 loss=7.475, trans_loss=5.979, nll_loss=4.825, w2v_ctc_loss=6.896, task_loss=2.187, contrastive_loss=0, total=6761.26, n_correct=136.85, ppl=28.35, accuracy=2.024, wps=21975, ups=1.12, wpb=19590.9, bsz=685.7, num_updates=600, lr=2.4088e-05, gnorm=0.853, clip=0, loss_scale=32, train_wall=89, gb_free=19, wall=624
2023-08-25 23:24:34 | INFO | train_inner | epoch 001:    702 / 1191 loss=7.394, trans_loss=5.982, nll_loss=4.834, w2v_ctc_loss=6.768, task_loss=2.198, contrastive_loss=0, total=6642.51, n_correct=117.81, ppl=28.52, accuracy=1.774, wps=23270.7, ups=1.21, wpb=19237.1, bsz=677.7, num_updates=700, lr=2.8086e-05, gnorm=0.875, clip=0, loss_scale=32, train_wall=72, gb_free=17.6, wall=707
2023-08-25 23:26:05 | INFO | train_inner | epoch 001:    802 / 1191 loss=7.357, trans_loss=5.956, nll_loss=4.806, w2v_ctc_loss=6.738, task_loss=2.105, contrastive_loss=0, total=6747.81, n_correct=106.44, ppl=27.97, accuracy=1.577, wps=21377.9, ups=1.09, wpb=19542.8, bsz=688.1, num_updates=800, lr=3.2084e-05, gnorm=0.915, clip=0, loss_scale=32, train_wall=91, gb_free=17.7, wall=798
2023-08-25 23:26:48 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-25 23:27:38 | INFO | train_inner | epoch 001:    903 / 1191 loss=6.96, trans_loss=5.873, nll_loss=4.707, w2v_ctc_loss=6.211, task_loss=2.237, contrastive_loss=0, total=6690.14, n_correct=59.9, ppl=26.12, accuracy=0.895, wps=20960.8, ups=1.08, wpb=19388, bsz=669.3, num_updates=900, lr=3.6082e-05, gnorm=1.256, clip=0, loss_scale=16, train_wall=92, gb_free=17.6, wall=891
2023-08-25 23:29:05 | INFO | train_inner | epoch 001:   1003 / 1191 loss=6.282, trans_loss=5.89, nll_loss=4.73, w2v_ctc_loss=5.148, task_loss=2.297, contrastive_loss=0, total=6668.9, n_correct=21.38, ppl=26.55, accuracy=0.321, wps=22075.7, ups=1.14, wpb=19321.9, bsz=662.2, num_updates=1000, lr=4.008e-05, gnorm=0.413, clip=0, loss_scale=16, train_wall=87, gb_free=18.6, wall=978
2023-08-25 23:30:31 | INFO | train_inner | epoch 001:   1103 / 1191 loss=6.028, trans_loss=5.919, nll_loss=4.771, w2v_ctc_loss=4.722, task_loss=2.288, contrastive_loss=0, total=6578.13, n_correct=14.8, ppl=27.31, accuracy=0.225, wps=22370.6, ups=1.17, wpb=19050.5, bsz=647.4, num_updates=1100, lr=4.4078e-05, gnorm=0.512, clip=0, loss_scale=16, train_wall=85, gb_free=17.6, wall=1064
2023-08-25 23:31:48 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
2023-08-25 23:32:31 | INFO | dev_st | epoch 001 | valid on 'dev_st' subset | loss 10.168 | trans_loss 12.509 | nll_loss 12.022 | w2v_ctc_loss 5.63 | task_loss 14.015 | contrastive_loss 0 | total 6138.43 | n_correct 1.71429 | ppl 4159.95 | accuracy 0.028 | uer 75.661 | wer 73.671 | raw_wer 73.671 | bleu 0 | wps 1072.8 | wpb 6138.4 | bsz 201.1 | num_updates 1188
2023-08-25 23:32:31 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 1 @ 1188 updates
2023-08-25 23:32:31 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-25 23:32:34 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-25 23:32:35 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 1 @ 1188 updates, score 0.0) (writing took 3.9150085569999646 seconds)
2023-08-25 23:32:35 | INFO | fairseq_cli.train | end of epoch 1 (average epoch stats below)
2023-08-25 23:32:35 | INFO | train | epoch 001 | loss 8.518 | trans_loss 6.041 | nll_loss 4.875 | w2v_ctc_loss 8.438 | task_loss 2.367 | contrastive_loss 0 | total 6702.44 | n_correct 118.141 | ppl 29.34 | accuracy 1.763 | wps 20789 | ups 1.07 | wpb 19419.2 | bsz 677.7 | num_updates 1188 | lr 4.75962e-05 | gnorm 1.37 | clip 0.4 | loss_scale 16 | train_wall 1022 | gb_free 18.5 | wall 1188
2023-08-25 23:32:36 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-25 23:32:36 | INFO | fairseq.trainer | begin training epoch 2
2023-08-25 23:32:36 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-25 23:32:50 | INFO | train_inner | epoch 002:     12 / 1191 loss=5.757, trans_loss=5.944, nll_loss=4.813, w2v_ctc_loss=4.28, task_loss=2.175, contrastive_loss=0, total=6631.26, n_correct=13.34, ppl=28.11, accuracy=0.201, wps=13741.5, ups=0.72, wpb=19218.6, bsz=679.5, num_updates=1200, lr=4.8076e-05, gnorm=0.626, clip=0, loss_scale=16, train_wall=67, gb_free=17.5, wall=1203
2023-08-25 23:33:03 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-25 23:33:55 | INFO | train_inner | epoch 002:    113 / 1191 loss=5.568, trans_loss=5.975, nll_loss=4.854, w2v_ctc_loss=3.955, task_loss=2.284, contrastive_loss=0, total=6591.13, n_correct=12.48, ppl=28.92, accuracy=0.189, wps=29341.5, ups=1.54, wpb=19087.7, bsz=654, num_updates=1300, lr=5.2074e-05, gnorm=0.669, clip=0, loss_scale=8, train_wall=65, gb_free=19, wall=1269
2023-08-25 23:35:01 | INFO | train_inner | epoch 002:    213 / 1191 loss=5.413, trans_loss=5.989, nll_loss=4.875, w2v_ctc_loss=3.701, task_loss=2.23, contrastive_loss=0, total=6717.78, n_correct=12.41, ppl=29.34, accuracy=0.185, wps=29797.9, ups=1.53, wpb=19457.9, bsz=673, num_updates=1400, lr=5.6072e-05, gnorm=0.788, clip=0, loss_scale=8, train_wall=65, gb_free=17.8, wall=1334
2023-08-25 23:36:05 | INFO | train_inner | epoch 002:    313 / 1191 loss=5.289, trans_loss=5.999, nll_loss=4.891, w2v_ctc_loss=3.503, task_loss=2.101, contrastive_loss=0, total=6783.61, n_correct=12.26, ppl=29.67, accuracy=0.181, wps=30624.3, ups=1.56, wpb=19657, bsz=692, num_updates=1500, lr=6.007e-05, gnorm=0.784, clip=0, loss_scale=8, train_wall=64, gb_free=17.6, wall=1398
2023-08-25 23:37:09 | INFO | train_inner | epoch 002:    413 / 1191 loss=5.197, trans_loss=6.007, nll_loss=4.903, w2v_ctc_loss=3.349, task_loss=2.154, contrastive_loss=0, total=6717.93, n_correct=11.92, ppl=29.93, accuracy=0.177, wps=30295.4, ups=1.56, wpb=19471.9, bsz=690.3, num_updates=1600, lr=6.4068e-05, gnorm=0.932, clip=0, loss_scale=8, train_wall=64, gb_free=18.2, wall=1462
2023-08-25 23:38:14 | INFO | train_inner | epoch 002:    513 / 1191 loss=5.119, trans_loss=6.012, nll_loss=4.911, w2v_ctc_loss=3.222, task_loss=2.22, contrastive_loss=0, total=6702.22, n_correct=11.92, ppl=30.08, accuracy=0.178, wps=30135.9, ups=1.55, wpb=19424.7, bsz=680.4, num_updates=1700, lr=6.8066e-05, gnorm=0.794, clip=0, loss_scale=8, train_wall=64, gb_free=18.4, wall=1527
2023-08-25 23:39:18 | INFO | train_inner | epoch 002:    613 / 1191 loss=5.041, trans_loss=6.025, nll_loss=4.926, w2v_ctc_loss=3.088, task_loss=2.275, contrastive_loss=0, total=6642.86, n_correct=11.4, ppl=30.39, accuracy=0.172, wps=30003.8, ups=1.56, wpb=19232.5, bsz=660, num_updates=1800, lr=7.2064e-05, gnorm=0.779, clip=0, loss_scale=8, train_wall=63, gb_free=17.7, wall=1591
2023-08-25 23:40:22 | INFO | train_inner | epoch 002:    713 / 1191 loss=4.977, trans_loss=6.031, nll_loss=4.934, w2v_ctc_loss=2.987, task_loss=2.092, contrastive_loss=0, total=6796.78, n_correct=12.08, ppl=30.57, accuracy=0.178, wps=30735.4, ups=1.56, wpb=19677.2, bsz=701.9, num_updates=1900, lr=7.6062e-05, gnorm=0.782, clip=0, loss_scale=8, train_wall=63, gb_free=19.1, wall=1655
2023-08-25 23:41:27 | INFO | train_inner | epoch 002:    813 / 1191 loss=4.922, trans_loss=6.026, nll_loss=4.93, w2v_ctc_loss=2.902, task_loss=2.133, contrastive_loss=0, total=6729.61, n_correct=10.35, ppl=30.49, accuracy=0.154, wps=30033.3, ups=1.54, wpb=19499, bsz=680.8, num_updates=2000, lr=8.006e-05, gnorm=0.794, clip=0, loss_scale=8, train_wall=64, gb_free=17.6, wall=1720
2023-08-25 23:41:27 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-25 23:42:10 | INFO | dev_st | epoch 002 | valid on 'dev_st' subset | loss 9.803 | trans_loss 12.834 | nll_loss 12.482 | w2v_ctc_loss 3.681 | task_loss 14.015 | contrastive_loss 0 | total 6138.43 | n_correct 5.28571 | ppl 5722.24 | accuracy 0.086 | uer 55.206 | wer 53.708 | raw_wer 53.708 | bleu 0 | wps 1215.9 | wpb 6138.4 | bsz 201.1 | num_updates 2000 | best_bleu 0
2023-08-25 23:42:10 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 2 @ 2000 updates
2023-08-25 23:42:10 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_2_2000.pt
2023-08-25 23:42:12 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_2_2000.pt
2023-08-25 23:42:20 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_2_2000.pt (epoch 2 @ 2000 updates, score 0.0) (writing took 9.49022281499947 seconds)
2023-08-25 23:43:23 | INFO | train_inner | epoch 002:    913 / 1191 loss=4.877, trans_loss=6.026, nll_loss=4.932, w2v_ctc_loss=2.836, task_loss=2.11, contrastive_loss=0, total=6752.13, n_correct=11.3, ppl=30.52, accuracy=0.167, wps=16772.2, ups=0.86, wpb=19570.7, bsz=703.1, num_updates=2100, lr=8.4058e-05, gnorm=0.864, clip=0, loss_scale=8, train_wall=63, gb_free=17.9, wall=1836
2023-08-25 23:44:28 | INFO | train_inner | epoch 002:   1013 / 1191 loss=4.84, trans_loss=6.021, nll_loss=4.926, w2v_ctc_loss=2.78, task_loss=2.181, contrastive_loss=0, total=6765.53, n_correct=12.09, ppl=30.39, accuracy=0.179, wps=30473, ups=1.55, wpb=19614, bsz=684.2, num_updates=2200, lr=8.8056e-05, gnorm=0.768, clip=0, loss_scale=8, train_wall=64, gb_free=18.5, wall=1901
2023-08-25 23:45:32 | INFO | train_inner | epoch 002:   1113 / 1191 loss=4.806, trans_loss=6.024, nll_loss=4.928, w2v_ctc_loss=2.724, task_loss=2.297, contrastive_loss=0, total=6648.26, n_correct=12.88, ppl=30.43, accuracy=0.194, wps=30086.1, ups=1.56, wpb=19255.9, bsz=655, num_updates=2300, lr=9.2054e-05, gnorm=0.755, clip=0, loss_scale=8, train_wall=63, gb_free=18.5, wall=1965
2023-08-25 23:46:22 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-25 23:47:05 | INFO | dev_st | epoch 002 | valid on 'dev_st' subset | loss 9.682 | trans_loss 12.803 | nll_loss 12.447 | w2v_ctc_loss 3.348 | task_loss 14.015 | contrastive_loss 0 | total 6138.43 | n_correct 7.85714 | ppl 5581.81 | accuracy 0.128 | uer 50.927 | wer 50.554 | raw_wer 50.554 | bleu 0 | wps 1221.9 | wpb 6138.4 | bsz 201.1 | num_updates 2378 | best_bleu 0
2023-08-25 23:47:05 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 2 @ 2378 updates
2023-08-25 23:47:05 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-25 23:47:11 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-25 23:47:14 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 2 @ 2378 updates, score 0.0) (writing took 9.02596226499918 seconds)
2023-08-25 23:47:14 | INFO | fairseq_cli.train | end of epoch 2 (average epoch stats below)
2023-08-25 23:47:14 | INFO | train | epoch 002 | loss 5.08 | trans_loss 6.012 | nll_loss 4.91 | w2v_ctc_loss 3.162 | task_loss 2.195 | contrastive_loss 0 | total 6702.35 | n_correct 11.9462 | ppl 30.06 | accuracy 0.178 | wps 26296.8 | ups 1.35 | wpb 19418.8 | bsz 677.7 | num_updates 2378 | lr 9.51724e-05 | gnorm 0.795 | clip 0 | loss_scale 8 | train_wall 759 | gb_free 17.7 | wall 2067
2023-08-25 23:47:14 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-25 23:47:14 | INFO | fairseq.trainer | begin training epoch 3
2023-08-25 23:47:14 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-25 23:47:35 | INFO | train_inner | epoch 003:     22 / 1191 loss=4.779, trans_loss=6.018, nll_loss=4.922, w2v_ctc_loss=2.687, task_loss=2.34, contrastive_loss=0, total=6597.75, n_correct=11.87, ppl=30.31, accuracy=0.18, wps=15510.5, ups=0.81, wpb=19123.8, bsz=654.9, num_updates=2400, lr=9.6052e-05, gnorm=0.806, clip=0, loss_scale=8, train_wall=64, gb_free=18.5, wall=2088
2023-08-25 23:48:40 | INFO | train_inner | epoch 003:    122 / 1191 loss=4.736, trans_loss=6.009, nll_loss=4.912, w2v_ctc_loss=2.625, task_loss=2.153, contrastive_loss=0, total=6689.99, n_correct=12.86, ppl=30.1, accuracy=0.192, wps=29988.1, ups=1.55, wpb=19400.5, bsz=686.9, num_updates=2500, lr=0.00010005, gnorm=0.741, clip=0, loss_scale=8, train_wall=64, gb_free=18.7, wall=2153
2023-08-25 23:49:44 | INFO | train_inner | epoch 003:    222 / 1191 loss=4.69, trans_loss=6.013, nll_loss=4.915, w2v_ctc_loss=2.556, task_loss=2.135, contrastive_loss=0, total=6716.3, n_correct=12.9, ppl=30.17, accuracy=0.192, wps=30359.5, ups=1.56, wpb=19462.8, bsz=684.5, num_updates=2600, lr=0.000104048, gnorm=0.672, clip=0, loss_scale=8, train_wall=63, gb_free=17.7, wall=2217
2023-08-25 23:50:48 | INFO | train_inner | epoch 003:    322 / 1191 loss=4.689, trans_loss=6.009, nll_loss=4.907, w2v_ctc_loss=2.549, task_loss=2.506, contrastive_loss=0, total=6578.84, n_correct=12.04, ppl=30.01, accuracy=0.183, wps=29640.7, ups=1.56, wpb=19052.5, bsz=625.2, num_updates=2700, lr=0.000108046, gnorm=0.712, clip=0, loss_scale=8, train_wall=64, gb_free=18.5, wall=2281
2023-08-25 23:51:52 | INFO | train_inner | epoch 003:    422 / 1191 loss=4.637, trans_loss=6.002, nll_loss=4.9, w2v_ctc_loss=2.479, task_loss=2.146, contrastive_loss=0, total=6697.81, n_correct=12.65, ppl=29.86, accuracy=0.189, wps=30363.6, ups=1.56, wpb=19404.2, bsz=690.4, num_updates=2800, lr=0.000112044, gnorm=0.613, clip=0, loss_scale=8, train_wall=63, gb_free=18.9, wall=2345
2023-08-25 23:52:56 | INFO | train_inner | epoch 003:    522 / 1191 loss=4.625, trans_loss=5.996, nll_loss=4.893, w2v_ctc_loss=2.472, task_loss=2.186, contrastive_loss=0, total=6747.27, n_correct=13.29, ppl=29.72, accuracy=0.197, wps=30534.3, ups=1.56, wpb=19551.8, bsz=674.2, num_updates=2900, lr=0.000116042, gnorm=0.632, clip=0, loss_scale=8, train_wall=63, gb_free=18.2, wall=2409
2023-08-25 23:54:01 | INFO | train_inner | epoch 003:    622 / 1191 loss=4.6, trans_loss=5.984, nll_loss=4.878, w2v_ctc_loss=2.437, task_loss=2.222, contrastive_loss=0, total=6746.29, n_correct=14.13, ppl=29.41, accuracy=0.209, wps=30378.5, ups=1.55, wpb=19552.3, bsz=665.2, num_updates=3000, lr=0.00012004, gnorm=0.654, clip=0, loss_scale=8, train_wall=64, gb_free=18.6, wall=2474
2023-08-25 23:54:02 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-25 23:55:45 | INFO | train_inner | epoch 003:    723 / 1191 loss=3.774, trans_loss=5.112, nll_loss=3.751, w2v_ctc_loss=2.096, task_loss=1.524, contrastive_loss=0, total=6738.62, n_correct=662.35, ppl=13.47, accuracy=9.829, wps=18775.4, ups=0.96, wpb=19529.2, bsz=697.2, num_updates=3100, lr=0.000124038, gnorm=1.367, clip=1, loss_scale=4, train_wall=103, gb_free=8, wall=2578
2023-08-25 23:57:25 | INFO | train_inner | epoch 003:    823 / 1191 loss=3.04, trans_loss=4.287, nll_loss=2.656, w2v_ctc_loss=1.838, task_loss=1.447, contrastive_loss=0, total=6764.91, n_correct=1946.22, ppl=6.3, accuracy=28.769, wps=19443.5, ups=0.99, wpb=19610.4, bsz=704.7, num_updates=3200, lr=0.000128036, gnorm=0.883, clip=0, loss_scale=4, train_wall=100, gb_free=13.8, wall=2678
2023-08-25 23:59:06 | INFO | train_inner | epoch 003:    923 / 1191 loss=2.833, trans_loss=4.083, nll_loss=2.393, w2v_ctc_loss=1.735, task_loss=1.384, contrastive_loss=0, total=6816.5, n_correct=2414.13, ppl=5.25, accuracy=35.416, wps=19614.2, ups=0.99, wpb=19741.9, bsz=720.1, num_updates=3300, lr=0.000132034, gnorm=0.915, clip=0, loss_scale=4, train_wall=100, gb_free=13.3, wall=2779
2023-08-26 00:00:49 | INFO | train_inner | epoch 003:   1023 / 1191 loss=2.798, trans_loss=4.058, nll_loss=2.363, w2v_ctc_loss=1.698, task_loss=1.798, contrastive_loss=0, total=6542.73, n_correct=2357.94, ppl=5.14, accuracy=36.039, wps=18434.4, ups=0.97, wpb=18960.2, bsz=616.6, num_updates=3400, lr=0.000136032, gnorm=0.797, clip=0, loss_scale=4, train_wall=102, gb_free=13.7, wall=2882
2023-08-26 00:02:32 | INFO | train_inner | epoch 003:   1123 / 1191 loss=2.723, trans_loss=4.038, nll_loss=2.336, w2v_ctc_loss=1.609, task_loss=1.49, contrastive_loss=0, total=6752.94, n_correct=2485.47, ppl=5.05, accuracy=36.806, wps=18987.4, ups=0.97, wpb=19550.5, bsz=702.8, num_updates=3500, lr=0.00014003, gnorm=0.825, clip=0, loss_scale=4, train_wall=102, gb_free=13.9, wall=2985
2023-08-26 00:03:41 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 00:04:12 | INFO | dev_st | epoch 003 | valid on 'dev_st' subset | loss 5.289 | trans_loss 6.985 | nll_loss 4.809 | w2v_ctc_loss 1.849 | task_loss 7.738 | contrastive_loss 0 | total 6138.43 | n_correct 2329.29 | ppl 28.04 | accuracy 37.946 | uer 30.538 | wer 30.595 | raw_wer 30.595 | bleu 0.12 | wps 1798.5 | wpb 6138.4 | bsz 201.1 | num_updates 3568 | best_bleu 0.12
2023-08-26 00:04:12 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 3 @ 3568 updates
2023-08-26 00:04:12 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 00:04:18 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 00:04:22 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 3 @ 3568 updates, score 0.12) (writing took 10.204028701000425 seconds)
2023-08-26 00:04:23 | INFO | fairseq_cli.train | end of epoch 3 (average epoch stats below)
2023-08-26 00:04:23 | INFO | train | epoch 003 | loss 3.867 | trans_loss 5.181 | nll_loss 3.829 | w2v_ctc_loss 2.163 | task_loss 1.885 | contrastive_loss 0 | total 6704.39 | n_correct 976.076 | ppl 14.21 | accuracy 14.559 | wps 22475.8 | ups 1.16 | wpb 19424.7 | bsz 678.4 | num_updates 3568 | lr 0.000142749 | gnorm 0.794 | clip 0.1 | loss_scale 4 | train_wall 972 | gb_free 15.1 | wall 3096
2023-08-26 00:04:23 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 00:04:23 | INFO | fairseq.trainer | begin training epoch 4
2023-08-26 00:04:23 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 00:05:04 | INFO | train_inner | epoch 004:     32 / 1191 loss=2.69, trans_loss=4.03, nll_loss=2.325, w2v_ctc_loss=1.561, task_loss=1.593, contrastive_loss=0, total=6597.8, n_correct=2436.5, ppl=5.01, accuracy=36.929, wps=12586.4, ups=0.66, wpb=19097.7, bsz=655.3, num_updates=3600, lr=0.000144028, gnorm=0.707, clip=0, loss_scale=4, train_wall=102, gb_free=14.2, wall=3137
2023-08-26 00:06:46 | INFO | train_inner | epoch 004:    132 / 1191 loss=2.65, trans_loss=4.014, nll_loss=2.307, w2v_ctc_loss=1.507, task_loss=1.586, contrastive_loss=0, total=6722.71, n_correct=2501.7, ppl=4.95, accuracy=37.213, wps=19035.7, ups=0.98, wpb=19471.4, bsz=655.8, num_updates=3700, lr=0.000148026, gnorm=0.737, clip=0, loss_scale=4, train_wall=102, gb_free=13.6, wall=3239
2023-08-26 00:08:27 | INFO | train_inner | epoch 004:    232 / 1191 loss=2.619, trans_loss=4.008, nll_loss=2.302, w2v_ctc_loss=1.471, task_loss=1.499, contrastive_loss=0, total=6748.09, n_correct=2528.62, ppl=4.93, accuracy=37.472, wps=19303.5, ups=0.99, wpb=19556.7, bsz=699, num_updates=3800, lr=0.000152024, gnorm=0.772, clip=0, loss_scale=4, train_wall=101, gb_free=13.9, wall=3340
2023-08-26 00:10:08 | INFO | train_inner | epoch 004:    332 / 1191 loss=2.61, trans_loss=4.011, nll_loss=2.305, w2v_ctc_loss=1.454, task_loss=1.552, contrastive_loss=0, total=6663.76, n_correct=2493.73, ppl=4.94, accuracy=37.422, wps=19127.2, ups=0.99, wpb=19310.4, bsz=664.3, num_updates=3900, lr=0.000156022, gnorm=0.741, clip=0, loss_scale=4, train_wall=100, gb_free=8, wall=3441
2023-08-26 00:11:50 | INFO | train_inner | epoch 004:    432 / 1191 loss=2.592, trans_loss=3.999, nll_loss=2.289, w2v_ctc_loss=1.436, task_loss=1.554, contrastive_loss=0, total=6705.59, n_correct=2526.2, ppl=4.89, accuracy=37.673, wps=19094.7, ups=0.98, wpb=19433, bsz=682.3, num_updates=4000, lr=0.00016002, gnorm=0.673, clip=0, loss_scale=4, train_wall=101, gb_free=14.3, wall=3543
2023-08-26 00:11:50 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 00:12:22 | INFO | dev_st | epoch 004 | valid on 'dev_st' subset | loss 5.2 | trans_loss 6.926 | nll_loss 4.739 | w2v_ctc_loss 1.687 | task_loss 7.972 | contrastive_loss 0 | total 6138.43 | n_correct 2389.86 | ppl 26.71 | accuracy 38.933 | uer 27.026 | wer 27.977 | raw_wer 27.977 | bleu 0.21 | wps 1744.5 | wpb 6138.4 | bsz 201.1 | num_updates 4000 | best_bleu 0.21
2023-08-26 00:12:22 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 4 @ 4000 updates
2023-08-26 00:12:22 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_4_4000.pt
2023-08-26 00:12:24 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_4_4000.pt
2023-08-26 00:12:32 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_4_4000.pt (epoch 4 @ 4000 updates, score 0.21) (writing took 10.401754317999803 seconds)
2023-08-26 00:14:14 | INFO | train_inner | epoch 004:    532 / 1191 loss=2.574, trans_loss=3.994, nll_loss=2.282, w2v_ctc_loss=1.408, task_loss=1.594, contrastive_loss=0, total=6665.29, n_correct=2518.32, ppl=4.86, accuracy=37.783, wps=13372.1, ups=0.69, wpb=19309.7, bsz=663.6, num_updates=4100, lr=0.000164018, gnorm=0.652, clip=0, loss_scale=4, train_wall=101, gb_free=10.8, wall=3687
2023-08-26 00:15:57 | INFO | train_inner | epoch 004:    632 / 1191 loss=2.551, trans_loss=3.988, nll_loss=2.276, w2v_ctc_loss=1.389, task_loss=1.464, contrastive_loss=0, total=6843.17, n_correct=2605.14, ppl=4.84, accuracy=38.069, wps=19284.8, ups=0.97, wpb=19835.8, bsz=715.7, num_updates=4200, lr=0.000168016, gnorm=0.742, clip=0, loss_scale=4, train_wall=102, gb_free=13.2, wall=3790
2023-08-26 00:17:37 | INFO | train_inner | epoch 004:    732 / 1191 loss=2.53, trans_loss=3.984, nll_loss=2.269, w2v_ctc_loss=1.357, task_loss=1.53, contrastive_loss=0, total=6685.55, n_correct=2556.78, ppl=4.82, accuracy=38.243, wps=19388.7, ups=1, wpb=19368.4, bsz=682.6, num_updates=4300, lr=0.000172014, gnorm=0.682, clip=0, loss_scale=4, train_wall=99, gb_free=14.2, wall=3890
2023-08-26 00:19:20 | INFO | train_inner | epoch 004:    832 / 1191 loss=2.514, trans_loss=3.986, nll_loss=2.271, w2v_ctc_loss=1.335, task_loss=1.458, contrastive_loss=0, total=6845.56, n_correct=2622.61, ppl=4.83, accuracy=38.311, wps=19261.5, ups=0.97, wpb=19822.3, bsz=714.7, num_updates=4400, lr=0.000176012, gnorm=0.632, clip=0, loss_scale=4, train_wall=102, gb_free=14.9, wall=3993
2023-08-26 00:21:02 | INFO | train_inner | epoch 004:    932 / 1191 loss=2.498, trans_loss=3.976, nll_loss=2.257, w2v_ctc_loss=1.322, task_loss=1.449, contrastive_loss=0, total=6754.86, n_correct=2612.19, ppl=4.78, accuracy=38.671, wps=19201.8, ups=0.98, wpb=19555.6, bsz=710.4, num_updates=4500, lr=0.00018001, gnorm=0.624, clip=0, loss_scale=4, train_wall=101, gb_free=13.5, wall=4095
2023-08-26 00:22:45 | INFO | train_inner | epoch 004:   1032 / 1191 loss=2.508, trans_loss=3.974, nll_loss=2.256, w2v_ctc_loss=1.329, task_loss=1.632, contrastive_loss=0, total=6650.54, n_correct=2566.05, ppl=4.78, accuracy=38.584, wps=18658.5, ups=0.97, wpb=19265.7, bsz=664.1, num_updates=4600, lr=0.000184008, gnorm=0.661, clip=0, loss_scale=4, train_wall=103, gb_free=14.4, wall=4198
2023-08-26 00:24:27 | INFO | train_inner | epoch 004:   1132 / 1191 loss=2.493, trans_loss=3.972, nll_loss=2.255, w2v_ctc_loss=1.309, task_loss=1.659, contrastive_loss=0, total=6570.14, n_correct=2530.69, ppl=4.77, accuracy=38.518, wps=18713.2, ups=0.98, wpb=19045.5, bsz=633.4, num_updates=4700, lr=0.000188006, gnorm=0.615, clip=0, loss_scale=4, train_wall=101, gb_free=12.5, wall=4300
2023-08-26 00:25:26 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 00:26:01 | INFO | dev_st | epoch 004 | valid on 'dev_st' subset | loss 5.07 | trans_loss 6.836 | nll_loss 4.621 | w2v_ctc_loss 1.455 | task_loss 8.102 | contrastive_loss 0 | total 6138.43 | n_correct 2452.29 | ppl 24.61 | accuracy 39.95 | uer 23.938 | wer 24.753 | raw_wer 24.753 | bleu 0.41 | wps 1563.1 | wpb 6138.4 | bsz 201.1 | num_updates 4759 | best_bleu 0.41
2023-08-26 00:26:01 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 4 @ 4759 updates
2023-08-26 00:26:01 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 00:26:06 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 00:26:11 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 4 @ 4759 updates, score 0.41) (writing took 10.135259819999192 seconds)
2023-08-26 00:26:11 | INFO | fairseq_cli.train | end of epoch 4 (average epoch stats below)
2023-08-26 00:26:11 | INFO | train | epoch 004 | loss 2.558 | trans_loss 3.991 | nll_loss 2.278 | w2v_ctc_loss 1.393 | task_loss 1.549 | contrastive_loss 0 | total 6703.69 | n_correct 2548.64 | ppl 4.85 | accuracy 38.018 | wps 17678.3 | ups 0.91 | wpb 19422.7 | bsz 678.2 | num_updates 4759 | lr 0.000190365 | gnorm 0.683 | clip 0 | loss_scale 4 | train_wall 1207 | gb_free 13.1 | wall 4404
2023-08-26 00:26:11 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 00:26:11 | INFO | fairseq.trainer | begin training epoch 5
2023-08-26 00:26:11 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 00:26:59 | INFO | train_inner | epoch 005:     41 / 1191 loss=2.456, trans_loss=3.948, nll_loss=2.225, w2v_ctc_loss=1.274, task_loss=1.459, contrastive_loss=0, total=6746.48, n_correct=2651.57, ppl=4.67, accuracy=39.303, wps=12875.1, ups=0.66, wpb=19552.9, bsz=705.3, num_updates=4800, lr=0.000192004, gnorm=0.628, clip=0, loss_scale=4, train_wall=100, gb_free=14.2, wall=4452
2023-08-26 00:28:41 | INFO | train_inner | epoch 005:    141 / 1191 loss=2.436, trans_loss=3.947, nll_loss=2.222, w2v_ctc_loss=1.243, task_loss=1.552, contrastive_loss=0, total=6718.42, n_correct=2640.17, ppl=4.67, accuracy=39.297, wps=19127, ups=0.98, wpb=19466.5, bsz=681.5, num_updates=4900, lr=0.000196002, gnorm=0.62, clip=0, loss_scale=4, train_wall=101, gb_free=13.8, wall=4554
2023-08-26 00:30:22 | INFO | train_inner | epoch 005:    241 / 1191 loss=2.421, trans_loss=3.939, nll_loss=2.211, w2v_ctc_loss=1.233, task_loss=1.415, contrastive_loss=0, total=6867.53, n_correct=2731.63, ppl=4.63, accuracy=39.776, wps=19590.1, ups=0.98, wpb=19892.8, bsz=730.1, num_updates=5000, lr=0.0002, gnorm=0.601, clip=0, loss_scale=4, train_wall=101, gb_free=13.1, wall=4655
mt_weight tensor(0.5000)
asr_weight tensor(0.2900, device='cuda:0')
2023-08-26 00:32:04 | INFO | train_inner | epoch 005:    341 / 1191 loss=2.405, trans_loss=3.937, nll_loss=2.209, w2v_ctc_loss=1.207, task_loss=1.616, contrastive_loss=0, total=6621.05, n_correct=2630.75, ppl=4.62, accuracy=39.733, wps=18833.5, ups=0.98, wpb=19180.4, bsz=662.4, num_updates=5100, lr=0.00019803, gnorm=0.297, clip=0, loss_scale=8, train_wall=101, gb_free=14.3, wall=4757
2023-08-26 00:33:46 | INFO | train_inner | epoch 005:    441 / 1191 loss=2.403, trans_loss=3.93, nll_loss=2.202, w2v_ctc_loss=1.212, task_loss=1.54, contrastive_loss=0, total=6698.57, n_correct=2679.03, ppl=4.6, accuracy=39.994, wps=19038.1, ups=0.98, wpb=19420, bsz=681.3, num_updates=5200, lr=0.000196116, gnorm=0.297, clip=0, loss_scale=8, train_wall=101, gb_free=11.4, wall=4859
2023-08-26 00:35:28 | INFO | train_inner | epoch 005:    541 / 1191 loss=2.393, trans_loss=3.925, nll_loss=2.192, w2v_ctc_loss=1.202, task_loss=1.583, contrastive_loss=0, total=6662.64, n_correct=2686.45, ppl=4.57, accuracy=40.321, wps=18907.8, ups=0.98, wpb=19296.8, bsz=672.5, num_updates=5300, lr=0.000194257, gnorm=0.303, clip=0, loss_scale=8, train_wall=101, gb_free=14.1, wall=4961
2023-08-26 00:37:09 | INFO | train_inner | epoch 005:    641 / 1191 loss=2.393, trans_loss=3.92, nll_loss=2.185, w2v_ctc_loss=1.206, task_loss=1.578, contrastive_loss=0, total=6697.45, n_correct=2726.21, ppl=4.55, accuracy=40.705, wps=19282.2, ups=0.99, wpb=19394.4, bsz=667.8, num_updates=5400, lr=0.00019245, gnorm=0.305, clip=0, loss_scale=8, train_wall=100, gb_free=14.2, wall=5062
2023-08-26 00:38:51 | INFO | train_inner | epoch 005:    741 / 1191 loss=2.369, trans_loss=3.896, nll_loss=2.157, w2v_ctc_loss=1.194, task_loss=1.547, contrastive_loss=0, total=6713.84, n_correct=2782.94, ppl=4.46, accuracy=41.451, wps=19015.6, ups=0.98, wpb=19461.6, bsz=685, num_updates=5500, lr=0.000190693, gnorm=0.303, clip=0, loss_scale=8, train_wall=102, gb_free=13.4, wall=5164
2023-08-26 00:40:33 | INFO | train_inner | epoch 005:    841 / 1191 loss=2.349, trans_loss=3.873, nll_loss=2.124, w2v_ctc_loss=1.188, task_loss=1.508, contrastive_loss=0, total=6782.66, n_correct=2868.13, ppl=4.36, accuracy=42.286, wps=19195.5, ups=0.98, wpb=19642.5, bsz=690.2, num_updates=5600, lr=0.000188982, gnorm=0.334, clip=0, loss_scale=8, train_wall=102, gb_free=11.3, wall=5266
2023-08-26 00:42:16 | INFO | train_inner | epoch 005:    941 / 1191 loss=2.333, trans_loss=3.84, nll_loss=2.082, w2v_ctc_loss=1.201, task_loss=1.641, contrastive_loss=0, total=6594.82, n_correct=2895.65, ppl=4.23, accuracy=43.908, wps=18709.5, ups=0.98, wpb=19116.2, bsz=653.5, num_updates=5700, lr=0.000187317, gnorm=0.354, clip=0, loss_scale=8, train_wall=102, gb_free=10, wall=5369
2023-08-26 00:43:57 | INFO | train_inner | epoch 005:   1041 / 1191 loss=2.295, trans_loss=3.777, nll_loss=1.998, w2v_ctc_loss=1.208, task_loss=1.672, contrastive_loss=0, total=6621.72, n_correct=3096.01, ppl=3.99, accuracy=46.755, wps=18866.2, ups=0.98, wpb=19184.5, bsz=642.3, num_updates=5800, lr=0.000185695, gnorm=0.378, clip=0, loss_scale=8, train_wall=101, gb_free=12.7, wall=5470
2023-08-26 00:45:38 | INFO | train_inner | epoch 005:   1141 / 1191 loss=2.242, trans_loss=3.7, nll_loss=1.898, w2v_ctc_loss=1.212, task_loss=1.561, contrastive_loss=0, total=6730, n_correct=3397.43, ppl=3.73, accuracy=50.482, wps=19253.4, ups=0.99, wpb=19497.2, bsz=676.9, num_updates=5900, lr=0.000184115, gnorm=0.402, clip=0, loss_scale=8, train_wall=101, gb_free=13.6, wall=5572
2023-08-26 00:46:30 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2900, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2900, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2900, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2900, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2900, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2900, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2900, device='cuda:4')
2023-08-26 00:47:03 | INFO | dev_st | epoch 005 | valid on 'dev_st' subset | loss 4.277 | trans_loss 5.71 | nll_loss 3.149 | w2v_ctc_loss 1.355 | task_loss 8.21 | contrastive_loss 0 | total 6138.43 | n_correct 3539 | ppl 8.87 | accuracy 57.653 | uer 22.662 | wer 24.117 | raw_wer 24.117 | bleu 13.72 | wps 1647 | wpb 6138.4 | bsz 201.1 | num_updates 5950 | best_bleu 13.72
2023-08-26 00:47:03 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 5 @ 5950 updates
2023-08-26 00:47:03 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 00:47:09 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 00:47:14 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 5 @ 5950 updates, score 13.72) (writing took 11.181951495000249 seconds)
2023-08-26 00:47:14 | INFO | fairseq_cli.train | end of epoch 5 (average epoch stats below)
2023-08-26 00:47:14 | INFO | train | epoch 005 | loss 2.363 | trans_loss 3.873 | nll_loss 2.125 | w2v_ctc_loss 1.211 | task_loss 1.556 | contrastive_loss 0 | total 6703.69 | n_correct 2854.3 | ppl 4.36 | accuracy 42.578 | wps 18312.8 | ups 0.94 | wpb 19422.7 | bsz 678.2 | num_updates 5950 | lr 0.00018334 | gnorm 0.39 | clip 0 | loss_scale 8 | train_wall 1204 | gb_free 11.1 | wall 5667
2023-08-26 00:47:14 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 00:47:14 | INFO | fairseq.trainer | begin training epoch 6
2023-08-26 00:47:14 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 00:48:11 | INFO | train_inner | epoch 006:     50 / 1191 loss=2.167, trans_loss=3.621, nll_loss=1.797, w2v_ctc_loss=1.171, task_loss=1.591, contrastive_loss=0, total=6641.8, n_correct=3573.81, ppl=3.47, accuracy=53.808, wps=12607.5, ups=0.66, wpb=19246.2, bsz=659.4, num_updates=6000, lr=0.000182574, gnorm=0.391, clip=0, loss_scale=8, train_wall=100, gb_free=14.4, wall=5724
2023-08-26 00:48:11 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 00:48:45 | INFO | dev_st | epoch 006 | valid on 'dev_st' subset | loss 4.253 | trans_loss 5.635 | nll_loss 3.056 | w2v_ctc_loss 1.445 | task_loss 8.242 | contrastive_loss 0 | total 6138.43 | n_correct 3617.86 | ppl 8.32 | accuracy 58.938 | uer 22.469 | wer 24.109 | raw_wer 24.109 | bleu 14.93 | wps 1646.3 | wpb 6138.4 | bsz 201.1 | num_updates 6000 | best_bleu 14.93
2023-08-26 00:48:45 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 6 @ 6000 updates
2023-08-26 00:48:45 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_6_6000.pt
2023-08-26 00:48:47 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_6_6000.pt
2023-08-26 00:49:13 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_6_6000.pt (epoch 6 @ 6000 updates, score 14.93) (writing took 28.544135891001133 seconds)
2023-08-26 00:50:55 | INFO | train_inner | epoch 006:    150 / 1191 loss=2.128, trans_loss=3.58, nll_loss=1.742, w2v_ctc_loss=1.155, task_loss=1.56, contrastive_loss=0, total=6725.9, n_correct=3751.31, ppl=3.34, accuracy=55.774, wps=11898.1, ups=0.61, wpb=19474, bsz=681.9, num_updates=6100, lr=0.000181071, gnorm=0.392, clip=0, loss_scale=8, train_wall=101, gb_free=12.4, wall=5888
2023-08-26 00:52:37 | INFO | train_inner | epoch 006:    250 / 1191 loss=2.1, trans_loss=3.542, nll_loss=1.695, w2v_ctc_loss=1.153, task_loss=1.477, contrastive_loss=0, total=6818.06, n_correct=3914.05, ppl=3.24, accuracy=57.407, wps=19364.9, ups=0.98, wpb=19752.8, bsz=708, num_updates=6200, lr=0.000179605, gnorm=0.382, clip=0, loss_scale=8, train_wall=101, gb_free=11.8, wall=5990
2023-08-26 00:54:20 | INFO | train_inner | epoch 006:    350 / 1191 loss=2.088, trans_loss=3.526, nll_loss=1.673, w2v_ctc_loss=1.151, task_loss=1.553, contrastive_loss=0, total=6738.82, n_correct=3931.29, ppl=3.19, accuracy=58.338, wps=18960.6, ups=0.97, wpb=19515.4, bsz=683.1, num_updates=6300, lr=0.000178174, gnorm=0.381, clip=0, loss_scale=8, train_wall=102, gb_free=13.2, wall=6093
2023-08-26 00:56:00 | INFO | train_inner | epoch 006:    450 / 1191 loss=2.086, trans_loss=3.51, nll_loss=1.655, w2v_ctc_loss=1.165, task_loss=1.63, contrastive_loss=0, total=6578.68, n_correct=3874.78, ppl=3.15, accuracy=58.899, wps=18928.7, ups=0.99, wpb=19065.3, bsz=649.9, num_updates=6400, lr=0.000176777, gnorm=0.384, clip=0, loss_scale=8, train_wall=100, gb_free=14.5, wall=6194
2023-08-26 00:57:43 | INFO | train_inner | epoch 006:    550 / 1191 loss=2.059, trans_loss=3.488, nll_loss=1.629, w2v_ctc_loss=1.148, task_loss=1.592, contrastive_loss=0, total=6696.52, n_correct=4004, ppl=3.09, accuracy=59.792, wps=19007.7, ups=0.98, wpb=19416, bsz=666, num_updates=6500, lr=0.000175412, gnorm=0.368, clip=0, loss_scale=8, train_wall=102, gb_free=13.5, wall=6296
2023-08-26 00:59:24 | INFO | train_inner | epoch 006:    650 / 1191 loss=2.047, trans_loss=3.483, nll_loss=1.619, w2v_ctc_loss=1.135, task_loss=1.649, contrastive_loss=0, total=6662.65, n_correct=4019.37, ppl=3.07, accuracy=60.327, wps=18952.7, ups=0.98, wpb=19296.2, bsz=652.6, num_updates=6600, lr=0.000174078, gnorm=0.372, clip=0, loss_scale=8, train_wall=101, gb_free=10.4, wall=6397
2023-08-26 01:01:07 | INFO | train_inner | epoch 006:    750 / 1191 loss=2.036, trans_loss=3.464, nll_loss=1.596, w2v_ctc_loss=1.137, task_loss=1.47, contrastive_loss=0, total=6824.19, n_correct=4163.98, ppl=3.02, accuracy=61.018, wps=19334.6, ups=0.98, wpb=19767.8, bsz=715.5, num_updates=6700, lr=0.000172774, gnorm=0.367, clip=0, loss_scale=8, train_wall=102, gb_free=14.8, wall=6500
2023-08-26 01:02:49 | INFO | train_inner | epoch 006:    850 / 1191 loss=2.038, trans_loss=3.456, nll_loss=1.588, w2v_ctc_loss=1.145, task_loss=1.603, contrastive_loss=0, total=6632.6, n_correct=4059.18, ppl=3.01, accuracy=61.2, wps=18839.1, ups=0.98, wpb=19234.3, bsz=674.8, num_updates=6800, lr=0.000171499, gnorm=0.38, clip=0, loss_scale=8, train_wall=102, gb_free=11, wall=6602
2023-08-26 01:04:31 | INFO | train_inner | epoch 006:    950 / 1191 loss=2.034, trans_loss=3.457, nll_loss=1.587, w2v_ctc_loss=1.14, task_loss=1.675, contrastive_loss=0, total=6652.82, n_correct=4088.21, ppl=3, accuracy=61.451, wps=18797.3, ups=0.98, wpb=19271.9, bsz=649.3, num_updates=6900, lr=0.000170251, gnorm=0.361, clip=0, loss_scale=8, train_wall=102, gb_free=14, wall=6704
2023-08-26 01:06:13 | INFO | train_inner | epoch 006:   1050 / 1191 loss=2.011, trans_loss=3.441, nll_loss=1.569, w2v_ctc_loss=1.118, task_loss=1.594, contrastive_loss=0, total=6654.46, n_correct=4126.32, ppl=2.97, accuracy=62.008, wps=19007.7, ups=0.99, wpb=19283.5, bsz=662.7, num_updates=7000, lr=0.000169031, gnorm=0.361, clip=0, loss_scale=8, train_wall=101, gb_free=14.2, wall=6806
2023-08-26 01:07:53 | INFO | train_inner | epoch 006:   1150 / 1191 loss=1.992, trans_loss=3.43, nll_loss=1.555, w2v_ctc_loss=1.104, task_loss=1.414, contrastive_loss=0, total=6769.18, n_correct=4232.11, ppl=2.94, accuracy=62.52, wps=19501.2, ups=0.99, wpb=19622.6, bsz=719.6, num_updates=7100, lr=0.000167836, gnorm=0.351, clip=0, loss_scale=16, train_wall=100, gb_free=12.4, wall=6906
2023-08-26 01:08:35 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 01:09:07 | INFO | dev_st | epoch 006 | valid on 'dev_st' subset | loss 3.905 | trans_loss 5.2 | nll_loss 2.506 | w2v_ctc_loss 1.271 | task_loss 8.358 | contrastive_loss 0 | total 6138.43 | n_correct 4056.57 | ppl 5.68 | accuracy 66.085 | uer 21.033 | wer 22.477 | raw_wer 22.477 | bleu 23.04 | wps 1761.9 | wpb 6138.4 | bsz 201.1 | num_updates 7141 | best_bleu 23.04
2023-08-26 01:09:07 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 6 @ 7141 updates
2023-08-26 01:09:07 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 01:09:12 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 01:09:17 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 6 @ 7141 updates, score 23.04) (writing took 10.130175743999644 seconds)
2023-08-26 01:09:17 | INFO | fairseq_cli.train | end of epoch 6 (average epoch stats below)
2023-08-26 01:09:17 | INFO | train | epoch 006 | loss 2.057 | trans_loss 3.492 | nll_loss 1.631 | w2v_ctc_loss 1.139 | task_loss 1.559 | contrastive_loss 0 | total 6703.69 | n_correct 4006.03 | ppl 3.1 | accuracy 59.759 | wps 17486 | ups 0.9 | wpb 19422.7 | bsz 678.2 | num_updates 7141 | lr 0.000167354 | gnorm 0.372 | clip 0 | loss_scale 16 | train_wall 1204 | gb_free 13.5 | wall 6990
2023-08-26 01:09:17 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 01:09:17 | INFO | fairseq.trainer | begin training epoch 7
2023-08-26 01:09:17 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 01:10:24 | INFO | train_inner | epoch 007:     59 / 1191 loss=1.983, trans_loss=3.424, nll_loss=1.544, w2v_ctc_loss=1.092, task_loss=1.506, contrastive_loss=0, total=6744.54, n_correct=4230.04, ppl=2.92, accuracy=62.718, wps=12923.2, ups=0.66, wpb=19521.6, bsz=693.1, num_updates=7200, lr=0.000166667, gnorm=0.351, clip=0, loss_scale=16, train_wall=101, gb_free=12.9, wall=7058
2023-08-26 01:12:07 | INFO | train_inner | epoch 007:    159 / 1191 loss=1.962, trans_loss=3.404, nll_loss=1.523, w2v_ctc_loss=1.077, task_loss=1.601, contrastive_loss=0, total=6653.49, n_correct=4206.41, ppl=2.87, accuracy=63.221, wps=18812, ups=0.97, wpb=19299.9, bsz=670.9, num_updates=7300, lr=0.000165521, gnorm=0.35, clip=0, loss_scale=16, train_wall=102, gb_free=9.3, wall=7160
2023-08-26 01:13:49 | INFO | train_inner | epoch 007:    259 / 1191 loss=1.964, trans_loss=3.402, nll_loss=1.519, w2v_ctc_loss=1.08, task_loss=1.558, contrastive_loss=0, total=6703.35, n_correct=4252.66, ppl=2.87, accuracy=63.441, wps=19071.8, ups=0.98, wpb=19423.6, bsz=677, num_updates=7400, lr=0.000164399, gnorm=0.342, clip=0, loss_scale=16, train_wall=101, gb_free=14.1, wall=7262
2023-08-26 01:15:28 | INFO | train_inner | epoch 007:    359 / 1191 loss=1.936, trans_loss=3.388, nll_loss=1.501, w2v_ctc_loss=1.053, task_loss=1.503, contrastive_loss=0, total=6724.62, n_correct=4306.81, ppl=2.83, accuracy=64.045, wps=19570.1, ups=1, wpb=19489.7, bsz=689, num_updates=7500, lr=0.000163299, gnorm=0.34, clip=0, loss_scale=16, train_wall=99, gb_free=13.8, wall=7362
2023-08-26 01:17:09 | INFO | train_inner | epoch 007:    459 / 1191 loss=1.942, trans_loss=3.396, nll_loss=1.511, w2v_ctc_loss=1.06, task_loss=1.44, contrastive_loss=0, total=6804.4, n_correct=4343.26, ppl=2.85, accuracy=63.83, wps=19695.9, ups=1, wpb=19716.1, bsz=714.5, num_updates=7600, lr=0.000162221, gnorm=0.34, clip=0, loss_scale=16, train_wall=100, gb_free=14.1, wall=7462
2023-08-26 01:18:52 | INFO | train_inner | epoch 007:    559 / 1191 loss=1.955, trans_loss=3.394, nll_loss=1.508, w2v_ctc_loss=1.076, task_loss=1.634, contrastive_loss=0, total=6666.31, n_correct=4260.08, ppl=2.84, accuracy=63.905, wps=18741.2, ups=0.97, wpb=19312.1, bsz=661.6, num_updates=7700, lr=0.000161165, gnorm=0.35, clip=0, loss_scale=16, train_wall=102, gb_free=12.7, wall=7565
2023-08-26 01:20:34 | INFO | train_inner | epoch 007:    659 / 1191 loss=1.939, trans_loss=3.394, nll_loss=1.508, w2v_ctc_loss=1.055, task_loss=1.536, contrastive_loss=0, total=6756.49, n_correct=4321.69, ppl=2.84, accuracy=63.964, wps=19041.9, ups=0.97, wpb=19575.7, bsz=690.9, num_updates=7800, lr=0.000160128, gnorm=0.342, clip=0, loss_scale=16, train_wall=102, gb_free=13.4, wall=7668
2023-08-26 01:22:16 | INFO | train_inner | epoch 007:    759 / 1191 loss=1.937, trans_loss=3.384, nll_loss=1.495, w2v_ctc_loss=1.06, task_loss=1.575, contrastive_loss=0, total=6690.65, n_correct=4305.65, ppl=2.82, accuracy=64.353, wps=19097.8, ups=0.99, wpb=19378.2, bsz=675.4, num_updates=7900, lr=0.000159111, gnorm=0.334, clip=0, loss_scale=16, train_wall=101, gb_free=12.8, wall=7769
2023-08-26 01:23:58 | INFO | train_inner | epoch 007:    859 / 1191 loss=1.931, trans_loss=3.389, nll_loss=1.5, w2v_ctc_loss=1.049, task_loss=1.615, contrastive_loss=0, total=6663.85, n_correct=4283.34, ppl=2.83, accuracy=64.277, wps=18936, ups=0.98, wpb=19296.5, bsz=659.4, num_updates=8000, lr=0.000158114, gnorm=0.346, clip=0, loss_scale=16, train_wall=101, gb_free=12.9, wall=7871
2023-08-26 01:23:58 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 01:24:30 | INFO | dev_st | epoch 007 | valid on 'dev_st' subset | loss 3.851 | trans_loss 5.107 | nll_loss 2.387 | w2v_ctc_loss 1.3 | task_loss 8.381 | contrastive_loss 0 | total 6138.43 | n_correct 4142.14 | ppl 5.23 | accuracy 67.479 | uer 19.806 | wer 21.112 | raw_wer 21.112 | bleu 25.02 | wps 1764.1 | wpb 6138.4 | bsz 201.1 | num_updates 8000 | best_bleu 25.02
2023-08-26 01:24:30 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 7 @ 8000 updates
2023-08-26 01:24:30 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_7_8000.pt
2023-08-26 01:24:32 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_7_8000.pt
2023-08-26 01:24:42 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_7_8000.pt (epoch 7 @ 8000 updates, score 25.02) (writing took 11.974902103000204 seconds)
2023-08-26 01:26:24 | INFO | train_inner | epoch 007:    959 / 1191 loss=1.929, trans_loss=3.376, nll_loss=1.486, w2v_ctc_loss=1.052, task_loss=1.672, contrastive_loss=0, total=6621.23, n_correct=4276.54, ppl=2.8, accuracy=64.588, wps=13136.3, ups=0.68, wpb=19186.6, bsz=638.4, num_updates=8100, lr=0.000157135, gnorm=0.341, clip=0, loss_scale=16, train_wall=101, gb_free=14.6, wall=8017
2023-08-26 01:28:05 | INFO | train_inner | epoch 007:   1059 / 1191 loss=1.928, trans_loss=3.379, nll_loss=1.487, w2v_ctc_loss=1.054, task_loss=1.507, contrastive_loss=0, total=6683.87, n_correct=4313.75, ppl=2.8, accuracy=64.54, wps=19114.7, ups=0.99, wpb=19351, bsz=697.1, num_updates=8200, lr=0.000156174, gnorm=0.374, clip=0, loss_scale=16, train_wall=101, gb_free=13.9, wall=8118
2023-08-26 01:29:08 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-26 01:29:49 | INFO | train_inner | epoch 007:   1160 / 1191 loss=1.927, trans_loss=3.376, nll_loss=1.488, w2v_ctc_loss=1.054, task_loss=1.582, contrastive_loss=0, total=6743.07, n_correct=4361.64, ppl=2.8, accuracy=64.683, wps=18894.6, ups=0.97, wpb=19543.4, bsz=678.5, num_updates=8300, lr=0.00015523, gnorm=0.347, clip=0, loss_scale=8, train_wall=103, gb_free=13, wall=8222
2023-08-26 01:30:20 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 01:30:52 | INFO | dev_st | epoch 007 | valid on 'dev_st' subset | loss 3.822 | trans_loss 5.084 | nll_loss 2.355 | w2v_ctc_loss 1.255 | task_loss 8.386 | contrastive_loss 0 | total 6138.43 | n_correct 4163 | ppl 5.12 | accuracy 67.819 | uer 19.907 | wer 21.387 | raw_wer 21.387 | bleu 25.05 | wps 1776.1 | wpb 6138.4 | bsz 201.1 | num_updates 8331 | best_bleu 25.05
2023-08-26 01:30:52 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 7 @ 8331 updates
2023-08-26 01:30:52 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 01:30:58 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 01:31:06 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 7 @ 8331 updates, score 25.05) (writing took 13.908429267999963 seconds)
2023-08-26 01:31:06 | INFO | fairseq_cli.train | end of epoch 7 (average epoch stats below)
2023-08-26 01:31:06 | INFO | train | epoch 007 | loss 1.942 | trans_loss 3.39 | nll_loss 1.503 | w2v_ctc_loss 1.062 | task_loss 1.562 | contrastive_loss 0 | total 6704.05 | n_correct 4293.04 | ppl 2.84 | accuracy 64.037 | wps 17659.9 | ups 0.91 | wpb 19423.7 | bsz 677.9 | num_updates 8331 | lr 0.000154941 | gnorm 0.346 | clip 0 | loss_scale 8 | train_wall 1204 | gb_free 12.7 | wall 8299
2023-08-26 01:31:06 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 01:31:06 | INFO | fairseq.trainer | begin training epoch 8
2023-08-26 01:31:06 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 01:32:23 | INFO | train_inner | epoch 008:     69 / 1191 loss=1.899, trans_loss=3.357, nll_loss=1.46, w2v_ctc_loss=1.019, task_loss=1.567, contrastive_loss=0, total=6722.88, n_correct=4393.85, ppl=2.75, accuracy=65.357, wps=12574.7, ups=0.65, wpb=19470.2, bsz=667.6, num_updates=8400, lr=0.000154303, gnorm=0.335, clip=0, loss_scale=8, train_wall=101, gb_free=13.7, wall=8376
2023-08-26 01:34:05 | INFO | train_inner | epoch 008:    169 / 1191 loss=1.883, trans_loss=3.348, nll_loss=1.453, w2v_ctc_loss=1.007, task_loss=1.502, contrastive_loss=0, total=6742.72, n_correct=4415.36, ppl=2.74, accuracy=65.483, wps=19234.5, ups=0.98, wpb=19552.4, bsz=709.6, num_updates=8500, lr=0.000153393, gnorm=0.328, clip=0, loss_scale=8, train_wall=101, gb_free=9.9, wall=8478
2023-08-26 01:35:48 | INFO | train_inner | epoch 008:    269 / 1191 loss=1.886, trans_loss=3.351, nll_loss=1.454, w2v_ctc_loss=1.011, task_loss=1.534, contrastive_loss=0, total=6747.41, n_correct=4422.68, ppl=2.74, accuracy=65.546, wps=19007.6, ups=0.97, wpb=19548.2, bsz=695.3, num_updates=8600, lr=0.000152499, gnorm=0.328, clip=0, loss_scale=8, train_wall=102, gb_free=14.5, wall=8581
2023-08-26 01:37:32 | INFO | train_inner | epoch 008:    369 / 1191 loss=1.895, trans_loss=3.356, nll_loss=1.461, w2v_ctc_loss=1.021, task_loss=1.726, contrastive_loss=0, total=6627.92, n_correct=4326.75, ppl=2.75, accuracy=65.281, wps=18522.5, ups=0.96, wpb=19213, bsz=633.5, num_updates=8700, lr=0.00015162, gnorm=0.336, clip=0, loss_scale=8, train_wall=103, gb_free=13.6, wall=8685
2023-08-26 01:39:14 | INFO | train_inner | epoch 008:    469 / 1191 loss=1.889, trans_loss=3.349, nll_loss=1.453, w2v_ctc_loss=1.016, task_loss=1.566, contrastive_loss=0, total=6675.94, n_correct=4376.42, ppl=2.74, accuracy=65.555, wps=18860.9, ups=0.97, wpb=19348.3, bsz=672.2, num_updates=8800, lr=0.000150756, gnorm=0.334, clip=0, loss_scale=8, train_wall=102, gb_free=13.9, wall=8787
2023-08-26 01:40:56 | INFO | train_inner | epoch 008:    569 / 1191 loss=1.875, trans_loss=3.346, nll_loss=1.449, w2v_ctc_loss=0.999, task_loss=1.616, contrastive_loss=0, total=6678.98, n_correct=4384.58, ppl=2.73, accuracy=65.647, wps=19060.9, ups=0.98, wpb=19354.9, bsz=669.3, num_updates=8900, lr=0.000149906, gnorm=0.329, clip=0, loss_scale=8, train_wall=101, gb_free=14.9, wall=8889
2023-08-26 01:42:36 | INFO | train_inner | epoch 008:    669 / 1191 loss=1.878, trans_loss=3.349, nll_loss=1.451, w2v_ctc_loss=1.004, task_loss=1.529, contrastive_loss=0, total=6739.84, n_correct=4436.59, ppl=2.73, accuracy=65.826, wps=19484.7, ups=1, wpb=19522.9, bsz=681.8, num_updates=9000, lr=0.000149071, gnorm=0.329, clip=0, loss_scale=8, train_wall=100, gb_free=14.2, wall=8989
2023-08-26 01:44:17 | INFO | train_inner | epoch 008:    769 / 1191 loss=1.878, trans_loss=3.347, nll_loss=1.45, w2v_ctc_loss=1.006, task_loss=1.593, contrastive_loss=0, total=6673.2, n_correct=4385.55, ppl=2.73, accuracy=65.719, wps=19076, ups=0.99, wpb=19340.5, bsz=668.7, num_updates=9100, lr=0.00014825, gnorm=0.334, clip=0, loss_scale=8, train_wall=101, gb_free=13.6, wall=9090
2023-08-26 01:45:59 | INFO | train_inner | epoch 008:    869 / 1191 loss=1.877, trans_loss=3.34, nll_loss=1.441, w2v_ctc_loss=1.008, task_loss=1.458, contrastive_loss=0, total=6799.01, n_correct=4490.21, ppl=2.71, accuracy=66.042, wps=19336.2, ups=0.98, wpb=19701.4, bsz=704.6, num_updates=9200, lr=0.000147442, gnorm=0.326, clip=0, loss_scale=8, train_wall=101, gb_free=13.8, wall=9192
2023-08-26 01:47:41 | INFO | train_inner | epoch 008:    969 / 1191 loss=1.879, trans_loss=3.349, nll_loss=1.45, w2v_ctc_loss=1.002, task_loss=1.614, contrastive_loss=0, total=6662.29, n_correct=4378.94, ppl=2.73, accuracy=65.727, wps=18924.6, ups=0.98, wpb=19292.3, bsz=660.9, num_updates=9300, lr=0.000146647, gnorm=0.331, clip=0, loss_scale=8, train_wall=101, gb_free=12.4, wall=9294
2023-08-26 01:49:23 | INFO | train_inner | epoch 008:   1069 / 1191 loss=1.876, trans_loss=3.342, nll_loss=1.44, w2v_ctc_loss=1.004, task_loss=1.615, contrastive_loss=0, total=6679.42, n_correct=4412.11, ppl=2.71, accuracy=66.055, wps=19074.5, ups=0.99, wpb=19325.2, bsz=659, num_updates=9400, lr=0.000145865, gnorm=0.334, clip=0, loss_scale=8, train_wall=101, gb_free=11.9, wall=9396
2023-08-26 01:49:55 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-26 01:51:04 | INFO | train_inner | epoch 008:   1170 / 1191 loss=1.857, trans_loss=3.332, nll_loss=1.433, w2v_ctc_loss=0.983, task_loss=1.428, contrastive_loss=0, total=6741.37, n_correct=4467.51, ppl=2.7, accuracy=66.27, wps=19193.7, ups=0.98, wpb=19537.7, bsz=723.7, num_updates=9500, lr=0.000145095, gnorm=0.329, clip=0, loss_scale=4, train_wall=101, gb_free=12.1, wall=9497
2023-08-26 01:51:25 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 01:51:57 | INFO | dev_st | epoch 008 | valid on 'dev_st' subset | loss 3.785 | trans_loss 5.031 | nll_loss 2.295 | w2v_ctc_loss 1.248 | task_loss 8.393 | contrastive_loss 0 | total 6138.43 | n_correct 4209.57 | ppl 4.91 | accuracy 68.577 | uer 18.969 | wer 20.257 | raw_wer 20.257 | bleu 26.02 | wps 1785.4 | wpb 6138.4 | bsz 201.1 | num_updates 9521 | best_bleu 26.02
2023-08-26 01:51:57 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 8 @ 9521 updates
2023-08-26 01:51:57 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 01:52:04 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 01:52:10 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 8 @ 9521 updates, score 26.02) (writing took 12.70068069700028 seconds)
2023-08-26 01:52:10 | INFO | fairseq_cli.train | end of epoch 8 (average epoch stats below)
2023-08-26 01:52:10 | INFO | train | epoch 008 | loss 1.88 | trans_loss 3.346 | nll_loss 1.448 | w2v_ctc_loss 1.006 | task_loss 1.561 | contrastive_loss 0 | total 6704.79 | n_correct 4407.95 | ppl 2.73 | accuracy 65.743 | wps 18286.7 | ups 0.94 | wpb 19425.8 | bsz 678.5 | num_updates 9521 | lr 0.000144935 | gnorm 0.331 | clip 0 | loss_scale 4 | train_wall 1205 | gb_free 13.9 | wall 9563
2023-08-26 01:52:10 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 01:52:10 | INFO | fairseq.trainer | begin training epoch 9
2023-08-26 01:52:10 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 01:53:37 | INFO | train_inner | epoch 009:     79 / 1191 loss=1.838, trans_loss=3.319, nll_loss=1.413, w2v_ctc_loss=0.963, task_loss=1.566, contrastive_loss=0, total=6681.43, n_correct=4455.55, ppl=2.66, accuracy=66.686, wps=12713.5, ups=0.66, wpb=19356.2, bsz=676, num_updates=9600, lr=0.000144338, gnorm=0.326, clip=0, loss_scale=4, train_wall=100, gb_free=11.6, wall=9650
2023-08-26 01:55:19 | INFO | train_inner | epoch 009:    179 / 1191 loss=1.829, trans_loss=3.31, nll_loss=1.403, w2v_ctc_loss=0.956, task_loss=1.523, contrastive_loss=0, total=6757.86, n_correct=4521.23, ppl=2.65, accuracy=66.903, wps=19154.5, ups=0.98, wpb=19588.1, bsz=692.6, num_updates=9700, lr=0.000143592, gnorm=0.327, clip=0, loss_scale=4, train_wall=102, gb_free=14.5, wall=9752
2023-08-26 01:57:00 | INFO | train_inner | epoch 009:    279 / 1191 loss=1.848, trans_loss=3.323, nll_loss=1.416, w2v_ctc_loss=0.979, task_loss=1.485, contrastive_loss=0, total=6797.76, n_correct=4536.91, ppl=2.67, accuracy=66.741, wps=19402.2, ups=0.99, wpb=19677.4, bsz=701.1, num_updates=9800, lr=0.000142857, gnorm=0.327, clip=0, loss_scale=4, train_wall=101, gb_free=9.4, wall=9853
2023-08-26 01:58:44 | INFO | train_inner | epoch 009:    379 / 1191 loss=1.833, trans_loss=3.317, nll_loss=1.413, w2v_ctc_loss=0.96, task_loss=1.533, contrastive_loss=0, total=6775.76, n_correct=4524.88, ppl=2.66, accuracy=66.78, wps=18952.2, ups=0.97, wpb=19634.3, bsz=694.7, num_updates=9900, lr=0.000142134, gnorm=0.319, clip=0, loss_scale=4, train_wall=103, gb_free=12.9, wall=9957
2023-08-26 02:00:27 | INFO | train_inner | epoch 009:    479 / 1191 loss=1.847, trans_loss=3.318, nll_loss=1.415, w2v_ctc_loss=0.976, task_loss=1.557, contrastive_loss=0, total=6696.55, n_correct=4477.26, ppl=2.67, accuracy=66.859, wps=18854.4, ups=0.97, wpb=19408.4, bsz=685.4, num_updates=10000, lr=0.000141421, gnorm=0.329, clip=0, loss_scale=4, train_wall=102, gb_free=13.9, wall=10060
2023-08-26 02:00:27 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 02:00:59 | INFO | dev_st | epoch 009 | valid on 'dev_st' subset | loss 3.767 | trans_loss 5.01 | nll_loss 2.265 | w2v_ctc_loss 1.238 | task_loss 8.393 | contrastive_loss 0 | total 6138.43 | n_correct 4240.14 | ppl 4.81 | accuracy 69.075 | uer 18.388 | wer 19.903 | raw_wer 19.903 | bleu 26.69 | wps 1743 | wpb 6138.4 | bsz 201.1 | num_updates 10000 | best_bleu 26.69
2023-08-26 02:00:59 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 9 @ 10000 updates
2023-08-26 02:00:59 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_9_10000.pt
2023-08-26 02:01:01 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_9_10000.pt
2023-08-26 02:01:14 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_9_10000.pt (epoch 9 @ 10000 updates, score 26.69) (writing took 15.03343502700045 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:0')
2023-08-26 02:02:55 | INFO | train_inner | epoch 009:    579 / 1191 loss=1.833, trans_loss=3.314, nll_loss=1.408, w2v_ctc_loss=0.96, task_loss=1.585, contrastive_loss=0, total=6631.46, n_correct=4436.62, ppl=2.65, accuracy=66.903, wps=12991.5, ups=0.68, wpb=19212.3, bsz=667.7, num_updates=10100, lr=0.00014072, gnorm=0.314, clip=0, loss_scale=4, train_wall=100, gb_free=13.9, wall=10208
2023-08-26 02:04:36 | INFO | train_inner | epoch 009:    679 / 1191 loss=1.842, trans_loss=3.323, nll_loss=1.418, w2v_ctc_loss=0.967, task_loss=1.726, contrastive_loss=0, total=6564.56, n_correct=4377.91, ppl=2.67, accuracy=66.69, wps=18717.8, ups=0.98, wpb=19011.2, bsz=625.6, num_updates=10200, lr=0.000140028, gnorm=0.312, clip=0, loss_scale=4, train_wall=101, gb_free=15.1, wall=10309
2023-08-26 02:06:18 | INFO | train_inner | epoch 009:    779 / 1191 loss=1.835, trans_loss=3.319, nll_loss=1.415, w2v_ctc_loss=0.96, task_loss=1.55, contrastive_loss=0, total=6697.76, n_correct=4477.55, ppl=2.67, accuracy=66.851, wps=19130.6, ups=0.99, wpb=19409.9, bsz=686.9, num_updates=10300, lr=0.000139347, gnorm=0.312, clip=0, loss_scale=4, train_wall=101, gb_free=14.2, wall=10411
2023-08-26 02:07:59 | INFO | train_inner | epoch 009:    879 / 1191 loss=1.833, trans_loss=3.316, nll_loss=1.412, w2v_ctc_loss=0.961, task_loss=1.575, contrastive_loss=0, total=6725.6, n_correct=4497.07, ppl=2.66, accuracy=66.865, wps=19203.4, ups=0.99, wpb=19490.8, bsz=666.1, num_updates=10400, lr=0.000138675, gnorm=0.307, clip=0, loss_scale=4, train_wall=101, gb_free=13.7, wall=10512
2023-08-26 02:09:42 | INFO | train_inner | epoch 009:    979 / 1191 loss=1.829, trans_loss=3.315, nll_loss=1.409, w2v_ctc_loss=0.958, task_loss=1.564, contrastive_loss=0, total=6712.81, n_correct=4495.13, ppl=2.66, accuracy=66.963, wps=18978.7, ups=0.98, wpb=19443.8, bsz=681.9, num_updates=10500, lr=0.000138013, gnorm=0.307, clip=0, loss_scale=4, train_wall=102, gb_free=12.8, wall=10615
2023-08-26 02:11:23 | INFO | train_inner | epoch 009:   1079 / 1191 loss=1.826, trans_loss=3.313, nll_loss=1.408, w2v_ctc_loss=0.954, task_loss=1.542, contrastive_loss=0, total=6663.32, n_correct=4469.94, ppl=2.65, accuracy=67.083, wps=19133.7, ups=0.99, wpb=19311.7, bsz=678.6, num_updates=10600, lr=0.000137361, gnorm=0.305, clip=0, loss_scale=4, train_wall=100, gb_free=13.5, wall=10716
2023-08-26 02:13:04 | INFO | train_inner | epoch 009:   1179 / 1191 loss=1.84, trans_loss=3.313, nll_loss=1.408, w2v_ctc_loss=0.973, task_loss=1.617, contrastive_loss=0, total=6698.09, n_correct=4484.57, ppl=2.65, accuracy=66.953, wps=19102.1, ups=0.98, wpb=19412.6, bsz=660.3, num_updates=10700, lr=0.000136717, gnorm=0.307, clip=0, loss_scale=4, train_wall=101, gb_free=11.8, wall=10817
2023-08-26 02:13:17 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:2')
2023-08-26 02:13:49 | INFO | dev_st | epoch 009 | valid on 'dev_st' subset | loss 3.749 | trans_loss 5.002 | nll_loss 2.251 | w2v_ctc_loss 1.198 | task_loss 8.425 | contrastive_loss 0 | total 6138.43 | n_correct 4248.57 | ppl 4.76 | accuracy 69.213 | uer 18.431 | wer 19.766 | raw_wer 19.766 | bleu 26.74 | wps 1769.4 | wpb 6138.4 | bsz 201.1 | num_updates 10712 | best_bleu 26.74
2023-08-26 02:13:49 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 9 @ 10712 updates
2023-08-26 02:13:49 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 02:13:54 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 02:13:59 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 9 @ 10712 updates, score 26.74) (writing took 10.424885796001035 seconds)
2023-08-26 02:14:00 | INFO | fairseq_cli.train | end of epoch 9 (average epoch stats below)
2023-08-26 02:14:00 | INFO | train | epoch 009 | loss 1.835 | trans_loss 3.316 | nll_loss 1.411 | w2v_ctc_loss 0.963 | task_loss 1.562 | contrastive_loss 0 | total 6703.69 | n_correct 4482.8 | ppl 2.66 | accuracy 66.871 | wps 17663.9 | ups 0.91 | wpb 19422.7 | bsz 678.2 | num_updates 10712 | lr 0.000136641 | gnorm 0.316 | clip 0 | loss_scale 4 | train_wall 1205 | gb_free 14.3 | wall 10873
2023-08-26 02:14:00 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 02:14:00 | INFO | fairseq.trainer | begin training epoch 10
2023-08-26 02:14:00 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 02:15:36 | INFO | train_inner | epoch 010:     88 / 1191 loss=1.792, trans_loss=3.29, nll_loss=1.377, w2v_ctc_loss=0.919, task_loss=1.585, contrastive_loss=0, total=6635.56, n_correct=4499.28, ppl=2.6, accuracy=67.806, wps=12665, ups=0.66, wpb=19225.9, bsz=666.3, num_updates=10800, lr=0.000136083, gnorm=0.303, clip=0, loss_scale=4, train_wall=101, gb_free=6.8, wall=10969
2023-08-26 02:17:17 | INFO | train_inner | epoch 010:    188 / 1191 loss=1.81, trans_loss=3.303, nll_loss=1.394, w2v_ctc_loss=0.937, task_loss=1.561, contrastive_loss=0, total=6683.77, n_correct=4505.03, ppl=2.63, accuracy=67.403, wps=19164.9, ups=0.99, wpb=19364.3, bsz=682.4, num_updates=10900, lr=0.000135457, gnorm=0.32, clip=0, loss_scale=4, train_wall=100, gb_free=13.9, wall=11070
2023-08-26 02:18:58 | INFO | train_inner | epoch 010:    288 / 1191 loss=1.796, trans_loss=3.291, nll_loss=1.379, w2v_ctc_loss=0.924, task_loss=1.541, contrastive_loss=0, total=6747.3, n_correct=4569.91, ppl=2.6, accuracy=67.729, wps=19289.6, ups=0.99, wpb=19544.4, bsz=686.8, num_updates=11000, lr=0.00013484, gnorm=0.302, clip=0, loss_scale=4, train_wall=101, gb_free=12.6, wall=11171
2023-08-26 02:20:41 | INFO | train_inner | epoch 010:    388 / 1191 loss=1.803, trans_loss=3.297, nll_loss=1.386, w2v_ctc_loss=0.932, task_loss=1.444, contrastive_loss=0, total=6844.06, n_correct=4624.78, ppl=2.61, accuracy=67.574, wps=19313.5, ups=0.97, wpb=19828.5, bsz=731.6, num_updates=11100, lr=0.000134231, gnorm=0.302, clip=0, loss_scale=4, train_wall=102, gb_free=13.9, wall=11274
2023-08-26 02:22:23 | INFO | train_inner | epoch 010:    488 / 1191 loss=1.812, trans_loss=3.293, nll_loss=1.38, w2v_ctc_loss=0.944, task_loss=1.571, contrastive_loss=0, total=6740.33, n_correct=4561.23, ppl=2.6, accuracy=67.671, wps=19142.2, ups=0.98, wpb=19516.8, bsz=675.3, num_updates=11200, lr=0.000133631, gnorm=0.304, clip=0, loss_scale=4, train_wall=101, gb_free=14.5, wall=11376
2023-08-26 02:24:04 | INFO | train_inner | epoch 010:    588 / 1191 loss=1.803, trans_loss=3.299, nll_loss=1.389, w2v_ctc_loss=0.928, task_loss=1.598, contrastive_loss=0, total=6674.26, n_correct=4506.51, ppl=2.62, accuracy=67.521, wps=19227.1, ups=0.99, wpb=19333.8, bsz=659.7, num_updates=11300, lr=0.000133038, gnorm=0.311, clip=0, loss_scale=4, train_wall=100, gb_free=13.3, wall=11477
2023-08-26 02:25:46 | INFO | train_inner | epoch 010:    688 / 1191 loss=1.803, trans_loss=3.295, nll_loss=1.385, w2v_ctc_loss=0.932, task_loss=1.511, contrastive_loss=0, total=6780.39, n_correct=4590.9, ppl=2.61, accuracy=67.708, wps=19274.8, ups=0.98, wpb=19647.9, bsz=704.3, num_updates=11400, lr=0.000132453, gnorm=0.298, clip=0, loss_scale=4, train_wall=101, gb_free=13.1, wall=11579
2023-08-26 02:27:27 | INFO | train_inner | epoch 010:    788 / 1191 loss=1.798, trans_loss=3.292, nll_loss=1.381, w2v_ctc_loss=0.928, task_loss=1.653, contrastive_loss=0, total=6651.17, n_correct=4504.51, ppl=2.6, accuracy=67.725, wps=18930, ups=0.98, wpb=19273.7, bsz=652.3, num_updates=11500, lr=0.000131876, gnorm=0.303, clip=0, loss_scale=8, train_wall=101, gb_free=12.7, wall=11680
2023-08-26 02:29:10 | INFO | train_inner | epoch 010:    888 / 1191 loss=1.806, trans_loss=3.292, nll_loss=1.381, w2v_ctc_loss=0.938, task_loss=1.702, contrastive_loss=0, total=6538.32, n_correct=4423.55, ppl=2.6, accuracy=67.656, wps=18534.4, ups=0.98, wpb=18949.3, bsz=637, num_updates=11600, lr=0.000131306, gnorm=0.306, clip=0, loss_scale=8, train_wall=102, gb_free=14.3, wall=11783
2023-08-26 02:30:51 | INFO | train_inner | epoch 010:    988 / 1191 loss=1.797, trans_loss=3.29, nll_loss=1.378, w2v_ctc_loss=0.927, task_loss=1.502, contrastive_loss=0, total=6754.89, n_correct=4584.81, ppl=2.6, accuracy=67.874, wps=19309, ups=0.99, wpb=19571, bsz=687.6, num_updates=11700, lr=0.000130744, gnorm=0.309, clip=0, loss_scale=8, train_wall=101, gb_free=14.2, wall=11884
2023-08-26 02:32:33 | INFO | train_inner | epoch 010:   1088 / 1191 loss=1.804, trans_loss=3.285, nll_loss=1.375, w2v_ctc_loss=0.938, task_loss=1.557, contrastive_loss=0, total=6679.13, n_correct=4535.32, ppl=2.59, accuracy=67.903, wps=19037.4, ups=0.98, wpb=19365.7, bsz=675.9, num_updates=11800, lr=0.000130189, gnorm=0.305, clip=0, loss_scale=8, train_wall=101, gb_free=9.7, wall=11986
2023-08-26 02:34:14 | INFO | train_inner | epoch 010:   1188 / 1191 loss=1.795, trans_loss=3.293, nll_loss=1.381, w2v_ctc_loss=0.923, task_loss=1.529, contrastive_loss=0, total=6732.47, n_correct=4560.16, ppl=2.6, accuracy=67.734, wps=19275.7, ups=0.99, wpb=19499.8, bsz=688.7, num_updates=11900, lr=0.000129641, gnorm=0.301, clip=0, loss_scale=8, train_wall=100, gb_free=14.2, wall=12087
2023-08-26 02:34:17 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 02:34:49 | INFO | dev_st | epoch 010 | valid on 'dev_st' subset | loss 3.717 | trans_loss 4.966 | nll_loss 2.212 | w2v_ctc_loss 1.17 | task_loss 8.493 | contrastive_loss 0 | total 6138.43 | n_correct 4269.29 | ppl 4.63 | accuracy 69.55 | uer 17.666 | wer 19.245 | raw_wer 19.245 | bleu 27 | wps 1780.6 | wpb 6138.4 | bsz 201.1 | num_updates 11903 | best_bleu 27
2023-08-26 02:34:49 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 10 @ 11903 updates
2023-08-26 02:34:49 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 02:34:55 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 02:35:00 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 10 @ 11903 updates, score 27.0) (writing took 11.639334554000015 seconds)
2023-08-26 02:35:01 | INFO | fairseq_cli.train | end of epoch 10 (average epoch stats below)
2023-08-26 02:35:01 | INFO | train | epoch 010 | loss 1.802 | trans_loss 3.293 | nll_loss 1.382 | w2v_ctc_loss 0.931 | task_loss 1.563 | contrastive_loss 0 | total 6703.69 | n_correct 4538.16 | ppl 2.61 | accuracy 67.696 | wps 18342.9 | ups 0.94 | wpb 19422.7 | bsz 678.2 | num_updates 11903 | lr 0.000129624 | gnorm 0.306 | clip 0 | loss_scale 8 | train_wall 1202 | gb_free 12.1 | wall 12134
2023-08-26 02:35:01 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 02:35:01 | INFO | fairseq.trainer | begin training epoch 11
2023-08-26 02:35:01 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 02:36:46 | INFO | train_inner | epoch 011:     97 / 1191 loss=1.783, trans_loss=3.274, nll_loss=1.359, w2v_ctc_loss=0.914, task_loss=1.666, contrastive_loss=0, total=6629.5, n_correct=4524.77, ppl=2.57, accuracy=68.252, wps=12601.8, ups=0.66, wpb=19215.2, bsz=646.6, num_updates=12000, lr=0.000129099, gnorm=0.308, clip=0, loss_scale=8, train_wall=100, gb_free=12.7, wall=12239
2023-08-26 02:36:46 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 02:37:18 | INFO | dev_st | epoch 011 | valid on 'dev_st' subset | loss 3.733 | trans_loss 4.974 | nll_loss 2.218 | w2v_ctc_loss 1.204 | task_loss 8.56 | contrastive_loss 0 | total 6138.43 | n_correct 4266.86 | ppl 4.65 | accuracy 69.511 | uer 18.118 | wer 19.502 | raw_wer 19.502 | bleu 27.27 | wps 1768.4 | wpb 6138.4 | bsz 201.1 | num_updates 12000 | best_bleu 27.27
2023-08-26 02:37:18 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 11 @ 12000 updates
2023-08-26 02:37:18 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_11_12000.pt
2023-08-26 02:37:20 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_11_12000.pt
2023-08-26 02:37:31 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_11_12000.pt (epoch 11 @ 12000 updates, score 27.27) (writing took 12.422851919000095 seconds)
2023-08-26 02:39:12 | INFO | train_inner | epoch 011:    197 / 1191 loss=1.766, trans_loss=3.277, nll_loss=1.36, w2v_ctc_loss=0.892, task_loss=1.531, contrastive_loss=0, total=6695.87, n_correct=4579.2, ppl=2.57, accuracy=68.388, wps=13313.5, ups=0.69, wpb=19390.4, bsz=686.9, num_updates=12100, lr=0.000128565, gnorm=0.307, clip=0, loss_scale=8, train_wall=100, gb_free=14.1, wall=12385
2023-08-26 02:40:54 | INFO | train_inner | epoch 011:    297 / 1191 loss=1.771, trans_loss=3.272, nll_loss=1.355, w2v_ctc_loss=0.9, task_loss=1.597, contrastive_loss=0, total=6605.27, n_correct=4520.79, ppl=2.56, accuracy=68.442, wps=18816.6, ups=0.98, wpb=19137.7, bsz=664.2, num_updates=12200, lr=0.000128037, gnorm=0.303, clip=0, loss_scale=8, train_wall=101, gb_free=13.1, wall=12487
2023-08-26 02:42:35 | INFO | train_inner | epoch 011:    397 / 1191 loss=1.775, trans_loss=3.273, nll_loss=1.358, w2v_ctc_loss=0.903, task_loss=1.615, contrastive_loss=0, total=6597.68, n_correct=4509.14, ppl=2.56, accuracy=68.344, wps=18871.4, ups=0.99, wpb=19125.4, bsz=664.1, num_updates=12300, lr=0.000127515, gnorm=0.317, clip=0, loss_scale=8, train_wall=101, gb_free=10.7, wall=12588
2023-08-26 02:44:17 | INFO | train_inner | epoch 011:    497 / 1191 loss=1.784, trans_loss=3.279, nll_loss=1.365, w2v_ctc_loss=0.913, task_loss=1.673, contrastive_loss=0, total=6643.92, n_correct=4532.48, ppl=2.58, accuracy=68.22, wps=18847.3, ups=0.98, wpb=19259.8, bsz=646.3, num_updates=12400, lr=0.000127, gnorm=0.309, clip=0, loss_scale=8, train_wall=101, gb_free=10.9, wall=12690
2023-08-26 02:45:58 | INFO | train_inner | epoch 011:    597 / 1191 loss=1.779, trans_loss=3.275, nll_loss=1.362, w2v_ctc_loss=0.911, task_loss=1.567, contrastive_loss=0, total=6663.6, n_correct=4547.12, ppl=2.57, accuracy=68.238, wps=19257.8, ups=1, wpb=19323.3, bsz=673.3, num_updates=12500, lr=0.000126491, gnorm=0.303, clip=0, loss_scale=8, train_wall=100, gb_free=13.3, wall=12791
2023-08-26 02:47:40 | INFO | train_inner | epoch 011:    697 / 1191 loss=1.771, trans_loss=3.27, nll_loss=1.355, w2v_ctc_loss=0.901, task_loss=1.618, contrastive_loss=0, total=6694.31, n_correct=4578.51, ppl=2.56, accuracy=68.394, wps=19012.3, ups=0.98, wpb=19409, bsz=667.3, num_updates=12600, lr=0.000125988, gnorm=0.3, clip=0, loss_scale=8, train_wall=101, gb_free=4.6, wall=12893
2023-08-26 02:49:22 | INFO | train_inner | epoch 011:    797 / 1191 loss=1.784, trans_loss=3.279, nll_loss=1.365, w2v_ctc_loss=0.916, task_loss=1.525, contrastive_loss=0, total=6797.24, n_correct=4639.35, ppl=2.58, accuracy=68.253, wps=19326, ups=0.98, wpb=19694.2, bsz=704.4, num_updates=12700, lr=0.000125491, gnorm=0.309, clip=0, loss_scale=8, train_wall=101, gb_free=11.8, wall=12995
2023-08-26 02:51:03 | INFO | train_inner | epoch 011:    897 / 1191 loss=1.769, trans_loss=3.279, nll_loss=1.363, w2v_ctc_loss=0.894, task_loss=1.534, contrastive_loss=0, total=6767.48, n_correct=4624.22, ppl=2.57, accuracy=68.33, wps=19266.3, ups=0.98, wpb=19590.9, bsz=680, num_updates=12800, lr=0.000125, gnorm=0.299, clip=0, loss_scale=8, train_wall=101, gb_free=10.7, wall=13096
2023-08-26 02:52:45 | INFO | train_inner | epoch 011:    997 / 1191 loss=1.76, trans_loss=3.274, nll_loss=1.356, w2v_ctc_loss=0.885, task_loss=1.467, contrastive_loss=0, total=6800.24, n_correct=4658.63, ppl=2.56, accuracy=68.507, wps=19290.1, ups=0.98, wpb=19686.1, bsz=710.6, num_updates=12900, lr=0.000124515, gnorm=0.298, clip=0, loss_scale=8, train_wall=101, gb_free=14.3, wall=13198
2023-08-26 02:54:26 | INFO | train_inner | epoch 011:   1097 / 1191 loss=1.769, trans_loss=3.272, nll_loss=1.356, w2v_ctc_loss=0.9, task_loss=1.466, contrastive_loss=0, total=6767.7, n_correct=4633.99, ppl=2.56, accuracy=68.472, wps=19445.5, ups=0.99, wpb=19611.7, bsz=704, num_updates=13000, lr=0.000124035, gnorm=0.301, clip=0, loss_scale=8, train_wall=100, gb_free=13, wall=13299
2023-08-26 02:56:02 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 02:56:34 | INFO | dev_st | epoch 011 | valid on 'dev_st' subset | loss 3.707 | trans_loss 4.951 | nll_loss 2.189 | w2v_ctc_loss 1.171 | task_loss 8.493 | contrastive_loss 0 | total 6138.43 | n_correct 4290.71 | ppl 4.56 | accuracy 69.899 | uer 17.567 | wer 19.134 | raw_wer 19.134 | bleu 27.82 | wps 1768 | wpb 6138.4 | bsz 201.1 | num_updates 13094 | best_bleu 27.82
2023-08-26 02:56:34 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 11 @ 13094 updates
2023-08-26 02:56:34 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 02:56:40 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 02:56:45 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 11 @ 13094 updates, score 27.82) (writing took 10.892480690999946 seconds)
2023-08-26 02:56:45 | INFO | fairseq_cli.train | end of epoch 11 (average epoch stats below)
2023-08-26 02:56:45 | INFO | train | epoch 011 | loss 1.774 | trans_loss 3.275 | nll_loss 1.36 | w2v_ctc_loss 0.903 | task_loss 1.563 | contrastive_loss 0 | total 6703.69 | n_correct 4582.07 | ppl 2.57 | accuracy 68.351 | wps 17735 | ups 0.91 | wpb 19422.7 | bsz 678.2 | num_updates 13094 | lr 0.000123589 | gnorm 0.305 | clip 0 | loss_scale 8 | train_wall 1201 | gb_free 13.3 | wall 13438
2023-08-26 02:56:45 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 02:56:45 | INFO | fairseq.trainer | begin training epoch 12
2023-08-26 02:56:45 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 02:56:59 | INFO | train_inner | epoch 012:      6 / 1191 loss=1.768, trans_loss=3.276, nll_loss=1.358, w2v_ctc_loss=0.898, task_loss=1.471, contrastive_loss=0, total=6794.94, n_correct=4651.05, ppl=2.56, accuracy=68.449, wps=12905.2, ups=0.66, wpb=19667.6, bsz=708.4, num_updates=13100, lr=0.00012356, gnorm=0.301, clip=0, loss_scale=8, train_wall=101, gb_free=11.9, wall=13452
2023-08-26 02:58:41 | INFO | train_inner | epoch 012:    106 / 1191 loss=1.746, trans_loss=3.255, nll_loss=1.334, w2v_ctc_loss=0.876, task_loss=1.578, contrastive_loss=0, total=6733.34, n_correct=4645.11, ppl=2.52, accuracy=68.987, wps=19113.8, ups=0.98, wpb=19508, bsz=668.8, num_updates=13200, lr=0.000123091, gnorm=0.317, clip=0, loss_scale=8, train_wall=102, gb_free=13.7, wall=13554
2023-08-26 03:00:22 | INFO | train_inner | epoch 012:    206 / 1191 loss=1.75, trans_loss=3.262, nll_loss=1.342, w2v_ctc_loss=0.876, task_loss=1.575, contrastive_loss=0, total=6717.37, n_correct=4617.36, ppl=2.54, accuracy=68.738, wps=19238.4, ups=0.99, wpb=19462.2, bsz=668.3, num_updates=13300, lr=0.000122628, gnorm=0.3, clip=0, loss_scale=8, train_wall=101, gb_free=12, wall=13655
2023-08-26 03:02:03 | INFO | train_inner | epoch 012:    306 / 1191 loss=1.753, trans_loss=3.263, nll_loss=1.345, w2v_ctc_loss=0.881, task_loss=1.534, contrastive_loss=0, total=6703.8, n_correct=4610.48, ppl=2.54, accuracy=68.774, wps=19120.8, ups=0.98, wpb=19428.9, bsz=689.6, num_updates=13400, lr=0.000122169, gnorm=0.3, clip=0, loss_scale=8, train_wall=101, gb_free=13.7, wall=13757
2023-08-26 03:03:45 | INFO | train_inner | epoch 012:    406 / 1191 loss=1.74, trans_loss=3.26, nll_loss=1.34, w2v_ctc_loss=0.866, task_loss=1.458, contrastive_loss=0, total=6770.13, n_correct=4665.81, ppl=2.53, accuracy=68.918, wps=19395.4, ups=0.99, wpb=19616.1, bsz=706, num_updates=13500, lr=0.000121716, gnorm=0.295, clip=0, loss_scale=8, train_wall=101, gb_free=14.4, wall=13858
2023-08-26 03:05:26 | INFO | train_inner | epoch 012:    506 / 1191 loss=1.741, trans_loss=3.257, nll_loss=1.336, w2v_ctc_loss=0.867, task_loss=1.495, contrastive_loss=0, total=6749.24, n_correct=4657.32, ppl=2.52, accuracy=69.005, wps=19372.1, ups=0.99, wpb=19550.5, bsz=693.1, num_updates=13600, lr=0.000121268, gnorm=0.302, clip=0, loss_scale=16, train_wall=100, gb_free=15, wall=13959
2023-08-26 03:07:08 | INFO | train_inner | epoch 012:    606 / 1191 loss=1.752, trans_loss=3.258, nll_loss=1.338, w2v_ctc_loss=0.882, task_loss=1.616, contrastive_loss=0, total=6723.44, n_correct=4631.52, ppl=2.53, accuracy=68.886, wps=19043.4, ups=0.98, wpb=19479, bsz=675.6, num_updates=13700, lr=0.000120824, gnorm=0.301, clip=0, loss_scale=16, train_wall=102, gb_free=14.5, wall=14061
2023-08-26 03:08:51 | INFO | train_inner | epoch 012:    706 / 1191 loss=1.745, trans_loss=3.251, nll_loss=1.332, w2v_ctc_loss=0.877, task_loss=1.496, contrastive_loss=0, total=6762.5, n_correct=4663.98, ppl=2.52, accuracy=68.968, wps=19087, ups=0.97, wpb=19610, bsz=697.1, num_updates=13800, lr=0.000120386, gnorm=0.301, clip=0, loss_scale=16, train_wall=102, gb_free=13.7, wall=14164
2023-08-26 03:10:33 | INFO | train_inner | epoch 012:    806 / 1191 loss=1.756, trans_loss=3.265, nll_loss=1.345, w2v_ctc_loss=0.884, task_loss=1.607, contrastive_loss=0, total=6657.14, n_correct=4579.14, ppl=2.54, accuracy=68.785, wps=18882.2, ups=0.98, wpb=19280.5, bsz=663.1, num_updates=13900, lr=0.000119952, gnorm=0.304, clip=0, loss_scale=16, train_wall=101, gb_free=12.7, wall=14266
2023-08-26 03:12:15 | INFO | train_inner | epoch 012:    906 / 1191 loss=1.758, trans_loss=3.266, nll_loss=1.347, w2v_ctc_loss=0.887, task_loss=1.67, contrastive_loss=0, total=6647.96, n_correct=4571.17, ppl=2.54, accuracy=68.76, wps=18844.4, ups=0.98, wpb=19253, bsz=655.7, num_updates=14000, lr=0.000119523, gnorm=0.301, clip=0, loss_scale=16, train_wall=102, gb_free=12.7, wall=14368
2023-08-26 03:12:15 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 03:12:47 | INFO | dev_st | epoch 012 | valid on 'dev_st' subset | loss 3.708 | trans_loss 4.945 | nll_loss 2.183 | w2v_ctc_loss 1.189 | task_loss 8.503 | contrastive_loss 0 | total 6138.43 | n_correct 4297.86 | ppl 4.54 | accuracy 70.016 | uer 18.052 | wer 19.546 | raw_wer 19.546 | bleu 27.82 | wps 1786.8 | wpb 6138.4 | bsz 201.1 | num_updates 14000 | best_bleu 27.82
2023-08-26 03:12:47 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 12 @ 14000 updates
2023-08-26 03:12:47 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_12_14000.pt
2023-08-26 03:12:49 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_12_14000.pt
2023-08-26 03:12:59 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_12_14000.pt (epoch 12 @ 14000 updates, score 27.82) (writing took 12.144690117002028 seconds)
2023-08-26 03:14:40 | INFO | train_inner | epoch 012:   1006 / 1191 loss=1.756, trans_loss=3.259, nll_loss=1.341, w2v_ctc_loss=0.889, task_loss=1.61, contrastive_loss=0, total=6608.71, n_correct=4549.94, ppl=2.53, accuracy=68.848, wps=13219, ups=0.69, wpb=19165.5, bsz=664.6, num_updates=14100, lr=0.000119098, gnorm=0.3, clip=0, loss_scale=16, train_wall=100, gb_free=14.4, wall=14513
2023-08-26 03:16:22 | INFO | train_inner | epoch 012:   1106 / 1191 loss=1.749, trans_loss=3.261, nll_loss=1.342, w2v_ctc_loss=0.878, task_loss=1.593, contrastive_loss=0, total=6665.67, n_correct=4597.58, ppl=2.53, accuracy=68.974, wps=18927.8, ups=0.98, wpb=19306.4, bsz=675.8, num_updates=14200, lr=0.000118678, gnorm=0.304, clip=0, loss_scale=16, train_wall=101, gb_free=14.4, wall=14615
2023-08-26 03:17:49 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 03:18:21 | INFO | dev_st | epoch 012 | valid on 'dev_st' subset | loss 3.701 | trans_loss 4.934 | nll_loss 2.174 | w2v_ctc_loss 1.188 | task_loss 8.464 | contrastive_loss 0 | total 6138.43 | n_correct 4303.86 | ppl 4.51 | accuracy 70.113 | uer 17.581 | wer 19.249 | raw_wer 19.249 | bleu 28.14 | wps 1745.9 | wpb 6138.4 | bsz 201.1 | num_updates 14285 | best_bleu 28.14
2023-08-26 03:18:21 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 12 @ 14285 updates
2023-08-26 03:18:21 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 03:18:28 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 03:18:34 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 12 @ 14285 updates, score 28.14) (writing took 12.889196969001205 seconds)
2023-08-26 03:18:34 | INFO | fairseq_cli.train | end of epoch 12 (average epoch stats below)
2023-08-26 03:18:34 | INFO | train | epoch 012 | loss 1.75 | trans_loss 3.26 | nll_loss 1.34 | w2v_ctc_loss 0.879 | task_loss 1.564 | contrastive_loss 0 | total 6703.69 | n_correct 4617.77 | ppl 2.53 | accuracy 68.884 | wps 17672.2 | ups 0.91 | wpb 19422.7 | bsz 678.2 | num_updates 14285 | lr 0.000118325 | gnorm 0.302 | clip 0 | loss_scale 16 | train_wall 1204 | gb_free 13.9 | wall 14747
2023-08-26 03:18:34 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 03:18:34 | INFO | fairseq.trainer | begin training epoch 13
2023-08-26 03:18:34 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 03:18:57 | INFO | train_inner | epoch 013:     15 / 1191 loss=1.749, trans_loss=3.257, nll_loss=1.336, w2v_ctc_loss=0.879, task_loss=1.594, contrastive_loss=0, total=6686.63, n_correct=4615.76, ppl=2.52, accuracy=69.03, wps=12481.2, ups=0.64, wpb=19364.4, bsz=663.9, num_updates=14300, lr=0.000118262, gnorm=0.301, clip=0, loss_scale=16, train_wall=102, gb_free=12.9, wall=14770
2023-08-26 03:20:40 | INFO | train_inner | epoch 013:    115 / 1191 loss=1.725, trans_loss=3.239, nll_loss=1.313, w2v_ctc_loss=0.853, task_loss=1.648, contrastive_loss=0, total=6709.41, n_correct=4664.82, ppl=2.48, accuracy=69.527, wps=18934.4, ups=0.97, wpb=19440.2, bsz=661.5, num_updates=14400, lr=0.000117851, gnorm=0.3, clip=0, loss_scale=16, train_wall=102, gb_free=11.7, wall=14873
2023-08-26 03:22:21 | INFO | train_inner | epoch 013:    215 / 1191 loss=1.726, trans_loss=3.25, nll_loss=1.328, w2v_ctc_loss=0.85, task_loss=1.536, contrastive_loss=0, total=6640.19, n_correct=4594.43, ppl=2.51, accuracy=69.191, wps=18906.1, ups=0.98, wpb=19238.7, bsz=693.4, num_updates=14500, lr=0.000117444, gnorm=0.299, clip=0, loss_scale=16, train_wall=101, gb_free=9.6, wall=14974
2023-08-26 03:24:02 | INFO | train_inner | epoch 013:    315 / 1191 loss=1.714, trans_loss=3.244, nll_loss=1.319, w2v_ctc_loss=0.837, task_loss=1.465, contrastive_loss=0, total=6720.15, n_correct=4673.06, ppl=2.5, accuracy=69.538, wps=19295.7, ups=0.99, wpb=19467.5, bsz=711.6, num_updates=14600, lr=0.000117041, gnorm=0.296, clip=0, loss_scale=16, train_wall=100, gb_free=13.7, wall=15075
2023-08-26 03:25:44 | INFO | train_inner | epoch 013:    415 / 1191 loss=1.731, trans_loss=3.248, nll_loss=1.326, w2v_ctc_loss=0.861, task_loss=1.559, contrastive_loss=0, total=6745.43, n_correct=4672.15, ppl=2.51, accuracy=69.264, wps=19216.6, ups=0.98, wpb=19550.4, bsz=675.8, num_updates=14700, lr=0.000116642, gnorm=0.297, clip=0, loss_scale=16, train_wall=101, gb_free=15.1, wall=15177
2023-08-26 03:27:26 | INFO | train_inner | epoch 013:    515 / 1191 loss=1.731, trans_loss=3.25, nll_loss=1.328, w2v_ctc_loss=0.858, task_loss=1.629, contrastive_loss=0, total=6667.93, n_correct=4613.95, ppl=2.51, accuracy=69.196, wps=18864.9, ups=0.98, wpb=19317.4, bsz=665, num_updates=14800, lr=0.000116248, gnorm=0.298, clip=0, loss_scale=16, train_wall=102, gb_free=12.3, wall=15280
2023-08-26 03:29:08 | INFO | train_inner | epoch 013:    615 / 1191 loss=1.736, trans_loss=3.249, nll_loss=1.326, w2v_ctc_loss=0.867, task_loss=1.622, contrastive_loss=0, total=6699.81, n_correct=4636.13, ppl=2.51, accuracy=69.198, wps=19081.2, ups=0.98, wpb=19409.7, bsz=653.9, num_updates=14900, lr=0.000115857, gnorm=0.299, clip=0, loss_scale=16, train_wall=101, gb_free=13.6, wall=15381
2023-08-26 03:30:51 | INFO | train_inner | epoch 013:    715 / 1191 loss=1.731, trans_loss=3.246, nll_loss=1.323, w2v_ctc_loss=0.859, task_loss=1.668, contrastive_loss=0, total=6624.1, n_correct=4591.66, ppl=2.5, accuracy=69.317, wps=18734.6, ups=0.98, wpb=19189.7, bsz=648.4, num_updates=15000, lr=0.00011547, gnorm=0.308, clip=0, loss_scale=16, train_wall=102, gb_free=13.8, wall=15484
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:0')
2023-08-26 03:32:03 | INFO | train_inner | epoch 013:    815 / 1191 loss=1.862, trans_loss=4.684, nll_loss=1.912, w2v_ctc_loss=0.616, task_loss=2.241, contrastive_loss=0, total=6763.02, n_correct=4689.57, ppl=3.76, accuracy=69.341, wps=18844.8, ups=1.39, wpb=13589.9, bsz=464.8, num_updates=15100, lr=0.000115087, gnorm=0.391, clip=0, loss_scale=16, train_wall=72, gb_free=15.1, wall=15556
2023-08-26 03:33:14 | INFO | train_inner | epoch 013:    915 / 1191 loss=1.875, trans_loss=4.705, nll_loss=1.92, w2v_ctc_loss=0.634, task_loss=2.598, contrastive_loss=0, total=6555.19, n_correct=4536.64, ppl=3.78, accuracy=69.207, wps=18388.7, ups=1.4, wpb=13110.4, bsz=420.7, num_updates=15200, lr=0.000114708, gnorm=0.408, clip=0, loss_scale=16, train_wall=71, gb_free=14.1, wall=15627
2023-08-26 03:34:26 | INFO | train_inner | epoch 013:   1015 / 1191 loss=1.863, trans_loss=4.702, nll_loss=1.916, w2v_ctc_loss=0.616, task_loss=2.223, contrastive_loss=0, total=6801.46, n_correct=4721.49, ppl=3.77, accuracy=69.419, wps=18797.4, ups=1.38, wpb=13602.9, bsz=469.9, num_updates=15300, lr=0.000114332, gnorm=0.397, clip=0, loss_scale=16, train_wall=72, gb_free=13.1, wall=15699
2023-08-26 03:35:38 | INFO | train_inner | epoch 013:   1115 / 1191 loss=1.87, trans_loss=4.705, nll_loss=1.92, w2v_ctc_loss=0.629, task_loss=2.276, contrastive_loss=0, total=6750.67, n_correct=4675.05, ppl=3.79, accuracy=69.253, wps=18810.2, ups=1.39, wpb=13501.3, bsz=463.9, num_updates=15400, lr=0.000113961, gnorm=0.393, clip=0, loss_scale=16, train_wall=71, gb_free=13.6, wall=15771
2023-08-26 03:36:33 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:4')
2023-08-26 03:37:05 | INFO | dev_st | epoch 013 | valid on 'dev_st' subset | loss 3.702 | trans_loss 4.918 | nll_loss 2.149 | w2v_ctc_loss 1.227 | task_loss 8.462 | contrastive_loss 0 | total 6138.43 | n_correct 4324.14 | ppl 4.44 | accuracy 70.444 | uer 17.471 | wer 19.208 | raw_wer 19.208 | bleu 27.89 | wps 1776.6 | wpb 6138.4 | bsz 201.1 | num_updates 15476 | best_bleu 28.14
2023-08-26 03:37:05 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 13 @ 15476 updates
2023-08-26 03:37:05 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_27.8908.pt
2023-08-26 03:37:07 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_27.8908.pt
2023-08-26 03:37:13 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_27.8908.pt (epoch 13 @ 15476 updates, score 27.89) (writing took 7.969138996999391 seconds)
2023-08-26 03:37:13 | INFO | fairseq_cli.train | end of epoch 13 (average epoch stats below)
2023-08-26 03:37:13 | INFO | train | epoch 013 | loss 1.772 | trans_loss 3.706 | nll_loss 1.511 | w2v_ctc_loss 0.781 | task_loss 1.807 | contrastive_loss 0 | total 6703.69 | n_correct 4646.59 | ppl 2.85 | accuracy 69.314 | wps 18116 | ups 1.06 | wpb 17017.3 | bsz 587.2 | num_updates 15476 | lr 0.00011368 | gnorm 0.338 | clip 0 | loss_scale 16 | train_wall 1064 | gb_free 9.7 | wall 15866
2023-08-26 03:37:13 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 03:37:13 | INFO | fairseq.trainer | begin training epoch 14
2023-08-26 03:37:13 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 03:37:38 | INFO | train_inner | epoch 014:     24 / 1191 loss=1.865, trans_loss=4.702, nll_loss=1.917, w2v_ctc_loss=0.621, task_loss=2.199, contrastive_loss=0, total=6729.82, n_correct=4669.55, ppl=3.78, accuracy=69.386, wps=11263.6, ups=0.84, wpb=13459.6, bsz=461.8, num_updates=15500, lr=0.000113592, gnorm=0.39, clip=0, loss_scale=16, train_wall=71, gb_free=14, wall=15891
2023-08-26 03:38:49 | INFO | train_inner | epoch 014:    124 / 1191 loss=1.858, trans_loss=4.687, nll_loss=1.896, w2v_ctc_loss=0.617, task_loss=2.3, contrastive_loss=0, total=6657.4, n_correct=4639.87, ppl=3.72, accuracy=69.695, wps=18742, ups=1.41, wpb=13314.8, bsz=451.3, num_updates=15600, lr=0.000113228, gnorm=0.403, clip=0, loss_scale=32, train_wall=70, gb_free=12.5, wall=15962
2023-08-26 03:40:00 | INFO | train_inner | epoch 014:    224 / 1191 loss=1.859, trans_loss=4.692, nll_loss=1.902, w2v_ctc_loss=0.614, task_loss=2.391, contrastive_loss=0, total=6643.26, n_correct=4621.89, ppl=3.74, accuracy=69.573, wps=18532.6, ups=1.39, wpb=13286.5, bsz=446.2, num_updates=15700, lr=0.000112867, gnorm=0.395, clip=0, loss_scale=32, train_wall=71, gb_free=10.7, wall=16033
2023-08-26 03:41:13 | INFO | train_inner | epoch 014:    324 / 1191 loss=1.857, trans_loss=4.686, nll_loss=1.896, w2v_ctc_loss=0.611, task_loss=2.375, contrastive_loss=0, total=6741.11, n_correct=4699.04, ppl=3.72, accuracy=69.707, wps=18531.3, ups=1.37, wpb=13482.2, bsz=451, num_updates=15800, lr=0.000112509, gnorm=0.396, clip=0, loss_scale=32, train_wall=72, gb_free=14.1, wall=16106
2023-08-26 03:42:26 | INFO | train_inner | epoch 014:    424 / 1191 loss=1.855, trans_loss=4.687, nll_loss=1.897, w2v_ctc_loss=0.612, task_loss=2.26, contrastive_loss=0, total=6791.79, n_correct=4736.04, ppl=3.72, accuracy=69.732, wps=18749.7, ups=1.38, wpb=13583.6, bsz=465.8, num_updates=15900, lr=0.000112154, gnorm=0.396, clip=0, loss_scale=32, train_wall=72, gb_free=13.5, wall=16179
2023-08-26 03:43:38 | INFO | train_inner | epoch 014:    524 / 1191 loss=1.855, trans_loss=4.683, nll_loss=1.891, w2v_ctc_loss=0.611, task_loss=2.288, contrastive_loss=0, total=6738.34, n_correct=4697.73, ppl=3.71, accuracy=69.716, wps=18745.8, ups=1.39, wpb=13476.7, bsz=461.7, num_updates=16000, lr=0.000111803, gnorm=0.389, clip=0, loss_scale=32, train_wall=71, gb_free=12.7, wall=16251
2023-08-26 03:43:38 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 03:44:10 | INFO | dev_st | epoch 014 | valid on 'dev_st' subset | loss 3.683 | trans_loss 4.916 | nll_loss 2.149 | w2v_ctc_loss 1.172 | task_loss 8.514 | contrastive_loss 0 | total 6138.43 | n_correct 4318.14 | ppl 4.44 | accuracy 70.346 | uer 17.57 | wer 19.271 | raw_wer 19.271 | bleu 28.15 | wps 1762.7 | wpb 6138.4 | bsz 201.1 | num_updates 16000 | best_bleu 28.15
2023-08-26 03:44:10 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 14 @ 16000 updates
2023-08-26 03:44:10 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_14_16000.pt
2023-08-26 03:44:11 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_14_16000.pt
2023-08-26 03:44:23 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_14_16000.pt (epoch 14 @ 16000 updates, score 28.15) (writing took 12.99830658800056 seconds)
2023-08-26 03:45:35 | INFO | train_inner | epoch 014:    624 / 1191 loss=1.858, trans_loss=4.689, nll_loss=1.899, w2v_ctc_loss=0.619, task_loss=2.285, contrastive_loss=0, total=6805.08, n_correct=4740.82, ppl=3.73, accuracy=69.666, wps=11586.9, ups=0.85, wpb=13610.2, bsz=464.5, num_updates=16100, lr=0.000111456, gnorm=0.391, clip=0, loss_scale=32, train_wall=71, gb_free=12.6, wall=16368
2023-08-26 03:46:47 | INFO | train_inner | epoch 014:    724 / 1191 loss=1.864, trans_loss=4.691, nll_loss=1.902, w2v_ctc_loss=0.624, task_loss=2.358, contrastive_loss=0, total=6701.94, n_correct=4658.95, ppl=3.74, accuracy=69.516, wps=18664.3, ups=1.39, wpb=13403.9, bsz=449.6, num_updates=16200, lr=0.000111111, gnorm=0.392, clip=0, loss_scale=32, train_wall=71, gb_free=12.2, wall=16440
2023-08-26 03:48:00 | INFO | train_inner | epoch 014:    824 / 1191 loss=1.86, trans_loss=4.691, nll_loss=1.903, w2v_ctc_loss=0.618, task_loss=2.382, contrastive_loss=0, total=6684.76, n_correct=4651.93, ppl=3.74, accuracy=69.59, wps=18364.4, ups=1.37, wpb=13369.5, bsz=456, num_updates=16300, lr=0.00011077, gnorm=0.401, clip=0, loss_scale=32, train_wall=72, gb_free=12, wall=16513
2023-08-26 03:49:12 | INFO | train_inner | epoch 014:    924 / 1191 loss=1.861, trans_loss=4.691, nll_loss=1.903, w2v_ctc_loss=0.622, task_loss=2.359, contrastive_loss=0, total=6657.21, n_correct=4638.32, ppl=3.74, accuracy=69.674, wps=18365.9, ups=1.38, wpb=13314.4, bsz=448.4, num_updates=16400, lr=0.000110432, gnorm=0.396, clip=0, loss_scale=32, train_wall=72, gb_free=13.5, wall=16585
2023-08-26 03:49:18 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-26 03:50:25 | INFO | train_inner | epoch 014:   1025 / 1191 loss=1.867, trans_loss=4.694, nll_loss=1.906, w2v_ctc_loss=0.629, task_loss=2.631, contrastive_loss=0, total=6565.97, n_correct=4565.62, ppl=3.75, accuracy=69.535, wps=17990.3, ups=1.37, wpb=13131.9, bsz=418.9, num_updates=16500, lr=0.000110096, gnorm=0.417, clip=0, loss_scale=16, train_wall=72, gb_free=13.9, wall=16658
2023-08-26 03:51:36 | INFO | train_inner | epoch 014:   1125 / 1191 loss=1.855, trans_loss=4.688, nll_loss=1.899, w2v_ctc_loss=0.615, task_loss=2.16, contrastive_loss=0, total=6806.29, n_correct=4749.87, ppl=3.73, accuracy=69.786, wps=19166.6, ups=1.41, wpb=13612.6, bsz=476.8, num_updates=16600, lr=0.000109764, gnorm=0.397, clip=0, loss_scale=16, train_wall=70, gb_free=13.3, wall=16729
2023-08-26 03:52:23 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 03:52:55 | INFO | dev_st | epoch 014 | valid on 'dev_st' subset | loss 3.682 | trans_loss 4.91 | nll_loss 2.139 | w2v_ctc_loss 1.18 | task_loss 8.485 | contrastive_loss 0 | total 6138.43 | n_correct 4335.43 | ppl 4.41 | accuracy 70.628 | uer 17.041 | wer 18.687 | raw_wer 18.687 | bleu 28.37 | wps 1768.8 | wpb 6138.4 | bsz 201.1 | num_updates 16666 | best_bleu 28.37
2023-08-26 03:52:55 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 14 @ 16666 updates
2023-08-26 03:52:55 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 03:53:02 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 03:53:07 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 14 @ 16666 updates, score 28.37) (writing took 11.76670177899723 seconds)
2023-08-26 03:53:08 | INFO | fairseq_cli.train | end of epoch 14 (average epoch stats below)
2023-08-26 03:53:08 | INFO | train | epoch 014 | loss 1.859 | trans_loss 4.689 | nll_loss 1.899 | w2v_ctc_loss 0.617 | task_loss 2.345 | contrastive_loss 0 | total 6704.86 | n_correct 4670.04 | ppl 3.73 | accuracy 69.652 | wps 16712.9 | ups 1.25 | wpb 13409.7 | bsz 452.3 | num_updates 16666 | lr 0.000109547 | gnorm 0.397 | clip 0 | loss_scale 16 | train_wall 850 | gb_free 14.4 | wall 16821
2023-08-26 03:53:08 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 03:53:08 | INFO | fairseq.trainer | begin training epoch 15
2023-08-26 03:53:08 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 03:53:40 | INFO | train_inner | epoch 015:     34 / 1191 loss=1.855, trans_loss=4.681, nll_loss=1.889, w2v_ctc_loss=0.614, task_loss=2.337, contrastive_loss=0, total=6697.04, n_correct=4671.75, ppl=3.7, accuracy=69.758, wps=10837.6, ups=0.81, wpb=13394.1, bsz=449.8, num_updates=16700, lr=0.000109435, gnorm=0.4, clip=0, loss_scale=16, train_wall=71, gb_free=10.4, wall=16853
2023-08-26 03:54:52 | INFO | train_inner | epoch 015:    134 / 1191 loss=1.849, trans_loss=4.674, nll_loss=1.881, w2v_ctc_loss=0.609, task_loss=2.29, contrastive_loss=0, total=6739.18, n_correct=4717.97, ppl=3.68, accuracy=70.008, wps=18750.9, ups=1.39, wpb=13478.4, bsz=457.1, num_updates=16800, lr=0.000109109, gnorm=0.39, clip=0, loss_scale=16, train_wall=71, gb_free=10.3, wall=16925
2023-08-26 03:56:03 | INFO | train_inner | epoch 015:    234 / 1191 loss=1.846, trans_loss=4.669, nll_loss=1.873, w2v_ctc_loss=0.605, task_loss=2.353, contrastive_loss=0, total=6688.79, n_correct=4691.67, ppl=3.66, accuracy=70.142, wps=18674.8, ups=1.4, wpb=13377.6, bsz=447.4, num_updates=16900, lr=0.000108786, gnorm=0.39, clip=0, loss_scale=16, train_wall=71, gb_free=12.7, wall=16996
2023-08-26 03:57:15 | INFO | train_inner | epoch 015:    334 / 1191 loss=1.845, trans_loss=4.665, nll_loss=1.869, w2v_ctc_loss=0.606, task_loss=2.34, contrastive_loss=0, total=6673.73, n_correct=4683.77, ppl=3.65, accuracy=70.182, wps=18644.3, ups=1.4, wpb=13347.5, bsz=448.7, num_updates=17000, lr=0.000108465, gnorm=0.398, clip=0, loss_scale=16, train_wall=71, gb_free=12.1, wall=17068
2023-08-26 03:58:27 | INFO | train_inner | epoch 015:    434 / 1191 loss=1.854, trans_loss=4.681, nll_loss=1.89, w2v_ctc_loss=0.614, task_loss=2.383, contrastive_loss=0, total=6726.63, n_correct=4695.88, ppl=3.71, accuracy=69.81, wps=18754.5, ups=1.39, wpb=13453.3, bsz=455.2, num_updates=17100, lr=0.000108148, gnorm=0.416, clip=0, loss_scale=16, train_wall=71, gb_free=13.7, wall=17140
2023-08-26 03:59:38 | INFO | train_inner | epoch 015:    534 / 1191 loss=1.85, trans_loss=4.672, nll_loss=1.879, w2v_ctc_loss=0.614, task_loss=2.321, contrastive_loss=0, total=6705.59, n_correct=4692.62, ppl=3.68, accuracy=69.981, wps=18739.4, ups=1.4, wpb=13411.2, bsz=461.1, num_updates=17200, lr=0.000107833, gnorm=0.396, clip=0, loss_scale=16, train_wall=71, gb_free=13.3, wall=17211
2023-08-26 04:00:50 | INFO | train_inner | epoch 015:    634 / 1191 loss=1.858, trans_loss=4.677, nll_loss=1.883, w2v_ctc_loss=0.62, task_loss=2.671, contrastive_loss=0, total=6595.1, n_correct=4608.56, ppl=3.69, accuracy=69.879, wps=18357.5, ups=1.39, wpb=13190.2, bsz=409.9, num_updates=17300, lr=0.000107521, gnorm=0.401, clip=0, loss_scale=16, train_wall=71, gb_free=11.7, wall=17283
2023-08-26 04:02:02 | INFO | train_inner | epoch 015:    734 / 1191 loss=1.849, trans_loss=4.673, nll_loss=1.879, w2v_ctc_loss=0.61, task_loss=2.371, contrastive_loss=0, total=6640.82, n_correct=4646.87, ppl=3.68, accuracy=69.974, wps=18424.1, ups=1.39, wpb=13281.6, bsz=453.9, num_updates=17400, lr=0.000107211, gnorm=0.393, clip=0, loss_scale=16, train_wall=72, gb_free=14.4, wall=17355
2023-08-26 04:03:14 | INFO | train_inner | epoch 015:    834 / 1191 loss=1.851, trans_loss=4.674, nll_loss=1.881, w2v_ctc_loss=0.614, task_loss=2.331, contrastive_loss=0, total=6727.33, n_correct=4708.97, ppl=3.68, accuracy=69.998, wps=18655.8, ups=1.39, wpb=13454.7, bsz=449.3, num_updates=17500, lr=0.000106904, gnorm=0.391, clip=0, loss_scale=16, train_wall=72, gb_free=13.5, wall=17427
2023-08-26 04:04:27 | INFO | train_inner | epoch 015:    934 / 1191 loss=1.842, trans_loss=4.671, nll_loss=1.877, w2v_ctc_loss=0.599, task_loss=2.254, contrastive_loss=0, total=6736.99, n_correct=4724.43, ppl=3.67, accuracy=70.127, wps=18583.6, ups=1.38, wpb=13474, bsz=469.3, num_updates=17600, lr=0.0001066, gnorm=0.388, clip=0, loss_scale=16, train_wall=72, gb_free=12.8, wall=17500
2023-08-26 04:05:39 | INFO | train_inner | epoch 015:   1034 / 1191 loss=1.848, trans_loss=4.674, nll_loss=1.881, w2v_ctc_loss=0.609, task_loss=2.297, contrastive_loss=0, total=6724.38, n_correct=4710.34, ppl=3.68, accuracy=70.049, wps=18687.6, ups=1.39, wpb=13448.8, bsz=459.4, num_updates=17700, lr=0.000106299, gnorm=0.396, clip=0, loss_scale=16, train_wall=71, gb_free=10.4, wall=17572
2023-08-26 04:06:51 | INFO | train_inner | epoch 015:   1134 / 1191 loss=1.852, trans_loss=4.678, nll_loss=1.886, w2v_ctc_loss=0.611, task_loss=2.393, contrastive_loss=0, total=6747.19, n_correct=4717.55, ppl=3.7, accuracy=69.919, wps=18626.2, ups=1.38, wpb=13494.4, bsz=445.6, num_updates=17800, lr=0.000106, gnorm=0.392, clip=0, loss_scale=16, train_wall=72, gb_free=13.7, wall=17644
2023-08-26 04:07:32 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 04:08:04 | INFO | dev_st | epoch 015 | valid on 'dev_st' subset | loss 3.686 | trans_loss 4.906 | nll_loss 2.135 | w2v_ctc_loss 1.202 | task_loss 8.491 | contrastive_loss 0 | total 6138.43 | n_correct 4325.86 | ppl 4.39 | accuracy 70.472 | uer 17.592 | wer 19.264 | raw_wer 19.264 | bleu 28.01 | wps 1775.8 | wpb 6138.4 | bsz 201.1 | num_updates 17857 | best_bleu 28.37
2023-08-26 04:08:04 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 15 @ 17857 updates
2023-08-26 04:08:04 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.0105.pt
2023-08-26 04:08:07 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.0105.pt
2023-08-26 04:08:11 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.0105.pt (epoch 15 @ 17857 updates, score 28.01) (writing took 6.642041431001417 seconds)
2023-08-26 04:08:12 | INFO | fairseq_cli.train | end of epoch 15 (average epoch stats below)
2023-08-26 04:08:12 | INFO | train | epoch 015 | loss 1.849 | trans_loss 4.673 | nll_loss 1.88 | w2v_ctc_loss 0.61 | task_loss 2.349 | contrastive_loss 0 | total 6703.69 | n_correct 4693.08 | ppl 3.68 | accuracy 70.007 | wps 17670.1 | ups 1.32 | wpb 13407.4 | bsz 452.1 | num_updates 17857 | lr 0.00010583 | gnorm 0.395 | clip 0 | loss_scale 16 | train_wall 850 | gb_free 11.4 | wall 17725
2023-08-26 04:08:12 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 04:08:12 | INFO | fairseq.trainer | begin training epoch 16
2023-08-26 04:08:12 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 04:08:49 | INFO | train_inner | epoch 016:     43 / 1191 loss=1.843, trans_loss=4.668, nll_loss=1.873, w2v_ctc_loss=0.599, task_loss=2.309, contrastive_loss=0, total=6671.04, n_correct=4679.03, ppl=3.66, accuracy=70.139, wps=11279, ups=0.85, wpb=13342.1, bsz=452, num_updates=17900, lr=0.000105703, gnorm=0.386, clip=0, loss_scale=16, train_wall=71, gb_free=13, wall=17763
2023-08-26 04:10:02 | INFO | train_inner | epoch 016:    143 / 1191 loss=1.836, trans_loss=4.654, nll_loss=1.855, w2v_ctc_loss=0.595, task_loss=2.395, contrastive_loss=0, total=6727.55, n_correct=4746.62, ppl=3.62, accuracy=70.555, wps=18652.6, ups=1.39, wpb=13455.1, bsz=447.6, num_updates=18000, lr=0.000105409, gnorm=0.387, clip=0, loss_scale=16, train_wall=72, gb_free=14.3, wall=17835
2023-08-26 04:10:02 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 04:10:34 | INFO | dev_st | epoch 016 | valid on 'dev_st' subset | loss 3.677 | trans_loss 4.909 | nll_loss 2.135 | w2v_ctc_loss 1.165 | task_loss 8.53 | contrastive_loss 0 | total 6138.43 | n_correct 4336.57 | ppl 4.39 | accuracy 70.646 | uer 17.263 | wer 19.085 | raw_wer 19.085 | bleu 28.25 | wps 1770.9 | wpb 6138.4 | bsz 201.1 | num_updates 18000 | best_bleu 28.37
2023-08-26 04:10:34 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 16 @ 18000 updates
2023-08-26 04:10:34 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_16_18000.pt
2023-08-26 04:10:35 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_16_18000.pt
2023-08-26 04:10:40 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_16_18000.pt (epoch 16 @ 18000 updates, score 28.25) (writing took 6.706034033999458 seconds)
2023-08-26 04:11:53 | INFO | train_inner | epoch 016:    243 / 1191 loss=1.839, trans_loss=4.659, nll_loss=1.86, w2v_ctc_loss=0.597, task_loss=2.422, contrastive_loss=0, total=6703.68, n_correct=4710.65, ppl=3.63, accuracy=70.27, wps=12076.6, ups=0.9, wpb=13407.4, bsz=441.7, num_updates=18100, lr=0.000105118, gnorm=0.39, clip=0, loss_scale=16, train_wall=71, gb_free=11.1, wall=17946
2023-08-26 04:13:04 | INFO | train_inner | epoch 016:    343 / 1191 loss=1.84, trans_loss=4.664, nll_loss=1.868, w2v_ctc_loss=0.6, task_loss=2.266, contrastive_loss=0, total=6757.96, n_correct=4752.23, ppl=3.65, accuracy=70.32, wps=18970.8, ups=1.4, wpb=13515.9, bsz=459.6, num_updates=18200, lr=0.000104828, gnorm=0.392, clip=0, loss_scale=16, train_wall=71, gb_free=5.3, wall=18017
2023-08-26 04:14:15 | INFO | train_inner | epoch 016:    443 / 1191 loss=1.839, trans_loss=4.66, nll_loss=1.863, w2v_ctc_loss=0.601, task_loss=2.352, contrastive_loss=0, total=6672.75, n_correct=4695.45, ppl=3.64, accuracy=70.368, wps=18663.1, ups=1.4, wpb=13345.5, bsz=447.8, num_updates=18300, lr=0.000104542, gnorm=0.393, clip=0, loss_scale=16, train_wall=71, gb_free=13.3, wall=18088
2023-08-26 04:15:27 | INFO | train_inner | epoch 016:    543 / 1191 loss=1.838, trans_loss=4.655, nll_loss=1.857, w2v_ctc_loss=0.601, task_loss=2.353, contrastive_loss=0, total=6701.81, n_correct=4719.63, ppl=3.62, accuracy=70.423, wps=18597, ups=1.39, wpb=13403.6, bsz=450.1, num_updates=18400, lr=0.000104257, gnorm=0.393, clip=0, loss_scale=16, train_wall=72, gb_free=13.8, wall=18161
2023-08-26 04:16:40 | INFO | train_inner | epoch 016:    643 / 1191 loss=1.842, trans_loss=4.662, nll_loss=1.865, w2v_ctc_loss=0.606, task_loss=2.376, contrastive_loss=0, total=6700.81, n_correct=4709.82, ppl=3.64, accuracy=70.287, wps=18412.1, ups=1.37, wpb=13401.6, bsz=454.6, num_updates=18500, lr=0.000103975, gnorm=0.393, clip=0, loss_scale=32, train_wall=72, gb_free=13.2, wall=18233
2023-08-26 04:17:52 | INFO | train_inner | epoch 016:    743 / 1191 loss=1.84, trans_loss=4.654, nll_loss=1.856, w2v_ctc_loss=0.606, task_loss=2.391, contrastive_loss=0, total=6649.19, n_correct=4678.22, ppl=3.62, accuracy=70.358, wps=18609.8, ups=1.4, wpb=13298.4, bsz=447.1, num_updates=18600, lr=0.000103695, gnorm=0.397, clip=0, loss_scale=32, train_wall=71, gb_free=14, wall=18305
2023-08-26 04:19:04 | INFO | train_inner | epoch 016:    843 / 1191 loss=1.845, trans_loss=4.664, nll_loss=1.868, w2v_ctc_loss=0.61, task_loss=2.475, contrastive_loss=0, total=6691.36, n_correct=4697.05, ppl=3.65, accuracy=70.196, wps=18572.1, ups=1.39, wpb=13382.7, bsz=437.7, num_updates=18700, lr=0.000103418, gnorm=0.387, clip=0, loss_scale=32, train_wall=71, gb_free=14.7, wall=18377
2023-08-26 04:20:16 | INFO | train_inner | epoch 016:    943 / 1191 loss=1.837, trans_loss=4.662, nll_loss=1.866, w2v_ctc_loss=0.596, task_loss=2.237, contrastive_loss=0, total=6750.81, n_correct=4746.5, ppl=3.64, accuracy=70.31, wps=18727.3, ups=1.39, wpb=13501.6, bsz=470.2, num_updates=18800, lr=0.000103142, gnorm=0.397, clip=0, loss_scale=32, train_wall=72, gb_free=13.6, wall=18449
2023-08-26 04:21:28 | INFO | train_inner | epoch 016:   1043 / 1191 loss=1.839, trans_loss=4.657, nll_loss=1.859, w2v_ctc_loss=0.604, task_loss=2.343, contrastive_loss=0, total=6681, n_correct=4700.04, ppl=3.63, accuracy=70.349, wps=18500.9, ups=1.38, wpb=13362, bsz=456.4, num_updates=18900, lr=0.000102869, gnorm=0.392, clip=0, loss_scale=32, train_wall=72, gb_free=13.9, wall=18521
2023-08-26 04:22:41 | INFO | train_inner | epoch 016:   1143 / 1191 loss=1.841, trans_loss=4.666, nll_loss=1.871, w2v_ctc_loss=0.607, task_loss=2.218, contrastive_loss=0, total=6789.48, n_correct=4770.84, ppl=3.66, accuracy=70.268, wps=18710.1, ups=1.38, wpb=13579, bsz=477.2, num_updates=19000, lr=0.000102598, gnorm=0.406, clip=0, loss_scale=32, train_wall=72, gb_free=13.8, wall=18594
2023-08-26 04:23:15 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 04:23:47 | INFO | dev_st | epoch 016 | valid on 'dev_st' subset | loss 3.691 | trans_loss 4.906 | nll_loss 2.136 | w2v_ctc_loss 1.217 | task_loss 8.53 | contrastive_loss 0 | total 6138.43 | n_correct 4337.86 | ppl 4.39 | accuracy 70.667 | uer 17.573 | wer 19.334 | raw_wer 19.334 | bleu 28.31 | wps 1757.5 | wpb 6138.4 | bsz 201.1 | num_updates 19048 | best_bleu 28.37
2023-08-26 04:23:47 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 16 @ 19048 updates
2023-08-26 04:23:47 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.3106.pt
2023-08-26 04:23:50 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.3106.pt
2023-08-26 04:23:55 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.3106.pt (epoch 16 @ 19048 updates, score 28.31) (writing took 7.851686338999571 seconds)
2023-08-26 04:23:55 | INFO | fairseq_cli.train | end of epoch 16 (average epoch stats below)
2023-08-26 04:23:55 | INFO | train | epoch 016 | loss 1.84 | trans_loss 4.659 | nll_loss 1.862 | w2v_ctc_loss 0.602 | task_loss 2.351 | contrastive_loss 0 | total 6703.69 | n_correct 4715.32 | ppl 3.63 | accuracy 70.339 | wps 16918 | ups 1.26 | wpb 13407.4 | bsz 452.1 | num_updates 19048 | lr 0.000102468 | gnorm 0.393 | clip 0 | loss_scale 32 | train_wall 850 | gb_free 13.6 | wall 18668
2023-08-26 04:23:56 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 04:23:56 | INFO | fairseq.trainer | begin training epoch 17
2023-08-26 04:23:56 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 04:24:40 | INFO | train_inner | epoch 017:     52 / 1191 loss=1.836, trans_loss=4.654, nll_loss=1.855, w2v_ctc_loss=0.596, task_loss=2.444, contrastive_loss=0, total=6599.52, n_correct=4648.86, ppl=3.62, accuracy=70.442, wps=11020.8, ups=0.83, wpb=13199, bsz=435.7, num_updates=19100, lr=0.000102329, gnorm=0.391, clip=0, loss_scale=32, train_wall=71, gb_free=11, wall=18714
2023-08-26 04:25:52 | INFO | train_inner | epoch 017:    152 / 1191 loss=1.834, trans_loss=4.648, nll_loss=1.847, w2v_ctc_loss=0.599, task_loss=2.375, contrastive_loss=0, total=6693.81, n_correct=4720.87, ppl=3.6, accuracy=70.526, wps=18651.1, ups=1.39, wpb=13387.6, bsz=451.2, num_updates=19200, lr=0.000102062, gnorm=0.39, clip=0, loss_scale=32, train_wall=71, gb_free=10.9, wall=18785
2023-08-26 04:27:05 | INFO | train_inner | epoch 017:    252 / 1191 loss=1.825, trans_loss=4.638, nll_loss=1.835, w2v_ctc_loss=0.592, task_loss=2.212, contrastive_loss=0, total=6833.29, n_correct=4842, ppl=3.57, accuracy=70.859, wps=18876, ups=1.38, wpb=13666.6, bsz=477, num_updates=19300, lr=0.000101797, gnorm=0.384, clip=0, loss_scale=32, train_wall=72, gb_free=14.5, wall=18858
2023-08-26 04:28:17 | INFO | train_inner | epoch 017:    352 / 1191 loss=1.834, trans_loss=4.648, nll_loss=1.847, w2v_ctc_loss=0.598, task_loss=2.422, contrastive_loss=0, total=6631.52, n_correct=4680.52, ppl=3.6, accuracy=70.58, wps=18409.8, ups=1.39, wpb=13263, bsz=440.3, num_updates=19400, lr=0.000101535, gnorm=0.391, clip=0, loss_scale=32, train_wall=71, gb_free=14, wall=18930
2023-08-26 04:29:28 | INFO | train_inner | epoch 017:    452 / 1191 loss=1.835, trans_loss=4.65, nll_loss=1.85, w2v_ctc_loss=0.599, task_loss=2.385, contrastive_loss=0, total=6704.92, n_correct=4730.38, ppl=3.6, accuracy=70.551, wps=18765.4, ups=1.4, wpb=13409.8, bsz=445.6, num_updates=19500, lr=0.000101274, gnorm=0.392, clip=0, loss_scale=32, train_wall=71, gb_free=11.3, wall=19001
2023-08-26 04:30:40 | INFO | train_inner | epoch 017:    552 / 1191 loss=1.836, trans_loss=4.656, nll_loss=1.857, w2v_ctc_loss=0.595, task_loss=2.362, contrastive_loss=0, total=6695.99, n_correct=4718.3, ppl=3.62, accuracy=70.465, wps=18625.8, ups=1.39, wpb=13392, bsz=443.8, num_updates=19600, lr=0.000101015, gnorm=0.39, clip=0, loss_scale=32, train_wall=71, gb_free=12.1, wall=19073
2023-08-26 04:31:51 | INFO | train_inner | epoch 017:    652 / 1191 loss=1.831, trans_loss=4.647, nll_loss=1.846, w2v_ctc_loss=0.595, task_loss=2.306, contrastive_loss=0, total=6695.44, n_correct=4728.74, ppl=3.6, accuracy=70.626, wps=18793.6, ups=1.4, wpb=13390.9, bsz=458.7, num_updates=19700, lr=0.000100759, gnorm=0.383, clip=0, loss_scale=32, train_wall=71, gb_free=11.2, wall=19144
2023-08-26 04:33:03 | INFO | train_inner | epoch 017:    752 / 1191 loss=1.837, trans_loss=4.652, nll_loss=1.852, w2v_ctc_loss=0.601, task_loss=2.463, contrastive_loss=0, total=6643.43, n_correct=4680.93, ppl=3.61, accuracy=70.46, wps=18445.5, ups=1.39, wpb=13286.9, bsz=431.7, num_updates=19800, lr=0.000100504, gnorm=0.389, clip=0, loss_scale=32, train_wall=72, gb_free=13.1, wall=19216
2023-08-26 04:34:16 | INFO | train_inner | epoch 017:    852 / 1191 loss=1.837, trans_loss=4.651, nll_loss=1.851, w2v_ctc_loss=0.601, task_loss=2.538, contrastive_loss=0, total=6602.47, n_correct=4656.86, ppl=3.61, accuracy=70.532, wps=18305.5, ups=1.39, wpb=13204.9, bsz=433.8, num_updates=19900, lr=0.000100251, gnorm=0.395, clip=0, loss_scale=32, train_wall=72, gb_free=14.4, wall=19289
2023-08-26 04:35:28 | INFO | train_inner | epoch 017:    952 / 1191 loss=1.82, trans_loss=4.641, nll_loss=1.84, w2v_ctc_loss=0.579, task_loss=2.05, contrastive_loss=0, total=6831.34, n_correct=4834.35, ppl=3.58, accuracy=70.767, wps=18914, ups=1.38, wpb=13662.7, bsz=498.8, num_updates=20000, lr=0.0001, gnorm=0.381, clip=0, loss_scale=32, train_wall=72, gb_free=13.3, wall=19361
2023-08-26 04:35:28 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 04:36:00 | INFO | dev_st | epoch 017 | valid on 'dev_st' subset | loss 3.687 | trans_loss 4.896 | nll_loss 2.12 | w2v_ctc_loss 1.229 | task_loss 8.48 | contrastive_loss 0 | total 6138.43 | n_correct 4345.43 | ppl 4.35 | accuracy 70.791 | uer 17.164 | wer 18.795 | raw_wer 18.795 | bleu 28.34 | wps 1761.4 | wpb 6138.4 | bsz 201.1 | num_updates 20000 | best_bleu 28.37
2023-08-26 04:36:00 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 17 @ 20000 updates
2023-08-26 04:36:00 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_17_20000.pt
2023-08-26 04:36:02 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_17_20000.pt
2023-08-26 04:36:08 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_17_20000.pt (epoch 17 @ 20000 updates, score 28.34) (writing took 7.901858807999815 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:0')
2023-08-26 04:37:20 | INFO | train_inner | epoch 017:   1052 / 1191 loss=1.828, trans_loss=4.642, nll_loss=1.84, w2v_ctc_loss=0.59, task_loss=2.402, contrastive_loss=0, total=6644.55, n_correct=4701.67, ppl=3.58, accuracy=70.76, wps=11814.7, ups=0.89, wpb=13289.1, bsz=441.6, num_updates=20100, lr=9.97509e-05, gnorm=0.386, clip=0, loss_scale=32, train_wall=71, gb_free=13.8, wall=19473
2023-08-26 04:38:32 | INFO | train_inner | epoch 017:   1152 / 1191 loss=1.828, trans_loss=4.641, nll_loss=1.839, w2v_ctc_loss=0.593, task_loss=2.335, contrastive_loss=0, total=6758.32, n_correct=4783.2, ppl=3.58, accuracy=70.775, wps=18945.6, ups=1.4, wpb=13516.6, bsz=452.3, num_updates=20200, lr=9.95037e-05, gnorm=0.39, clip=0, loss_scale=32, train_wall=71, gb_free=14.9, wall=19545
2023-08-26 04:39:00 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:4')
2023-08-26 04:39:32 | INFO | dev_st | epoch 017 | valid on 'dev_st' subset | loss 3.667 | trans_loss 4.891 | nll_loss 2.118 | w2v_ctc_loss 1.172 | task_loss 8.51 | contrastive_loss 0 | total 6138.43 | n_correct 4349.57 | ppl 4.34 | accuracy 70.858 | uer 16.875 | wer 18.639 | raw_wer 18.639 | bleu 28.56 | wps 1768 | wpb 6138.4 | bsz 201.1 | num_updates 20239 | best_bleu 28.56
2023-08-26 04:39:32 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 17 @ 20239 updates
2023-08-26 04:39:32 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 04:39:38 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 04:39:45 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 17 @ 20239 updates, score 28.56) (writing took 12.461378624997451 seconds)
2023-08-26 04:39:45 | INFO | fairseq_cli.train | end of epoch 17 (average epoch stats below)
2023-08-26 04:39:45 | INFO | train | epoch 017 | loss 1.831 | trans_loss 4.647 | nll_loss 1.846 | w2v_ctc_loss 0.595 | task_loss 2.347 | contrastive_loss 0 | total 6703.69 | n_correct 4734.58 | ppl 3.6 | accuracy 70.626 | wps 16812.8 | ups 1.25 | wpb 13407.4 | bsz 452.1 | num_updates 20239 | lr 9.94078e-05 | gnorm 0.388 | clip 0 | loss_scale 32 | train_wall 849 | gb_free 14 | wall 19618
2023-08-26 04:39:45 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 04:39:45 | INFO | fairseq.trainer | begin training epoch 18
2023-08-26 04:39:45 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 04:40:36 | INFO | train_inner | epoch 018:     61 / 1191 loss=1.818, trans_loss=4.63, nll_loss=1.825, w2v_ctc_loss=0.578, task_loss=2.262, contrastive_loss=0, total=6791.1, n_correct=4824.21, ppl=3.54, accuracy=71.037, wps=10928.6, ups=0.8, wpb=13582.2, bsz=462.8, num_updates=20300, lr=9.92583e-05, gnorm=0.381, clip=0, loss_scale=32, train_wall=71, gb_free=13.4, wall=19669
2023-08-26 04:41:49 | INFO | train_inner | epoch 018:    161 / 1191 loss=1.828, trans_loss=4.638, nll_loss=1.835, w2v_ctc_loss=0.59, task_loss=2.565, contrastive_loss=0, total=6674.72, n_correct=4725.79, ppl=3.57, accuracy=70.801, wps=18340.9, ups=1.37, wpb=13349.4, bsz=428.3, num_updates=20400, lr=9.90148e-05, gnorm=0.394, clip=0, loss_scale=32, train_wall=72, gb_free=11.8, wall=19742
2023-08-26 04:43:01 | INFO | train_inner | epoch 018:    261 / 1191 loss=1.825, trans_loss=4.638, nll_loss=1.834, w2v_ctc_loss=0.588, task_loss=2.407, contrastive_loss=0, total=6591.83, n_correct=4671.11, ppl=3.57, accuracy=70.862, wps=18338.2, ups=1.39, wpb=13183.7, bsz=442.9, num_updates=20500, lr=9.8773e-05, gnorm=0.388, clip=0, loss_scale=32, train_wall=71, gb_free=14.3, wall=19814
2023-08-26 04:44:12 | INFO | train_inner | epoch 018:    361 / 1191 loss=1.823, trans_loss=4.634, nll_loss=1.831, w2v_ctc_loss=0.587, task_loss=2.321, contrastive_loss=0, total=6730.64, n_correct=4772.63, ppl=3.56, accuracy=70.909, wps=18728.3, ups=1.39, wpb=13461.3, bsz=460, num_updates=20600, lr=9.85329e-05, gnorm=0.387, clip=0, loss_scale=64, train_wall=71, gb_free=13.1, wall=19885
2023-08-26 04:44:58 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 32.0
2023-08-26 04:45:25 | INFO | train_inner | epoch 018:    462 / 1191 loss=1.822, trans_loss=4.637, nll_loss=1.834, w2v_ctc_loss=0.584, task_loss=2.309, contrastive_loss=0, total=6716.09, n_correct=4762.31, ppl=3.57, accuracy=70.909, wps=18615.4, ups=1.39, wpb=13432.2, bsz=456.8, num_updates=20700, lr=9.82946e-05, gnorm=0.386, clip=0, loss_scale=32, train_wall=72, gb_free=13.8, wall=19958
2023-08-26 04:46:36 | INFO | train_inner | epoch 018:    562 / 1191 loss=1.821, trans_loss=4.634, nll_loss=1.83, w2v_ctc_loss=0.585, task_loss=2.185, contrastive_loss=0, total=6819.92, n_correct=4843.69, ppl=3.56, accuracy=71.023, wps=19025.6, ups=1.39, wpb=13639.8, bsz=475.9, num_updates=20800, lr=9.80581e-05, gnorm=0.381, clip=0, loss_scale=32, train_wall=71, gb_free=11.8, wall=20029
2023-08-26 04:47:47 | INFO | train_inner | epoch 018:    662 / 1191 loss=1.823, trans_loss=4.632, nll_loss=1.827, w2v_ctc_loss=0.584, task_loss=2.494, contrastive_loss=0, total=6575.74, n_correct=4662.55, ppl=3.55, accuracy=70.905, wps=18523, ups=1.41, wpb=13151.5, bsz=431, num_updates=20900, lr=9.78232e-05, gnorm=0.394, clip=0, loss_scale=32, train_wall=70, gb_free=13.5, wall=20100
2023-08-26 04:49:00 | INFO | train_inner | epoch 018:    762 / 1191 loss=1.825, trans_loss=4.639, nll_loss=1.837, w2v_ctc_loss=0.592, task_loss=2.256, contrastive_loss=0, total=6831.22, n_correct=4841.16, ppl=3.57, accuracy=70.868, wps=18808.3, ups=1.38, wpb=13662.4, bsz=469.7, num_updates=21000, lr=9.759e-05, gnorm=0.387, clip=0, loss_scale=32, train_wall=72, gb_free=12.3, wall=20173
2023-08-26 04:50:12 | INFO | train_inner | epoch 018:    862 / 1191 loss=1.827, trans_loss=4.64, nll_loss=1.837, w2v_ctc_loss=0.591, task_loss=2.344, contrastive_loss=0, total=6718.12, n_correct=4753.29, ppl=3.57, accuracy=70.753, wps=18599.7, ups=1.38, wpb=13436.2, bsz=454.2, num_updates=21100, lr=9.73585e-05, gnorm=0.397, clip=0, loss_scale=32, train_wall=72, gb_free=13.5, wall=20245
2023-08-26 04:51:23 | INFO | train_inner | epoch 018:    962 / 1191 loss=1.824, trans_loss=4.632, nll_loss=1.828, w2v_ctc_loss=0.594, task_loss=2.295, contrastive_loss=0, total=6705.9, n_correct=4756.67, ppl=3.55, accuracy=70.933, wps=18810.5, ups=1.4, wpb=13411.8, bsz=452.4, num_updates=21200, lr=9.71286e-05, gnorm=0.387, clip=0, loss_scale=32, train_wall=71, gb_free=14.3, wall=20317
2023-08-26 04:52:34 | INFO | train_inner | epoch 018:   1062 / 1191 loss=1.829, trans_loss=4.639, nll_loss=1.836, w2v_ctc_loss=0.596, task_loss=2.453, contrastive_loss=0, total=6588.48, n_correct=4663.8, ppl=3.57, accuracy=70.787, wps=18570.2, ups=1.41, wpb=13177, bsz=435.7, num_updates=21300, lr=9.69003e-05, gnorm=0.392, clip=0, loss_scale=32, train_wall=70, gb_free=8.5, wall=20387
2023-08-26 04:53:47 | INFO | train_inner | epoch 018:   1162 / 1191 loss=1.824, trans_loss=4.636, nll_loss=1.833, w2v_ctc_loss=0.591, task_loss=2.305, contrastive_loss=0, total=6762.37, n_correct=4788.46, ppl=3.56, accuracy=70.81, wps=18688.7, ups=1.38, wpb=13524.7, bsz=464.9, num_updates=21400, lr=9.66736e-05, gnorm=0.389, clip=0, loss_scale=32, train_wall=72, gb_free=15.1, wall=20460
2023-08-26 04:54:07 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 04:54:39 | INFO | dev_st | epoch 018 | valid on 'dev_st' subset | loss 3.67 | trans_loss 4.893 | nll_loss 2.116 | w2v_ctc_loss 1.178 | task_loss 8.489 | contrastive_loss 0 | total 6138.43 | n_correct 4361.57 | ppl 4.34 | accuracy 71.054 | uer 17.292 | wer 18.977 | raw_wer 18.977 | bleu 28.54 | wps 1769.4 | wpb 6138.4 | bsz 201.1 | num_updates 21429 | best_bleu 28.56
2023-08-26 04:54:39 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 18 @ 21429 updates
2023-08-26 04:54:39 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.5407.pt
2023-08-26 04:54:42 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.5407.pt
2023-08-26 04:54:46 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.5407.pt (epoch 18 @ 21429 updates, score 28.54) (writing took 6.818980398002168 seconds)
2023-08-26 04:54:46 | INFO | fairseq_cli.train | end of epoch 18 (average epoch stats below)
2023-08-26 04:54:46 | INFO | train | epoch 018 | loss 1.824 | trans_loss 4.635 | nll_loss 1.832 | w2v_ctc_loss 0.588 | task_loss 2.347 | contrastive_loss 0 | total 6703.46 | n_correct 4752.82 | ppl 3.56 | accuracy 70.901 | wps 17701.1 | ups 1.32 | wpb 13406.9 | bsz 452.2 | num_updates 21429 | lr 9.66082e-05 | gnorm 0.389 | clip 0 | loss_scale 32 | train_wall 848 | gb_free 13.8 | wall 20520
2023-08-26 04:54:47 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 04:54:47 | INFO | fairseq.trainer | begin training epoch 19
2023-08-26 04:54:47 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 04:55:45 | INFO | train_inner | epoch 019:     71 / 1191 loss=1.817, trans_loss=4.624, nll_loss=1.817, w2v_ctc_loss=0.578, task_loss=2.508, contrastive_loss=0, total=6584.81, n_correct=4687.48, ppl=3.52, accuracy=71.186, wps=11110.9, ups=0.84, wpb=13169.6, bsz=425.5, num_updates=21500, lr=9.64486e-05, gnorm=0.39, clip=0, loss_scale=32, train_wall=71, gb_free=13.1, wall=20578
2023-08-26 04:56:57 | INFO | train_inner | epoch 019:    171 / 1191 loss=1.812, trans_loss=4.618, nll_loss=1.809, w2v_ctc_loss=0.575, task_loss=2.372, contrastive_loss=0, total=6686.09, n_correct=4767.93, ppl=3.5, accuracy=71.311, wps=18771.3, ups=1.4, wpb=13372.2, bsz=446.8, num_updates=21600, lr=9.6225e-05, gnorm=0.388, clip=0, loss_scale=32, train_wall=71, gb_free=13, wall=20650
2023-08-26 04:58:09 | INFO | train_inner | epoch 019:    271 / 1191 loss=1.811, trans_loss=4.617, nll_loss=1.808, w2v_ctc_loss=0.575, task_loss=2.225, contrastive_loss=0, total=6770.02, n_correct=4824.42, ppl=3.5, accuracy=71.262, wps=18684.5, ups=1.38, wpb=13540, bsz=465.5, num_updates=21700, lr=9.60031e-05, gnorm=0.384, clip=0, loss_scale=32, train_wall=72, gb_free=14.1, wall=20722
2023-08-26 04:59:20 | INFO | train_inner | epoch 019:    371 / 1191 loss=1.812, trans_loss=4.622, nll_loss=1.814, w2v_ctc_loss=0.57, task_loss=2.346, contrastive_loss=0, total=6690.01, n_correct=4764.91, ppl=3.52, accuracy=71.224, wps=18792.6, ups=1.4, wpb=13380, bsz=444, num_updates=21800, lr=9.57826e-05, gnorm=0.381, clip=0, loss_scale=32, train_wall=71, gb_free=14.3, wall=20793
2023-08-26 05:00:33 | INFO | train_inner | epoch 019:    471 / 1191 loss=1.811, trans_loss=4.624, nll_loss=1.817, w2v_ctc_loss=0.572, task_loss=2.183, contrastive_loss=0, total=6788.2, n_correct=4834.88, ppl=3.52, accuracy=71.225, wps=18774.4, ups=1.38, wpb=13576.4, bsz=477.7, num_updates=21900, lr=9.55637e-05, gnorm=0.381, clip=0, loss_scale=32, train_wall=72, gb_free=13.1, wall=20866
2023-08-26 05:01:46 | INFO | train_inner | epoch 019:    571 / 1191 loss=1.816, trans_loss=4.629, nll_loss=1.824, w2v_ctc_loss=0.582, task_loss=2.318, contrastive_loss=0, total=6755.36, n_correct=4802.87, ppl=3.54, accuracy=71.097, wps=18493.1, ups=1.37, wpb=13510.7, bsz=463.5, num_updates=22000, lr=9.53463e-05, gnorm=0.381, clip=0, loss_scale=32, train_wall=73, gb_free=11.4, wall=20939
2023-08-26 05:01:46 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 05:02:18 | INFO | dev_st | epoch 019 | valid on 'dev_st' subset | loss 3.662 | trans_loss 4.889 | nll_loss 2.115 | w2v_ctc_loss 1.162 | task_loss 8.482 | contrastive_loss 0 | total 6138.43 | n_correct 4356.29 | ppl 4.33 | accuracy 70.967 | uer 16.992 | wer 18.914 | raw_wer 18.914 | bleu 28.31 | wps 1767 | wpb 6138.4 | bsz 201.1 | num_updates 22000 | best_bleu 28.56
2023-08-26 05:02:18 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 19 @ 22000 updates
2023-08-26 05:02:18 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_19_22000.pt
2023-08-26 05:02:19 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_19_22000.pt
2023-08-26 05:02:25 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_19_22000.pt (epoch 19 @ 22000 updates, score 28.31) (writing took 7.057258759999968 seconds)
2023-08-26 05:03:36 | INFO | train_inner | epoch 019:    671 / 1191 loss=1.813, trans_loss=4.619, nll_loss=1.811, w2v_ctc_loss=0.574, task_loss=2.349, contrastive_loss=0, total=6659.23, n_correct=4745.75, ppl=3.51, accuracy=71.266, wps=12026.3, ups=0.9, wpb=13318.5, bsz=451.5, num_updates=22100, lr=9.51303e-05, gnorm=0.387, clip=0, loss_scale=32, train_wall=71, gb_free=9.7, wall=21049
2023-08-26 05:04:48 | INFO | train_inner | epoch 019:    771 / 1191 loss=1.819, trans_loss=4.626, nll_loss=1.82, w2v_ctc_loss=0.586, task_loss=2.309, contrastive_loss=0, total=6749.44, n_correct=4797.97, ppl=3.53, accuracy=71.087, wps=18811.4, ups=1.39, wpb=13498.9, bsz=460.8, num_updates=22200, lr=9.49158e-05, gnorm=0.386, clip=0, loss_scale=32, train_wall=71, gb_free=14.4, wall=21121
2023-08-26 05:06:00 | INFO | train_inner | epoch 019:    871 / 1191 loss=1.822, trans_loss=4.626, nll_loss=1.82, w2v_ctc_loss=0.587, task_loss=2.441, contrastive_loss=0, total=6614.36, n_correct=4696.94, ppl=3.53, accuracy=71.011, wps=18344.9, ups=1.39, wpb=13228.7, bsz=439.8, num_updates=22300, lr=9.47027e-05, gnorm=0.39, clip=0, loss_scale=32, train_wall=72, gb_free=14.2, wall=21193
2023-08-26 05:07:12 | INFO | train_inner | epoch 019:    971 / 1191 loss=1.821, trans_loss=4.623, nll_loss=1.817, w2v_ctc_loss=0.589, task_loss=2.521, contrastive_loss=0, total=6609.99, n_correct=4698.15, ppl=3.52, accuracy=71.077, wps=18456.4, ups=1.4, wpb=13220, bsz=433, num_updates=22400, lr=9.44911e-05, gnorm=0.392, clip=0, loss_scale=32, train_wall=71, gb_free=14.3, wall=21265
2023-08-26 05:07:32 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-26 05:08:24 | INFO | train_inner | epoch 019:   1072 / 1191 loss=1.816, trans_loss=4.625, nll_loss=1.819, w2v_ctc_loss=0.58, task_loss=2.271, contrastive_loss=0, total=6743.27, n_correct=4796.68, ppl=3.53, accuracy=71.133, wps=18676.6, ups=1.38, wpb=13486.5, bsz=456.7, num_updates=22500, lr=9.42809e-05, gnorm=0.387, clip=0, loss_scale=16, train_wall=72, gb_free=13.6, wall=21337
2023-08-26 05:09:37 | INFO | train_inner | epoch 019:   1172 / 1191 loss=1.821, trans_loss=4.635, nll_loss=1.832, w2v_ctc_loss=0.583, task_loss=2.335, contrastive_loss=0, total=6787.63, n_correct=4813.89, ppl=3.56, accuracy=70.922, wps=18581.8, ups=1.37, wpb=13575.3, bsz=457.1, num_updates=22600, lr=9.40721e-05, gnorm=0.387, clip=0, loss_scale=16, train_wall=72, gb_free=13.6, wall=21410
2023-08-26 05:09:51 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 05:10:23 | INFO | dev_st | epoch 019 | valid on 'dev_st' subset | loss 3.678 | trans_loss 4.888 | nll_loss 2.112 | w2v_ctc_loss 1.216 | task_loss 8.466 | contrastive_loss 0 | total 6138.43 | n_correct 4355.71 | ppl 4.32 | accuracy 70.958 | uer 17.193 | wer 18.918 | raw_wer 18.918 | bleu 28.62 | wps 1732.7 | wpb 6138.4 | bsz 201.1 | num_updates 22619 | best_bleu 28.62
2023-08-26 05:10:23 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 19 @ 22619 updates
2023-08-26 05:10:23 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 05:10:31 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 05:10:37 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 19 @ 22619 updates, score 28.62) (writing took 13.962590507999266 seconds)
2023-08-26 05:10:38 | INFO | fairseq_cli.train | end of epoch 19 (average epoch stats below)
2023-08-26 05:10:38 | INFO | train | epoch 019 | loss 1.816 | trans_loss 4.624 | nll_loss 1.818 | w2v_ctc_loss 0.579 | task_loss 2.347 | contrastive_loss 0 | total 6703.83 | n_correct 4769.35 | ppl 3.53 | accuracy 71.144 | wps 16773.3 | ups 1.25 | wpb 13407.7 | bsz 452.2 | num_updates 22619 | lr 9.40326e-05 | gnorm 0.386 | clip 0 | loss_scale 16 | train_wall 851 | gb_free 14.3 | wall 21471
2023-08-26 05:10:38 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 05:10:38 | INFO | fairseq.trainer | begin training epoch 20
2023-08-26 05:10:38 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 05:11:43 | INFO | train_inner | epoch 020:     81 / 1191 loss=1.809, trans_loss=4.612, nll_loss=1.801, w2v_ctc_loss=0.576, task_loss=2.367, contrastive_loss=0, total=6698.36, n_correct=4784.87, ppl=3.49, accuracy=71.433, wps=10613.9, ups=0.79, wpb=13396.7, bsz=452.9, num_updates=22700, lr=9.38647e-05, gnorm=0.398, clip=0, loss_scale=16, train_wall=71, gb_free=13.2, wall=21536
2023-08-26 05:12:55 | INFO | train_inner | epoch 020:    181 / 1191 loss=1.81, trans_loss=4.609, nll_loss=1.798, w2v_ctc_loss=0.575, task_loss=2.43, contrastive_loss=0, total=6607.23, n_correct=4720.22, ppl=3.48, accuracy=71.44, wps=18575.1, ups=1.41, wpb=13214.5, bsz=438.8, num_updates=22800, lr=9.36586e-05, gnorm=0.395, clip=0, loss_scale=16, train_wall=70, gb_free=14.3, wall=21608
2023-08-26 05:14:07 | INFO | train_inner | epoch 020:    281 / 1191 loss=1.812, trans_loss=4.619, nll_loss=1.811, w2v_ctc_loss=0.575, task_loss=2.335, contrastive_loss=0, total=6763.55, n_correct=4821.68, ppl=3.51, accuracy=71.289, wps=18691.6, ups=1.38, wpb=13527.1, bsz=457, num_updates=22900, lr=9.34539e-05, gnorm=0.389, clip=0, loss_scale=16, train_wall=72, gb_free=11.7, wall=21680
2023-08-26 05:15:19 | INFO | train_inner | epoch 020:    381 / 1191 loss=1.806, trans_loss=4.615, nll_loss=1.805, w2v_ctc_loss=0.57, task_loss=2.23, contrastive_loss=0, total=6785.07, n_correct=4850.17, ppl=3.5, accuracy=71.483, wps=18947.9, ups=1.4, wpb=13570.1, bsz=465.8, num_updates=23000, lr=9.32505e-05, gnorm=0.386, clip=0, loss_scale=16, train_wall=71, gb_free=14.8, wall=21752
2023-08-26 05:16:30 | INFO | train_inner | epoch 020:    481 / 1191 loss=1.808, trans_loss=4.61, nll_loss=1.8, w2v_ctc_loss=0.573, task_loss=2.34, contrastive_loss=0, total=6697.03, n_correct=4780.32, ppl=3.48, accuracy=71.38, wps=18690.2, ups=1.4, wpb=13394.1, bsz=447.1, num_updates=23100, lr=9.30484e-05, gnorm=0.388, clip=0, loss_scale=16, train_wall=71, gb_free=12.4, wall=21823
2023-08-26 05:17:42 | INFO | train_inner | epoch 020:    581 / 1191 loss=1.813, trans_loss=4.616, nll_loss=1.807, w2v_ctc_loss=0.575, task_loss=2.443, contrastive_loss=0, total=6611.79, n_correct=4711.4, ppl=3.5, accuracy=71.258, wps=18392.1, ups=1.39, wpb=13223.6, bsz=439.9, num_updates=23200, lr=9.28477e-05, gnorm=0.387, clip=0, loss_scale=16, train_wall=71, gb_free=4.6, wall=21895
2023-08-26 05:18:53 | INFO | train_inner | epoch 020:    681 / 1191 loss=1.801, trans_loss=4.612, nll_loss=1.802, w2v_ctc_loss=0.56, task_loss=2.165, contrastive_loss=0, total=6735.37, n_correct=4816.4, ppl=3.49, accuracy=71.509, wps=18897.4, ups=1.4, wpb=13470.7, bsz=475.7, num_updates=23300, lr=9.26482e-05, gnorm=0.381, clip=0, loss_scale=16, train_wall=71, gb_free=13.1, wall=21966
2023-08-26 05:20:05 | INFO | train_inner | epoch 020:    781 / 1191 loss=1.81, trans_loss=4.615, nll_loss=1.807, w2v_ctc_loss=0.573, task_loss=2.266, contrastive_loss=0, total=6731.75, n_correct=4804.42, ppl=3.5, accuracy=71.37, wps=18694.1, ups=1.39, wpb=13463.5, bsz=455.1, num_updates=23400, lr=9.245e-05, gnorm=0.38, clip=0, loss_scale=16, train_wall=71, gb_free=13.1, wall=22038
2023-08-26 05:21:18 | INFO | train_inner | epoch 020:    881 / 1191 loss=1.811, trans_loss=4.615, nll_loss=1.806, w2v_ctc_loss=0.578, task_loss=2.372, contrastive_loss=0, total=6745.93, n_correct=4817.69, ppl=3.5, accuracy=71.416, wps=18706.1, ups=1.39, wpb=13491.9, bsz=451.4, num_updates=23500, lr=9.22531e-05, gnorm=0.391, clip=0, loss_scale=16, train_wall=71, gb_free=12.8, wall=22111
2023-08-26 05:22:31 | INFO | train_inner | epoch 020:    981 / 1191 loss=1.813, trans_loss=4.617, nll_loss=1.808, w2v_ctc_loss=0.576, task_loss=2.533, contrastive_loss=0, total=6659.34, n_correct=4747.17, ppl=3.5, accuracy=71.286, wps=18232, ups=1.37, wpb=13318.7, bsz=432.7, num_updates=23600, lr=9.20575e-05, gnorm=0.387, clip=0, loss_scale=16, train_wall=72, gb_free=13.4, wall=22184
2023-08-26 05:23:42 | INFO | train_inner | epoch 020:   1081 / 1191 loss=1.81, trans_loss=4.613, nll_loss=1.804, w2v_ctc_loss=0.578, task_loss=2.314, contrastive_loss=0, total=6748.36, n_correct=4817.89, ppl=3.49, accuracy=71.393, wps=18793.2, ups=1.39, wpb=13496.7, bsz=456.7, num_updates=23700, lr=9.1863e-05, gnorm=0.381, clip=0, loss_scale=16, train_wall=71, gb_free=14.3, wall=22255
2023-08-26 05:24:54 | INFO | train_inner | epoch 020:   1181 / 1191 loss=1.814, trans_loss=4.623, nll_loss=1.816, w2v_ctc_loss=0.579, task_loss=2.386, contrastive_loss=0, total=6667.05, n_correct=4751.68, ppl=3.52, accuracy=71.271, wps=18507.1, ups=1.39, wpb=13334.1, bsz=449.2, num_updates=23800, lr=9.16698e-05, gnorm=0.388, clip=0, loss_scale=16, train_wall=71, gb_free=14, wall=22328
2023-08-26 05:25:02 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 05:25:34 | INFO | dev_st | epoch 020 | valid on 'dev_st' subset | loss 3.66 | trans_loss 4.881 | nll_loss 2.103 | w2v_ctc_loss 1.173 | task_loss 8.464 | contrastive_loss 0 | total 6138.43 | n_correct 4361.86 | ppl 4.3 | accuracy 71.058 | uer 16.701 | wer 18.341 | raw_wer 18.341 | bleu 28.48 | wps 1745.4 | wpb 6138.4 | bsz 201.1 | num_updates 23810 | best_bleu 28.62
2023-08-26 05:25:34 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 20 @ 23810 updates
2023-08-26 05:25:34 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.4809.pt
2023-08-26 05:25:36 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.4809.pt
2023-08-26 05:25:42 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.4809.pt (epoch 20 @ 23810 updates, score 28.48) (writing took 7.471715933002997 seconds)
2023-08-26 05:25:42 | INFO | fairseq_cli.train | end of epoch 20 (average epoch stats below)
2023-08-26 05:25:42 | INFO | train | epoch 020 | loss 1.809 | trans_loss 4.614 | nll_loss 1.805 | w2v_ctc_loss 0.574 | task_loss 2.344 | contrastive_loss 0 | total 6703.69 | n_correct 4785.15 | ppl 3.5 | accuracy 71.381 | wps 17659 | ups 1.32 | wpb 13407.4 | bsz 452.1 | num_updates 23810 | lr 9.16506e-05 | gnorm 0.388 | clip 0 | loss_scale 16 | train_wall 848 | gb_free 15.2 | wall 22375
2023-08-26 05:25:42 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 05:25:42 | INFO | fairseq.trainer | begin training epoch 21
2023-08-26 05:25:42 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 05:26:54 | INFO | train_inner | epoch 021:     90 / 1191 loss=1.797, trans_loss=4.602, nll_loss=1.79, w2v_ctc_loss=0.559, task_loss=2.174, contrastive_loss=0, total=6778.89, n_correct=4862.39, ppl=3.46, accuracy=71.728, wps=11311.1, ups=0.83, wpb=13557.8, bsz=479.5, num_updates=23900, lr=9.14779e-05, gnorm=0.379, clip=0, loss_scale=16, train_wall=71, gb_free=13.7, wall=22447
2023-08-26 05:28:06 | INFO | train_inner | epoch 021:    190 / 1191 loss=1.791, trans_loss=4.593, nll_loss=1.778, w2v_ctc_loss=0.553, task_loss=2.183, contrastive_loss=0, total=6793.28, n_correct=4888.67, ppl=3.43, accuracy=71.963, wps=19059.6, ups=1.4, wpb=13586.6, bsz=473.5, num_updates=24000, lr=9.12871e-05, gnorm=0.382, clip=0, loss_scale=16, train_wall=71, gb_free=14.2, wall=22519
2023-08-26 05:28:06 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 05:28:38 | INFO | dev_st | epoch 021 | valid on 'dev_st' subset | loss 3.663 | trans_loss 4.884 | nll_loss 2.109 | w2v_ctc_loss 1.174 | task_loss 8.457 | contrastive_loss 0 | total 6138.43 | n_correct 4356 | ppl 4.31 | accuracy 70.963 | uer 16.835 | wer 18.929 | raw_wer 18.929 | bleu 28.39 | wps 1782.9 | wpb 6138.4 | bsz 201.1 | num_updates 24000 | best_bleu 28.62
2023-08-26 05:28:38 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 21 @ 24000 updates
2023-08-26 05:28:38 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_21_24000.pt
2023-08-26 05:28:39 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_21_24000.pt
2023-08-26 05:28:45 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_21_24000.pt (epoch 21 @ 24000 updates, score 28.39) (writing took 7.62889556799928 seconds)
2023-08-26 05:29:57 | INFO | train_inner | epoch 021:    290 / 1191 loss=1.804, trans_loss=4.602, nll_loss=1.788, w2v_ctc_loss=0.569, task_loss=2.477, contrastive_loss=0, total=6619.81, n_correct=4740.78, ppl=3.45, accuracy=71.615, wps=11922.8, ups=0.9, wpb=13239.6, bsz=429.9, num_updates=24100, lr=9.10975e-05, gnorm=0.386, clip=0, loss_scale=16, train_wall=70, gb_free=12.9, wall=22630
2023-08-26 05:31:08 | INFO | train_inner | epoch 021:    390 / 1191 loss=1.798, trans_loss=4.603, nll_loss=1.792, w2v_ctc_loss=0.559, task_loss=2.335, contrastive_loss=0, total=6691.33, n_correct=4795.19, ppl=3.46, accuracy=71.663, wps=18665.7, ups=1.39, wpb=13382.7, bsz=455.3, num_updates=24200, lr=9.09091e-05, gnorm=0.384, clip=0, loss_scale=16, train_wall=71, gb_free=14.5, wall=22701
2023-08-26 05:32:20 | INFO | train_inner | epoch 021:    490 / 1191 loss=1.803, trans_loss=4.599, nll_loss=1.786, w2v_ctc_loss=0.567, task_loss=2.461, contrastive_loss=0, total=6668.28, n_correct=4780.12, ppl=3.45, accuracy=71.684, wps=18549, ups=1.39, wpb=13336.6, bsz=436.5, num_updates=24300, lr=9.07218e-05, gnorm=0.394, clip=0, loss_scale=16, train_wall=71, gb_free=12.6, wall=22773
2023-08-26 05:33:33 | INFO | train_inner | epoch 021:    590 / 1191 loss=1.81, trans_loss=4.607, nll_loss=1.795, w2v_ctc_loss=0.576, task_loss=2.529, contrastive_loss=0, total=6619.94, n_correct=4738.44, ppl=3.47, accuracy=71.578, wps=18293.7, ups=1.38, wpb=13239.9, bsz=423.2, num_updates=24400, lr=9.05357e-05, gnorm=0.393, clip=0, loss_scale=16, train_wall=72, gb_free=14.9, wall=22846
2023-08-26 05:34:45 | INFO | train_inner | epoch 021:    690 / 1191 loss=1.804, trans_loss=4.608, nll_loss=1.798, w2v_ctc_loss=0.571, task_loss=2.309, contrastive_loss=0, total=6721.88, n_correct=4806.01, ppl=3.48, accuracy=71.498, wps=18600.2, ups=1.38, wpb=13443.8, bsz=464.4, num_updates=24500, lr=9.03508e-05, gnorm=0.389, clip=0, loss_scale=32, train_wall=72, gb_free=10.3, wall=22918
2023-08-26 05:35:57 | INFO | train_inner | epoch 021:    790 / 1191 loss=1.806, trans_loss=4.607, nll_loss=1.796, w2v_ctc_loss=0.57, task_loss=2.44, contrastive_loss=0, total=6625.39, n_correct=4738.27, ppl=3.47, accuracy=71.517, wps=18417.8, ups=1.39, wpb=13250.8, bsz=443.5, num_updates=24600, lr=9.0167e-05, gnorm=0.392, clip=0, loss_scale=32, train_wall=71, gb_free=13.8, wall=22990
2023-08-26 05:37:09 | INFO | train_inner | epoch 021:    890 / 1191 loss=1.805, trans_loss=4.606, nll_loss=1.795, w2v_ctc_loss=0.571, task_loss=2.3, contrastive_loss=0, total=6752.26, n_correct=4833.29, ppl=3.47, accuracy=71.58, wps=18796.1, ups=1.39, wpb=13504.5, bsz=456, num_updates=24700, lr=8.99843e-05, gnorm=0.385, clip=0, loss_scale=32, train_wall=71, gb_free=14.5, wall=23062
2023-08-26 05:38:21 | INFO | train_inner | epoch 021:    990 / 1191 loss=1.804, trans_loss=4.612, nll_loss=1.803, w2v_ctc_loss=0.567, task_loss=2.254, contrastive_loss=0, total=6779.71, n_correct=4845.28, ppl=3.49, accuracy=71.467, wps=18840.8, ups=1.39, wpb=13559.4, bsz=462.5, num_updates=24800, lr=8.98027e-05, gnorm=0.387, clip=0, loss_scale=32, train_wall=71, gb_free=11.2, wall=23134
2023-08-26 05:39:34 | INFO | train_inner | epoch 021:   1090 / 1191 loss=1.806, trans_loss=4.611, nll_loss=1.801, w2v_ctc_loss=0.569, task_loss=2.299, contrastive_loss=0, total=6734.69, n_correct=4809.97, ppl=3.49, accuracy=71.421, wps=18450.2, ups=1.37, wpb=13469.4, bsz=454.9, num_updates=24900, lr=8.96221e-05, gnorm=0.392, clip=0, loss_scale=32, train_wall=72, gb_free=12.3, wall=23207
2023-08-26 05:40:46 | INFO | train_inner | epoch 021:   1190 / 1191 loss=1.803, trans_loss=4.606, nll_loss=1.795, w2v_ctc_loss=0.567, task_loss=2.371, contrastive_loss=0, total=6686.29, n_correct=4787.77, ppl=3.47, accuracy=71.606, wps=18571.3, ups=1.39, wpb=13372.6, bsz=456.9, num_updates=25000, lr=8.94427e-05, gnorm=0.388, clip=0, loss_scale=32, train_wall=71, gb_free=14.8, wall=23279
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:0')
2023-08-26 05:40:46 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:1')
2023-08-26 05:41:18 | INFO | dev_st | epoch 021 | valid on 'dev_st' subset | loss 3.648 | trans_loss 4.882 | nll_loss 2.102 | w2v_ctc_loss 1.131 | task_loss 8.478 | contrastive_loss 0 | total 6138.43 | n_correct 4367.57 | ppl 4.29 | accuracy 71.151 | uer 16.506 | wer 18.364 | raw_wer 18.364 | bleu 28.91 | wps 1776.2 | wpb 6138.4 | bsz 201.1 | num_updates 25001 | best_bleu 28.91
2023-08-26 05:41:18 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 21 @ 25001 updates
2023-08-26 05:41:18 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 05:41:25 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 05:41:31 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 21 @ 25001 updates, score 28.91) (writing took 12.165618001999974 seconds)
2023-08-26 05:41:31 | INFO | fairseq_cli.train | end of epoch 21 (average epoch stats below)
2023-08-26 05:41:31 | INFO | train | epoch 021 | loss 1.803 | trans_loss 4.604 | nll_loss 1.793 | w2v_ctc_loss 0.567 | task_loss 2.345 | contrastive_loss 0 | total 6703.69 | n_correct 4800.9 | ppl 3.46 | accuracy 71.616 | wps 16828.4 | ups 1.26 | wpb 13407.4 | bsz 452.1 | num_updates 25001 | lr 8.94409e-05 | gnorm 0.388 | clip 0 | loss_scale 32 | train_wall 849 | gb_free 13.3 | wall 23324
2023-08-26 05:41:31 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 05:41:31 | INFO | fairseq.trainer | begin training epoch 22
2023-08-26 05:41:31 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 05:42:49 | INFO | train_inner | epoch 022:     99 / 1191 loss=1.788, trans_loss=4.588, nll_loss=1.771, w2v_ctc_loss=0.548, task_loss=2.286, contrastive_loss=0, total=6742.32, n_correct=4855.88, ppl=3.41, accuracy=72.021, wps=10958.5, ups=0.81, wpb=13484.6, bsz=457.1, num_updates=25100, lr=8.92644e-05, gnorm=0.383, clip=0, loss_scale=32, train_wall=70, gb_free=13.3, wall=23402
2023-08-26 05:44:01 | INFO | train_inner | epoch 022:    199 / 1191 loss=1.799, trans_loss=4.597, nll_loss=1.783, w2v_ctc_loss=0.562, task_loss=2.434, contrastive_loss=0, total=6648.11, n_correct=4772.11, ppl=3.44, accuracy=71.781, wps=18368.1, ups=1.38, wpb=13296.2, bsz=442.1, num_updates=25200, lr=8.90871e-05, gnorm=0.39, clip=0, loss_scale=32, train_wall=72, gb_free=14.1, wall=23474
2023-08-26 05:45:13 | INFO | train_inner | epoch 022:    299 / 1191 loss=1.794, trans_loss=4.593, nll_loss=1.778, w2v_ctc_loss=0.559, task_loss=2.264, contrastive_loss=0, total=6761.27, n_correct=4858.95, ppl=3.43, accuracy=71.864, wps=18706.9, ups=1.38, wpb=13522.5, bsz=467.1, num_updates=25300, lr=8.89108e-05, gnorm=0.388, clip=0, loss_scale=32, train_wall=72, gb_free=13.3, wall=23547
2023-08-26 05:46:26 | INFO | train_inner | epoch 022:    399 / 1191 loss=1.793, trans_loss=4.591, nll_loss=1.776, w2v_ctc_loss=0.559, task_loss=2.34, contrastive_loss=0, total=6646.03, n_correct=4781.15, ppl=3.42, accuracy=71.94, wps=18244.4, ups=1.37, wpb=13292.1, bsz=452.7, num_updates=25400, lr=8.87357e-05, gnorm=0.389, clip=0, loss_scale=32, train_wall=72, gb_free=11.5, wall=23619
2023-08-26 05:47:38 | INFO | train_inner | epoch 022:    499 / 1191 loss=1.801, trans_loss=4.602, nll_loss=1.789, w2v_ctc_loss=0.568, task_loss=2.313, contrastive_loss=0, total=6730.05, n_correct=4827.72, ppl=3.46, accuracy=71.734, wps=18787.7, ups=1.4, wpb=13460.1, bsz=462.7, num_updates=25500, lr=8.85615e-05, gnorm=0.39, clip=0, loss_scale=32, train_wall=71, gb_free=11.5, wall=23691
2023-08-26 05:48:50 | INFO | train_inner | epoch 022:    599 / 1191 loss=1.794, trans_loss=4.593, nll_loss=1.778, w2v_ctc_loss=0.558, task_loss=2.345, contrastive_loss=0, total=6732.67, n_correct=4842.81, ppl=3.43, accuracy=71.93, wps=18791.5, ups=1.4, wpb=13465.3, bsz=451.7, num_updates=25600, lr=8.83883e-05, gnorm=0.398, clip=0, loss_scale=32, train_wall=71, gb_free=13.6, wall=23763
2023-08-26 05:50:01 | INFO | train_inner | epoch 022:    699 / 1191 loss=1.796, trans_loss=4.596, nll_loss=1.782, w2v_ctc_loss=0.559, task_loss=2.312, contrastive_loss=0, total=6689.48, n_correct=4806.03, ppl=3.44, accuracy=71.845, wps=18627.3, ups=1.39, wpb=13379, bsz=450.8, num_updates=25700, lr=8.82162e-05, gnorm=0.39, clip=0, loss_scale=32, train_wall=71, gb_free=13.7, wall=23835
2023-08-26 05:51:12 | INFO | train_inner | epoch 022:    799 / 1191 loss=1.796, trans_loss=4.592, nll_loss=1.777, w2v_ctc_loss=0.56, task_loss=2.409, contrastive_loss=0, total=6584.76, n_correct=4735.38, ppl=3.43, accuracy=71.914, wps=18614.8, ups=1.41, wpb=13169.5, bsz=438.5, num_updates=25800, lr=8.80451e-05, gnorm=0.391, clip=0, loss_scale=32, train_wall=70, gb_free=13.1, wall=23905
2023-08-26 05:52:26 | INFO | train_inner | epoch 022:    899 / 1191 loss=1.803, trans_loss=4.605, nll_loss=1.793, w2v_ctc_loss=0.566, task_loss=2.391, contrastive_loss=0, total=6689.51, n_correct=4786.84, ppl=3.46, accuracy=71.557, wps=18226, ups=1.36, wpb=13379, bsz=450.2, num_updates=25900, lr=8.7875e-05, gnorm=0.386, clip=0, loss_scale=32, train_wall=73, gb_free=11.6, wall=23979
2023-08-26 05:53:37 | INFO | train_inner | epoch 022:    999 / 1191 loss=1.795, trans_loss=4.595, nll_loss=1.781, w2v_ctc_loss=0.559, task_loss=2.225, contrastive_loss=0, total=6844.3, n_correct=4917.99, ppl=3.44, accuracy=71.855, wps=19076.6, ups=1.39, wpb=13688.6, bsz=466.9, num_updates=26000, lr=8.77058e-05, gnorm=0.387, clip=0, loss_scale=32, train_wall=71, gb_free=8.4, wall=24050
2023-08-26 05:53:37 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 05:54:09 | INFO | dev_st | epoch 022 | valid on 'dev_st' subset | loss 3.67 | trans_loss 4.876 | nll_loss 2.097 | w2v_ctc_loss 1.218 | task_loss 8.494 | contrastive_loss 0 | total 6138.43 | n_correct 4366.71 | ppl 4.28 | accuracy 71.137 | uer 16.979 | wer 18.695 | raw_wer 18.695 | bleu 28.71 | wps 1775.9 | wpb 6138.4 | bsz 201.1 | num_updates 26000 | best_bleu 28.91
2023-08-26 05:54:09 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 22 @ 26000 updates
2023-08-26 05:54:09 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_22_26000.pt
2023-08-26 05:54:11 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_22_26000.pt
2023-08-26 05:54:17 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_22_26000.pt (epoch 22 @ 26000 updates, score 28.71) (writing took 7.403312939000898 seconds)
2023-08-26 05:55:29 | INFO | train_inner | epoch 022:   1099 / 1191 loss=1.798, trans_loss=4.595, nll_loss=1.781, w2v_ctc_loss=0.565, task_loss=2.324, contrastive_loss=0, total=6718.5, n_correct=4822.68, ppl=3.44, accuracy=71.782, wps=12077.3, ups=0.9, wpb=13437, bsz=450.4, num_updates=26100, lr=8.75376e-05, gnorm=0.394, clip=0, loss_scale=32, train_wall=71, gb_free=13.7, wall=24162
2023-08-26 05:56:35 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 05:57:07 | INFO | dev_st | epoch 022 | valid on 'dev_st' subset | loss 3.659 | trans_loss 4.875 | nll_loss 2.095 | w2v_ctc_loss 1.183 | task_loss 8.562 | contrastive_loss 0 | total 6138.43 | n_correct 4371.57 | ppl 4.27 | accuracy 71.216 | uer 16.904 | wer 18.698 | raw_wer 18.698 | bleu 28.71 | wps 1774.4 | wpb 6138.4 | bsz 201.1 | num_updates 26192 | best_bleu 28.91
2023-08-26 05:57:07 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 22 @ 26192 updates
2023-08-26 05:57:07 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.7104.pt
2023-08-26 05:57:10 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.7104.pt
2023-08-26 05:57:14 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.7104.pt (epoch 22 @ 26192 updates, score 28.71) (writing took 6.438599703000364 seconds)
2023-08-26 05:57:14 | INFO | fairseq_cli.train | end of epoch 22 (average epoch stats below)
2023-08-26 05:57:14 | INFO | train | epoch 022 | loss 1.797 | trans_loss 4.596 | nll_loss 1.782 | w2v_ctc_loss 0.561 | task_loss 2.343 | contrastive_loss 0 | total 6703.69 | n_correct 4814.44 | ppl 3.44 | accuracy 71.818 | wps 16925.3 | ups 1.26 | wpb 13407.4 | bsz 452.1 | num_updates 26192 | lr 8.73837e-05 | gnorm 0.39 | clip 0 | loss_scale 32 | train_wall 850 | gb_free 13.5 | wall 24267
2023-08-26 05:57:14 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 05:57:14 | INFO | fairseq.trainer | begin training epoch 23
2023-08-26 05:57:14 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 05:57:27 | INFO | train_inner | epoch 023:      8 / 1191 loss=1.803, trans_loss=4.601, nll_loss=1.789, w2v_ctc_loss=0.566, task_loss=2.507, contrastive_loss=0, total=6641.05, n_correct=4757.27, ppl=3.45, accuracy=71.634, wps=11192.7, ups=0.84, wpb=13282.1, bsz=431.8, num_updates=26200, lr=8.73704e-05, gnorm=0.394, clip=0, loss_scale=32, train_wall=72, gb_free=12.8, wall=24280
2023-08-26 05:58:39 | INFO | train_inner | epoch 023:    108 / 1191 loss=1.787, trans_loss=4.579, nll_loss=1.76, w2v_ctc_loss=0.55, task_loss=2.482, contrastive_loss=0, total=6633.32, n_correct=4788.98, ppl=3.39, accuracy=72.196, wps=18451.2, ups=1.39, wpb=13266.6, bsz=434.4, num_updates=26300, lr=8.72041e-05, gnorm=0.387, clip=0, loss_scale=32, train_wall=71, gb_free=13.8, wall=24352
2023-08-26 05:59:52 | INFO | train_inner | epoch 023:    208 / 1191 loss=1.788, trans_loss=4.588, nll_loss=1.771, w2v_ctc_loss=0.554, task_loss=2.19, contrastive_loss=0, total=6836.34, n_correct=4925.46, ppl=3.41, accuracy=72.048, wps=18889.4, ups=1.38, wpb=13672.7, bsz=478.6, num_updates=26400, lr=8.70388e-05, gnorm=0.384, clip=0, loss_scale=32, train_wall=72, gb_free=12.3, wall=24425
2023-08-26 06:01:03 | INFO | train_inner | epoch 023:    308 / 1191 loss=1.78, trans_loss=4.576, nll_loss=1.756, w2v_ctc_loss=0.541, task_loss=2.263, contrastive_loss=0, total=6800.89, n_correct=4917.8, ppl=3.38, accuracy=72.311, wps=19039.2, ups=1.4, wpb=13601.8, bsz=460, num_updates=26500, lr=8.68744e-05, gnorm=0.384, clip=0, loss_scale=32, train_wall=71, gb_free=13.3, wall=24496
2023-08-26 06:02:15 | INFO | train_inner | epoch 023:    408 / 1191 loss=1.795, trans_loss=4.591, nll_loss=1.775, w2v_ctc_loss=0.558, task_loss=2.404, contrastive_loss=0, total=6740.91, n_correct=4848.25, ppl=3.42, accuracy=71.923, wps=18674, ups=1.39, wpb=13481.8, bsz=443.1, num_updates=26600, lr=8.6711e-05, gnorm=0.386, clip=0, loss_scale=64, train_wall=72, gb_free=12.1, wall=24568
2023-08-26 06:03:27 | INFO | train_inner | epoch 023:    508 / 1191 loss=1.787, trans_loss=4.585, nll_loss=1.768, w2v_ctc_loss=0.548, task_loss=2.328, contrastive_loss=0, total=6697.63, n_correct=4828.11, ppl=3.41, accuracy=72.087, wps=18716.7, ups=1.4, wpb=13395.3, bsz=452.9, num_updates=26700, lr=8.65485e-05, gnorm=0.387, clip=0, loss_scale=64, train_wall=71, gb_free=12.5, wall=24640
2023-08-26 06:04:38 | INFO | train_inner | epoch 023:    608 / 1191 loss=1.792, trans_loss=4.59, nll_loss=1.775, w2v_ctc_loss=0.555, task_loss=2.302, contrastive_loss=0, total=6673.41, n_correct=4803.36, ppl=3.42, accuracy=71.978, wps=18704.3, ups=1.4, wpb=13346.8, bsz=454.9, num_updates=26800, lr=8.63868e-05, gnorm=0.389, clip=0, loss_scale=64, train_wall=71, gb_free=12, wall=24711
2023-08-26 06:05:51 | INFO | train_inner | epoch 023:    708 / 1191 loss=1.796, trans_loss=4.592, nll_loss=1.777, w2v_ctc_loss=0.558, task_loss=2.399, contrastive_loss=0, total=6668.16, n_correct=4791.47, ppl=3.43, accuracy=71.856, wps=18203.1, ups=1.36, wpb=13336.3, bsz=444.9, num_updates=26900, lr=8.62261e-05, gnorm=0.393, clip=0, loss_scale=64, train_wall=73, gb_free=14.1, wall=24785
2023-08-26 06:07:04 | INFO | train_inner | epoch 023:    808 / 1191 loss=1.792, trans_loss=4.591, nll_loss=1.775, w2v_ctc_loss=0.555, task_loss=2.393, contrastive_loss=0, total=6728.15, n_correct=4841.22, ppl=3.42, accuracy=71.955, wps=18580.8, ups=1.38, wpb=13456.3, bsz=447.6, num_updates=27000, lr=8.60663e-05, gnorm=0.385, clip=0, loss_scale=64, train_wall=72, gb_free=13.5, wall=24857
2023-08-26 06:08:15 | INFO | train_inner | epoch 023:    908 / 1191 loss=1.786, trans_loss=4.579, nll_loss=1.76, w2v_ctc_loss=0.556, task_loss=2.293, contrastive_loss=0, total=6699.43, n_correct=4837.53, ppl=3.39, accuracy=72.208, wps=18715.6, ups=1.4, wpb=13398.9, bsz=462.1, num_updates=27100, lr=8.59074e-05, gnorm=0.391, clip=0, loss_scale=64, train_wall=71, gb_free=13.3, wall=24929
2023-08-26 06:09:27 | INFO | train_inner | epoch 023:   1008 / 1191 loss=1.795, trans_loss=4.59, nll_loss=1.776, w2v_ctc_loss=0.566, task_loss=2.248, contrastive_loss=0, total=6679.46, n_correct=4805.53, ppl=3.42, accuracy=71.945, wps=18627.4, ups=1.39, wpb=13358.9, bsz=464.3, num_updates=27200, lr=8.57493e-05, gnorm=0.396, clip=0, loss_scale=64, train_wall=71, gb_free=13.3, wall=25000
2023-08-26 06:10:35 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 32.0
2023-08-26 06:10:40 | INFO | train_inner | epoch 023:   1109 / 1191 loss=1.793, trans_loss=4.592, nll_loss=1.777, w2v_ctc_loss=0.555, task_loss=2.443, contrastive_loss=0, total=6637.68, n_correct=4772.44, ppl=3.43, accuracy=71.899, wps=18364.5, ups=1.38, wpb=13275.4, bsz=441.2, num_updates=27300, lr=8.55921e-05, gnorm=0.392, clip=0, loss_scale=32, train_wall=72, gb_free=12.6, wall=25073
2023-08-26 06:11:39 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 06:12:11 | INFO | dev_st | epoch 023 | valid on 'dev_st' subset | loss 3.658 | trans_loss 4.866 | nll_loss 2.085 | w2v_ctc_loss 1.201 | task_loss 8.544 | contrastive_loss 0 | total 6138.43 | n_correct 4380.43 | ppl 4.24 | accuracy 71.361 | uer 16.613 | wer 18.531 | raw_wer 18.531 | bleu 29.16 | wps 1712.8 | wpb 6138.4 | bsz 201.1 | num_updates 27382 | best_bleu 29.16
2023-08-26 06:12:11 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 23 @ 27382 updates
2023-08-26 06:12:11 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 06:12:18 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 06:12:24 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 23 @ 27382 updates, score 29.16) (writing took 12.582869116002257 seconds)
2023-08-26 06:12:24 | INFO | fairseq_cli.train | end of epoch 23 (average epoch stats below)
2023-08-26 06:12:24 | INFO | train | epoch 023 | loss 1.79 | trans_loss 4.587 | nll_loss 1.77 | w2v_ctc_loss 0.555 | task_loss 2.344 | contrastive_loss 0 | total 6704.57 | n_correct 4829.33 | ppl 3.41 | accuracy 72.03 | wps 17538.1 | ups 1.31 | wpb 13409.1 | bsz 452.3 | num_updates 27382 | lr 8.54638e-05 | gnorm 0.389 | clip 0 | loss_scale 32 | train_wall 850 | gb_free 14.6 | wall 25177
2023-08-26 06:12:24 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 06:12:24 | INFO | fairseq.trainer | begin training epoch 24
2023-08-26 06:12:24 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 06:12:44 | INFO | train_inner | epoch 024:     18 / 1191 loss=1.795, trans_loss=4.589, nll_loss=1.774, w2v_ctc_loss=0.56, task_loss=2.452, contrastive_loss=0, total=6657.26, n_correct=4789.6, ppl=3.42, accuracy=71.946, wps=10697.4, ups=0.8, wpb=13314.5, bsz=440.5, num_updates=27400, lr=8.54358e-05, gnorm=0.388, clip=0, loss_scale=32, train_wall=71, gb_free=13.1, wall=25197
2023-08-26 06:13:56 | INFO | train_inner | epoch 024:    118 / 1191 loss=1.784, trans_loss=4.58, nll_loss=1.762, w2v_ctc_loss=0.55, task_loss=2.194, contrastive_loss=0, total=6779.83, n_correct=4895.31, ppl=3.39, accuracy=72.204, wps=18943.6, ups=1.4, wpb=13559.7, bsz=477.4, num_updates=27500, lr=8.52803e-05, gnorm=0.392, clip=0, loss_scale=32, train_wall=71, gb_free=14.5, wall=25269
2023-08-26 06:15:07 | INFO | train_inner | epoch 024:    218 / 1191 loss=1.777, trans_loss=4.574, nll_loss=1.754, w2v_ctc_loss=0.537, task_loss=2.164, contrastive_loss=0, total=6800.49, n_correct=4919.15, ppl=3.37, accuracy=72.335, wps=19011.1, ups=1.4, wpb=13601, bsz=477.4, num_updates=27600, lr=8.51257e-05, gnorm=0.383, clip=0, loss_scale=32, train_wall=71, gb_free=12.2, wall=25340
2023-08-26 06:16:19 | INFO | train_inner | epoch 024:    318 / 1191 loss=1.787, trans_loss=4.581, nll_loss=1.762, w2v_ctc_loss=0.551, task_loss=2.323, contrastive_loss=0, total=6746.59, n_correct=4865.33, ppl=3.39, accuracy=72.115, wps=18805.7, ups=1.39, wpb=13493.2, bsz=453.6, num_updates=27700, lr=8.49719e-05, gnorm=0.39, clip=0, loss_scale=32, train_wall=71, gb_free=12.1, wall=25412
2023-08-26 06:17:31 | INFO | train_inner | epoch 024:    418 / 1191 loss=1.786, trans_loss=4.579, nll_loss=1.76, w2v_ctc_loss=0.549, task_loss=2.463, contrastive_loss=0, total=6649.77, n_correct=4801.63, ppl=3.39, accuracy=72.207, wps=18546.1, ups=1.39, wpb=13299.5, bsz=436.1, num_updates=27800, lr=8.48189e-05, gnorm=0.387, clip=0, loss_scale=32, train_wall=71, gb_free=13.2, wall=25484
2023-08-26 06:18:44 | INFO | train_inner | epoch 024:    518 / 1191 loss=1.79, trans_loss=4.583, nll_loss=1.766, w2v_ctc_loss=0.557, task_loss=2.422, contrastive_loss=0, total=6653.2, n_correct=4792.46, ppl=3.4, accuracy=72.032, wps=18178.7, ups=1.37, wpb=13306.4, bsz=454.1, num_updates=27900, lr=8.46668e-05, gnorm=0.41, clip=0, loss_scale=32, train_wall=73, gb_free=11.3, wall=25557
2023-08-26 06:19:54 | INFO | train_inner | epoch 024:    618 / 1191 loss=1.788, trans_loss=4.578, nll_loss=1.758, w2v_ctc_loss=0.55, task_loss=2.533, contrastive_loss=0, total=6553.1, n_correct=4733.56, ppl=3.38, accuracy=72.234, wps=18565, ups=1.42, wpb=13106.2, bsz=419.5, num_updates=28000, lr=8.45154e-05, gnorm=0.398, clip=0, loss_scale=32, train_wall=70, gb_free=13.4, wall=25627
2023-08-26 06:19:54 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 06:20:27 | INFO | dev_st | epoch 024 | valid on 'dev_st' subset | loss 3.664 | trans_loss 4.877 | nll_loss 2.096 | w2v_ctc_loss 1.196 | task_loss 8.507 | contrastive_loss 0 | total 6138.43 | n_correct 4374.43 | ppl 4.27 | accuracy 71.263 | uer 16.639 | wer 18.557 | raw_wer 18.557 | bleu 28.97 | wps 1755.9 | wpb 6138.4 | bsz 201.1 | num_updates 28000 | best_bleu 29.16
2023-08-26 06:20:27 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 24 @ 28000 updates
2023-08-26 06:20:27 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_24_28000.pt
2023-08-26 06:20:29 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_24_28000.pt
2023-08-26 06:20:34 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_24_28000.pt (epoch 24 @ 28000 updates, score 28.97) (writing took 7.864079205002781 seconds)
2023-08-26 06:21:46 | INFO | train_inner | epoch 024:    718 / 1191 loss=1.782, trans_loss=4.576, nll_loss=1.757, w2v_ctc_loss=0.548, task_loss=2.234, contrastive_loss=0, total=6744.31, n_correct=4876.43, ppl=3.38, accuracy=72.304, wps=12034, ups=0.89, wpb=13488.6, bsz=468.4, num_updates=28100, lr=8.43649e-05, gnorm=0.388, clip=0, loss_scale=32, train_wall=71, gb_free=11.9, wall=25740
2023-08-26 06:22:58 | INFO | train_inner | epoch 024:    818 / 1191 loss=1.789, trans_loss=4.578, nll_loss=1.759, w2v_ctc_loss=0.56, task_loss=2.33, contrastive_loss=0, total=6726.17, n_correct=4855.89, ppl=3.38, accuracy=72.194, wps=18771.3, ups=1.4, wpb=13452.3, bsz=449.6, num_updates=28200, lr=8.42152e-05, gnorm=0.398, clip=0, loss_scale=32, train_wall=71, gb_free=12.4, wall=25811
2023-08-26 06:24:10 | INFO | train_inner | epoch 024:    918 / 1191 loss=1.783, trans_loss=4.579, nll_loss=1.76, w2v_ctc_loss=0.547, task_loss=2.307, contrastive_loss=0, total=6721.97, n_correct=4859.76, ppl=3.39, accuracy=72.297, wps=18623.2, ups=1.39, wpb=13443.9, bsz=456.1, num_updates=28300, lr=8.40663e-05, gnorm=0.39, clip=0, loss_scale=32, train_wall=72, gb_free=14.3, wall=25883
2023-08-26 06:25:23 | INFO | train_inner | epoch 024:   1018 / 1191 loss=1.787, trans_loss=4.581, nll_loss=1.763, w2v_ctc_loss=0.55, task_loss=2.449, contrastive_loss=0, total=6602.39, n_correct=4759.7, ppl=3.39, accuracy=72.091, wps=18143.8, ups=1.37, wpb=13204.8, bsz=443.8, num_updates=28400, lr=8.39181e-05, gnorm=0.398, clip=0, loss_scale=32, train_wall=72, gb_free=13.5, wall=25956
2023-08-26 06:26:36 | INFO | train_inner | epoch 024:   1118 / 1191 loss=1.788, trans_loss=4.58, nll_loss=1.762, w2v_ctc_loss=0.551, task_loss=2.442, contrastive_loss=0, total=6713.46, n_correct=4843.29, ppl=3.39, accuracy=72.143, wps=18387.4, ups=1.37, wpb=13426.9, bsz=436.6, num_updates=28500, lr=8.37708e-05, gnorm=0.393, clip=0, loss_scale=32, train_wall=72, gb_free=6.3, wall=26029
2023-08-26 06:27:28 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 06:28:01 | INFO | dev_st | epoch 024 | valid on 'dev_st' subset | loss 3.66 | trans_loss 4.869 | nll_loss 2.09 | w2v_ctc_loss 1.199 | task_loss 8.493 | contrastive_loss 0 | total 6138.43 | n_correct 4377 | ppl 4.26 | accuracy 71.305 | uer 16.498 | wer 18.427 | raw_wer 18.427 | bleu 28.7 | wps 1751.5 | wpb 6138.4 | bsz 201.1 | num_updates 28573 | best_bleu 29.16
2023-08-26 06:28:01 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 24 @ 28573 updates
2023-08-26 06:28:01 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.7004.pt
2023-08-26 06:28:03 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.7004.pt
2023-08-26 06:28:09 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.7004.pt (epoch 24 @ 28573 updates, score 28.7) (writing took 8.249519281001994 seconds)
2023-08-26 06:28:09 | INFO | fairseq_cli.train | end of epoch 24 (average epoch stats below)
2023-08-26 06:28:09 | INFO | train | epoch 024 | loss 1.786 | trans_loss 4.579 | nll_loss 1.76 | w2v_ctc_loss 0.55 | task_loss 2.348 | contrastive_loss 0 | total 6703.69 | n_correct 4839.7 | ppl 3.39 | accuracy 72.195 | wps 16897.4 | ups 1.26 | wpb 13407.4 | bsz 452.1 | num_updates 28573 | lr 8.36637e-05 | gnorm 0.393 | clip 0 | loss_scale 32 | train_wall 850 | gb_free 14.9 | wall 26122
2023-08-26 06:28:09 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 06:28:09 | INFO | fairseq.trainer | begin training epoch 25
2023-08-26 06:28:09 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 06:28:36 | INFO | train_inner | epoch 025:     27 / 1191 loss=1.785, trans_loss=4.575, nll_loss=1.755, w2v_ctc_loss=0.551, task_loss=2.366, contrastive_loss=0, total=6718.59, n_correct=4853.36, ppl=3.38, accuracy=72.238, wps=11214.8, ups=0.83, wpb=13437.2, bsz=448.5, num_updates=28600, lr=8.36242e-05, gnorm=0.391, clip=0, loss_scale=32, train_wall=71, gb_free=5, wall=26149
2023-08-26 06:29:48 | INFO | train_inner | epoch 025:    127 / 1191 loss=1.777, trans_loss=4.562, nll_loss=1.738, w2v_ctc_loss=0.541, task_loss=2.497, contrastive_loss=0, total=6574.28, n_correct=4768.26, ppl=3.34, accuracy=72.529, wps=18360.5, ups=1.4, wpb=13148.6, bsz=434.4, num_updates=28700, lr=8.34784e-05, gnorm=0.396, clip=0, loss_scale=32, train_wall=71, gb_free=15.1, wall=26221
2023-08-26 06:31:00 | INFO | train_inner | epoch 025:    227 / 1191 loss=1.776, trans_loss=4.571, nll_loss=1.75, w2v_ctc_loss=0.539, task_loss=2.227, contrastive_loss=0, total=6782.75, n_correct=4913.6, ppl=3.36, accuracy=72.443, wps=18822.7, ups=1.39, wpb=13565.5, bsz=473.4, num_updates=28800, lr=8.33333e-05, gnorm=0.388, clip=0, loss_scale=32, train_wall=72, gb_free=12.2, wall=26293
2023-08-26 06:32:12 | INFO | train_inner | epoch 025:    327 / 1191 loss=1.785, trans_loss=4.569, nll_loss=1.748, w2v_ctc_loss=0.553, task_loss=2.495, contrastive_loss=0, total=6602.26, n_correct=4779.24, ppl=3.36, accuracy=72.388, wps=18247.5, ups=1.38, wpb=13204.5, bsz=429.2, num_updates=28900, lr=8.3189e-05, gnorm=0.398, clip=0, loss_scale=32, train_wall=72, gb_free=14.6, wall=26365
2023-08-26 06:33:24 | INFO | train_inner | epoch 025:    427 / 1191 loss=1.788, trans_loss=4.575, nll_loss=1.755, w2v_ctc_loss=0.553, task_loss=2.587, contrastive_loss=0, total=6580.74, n_correct=4754.11, ppl=3.38, accuracy=72.243, wps=18276.2, ups=1.39, wpb=13161.5, bsz=421.1, num_updates=29000, lr=8.30455e-05, gnorm=0.398, clip=0, loss_scale=32, train_wall=71, gb_free=13.4, wall=26437
2023-08-26 06:34:36 | INFO | train_inner | epoch 025:    527 / 1191 loss=1.777, trans_loss=4.571, nll_loss=1.751, w2v_ctc_loss=0.541, task_loss=2.169, contrastive_loss=0, total=6832.27, n_correct=4948.54, ppl=3.36, accuracy=72.429, wps=18961.9, ups=1.39, wpb=13664.5, bsz=480.7, num_updates=29100, lr=8.29027e-05, gnorm=0.384, clip=0, loss_scale=32, train_wall=71, gb_free=12, wall=26509
2023-08-26 06:35:48 | INFO | train_inner | epoch 025:    627 / 1191 loss=1.775, trans_loss=4.566, nll_loss=1.744, w2v_ctc_loss=0.537, task_loss=2.27, contrastive_loss=0, total=6779.66, n_correct=4918.25, ppl=3.35, accuracy=72.544, wps=18975.5, ups=1.4, wpb=13559.3, bsz=455.7, num_updates=29200, lr=8.27606e-05, gnorm=0.38, clip=0, loss_scale=32, train_wall=71, gb_free=13.8, wall=26581
2023-08-26 06:37:00 | INFO | train_inner | epoch 025:    727 / 1191 loss=1.784, trans_loss=4.574, nll_loss=1.754, w2v_ctc_loss=0.548, task_loss=2.373, contrastive_loss=0, total=6684.64, n_correct=4827.89, ppl=3.37, accuracy=72.224, wps=18586.5, ups=1.39, wpb=13369.3, bsz=450.6, num_updates=29300, lr=8.26192e-05, gnorm=0.388, clip=0, loss_scale=32, train_wall=71, gb_free=11.1, wall=26653
2023-08-26 06:38:12 | INFO | train_inner | epoch 025:    827 / 1191 loss=1.78, trans_loss=4.573, nll_loss=1.753, w2v_ctc_loss=0.543, task_loss=2.288, contrastive_loss=0, total=6728.48, n_correct=4869.01, ppl=3.37, accuracy=72.364, wps=18644, ups=1.39, wpb=13457, bsz=456.3, num_updates=29400, lr=8.24786e-05, gnorm=0.387, clip=0, loss_scale=64, train_wall=72, gb_free=13.7, wall=26725
2023-08-26 06:39:24 | INFO | train_inner | epoch 025:    927 / 1191 loss=1.777, trans_loss=4.57, nll_loss=1.749, w2v_ctc_loss=0.541, task_loss=2.202, contrastive_loss=0, total=6792.44, n_correct=4915.36, ppl=3.36, accuracy=72.365, wps=18795.5, ups=1.38, wpb=13584.9, bsz=474.1, num_updates=29500, lr=8.23387e-05, gnorm=0.383, clip=0, loss_scale=64, train_wall=72, gb_free=10.2, wall=26797
2023-08-26 06:40:33 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 32.0
2023-08-26 06:40:35 | INFO | train_inner | epoch 025:   1028 / 1191 loss=1.782, trans_loss=4.581, nll_loss=1.763, w2v_ctc_loss=0.542, task_loss=2.316, contrastive_loss=0, total=6654.98, n_correct=4803.61, ppl=3.39, accuracy=72.181, wps=18637.2, ups=1.4, wpb=13310, bsz=451.9, num_updates=29600, lr=8.21995e-05, gnorm=0.39, clip=0, loss_scale=32, train_wall=71, gb_free=14.8, wall=26868
2023-08-26 06:41:48 | INFO | train_inner | epoch 025:   1128 / 1191 loss=1.782, trans_loss=4.569, nll_loss=1.748, w2v_ctc_loss=0.55, task_loss=2.432, contrastive_loss=0, total=6682.68, n_correct=4840.63, ppl=3.36, accuracy=72.435, wps=18477.4, ups=1.38, wpb=13365.4, bsz=443.9, num_updates=29700, lr=8.2061e-05, gnorm=0.391, clip=0, loss_scale=32, train_wall=72, gb_free=11.7, wall=26941
2023-08-26 06:42:33 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 06:43:05 | INFO | dev_st | epoch 025 | valid on 'dev_st' subset | loss 3.644 | trans_loss 4.865 | nll_loss 2.082 | w2v_ctc_loss 1.157 | task_loss 8.491 | contrastive_loss 0 | total 6138.43 | n_correct 4373.57 | ppl 4.23 | accuracy 71.249 | uer 16.185 | wer 18.018 | raw_wer 18.018 | bleu 29.19 | wps 1778.1 | wpb 6138.4 | bsz 201.1 | num_updates 29763 | best_bleu 29.19
2023-08-26 06:43:05 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 25 @ 29763 updates
2023-08-26 06:43:05 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 06:43:12 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-26 06:43:19 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 25 @ 29763 updates, score 29.19) (writing took 14.222670354000002 seconds)
2023-08-26 06:43:20 | INFO | fairseq_cli.train | end of epoch 25 (average epoch stats below)
2023-08-26 06:43:20 | INFO | train | epoch 025 | loss 1.781 | trans_loss 4.572 | nll_loss 1.751 | w2v_ctc_loss 0.545 | task_loss 2.342 | contrastive_loss 0 | total 6704.2 | n_correct 4851.36 | ppl 3.37 | accuracy 72.363 | wps 17515.8 | ups 1.31 | wpb 13408.4 | bsz 452.3 | num_updates 29763 | lr 8.19741e-05 | gnorm 0.389 | clip 0 | loss_scale 32 | train_wall 850 | gb_free 11.5 | wall 27033
2023-08-26 06:43:20 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 06:43:20 | INFO | fairseq.trainer | begin training epoch 26
2023-08-26 06:43:20 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 06:43:54 | INFO | train_inner | epoch 026:     37 / 1191 loss=1.783, trans_loss=4.577, nll_loss=1.759, w2v_ctc_loss=0.547, task_loss=2.235, contrastive_loss=0, total=6825.18, n_correct=4929.43, ppl=3.38, accuracy=72.224, wps=10806.7, ups=0.79, wpb=13650.4, bsz=464.6, num_updates=29800, lr=8.19232e-05, gnorm=0.386, clip=0, loss_scale=32, train_wall=71, gb_free=14.9, wall=27067
2023-08-26 06:45:05 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-26 06:45:07 | INFO | train_inner | epoch 026:    138 / 1191 loss=1.772, trans_loss=4.563, nll_loss=1.739, w2v_ctc_loss=0.534, task_loss=2.356, contrastive_loss=0, total=6709.39, n_correct=4871.2, ppl=3.34, accuracy=72.603, wps=18329.4, ups=1.37, wpb=13418.8, bsz=455.2, num_updates=29900, lr=8.17861e-05, gnorm=0.385, clip=0, loss_scale=16, train_wall=73, gb_free=13, wall=27140
2023-08-26 06:46:19 | INFO | train_inner | epoch 026:    238 / 1191 loss=1.771, trans_loss=4.556, nll_loss=1.73, w2v_ctc_loss=0.536, task_loss=2.349, contrastive_loss=0, total=6666.23, n_correct=4848.9, ppl=3.32, accuracy=72.738, wps=18629.7, ups=1.4, wpb=13332.5, bsz=450.1, num_updates=30000, lr=8.16497e-05, gnorm=0.388, clip=0, loss_scale=16, train_wall=71, gb_free=13.9, wall=27212
2023-08-26 06:46:19 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 06:46:51 | INFO | dev_st | epoch 026 | valid on 'dev_st' subset | loss 3.665 | trans_loss 4.869 | nll_loss 2.086 | w2v_ctc_loss 1.216 | task_loss 8.459 | contrastive_loss 0 | total 6138.43 | n_correct 4379.43 | ppl 4.25 | accuracy 71.344 | uer 16.447 | wer 18.304 | raw_wer 18.304 | bleu 28.89 | wps 1752.7 | wpb 6138.4 | bsz 201.1 | num_updates 30000 | best_bleu 29.19
2023-08-26 06:46:51 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 26 @ 30000 updates
2023-08-26 06:46:51 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_26_30000.pt
2023-08-26 06:46:53 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_26_30000.pt
2023-08-26 06:46:58 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_26_30000.pt (epoch 26 @ 30000 updates, score 28.89) (writing took 6.574596063001081 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:0')
2023-08-26 06:48:10 | INFO | train_inner | epoch 026:    338 / 1191 loss=1.768, trans_loss=4.563, nll_loss=1.74, w2v_ctc_loss=0.53, task_loss=2.022, contrastive_loss=0, total=6899.8, n_correct=5008.85, ppl=3.34, accuracy=72.594, wps=12371.8, ups=0.9, wpb=13799.6, bsz=500.6, num_updates=30100, lr=8.15139e-05, gnorm=0.38, clip=0, loss_scale=16, train_wall=71, gb_free=10.2, wall=27323
2023-08-26 06:49:22 | INFO | train_inner | epoch 026:    438 / 1191 loss=1.776, trans_loss=4.558, nll_loss=1.734, w2v_ctc_loss=0.538, task_loss=2.534, contrastive_loss=0, total=6569.02, n_correct=4768.97, ppl=3.33, accuracy=72.598, wps=18267.6, ups=1.39, wpb=13138, bsz=423, num_updates=30200, lr=8.13788e-05, gnorm=0.394, clip=0, loss_scale=16, train_wall=71, gb_free=14.6, wall=27395
2023-08-26 06:50:35 | INFO | train_inner | epoch 026:    538 / 1191 loss=1.774, trans_loss=4.561, nll_loss=1.737, w2v_ctc_loss=0.538, task_loss=2.36, contrastive_loss=0, total=6687.4, n_correct=4852.7, ppl=3.33, accuracy=72.565, wps=18470.4, ups=1.38, wpb=13374.8, bsz=452.8, num_updates=30300, lr=8.12444e-05, gnorm=0.391, clip=0, loss_scale=16, train_wall=72, gb_free=14.7, wall=27468
2023-08-26 06:51:46 | INFO | train_inner | epoch 026:    638 / 1191 loss=1.78, trans_loss=4.564, nll_loss=1.741, w2v_ctc_loss=0.544, task_loss=2.541, contrastive_loss=0, total=6600.22, n_correct=4781.77, ppl=3.34, accuracy=72.449, wps=18506.8, ups=1.4, wpb=13200.4, bsz=425.9, num_updates=30400, lr=8.11107e-05, gnorm=0.394, clip=0, loss_scale=16, train_wall=71, gb_free=10.8, wall=27539
2023-08-26 06:52:58 | INFO | train_inner | epoch 026:    738 / 1191 loss=1.775, trans_loss=4.565, nll_loss=1.742, w2v_ctc_loss=0.535, task_loss=2.364, contrastive_loss=0, total=6782.32, n_correct=4923.58, ppl=3.35, accuracy=72.594, wps=18798.4, ups=1.39, wpb=13564.6, bsz=446.6, num_updates=30500, lr=8.09776e-05, gnorm=0.385, clip=0, loss_scale=16, train_wall=72, gb_free=12.3, wall=27611
2023-08-26 06:54:10 | INFO | train_inner | epoch 026:    838 / 1191 loss=1.772, trans_loss=4.56, nll_loss=1.736, w2v_ctc_loss=0.535, task_loss=2.283, contrastive_loss=0, total=6691.89, n_correct=4857.27, ppl=3.33, accuracy=72.584, wps=18714.1, ups=1.4, wpb=13383.8, bsz=458.3, num_updates=30600, lr=8.08452e-05, gnorm=0.388, clip=0, loss_scale=16, train_wall=71, gb_free=13.1, wall=27683
2023-08-26 06:55:21 | INFO | train_inner | epoch 026:    938 / 1191 loss=1.783, trans_loss=4.57, nll_loss=1.749, w2v_ctc_loss=0.549, task_loss=2.415, contrastive_loss=0, total=6663.94, n_correct=4820.98, ppl=3.36, accuracy=72.344, wps=18625, ups=1.4, wpb=13327.9, bsz=443.6, num_updates=30700, lr=8.07134e-05, gnorm=0.41, clip=0, loss_scale=16, train_wall=71, gb_free=10.4, wall=27754
2023-08-26 06:56:33 | INFO | train_inner | epoch 026:   1038 / 1191 loss=1.78, trans_loss=4.567, nll_loss=1.746, w2v_ctc_loss=0.548, task_loss=2.38, contrastive_loss=0, total=6693.53, n_correct=4850.75, ppl=3.35, accuracy=72.469, wps=18546.9, ups=1.39, wpb=13387.1, bsz=446.3, num_updates=30800, lr=8.05823e-05, gnorm=0.394, clip=0, loss_scale=16, train_wall=72, gb_free=5.7, wall=27827
2023-08-26 06:57:46 | INFO | train_inner | epoch 026:   1138 / 1191 loss=1.773, trans_loss=4.568, nll_loss=1.748, w2v_ctc_loss=0.536, task_loss=2.232, contrastive_loss=0, total=6798.29, n_correct=4926.3, ppl=3.36, accuracy=72.464, wps=18740.8, ups=1.38, wpb=13596.6, bsz=478.7, num_updates=30900, lr=8.04518e-05, gnorm=0.383, clip=0, loss_scale=16, train_wall=72, gb_free=10.5, wall=27899
2023-08-26 06:58:24 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:7')
2023-08-26 06:58:57 | INFO | dev_st | epoch 026 | valid on 'dev_st' subset | loss 3.666 | trans_loss 4.864 | nll_loss 2.081 | w2v_ctc_loss 1.231 | task_loss 8.555 | contrastive_loss 0 | total 6138.43 | n_correct 4381.29 | ppl 4.23 | accuracy 71.375 | uer 16.5 | wer 18.289 | raw_wer 18.289 | bleu 28.81 | wps 1763.8 | wpb 6138.4 | bsz 201.1 | num_updates 30953 | best_bleu 29.19
2023-08-26 06:58:57 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 26 @ 30953 updates
2023-08-26 06:58:57 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.8103.pt
2023-08-26 06:58:59 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.8103.pt
2023-08-26 06:59:03 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.8103.pt (epoch 26 @ 30953 updates, score 28.81) (writing took 6.541179273001035 seconds)
2023-08-26 06:59:04 | INFO | fairseq_cli.train | end of epoch 26 (average epoch stats below)
2023-08-26 06:59:04 | INFO | train | epoch 026 | loss 1.775 | trans_loss 4.564 | nll_loss 1.741 | w2v_ctc_loss 0.539 | task_loss 2.345 | contrastive_loss 0 | total 6703.84 | n_correct 4862.13 | ppl 3.34 | accuracy 72.528 | wps 16908.2 | ups 1.26 | wpb 13407.7 | bsz 452.2 | num_updates 30953 | lr 8.03829e-05 | gnorm 0.39 | clip 0 | loss_scale 16 | train_wall 850 | gb_free 12.4 | wall 27977
2023-08-26 06:59:04 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 06:59:04 | INFO | fairseq.trainer | begin training epoch 27
2023-08-26 06:59:04 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 06:59:45 | INFO | train_inner | epoch 027:     47 / 1191 loss=1.777, trans_loss=4.562, nll_loss=1.738, w2v_ctc_loss=0.544, task_loss=2.411, contrastive_loss=0, total=6630.76, n_correct=4811.66, ppl=3.34, accuracy=72.566, wps=11134.1, ups=0.84, wpb=13261.5, bsz=438.4, num_updates=31000, lr=8.03219e-05, gnorm=0.392, clip=0, loss_scale=16, train_wall=71, gb_free=13.5, wall=28018
2023-08-26 07:00:57 | INFO | train_inner | epoch 027:    147 / 1191 loss=1.772, trans_loss=4.557, nll_loss=1.732, w2v_ctc_loss=0.538, task_loss=2.294, contrastive_loss=0, total=6722.36, n_correct=4883.07, ppl=3.32, accuracy=72.639, wps=18601.2, ups=1.38, wpb=13444.7, bsz=465.8, num_updates=31100, lr=8.01927e-05, gnorm=0.393, clip=0, loss_scale=16, train_wall=72, gb_free=11.6, wall=28090
2023-08-26 07:02:09 | INFO | train_inner | epoch 027:    247 / 1191 loss=1.762, trans_loss=4.552, nll_loss=1.726, w2v_ctc_loss=0.523, task_loss=2.166, contrastive_loss=0, total=6816.12, n_correct=4961.3, ppl=3.31, accuracy=72.788, wps=19019.6, ups=1.4, wpb=13632.2, bsz=481.5, num_updates=31200, lr=8.00641e-05, gnorm=0.386, clip=0, loss_scale=16, train_wall=71, gb_free=13, wall=28162
2023-08-26 07:02:21 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-26 07:03:22 | INFO | train_inner | epoch 027:    348 / 1191 loss=1.764, trans_loss=4.55, nll_loss=1.724, w2v_ctc_loss=0.528, task_loss=2.227, contrastive_loss=0, total=6740.39, n_correct=4912.77, ppl=3.3, accuracy=72.886, wps=18536.6, ups=1.38, wpb=13480.8, bsz=468.2, num_updates=31300, lr=7.99361e-05, gnorm=0.387, clip=0, loss_scale=8, train_wall=72, gb_free=12.5, wall=28235
2023-08-26 07:04:34 | INFO | train_inner | epoch 027:    448 / 1191 loss=1.778, trans_loss=4.565, nll_loss=1.742, w2v_ctc_loss=0.543, task_loss=2.499, contrastive_loss=0, total=6617.99, n_correct=4798.02, ppl=3.35, accuracy=72.5, wps=18313.2, ups=1.38, wpb=13236, bsz=437.6, num_updates=31400, lr=7.98087e-05, gnorm=0.399, clip=0, loss_scale=8, train_wall=72, gb_free=6.1, wall=28307
2023-08-26 07:05:46 | INFO | train_inner | epoch 027:    548 / 1191 loss=1.769, trans_loss=4.555, nll_loss=1.731, w2v_ctc_loss=0.535, task_loss=2.22, contrastive_loss=0, total=6786.76, n_correct=4935.83, ppl=3.32, accuracy=72.727, wps=18912.6, ups=1.39, wpb=13573.5, bsz=467.9, num_updates=31500, lr=7.96819e-05, gnorm=0.393, clip=0, loss_scale=8, train_wall=71, gb_free=13.4, wall=28379
2023-08-26 07:06:57 | INFO | train_inner | epoch 027:    648 / 1191 loss=1.772, trans_loss=4.557, nll_loss=1.732, w2v_ctc_loss=0.535, task_loss=2.398, contrastive_loss=0, total=6681.62, n_correct=4856.22, ppl=3.32, accuracy=72.68, wps=18714.8, ups=1.4, wpb=13363.2, bsz=444.4, num_updates=31600, lr=7.95557e-05, gnorm=0.385, clip=0, loss_scale=8, train_wall=71, gb_free=11.8, wall=28450
2023-08-26 07:08:09 | INFO | train_inner | epoch 027:    748 / 1191 loss=1.772, trans_loss=4.558, nll_loss=1.733, w2v_ctc_loss=0.535, task_loss=2.45, contrastive_loss=0, total=6672.74, n_correct=4850.05, ppl=3.32, accuracy=72.685, wps=18637.2, ups=1.4, wpb=13345.5, bsz=442.4, num_updates=31700, lr=7.94301e-05, gnorm=0.394, clip=0, loss_scale=8, train_wall=71, gb_free=12.7, wall=28522
2023-08-26 07:09:21 | INFO | train_inner | epoch 027:    848 / 1191 loss=1.773, trans_loss=4.558, nll_loss=1.734, w2v_ctc_loss=0.537, task_loss=2.475, contrastive_loss=0, total=6644.45, n_correct=4824.88, ppl=3.33, accuracy=72.615, wps=18391.9, ups=1.38, wpb=13288.9, bsz=439.2, num_updates=31800, lr=7.93052e-05, gnorm=0.389, clip=0, loss_scale=8, train_wall=72, gb_free=13, wall=28594
2023-08-26 07:10:33 | INFO | train_inner | epoch 027:    948 / 1191 loss=1.778, trans_loss=4.564, nll_loss=1.741, w2v_ctc_loss=0.538, task_loss=2.521, contrastive_loss=0, total=6643.34, n_correct=4821, ppl=3.34, accuracy=72.569, wps=18372.8, ups=1.38, wpb=13286.7, bsz=425.1, num_updates=31900, lr=7.91808e-05, gnorm=0.396, clip=0, loss_scale=8, train_wall=72, gb_free=10.6, wall=28667
2023-08-26 07:11:45 | INFO | train_inner | epoch 027:   1048 / 1191 loss=1.772, trans_loss=4.565, nll_loss=1.743, w2v_ctc_loss=0.533, task_loss=2.366, contrastive_loss=0, total=6650.56, n_correct=4824.49, ppl=3.35, accuracy=72.543, wps=18525.7, ups=1.39, wpb=13301.1, bsz=450.8, num_updates=32000, lr=7.90569e-05, gnorm=0.395, clip=0, loss_scale=8, train_wall=71, gb_free=13.3, wall=28738
2023-08-26 07:11:45 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 07:12:17 | INFO | dev_st | epoch 027 | valid on 'dev_st' subset | loss 3.644 | trans_loss 4.863 | nll_loss 2.081 | w2v_ctc_loss 1.162 | task_loss 8.553 | contrastive_loss 0 | total 6138.43 | n_correct 4383.43 | ppl 4.23 | accuracy 71.41 | uer 16.246 | wer 18.193 | raw_wer 18.193 | bleu 28.85 | wps 1766.5 | wpb 6138.4 | bsz 201.1 | num_updates 32000 | best_bleu 29.19
2023-08-26 07:12:17 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 27 @ 32000 updates
2023-08-26 07:12:17 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_27_32000.pt
2023-08-26 07:12:19 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_27_32000.pt
2023-08-26 07:12:24 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_27_32000.pt (epoch 27 @ 32000 updates, score 28.85) (writing took 6.845947680994868 seconds)
2023-08-26 07:13:36 | INFO | train_inner | epoch 027:   1148 / 1191 loss=1.773, trans_loss=4.561, nll_loss=1.738, w2v_ctc_loss=0.535, task_loss=2.294, contrastive_loss=0, total=6756.52, n_correct=4906.86, ppl=3.34, accuracy=72.624, wps=12163.2, ups=0.9, wpb=13513, bsz=452.5, num_updates=32100, lr=7.89337e-05, gnorm=0.429, clip=0, loss_scale=8, train_wall=71, gb_free=14, wall=28849
2023-08-26 07:14:07 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 07:14:39 | INFO | dev_st | epoch 027 | valid on 'dev_st' subset | loss 3.65 | trans_loss 4.86 | nll_loss 2.077 | w2v_ctc_loss 1.188 | task_loss 8.507 | contrastive_loss 0 | total 6138.43 | n_correct 4382.14 | ppl 4.22 | accuracy 71.389 | uer 16.099 | wer 17.854 | raw_wer 17.854 | bleu 29.06 | wps 1775.3 | wpb 6138.4 | bsz 201.1 | num_updates 32143 | best_bleu 29.19
2023-08-26 07:14:39 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 27 @ 32143 updates
2023-08-26 07:14:39 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.0609.pt
2023-08-26 07:14:41 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.0609.pt
2023-08-26 07:14:46 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.0609.pt (epoch 27 @ 32143 updates, score 29.06) (writing took 6.648723405000055 seconds)
2023-08-26 07:14:46 | INFO | fairseq_cli.train | end of epoch 27 (average epoch stats below)
2023-08-26 07:14:46 | INFO | train | epoch 027 | loss 1.771 | trans_loss 4.557 | nll_loss 1.733 | w2v_ctc_loss 0.534 | task_loss 2.346 | contrastive_loss 0 | total 6704.56 | n_correct 4872.77 | ppl 3.32 | accuracy 72.678 | wps 16929.7 | ups 1.26 | wpb 13409.1 | bsz 452.3 | num_updates 32143 | lr 7.88809e-05 | gnorm 0.395 | clip 0 | loss_scale 8 | train_wall 849 | gb_free 13.3 | wall 28919
2023-08-26 07:14:46 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 07:14:46 | INFO | fairseq.trainer | begin training epoch 28
2023-08-26 07:14:46 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 07:15:35 | INFO | train_inner | epoch 028:     57 / 1191 loss=1.763, trans_loss=4.547, nll_loss=1.719, w2v_ctc_loss=0.527, task_loss=2.304, contrastive_loss=0, total=6701.35, n_correct=4883.22, ppl=3.29, accuracy=72.869, wps=11327, ups=0.85, wpb=13402.7, bsz=455.5, num_updates=32200, lr=7.8811e-05, gnorm=0.392, clip=0, loss_scale=8, train_wall=71, gb_free=6.4, wall=28968
2023-08-26 07:16:46 | INFO | train_inner | epoch 028:    157 / 1191 loss=1.77, trans_loss=4.549, nll_loss=1.722, w2v_ctc_loss=0.539, task_loss=2.471, contrastive_loss=0, total=6662.36, n_correct=4854.57, ppl=3.3, accuracy=72.866, wps=18616.7, ups=1.4, wpb=13324.7, bsz=429.7, num_updates=32300, lr=7.86889e-05, gnorm=0.394, clip=0, loss_scale=8, train_wall=71, gb_free=13.5, wall=29039
2023-08-26 07:17:58 | INFO | train_inner | epoch 028:    257 / 1191 loss=1.766, trans_loss=4.551, nll_loss=1.724, w2v_ctc_loss=0.529, task_loss=2.329, contrastive_loss=0, total=6695.94, n_correct=4877.97, ppl=3.3, accuracy=72.85, wps=18606.4, ups=1.39, wpb=13391.9, bsz=454.4, num_updates=32400, lr=7.85674e-05, gnorm=0.397, clip=0, loss_scale=8, train_wall=71, gb_free=13.4, wall=29111
2023-08-26 07:19:11 | INFO | train_inner | epoch 028:    357 / 1191 loss=1.763, trans_loss=4.546, nll_loss=1.718, w2v_ctc_loss=0.529, task_loss=2.318, contrastive_loss=0, total=6727.32, n_correct=4907.25, ppl=3.29, accuracy=72.945, wps=18507.7, ups=1.38, wpb=13454.6, bsz=459.2, num_updates=32500, lr=7.84465e-05, gnorm=0.398, clip=0, loss_scale=8, train_wall=72, gb_free=13.4, wall=29184
2023-08-26 07:20:23 | INFO | train_inner | epoch 028:    457 / 1191 loss=1.763, trans_loss=4.549, nll_loss=1.722, w2v_ctc_loss=0.527, task_loss=2.242, contrastive_loss=0, total=6777.32, n_correct=4940.21, ppl=3.3, accuracy=72.893, wps=18751.3, ups=1.38, wpb=13554.6, bsz=471.8, num_updates=32600, lr=7.8326e-05, gnorm=0.387, clip=0, loss_scale=8, train_wall=72, gb_free=12.8, wall=29256
2023-08-26 07:21:34 | INFO | train_inner | epoch 028:    557 / 1191 loss=1.764, trans_loss=4.55, nll_loss=1.723, w2v_ctc_loss=0.525, task_loss=2.313, contrastive_loss=0, total=6695.22, n_correct=4884.04, ppl=3.3, accuracy=72.948, wps=18863.3, ups=1.41, wpb=13390.4, bsz=451.6, num_updates=32700, lr=7.82062e-05, gnorm=0.388, clip=0, loss_scale=8, train_wall=70, gb_free=13.3, wall=29327
2023-08-26 07:22:46 | INFO | train_inner | epoch 028:    657 / 1191 loss=1.763, trans_loss=4.548, nll_loss=1.722, w2v_ctc_loss=0.526, task_loss=2.273, contrastive_loss=0, total=6769.44, n_correct=4936.41, ppl=3.3, accuracy=72.922, wps=18876.7, ups=1.39, wpb=13538.9, bsz=460.3, num_updates=32800, lr=7.80869e-05, gnorm=0.386, clip=0, loss_scale=8, train_wall=71, gb_free=13.5, wall=29399
2023-08-26 07:23:59 | INFO | train_inner | epoch 028:    757 / 1191 loss=1.765, trans_loss=4.549, nll_loss=1.723, w2v_ctc_loss=0.53, task_loss=2.327, contrastive_loss=0, total=6697.15, n_correct=4875.74, ppl=3.3, accuracy=72.803, wps=18456.5, ups=1.38, wpb=13394.3, bsz=455.2, num_updates=32900, lr=7.79681e-05, gnorm=0.397, clip=0, loss_scale=8, train_wall=72, gb_free=14, wall=29472
2023-08-26 07:25:10 | INFO | train_inner | epoch 028:    857 / 1191 loss=1.767, trans_loss=4.552, nll_loss=1.726, w2v_ctc_loss=0.532, task_loss=2.345, contrastive_loss=0, total=6642.02, n_correct=4833.48, ppl=3.31, accuracy=72.771, wps=18564.6, ups=1.4, wpb=13284, bsz=451.4, num_updates=33000, lr=7.78499e-05, gnorm=0.388, clip=0, loss_scale=8, train_wall=71, gb_free=13, wall=29543
2023-08-26 07:26:22 | INFO | train_inner | epoch 028:    957 / 1191 loss=1.774, trans_loss=4.558, nll_loss=1.733, w2v_ctc_loss=0.539, task_loss=2.454, contrastive_loss=0, total=6645.42, n_correct=4831.16, ppl=3.32, accuracy=72.699, wps=18488.2, ups=1.39, wpb=13290.8, bsz=437.2, num_updates=33100, lr=7.77322e-05, gnorm=0.387, clip=0, loss_scale=8, train_wall=71, gb_free=11.2, wall=29615
2023-08-26 07:27:34 | INFO | train_inner | epoch 028:   1057 / 1191 loss=1.771, trans_loss=4.559, nll_loss=1.735, w2v_ctc_loss=0.528, task_loss=2.442, contrastive_loss=0, total=6685.52, n_correct=4856.11, ppl=3.33, accuracy=72.636, wps=18563.8, ups=1.39, wpb=13371, bsz=440.5, num_updates=33200, lr=7.76151e-05, gnorm=0.384, clip=0, loss_scale=8, train_wall=71, gb_free=13.6, wall=29687
2023-08-26 07:28:46 | INFO | train_inner | epoch 028:   1157 / 1191 loss=1.769, trans_loss=4.552, nll_loss=1.726, w2v_ctc_loss=0.531, task_loss=2.424, contrastive_loss=0, total=6679.26, n_correct=4861.79, ppl=3.31, accuracy=72.789, wps=18486.5, ups=1.38, wpb=13358.5, bsz=444.1, num_updates=33300, lr=7.74984e-05, gnorm=0.388, clip=0, loss_scale=16, train_wall=72, gb_free=12.5, wall=29759
2023-08-26 07:29:11 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 07:29:43 | INFO | dev_st | epoch 028 | valid on 'dev_st' subset | loss 3.659 | trans_loss 4.869 | nll_loss 2.088 | w2v_ctc_loss 1.195 | task_loss 8.482 | contrastive_loss 0 | total 6138.43 | n_correct 4382.29 | ppl 4.25 | accuracy 71.391 | uer 16.522 | wer 18.367 | raw_wer 18.367 | bleu 28.97 | wps 1754.3 | wpb 6138.4 | bsz 201.1 | num_updates 33334 | best_bleu 29.19
2023-08-26 07:29:43 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 28 @ 33334 updates
2023-08-26 07:29:43 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.9707.pt
2023-08-26 07:29:45 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.9707.pt
2023-08-26 07:29:50 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.9707.pt (epoch 28 @ 33334 updates, score 28.97) (writing took 6.491896382001869 seconds)
2023-08-26 07:29:50 | INFO | fairseq_cli.train | end of epoch 28 (average epoch stats below)
2023-08-26 07:29:50 | INFO | train | epoch 028 | loss 1.766 | trans_loss 4.55 | nll_loss 1.724 | w2v_ctc_loss 0.53 | task_loss 2.341 | contrastive_loss 0 | total 6703.69 | n_correct 4883.2 | ppl 3.3 | accuracy 72.844 | wps 17666.1 | ups 1.32 | wpb 13407.4 | bsz 452.1 | num_updates 33334 | lr 7.74589e-05 | gnorm 0.39 | clip 0 | loss_scale 16 | train_wall 849 | gb_free 13 | wall 29823
2023-08-26 07:29:50 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 07:29:50 | INFO | fairseq.trainer | begin training epoch 29
2023-08-26 07:29:50 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 07:30:46 | INFO | train_inner | epoch 029:     66 / 1191 loss=1.753, trans_loss=4.534, nll_loss=1.703, w2v_ctc_loss=0.518, task_loss=2.142, contrastive_loss=0, total=6803.37, n_correct=4983.02, ppl=3.26, accuracy=73.243, wps=11401.6, ups=0.84, wpb=13606.7, bsz=476.6, num_updates=33400, lr=7.73823e-05, gnorm=0.38, clip=0, loss_scale=16, train_wall=72, gb_free=15.2, wall=29879
2023-08-26 07:31:57 | INFO | train_inner | epoch 029:    166 / 1191 loss=1.76, trans_loss=4.54, nll_loss=1.71, w2v_ctc_loss=0.523, task_loss=2.395, contrastive_loss=0, total=6680.35, n_correct=4882.32, ppl=3.27, accuracy=73.085, wps=18603.6, ups=1.39, wpb=13360.7, bsz=438.8, num_updates=33500, lr=7.72667e-05, gnorm=0.383, clip=0, loss_scale=16, train_wall=71, gb_free=12.9, wall=29951
2023-08-26 07:33:10 | INFO | train_inner | epoch 029:    266 / 1191 loss=1.763, trans_loss=4.547, nll_loss=1.719, w2v_ctc_loss=0.52, task_loss=2.339, contrastive_loss=0, total=6674.12, n_correct=4866.23, ppl=3.29, accuracy=72.912, wps=18464.1, ups=1.38, wpb=13348.2, bsz=453.7, num_updates=33600, lr=7.71517e-05, gnorm=0.398, clip=0, loss_scale=16, train_wall=72, gb_free=13.7, wall=30023
2023-08-26 07:34:22 | INFO | train_inner | epoch 029:    366 / 1191 loss=1.764, trans_loss=4.546, nll_loss=1.717, w2v_ctc_loss=0.531, task_loss=2.374, contrastive_loss=0, total=6735.44, n_correct=4915.53, ppl=3.29, accuracy=72.98, wps=18697.2, ups=1.39, wpb=13470.9, bsz=449.9, num_updates=33700, lr=7.70371e-05, gnorm=0.391, clip=0, loss_scale=16, train_wall=72, gb_free=12.9, wall=30095
2023-08-26 07:35:34 | INFO | train_inner | epoch 029:    466 / 1191 loss=1.759, trans_loss=4.543, nll_loss=1.714, w2v_ctc_loss=0.522, task_loss=2.239, contrastive_loss=0, total=6784.29, n_correct=4956.65, ppl=3.28, accuracy=73.061, wps=18747.6, ups=1.38, wpb=13568.6, bsz=467.4, num_updates=33800, lr=7.69231e-05, gnorm=0.39, clip=0, loss_scale=16, train_wall=72, gb_free=13.3, wall=30167
2023-08-26 07:36:46 | INFO | train_inner | epoch 029:    566 / 1191 loss=1.773, trans_loss=4.55, nll_loss=1.723, w2v_ctc_loss=0.542, task_loss=2.594, contrastive_loss=0, total=6577.42, n_correct=4785.28, ppl=3.3, accuracy=72.753, wps=18254.5, ups=1.39, wpb=13154.8, bsz=420.8, num_updates=33900, lr=7.68095e-05, gnorm=0.394, clip=0, loss_scale=16, train_wall=71, gb_free=13.2, wall=30239
2023-08-26 07:37:57 | INFO | train_inner | epoch 029:    666 / 1191 loss=1.756, trans_loss=4.536, nll_loss=1.706, w2v_ctc_loss=0.522, task_loss=2.214, contrastive_loss=0, total=6748.22, n_correct=4938.52, ppl=3.26, accuracy=73.183, wps=19071.3, ups=1.41, wpb=13496.4, bsz=468.5, num_updates=34000, lr=7.66965e-05, gnorm=0.383, clip=0, loss_scale=16, train_wall=70, gb_free=13.1, wall=30310
2023-08-26 07:37:57 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 07:38:29 | INFO | dev_st | epoch 029 | valid on 'dev_st' subset | loss 3.644 | trans_loss 4.859 | nll_loss 2.074 | w2v_ctc_loss 1.168 | task_loss 8.489 | contrastive_loss 0 | total 6138.43 | n_correct 4390 | ppl 4.21 | accuracy 71.517 | uer 16.49 | wer 18.464 | raw_wer 18.464 | bleu 29.08 | wps 1759.3 | wpb 6138.4 | bsz 201.1 | num_updates 34000 | best_bleu 29.19
2023-08-26 07:38:29 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 29 @ 34000 updates
2023-08-26 07:38:29 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_29_34000.pt
2023-08-26 07:38:31 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_29_34000.pt
2023-08-26 07:38:36 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_29_34000.pt (epoch 29 @ 34000 updates, score 29.08) (writing took 6.83786234499712 seconds)
2023-08-26 07:39:48 | INFO | train_inner | epoch 029:    766 / 1191 loss=1.76, trans_loss=4.541, nll_loss=1.712, w2v_ctc_loss=0.523, task_loss=2.339, contrastive_loss=0, total=6681.24, n_correct=4880.09, ppl=3.28, accuracy=73.042, wps=12032.8, ups=0.9, wpb=13362.5, bsz=452.2, num_updates=34100, lr=7.6584e-05, gnorm=0.386, clip=0, loss_scale=16, train_wall=71, gb_free=13.4, wall=30421
2023-08-26 07:41:00 | INFO | train_inner | epoch 029:    866 / 1191 loss=1.768, trans_loss=4.551, nll_loss=1.724, w2v_ctc_loss=0.532, task_loss=2.457, contrastive_loss=0, total=6656.43, n_correct=4848.28, ppl=3.3, accuracy=72.836, wps=18591.4, ups=1.4, wpb=13312.9, bsz=434.5, num_updates=34200, lr=7.64719e-05, gnorm=0.393, clip=0, loss_scale=16, train_wall=71, gb_free=14.2, wall=30493
2023-08-26 07:42:12 | INFO | train_inner | epoch 029:    966 / 1191 loss=1.769, trans_loss=4.55, nll_loss=1.724, w2v_ctc_loss=0.535, task_loss=2.326, contrastive_loss=0, total=6717.82, n_correct=4887.24, ppl=3.3, accuracy=72.75, wps=18604.3, ups=1.38, wpb=13435.6, bsz=460.7, num_updates=34300, lr=7.63604e-05, gnorm=0.392, clip=0, loss_scale=16, train_wall=72, gb_free=12.9, wall=30565
2023-08-26 07:43:24 | INFO | train_inner | epoch 029:   1066 / 1191 loss=1.763, trans_loss=4.545, nll_loss=1.718, w2v_ctc_loss=0.526, task_loss=2.337, contrastive_loss=0, total=6714.1, n_correct=4898.96, ppl=3.29, accuracy=72.965, wps=18671.1, ups=1.39, wpb=13428.2, bsz=457.4, num_updates=34400, lr=7.62493e-05, gnorm=0.402, clip=0, loss_scale=16, train_wall=71, gb_free=13, wall=30637
2023-08-26 07:44:36 | INFO | train_inner | epoch 029:   1166 / 1191 loss=1.763, trans_loss=4.55, nll_loss=1.724, w2v_ctc_loss=0.523, task_loss=2.288, contrastive_loss=0, total=6748.44, n_correct=4918.8, ppl=3.3, accuracy=72.888, wps=18718.9, ups=1.39, wpb=13496.9, bsz=460.2, num_updates=34500, lr=7.61387e-05, gnorm=0.396, clip=0, loss_scale=16, train_wall=72, gb_free=12.6, wall=30709
2023-08-26 07:44:54 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 07:45:26 | INFO | dev_st | epoch 029 | valid on 'dev_st' subset | loss 3.66 | trans_loss 4.856 | nll_loss 2.072 | w2v_ctc_loss 1.23 | task_loss 8.532 | contrastive_loss 0 | total 6138.43 | n_correct 4384.29 | ppl 4.2 | accuracy 71.424 | uer 16.65 | wer 18.449 | raw_wer 18.449 | bleu 29.04 | wps 1753.9 | wpb 6138.4 | bsz 201.1 | num_updates 34525 | best_bleu 29.19
2023-08-26 07:45:26 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 29 @ 34525 updates
2023-08-26 07:45:26 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.0404.pt
2023-08-26 07:45:28 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.0404.pt
2023-08-26 07:45:32 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.0404.pt (epoch 29 @ 34525 updates, score 29.04) (writing took 6.488948501995765 seconds)
2023-08-26 07:45:33 | INFO | fairseq_cli.train | end of epoch 29 (average epoch stats below)
2023-08-26 07:45:33 | INFO | train | epoch 029 | loss 1.763 | trans_loss 4.544 | nll_loss 1.716 | w2v_ctc_loss 0.526 | task_loss 2.346 | contrastive_loss 0 | total 6703.69 | n_correct 4891.62 | ppl 3.29 | accuracy 72.969 | wps 16935.2 | ups 1.26 | wpb 13407.4 | bsz 452.1 | num_updates 34525 | lr 7.61111e-05 | gnorm 0.391 | clip 0 | loss_scale 16 | train_wall 849 | gb_free 13.5 | wall 30766
2023-08-26 07:45:33 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 07:45:33 | INFO | fairseq.trainer | begin training epoch 30
2023-08-26 07:45:33 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 07:46:34 | INFO | train_inner | epoch 030:     75 / 1191 loss=1.75, trans_loss=4.535, nll_loss=1.705, w2v_ctc_loss=0.512, task_loss=2.085, contrastive_loss=0, total=6850.85, n_correct=5019.85, ppl=3.26, accuracy=73.273, wps=11581.4, ups=0.85, wpb=13701.7, bsz=486.2, num_updates=34600, lr=7.60286e-05, gnorm=0.382, clip=0, loss_scale=16, train_wall=71, gb_free=14, wall=30827
2023-08-26 07:47:45 | INFO | train_inner | epoch 030:    175 / 1191 loss=1.758, trans_loss=4.536, nll_loss=1.705, w2v_ctc_loss=0.521, task_loss=2.379, contrastive_loss=0, total=6657.32, n_correct=4866.92, ppl=3.26, accuracy=73.106, wps=18769.7, ups=1.41, wpb=13314.6, bsz=439.1, num_updates=34700, lr=7.5919e-05, gnorm=0.393, clip=0, loss_scale=16, train_wall=70, gb_free=13.1, wall=30898
2023-08-26 07:48:57 | INFO | train_inner | epoch 030:    275 / 1191 loss=1.756, trans_loss=4.533, nll_loss=1.701, w2v_ctc_loss=0.523, task_loss=2.233, contrastive_loss=0, total=6768.1, n_correct=4956.7, ppl=3.25, accuracy=73.236, wps=18904.2, ups=1.4, wpb=13536.2, bsz=467.2, num_updates=34800, lr=7.58098e-05, gnorm=0.395, clip=0, loss_scale=16, train_wall=71, gb_free=12.4, wall=30970
2023-08-26 07:50:10 | INFO | train_inner | epoch 030:    375 / 1191 loss=1.749, trans_loss=4.532, nll_loss=1.701, w2v_ctc_loss=0.512, task_loss=2.126, contrastive_loss=0, total=6857.09, n_correct=5028.86, ppl=3.25, accuracy=73.338, wps=18801.6, ups=1.37, wpb=13714.2, bsz=486.4, num_updates=34900, lr=7.57011e-05, gnorm=0.377, clip=0, loss_scale=16, train_wall=72, gb_free=13.8, wall=31043
2023-08-26 07:51:22 | INFO | train_inner | epoch 030:    475 / 1191 loss=1.76, trans_loss=4.537, nll_loss=1.707, w2v_ctc_loss=0.526, task_loss=2.443, contrastive_loss=0, total=6638.79, n_correct=4854.13, ppl=3.27, accuracy=73.118, wps=18486.6, ups=1.39, wpb=13277.6, bsz=444.7, num_updates=35000, lr=7.55929e-05, gnorm=0.396, clip=0, loss_scale=16, train_wall=71, gb_free=13.7, wall=31115
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:0')
2023-08-26 07:52:33 | INFO | train_inner | epoch 030:    575 / 1191 loss=1.76, trans_loss=4.539, nll_loss=1.709, w2v_ctc_loss=0.523, task_loss=2.396, contrastive_loss=0, total=6674.51, n_correct=4876.2, ppl=3.27, accuracy=73.057, wps=18596.4, ups=1.39, wpb=13349, bsz=444.9, num_updates=35100, lr=7.54851e-05, gnorm=0.388, clip=0, loss_scale=16, train_wall=71, gb_free=10.2, wall=31186
2023-08-26 07:53:45 | INFO | train_inner | epoch 030:    675 / 1191 loss=1.76, trans_loss=4.534, nll_loss=1.702, w2v_ctc_loss=0.523, task_loss=2.569, contrastive_loss=0, total=6568.86, n_correct=4803.23, ppl=3.25, accuracy=73.121, wps=18272, ups=1.39, wpb=13137.7, bsz=421.9, num_updates=35200, lr=7.53778e-05, gnorm=0.416, clip=0, loss_scale=16, train_wall=71, gb_free=10.5, wall=31258
2023-08-26 07:54:58 | INFO | train_inner | epoch 030:    775 / 1191 loss=1.765, trans_loss=4.54, nll_loss=1.711, w2v_ctc_loss=0.529, task_loss=2.466, contrastive_loss=0, total=6656.46, n_correct=4859.95, ppl=3.27, accuracy=73.011, wps=18411.7, ups=1.38, wpb=13312.9, bsz=438.1, num_updates=35300, lr=7.5271e-05, gnorm=0.395, clip=0, loss_scale=16, train_wall=72, gb_free=11, wall=31331
2023-08-26 07:55:15 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-26 07:56:10 | INFO | train_inner | epoch 030:    876 / 1191 loss=1.759, trans_loss=4.54, nll_loss=1.711, w2v_ctc_loss=0.521, task_loss=2.399, contrastive_loss=0, total=6689.47, n_correct=4891.86, ppl=3.27, accuracy=73.128, wps=18432.5, ups=1.38, wpb=13378.9, bsz=448, num_updates=35400, lr=7.51646e-05, gnorm=0.392, clip=0, loss_scale=16, train_wall=72, gb_free=15.7, wall=31403
2023-08-26 07:57:22 | INFO | train_inner | epoch 030:    976 / 1191 loss=1.766, trans_loss=4.543, nll_loss=1.714, w2v_ctc_loss=0.534, task_loss=2.457, contrastive_loss=0, total=6650.45, n_correct=4848.47, ppl=3.28, accuracy=72.904, wps=18454.5, ups=1.39, wpb=13300.9, bsz=445.3, num_updates=35500, lr=7.50587e-05, gnorm=0.399, clip=0, loss_scale=16, train_wall=72, gb_free=13, wall=31475
2023-08-26 07:58:35 | INFO | train_inner | epoch 030:   1076 / 1191 loss=1.762, trans_loss=4.543, nll_loss=1.715, w2v_ctc_loss=0.529, task_loss=2.301, contrastive_loss=0, total=6760.55, n_correct=4941.99, ppl=3.28, accuracy=73.1, wps=18664.7, ups=1.38, wpb=13521.1, bsz=455.7, num_updates=35600, lr=7.49532e-05, gnorm=0.392, clip=0, loss_scale=16, train_wall=72, gb_free=13, wall=31548
2023-08-26 07:59:47 | INFO | train_inner | epoch 030:   1176 / 1191 loss=1.762, trans_loss=4.549, nll_loss=1.723, w2v_ctc_loss=0.523, task_loss=2.331, contrastive_loss=0, total=6693.2, n_correct=4883.49, ppl=3.3, accuracy=72.962, wps=18552, ups=1.39, wpb=13386.4, bsz=453.9, num_updates=35700, lr=7.48481e-05, gnorm=0.385, clip=0, loss_scale=16, train_wall=72, gb_free=14.4, wall=31620
2023-08-26 07:59:57 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:1')
2023-08-26 08:00:30 | INFO | dev_st | epoch 030 | valid on 'dev_st' subset | loss 3.646 | trans_loss 4.855 | nll_loss 2.071 | w2v_ctc_loss 1.183 | task_loss 8.514 | contrastive_loss 0 | total 6138.43 | n_correct 4387.57 | ppl 4.2 | accuracy 71.477 | uer 16.319 | wer 18.137 | raw_wer 18.137 | bleu 28.94 | wps 1746.3 | wpb 6138.4 | bsz 201.1 | num_updates 35715 | best_bleu 29.19
2023-08-26 08:00:30 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 30 @ 35715 updates
2023-08-26 08:00:30 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.9400.pt
2023-08-26 08:00:32 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.9400.pt
2023-08-26 08:00:37 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_28.9400.pt (epoch 30 @ 35715 updates, score 28.94) (writing took 6.928324756998336 seconds)
2023-08-26 08:00:37 | INFO | fairseq_cli.train | end of epoch 30 (average epoch stats below)
2023-08-26 08:00:37 | INFO | train | epoch 030 | loss 1.759 | trans_loss 4.538 | nll_loss 1.709 | w2v_ctc_loss 0.523 | task_loss 2.345 | contrastive_loss 0 | total 6703.87 | n_correct 4901.63 | ppl 3.27 | accuracy 73.117 | wps 17649.3 | ups 1.32 | wpb 13407.7 | bsz 452.2 | num_updates 35715 | lr 7.48324e-05 | gnorm 0.393 | clip 0 | loss_scale 16 | train_wall 850 | gb_free 14.3 | wall 31670
2023-08-26 08:00:37 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 08:00:37 | INFO | fairseq.trainer | begin training epoch 31
2023-08-26 08:00:37 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 08:01:46 | INFO | train_inner | epoch 031:     85 / 1191 loss=1.758, trans_loss=4.531, nll_loss=1.699, w2v_ctc_loss=0.52, task_loss=2.568, contrastive_loss=0, total=6595.99, n_correct=4833.32, ppl=3.25, accuracy=73.277, wps=11113.6, ups=0.84, wpb=13192, bsz=419.6, num_updates=35800, lr=7.47435e-05, gnorm=0.399, clip=0, loss_scale=16, train_wall=71, gb_free=6.1, wall=31739
2023-08-26 08:02:58 | INFO | train_inner | epoch 031:    185 / 1191 loss=1.746, trans_loss=4.527, nll_loss=1.693, w2v_ctc_loss=0.505, task_loss=2.303, contrastive_loss=0, total=6732.15, n_correct=4946.23, ppl=3.23, accuracy=73.472, wps=18545.2, ups=1.38, wpb=13464.3, bsz=458.4, num_updates=35900, lr=7.46393e-05, gnorm=0.383, clip=0, loss_scale=16, train_wall=72, gb_free=13.4, wall=31811
2023-08-26 08:04:10 | INFO | train_inner | epoch 031:    285 / 1191 loss=1.759, trans_loss=4.531, nll_loss=1.698, w2v_ctc_loss=0.527, task_loss=2.532, contrastive_loss=0, total=6551.33, n_correct=4798.22, ppl=3.24, accuracy=73.24, wps=18257.4, ups=1.39, wpb=13102.7, bsz=431.1, num_updates=36000, lr=7.45356e-05, gnorm=0.422, clip=0, loss_scale=16, train_wall=71, gb_free=12.9, wall=31883
2023-08-26 08:04:10 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 08:04:42 | INFO | dev_st | epoch 031 | valid on 'dev_st' subset | loss 3.636 | trans_loss 4.856 | nll_loss 2.072 | w2v_ctc_loss 1.147 | task_loss 8.494 | contrastive_loss 0 | total 6138.43 | n_correct 4391.71 | ppl 4.2 | accuracy 71.545 | uer 16.241 | wer 18.222 | raw_wer 18.222 | bleu 29.25 | wps 1760.4 | wpb 6138.4 | bsz 201.1 | num_updates 36000 | best_bleu 29.25
2023-08-26 08:04:42 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 31 @ 36000 updates
2023-08-26 08:04:42 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_31_36000.pt
2023-08-26 08:04:44 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_31_36000.pt
2023-08-26 08:04:54 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_31_36000.pt (epoch 31 @ 36000 updates, score 29.25) (writing took 11.970968885005277 seconds)
2023-08-26 08:06:07 | INFO | train_inner | epoch 031:    385 / 1191 loss=1.751, trans_loss=4.528, nll_loss=1.696, w2v_ctc_loss=0.515, task_loss=2.327, contrastive_loss=0, total=6755.84, n_correct=4958.5, ppl=3.24, accuracy=73.396, wps=11534.1, ups=0.85, wpb=13511.7, bsz=458.1, num_updates=36100, lr=7.44323e-05, gnorm=0.39, clip=0, loss_scale=16, train_wall=72, gb_free=4.3, wall=32000
2023-08-26 08:07:19 | INFO | train_inner | epoch 031:    485 / 1191 loss=1.761, trans_loss=4.54, nll_loss=1.711, w2v_ctc_loss=0.522, task_loss=2.546, contrastive_loss=0, total=6661.44, n_correct=4869.91, ppl=3.27, accuracy=73.106, wps=18618.4, ups=1.4, wpb=13322.9, bsz=427.9, num_updates=36200, lr=7.43294e-05, gnorm=0.393, clip=0, loss_scale=16, train_wall=71, gb_free=11.2, wall=32072
2023-08-26 08:08:30 | INFO | train_inner | epoch 031:    585 / 1191 loss=1.753, trans_loss=4.531, nll_loss=1.699, w2v_ctc_loss=0.514, task_loss=2.348, contrastive_loss=0, total=6682.32, n_correct=4894.16, ppl=3.25, accuracy=73.24, wps=18646.4, ups=1.4, wpb=13364.6, bsz=450.3, num_updates=36300, lr=7.4227e-05, gnorm=0.391, clip=0, loss_scale=16, train_wall=71, gb_free=14.6, wall=32143
2023-08-26 08:09:42 | INFO | train_inner | epoch 031:    685 / 1191 loss=1.752, trans_loss=4.531, nll_loss=1.699, w2v_ctc_loss=0.516, task_loss=2.166, contrastive_loss=0, total=6823.18, n_correct=5001.28, ppl=3.25, accuracy=73.298, wps=18983, ups=1.39, wpb=13646.4, bsz=476.3, num_updates=36400, lr=7.41249e-05, gnorm=0.385, clip=0, loss_scale=16, train_wall=71, gb_free=14.3, wall=32215
2023-08-26 08:10:55 | INFO | train_inner | epoch 031:    785 / 1191 loss=1.753, trans_loss=4.532, nll_loss=1.701, w2v_ctc_loss=0.522, task_loss=2.207, contrastive_loss=0, total=6798.08, n_correct=4980.65, ppl=3.25, accuracy=73.266, wps=18808.8, ups=1.38, wpb=13596.2, bsz=476.7, num_updates=36500, lr=7.40233e-05, gnorm=0.385, clip=0, loss_scale=16, train_wall=72, gb_free=6.2, wall=32288
2023-08-26 08:12:07 | INFO | train_inner | epoch 031:    885 / 1191 loss=1.757, trans_loss=4.537, nll_loss=1.707, w2v_ctc_loss=0.518, task_loss=2.404, contrastive_loss=0, total=6620.93, n_correct=4841.38, ppl=3.27, accuracy=73.122, wps=18293.8, ups=1.38, wpb=13241.9, bsz=445.2, num_updates=36600, lr=7.39221e-05, gnorm=0.39, clip=0, loss_scale=16, train_wall=72, gb_free=12.9, wall=32360
2023-08-26 08:13:19 | INFO | train_inner | epoch 031:    985 / 1191 loss=1.756, trans_loss=4.532, nll_loss=1.701, w2v_ctc_loss=0.52, task_loss=2.326, contrastive_loss=0, total=6701.01, n_correct=4907.78, ppl=3.25, accuracy=73.239, wps=18632.3, ups=1.39, wpb=13402, bsz=454.8, num_updates=36700, lr=7.38213e-05, gnorm=0.387, clip=0, loss_scale=16, train_wall=71, gb_free=15.1, wall=32432
2023-08-26 08:14:30 | INFO | train_inner | epoch 031:   1085 / 1191 loss=1.748, trans_loss=4.532, nll_loss=1.701, w2v_ctc_loss=0.509, task_loss=2.05, contrastive_loss=0, total=6897.14, n_correct=5055.39, ppl=3.25, accuracy=73.297, wps=19305.5, ups=1.4, wpb=13794.3, bsz=491.1, num_updates=36800, lr=7.3721e-05, gnorm=0.38, clip=0, loss_scale=16, train_wall=71, gb_free=10.7, wall=32503
2023-08-26 08:15:42 | INFO | train_inner | epoch 031:   1185 / 1191 loss=1.756, trans_loss=4.535, nll_loss=1.704, w2v_ctc_loss=0.518, task_loss=2.432, contrastive_loss=0, total=6625.82, n_correct=4843.82, ppl=3.26, accuracy=73.105, wps=18502.9, ups=1.4, wpb=13251.6, bsz=439.4, num_updates=36900, lr=7.3621e-05, gnorm=0.393, clip=0, loss_scale=16, train_wall=71, gb_free=12.9, wall=32575
2023-08-26 08:15:47 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 08:16:19 | INFO | dev_st | epoch 031 | valid on 'dev_st' subset | loss 3.637 | trans_loss 4.855 | nll_loss 2.071 | w2v_ctc_loss 1.155 | task_loss 8.517 | contrastive_loss 0 | total 6138.43 | n_correct 4398.71 | ppl 4.2 | accuracy 71.659 | uer 15.963 | wer 17.769 | raw_wer 17.769 | bleu 29.1 | wps 1775.1 | wpb 6138.4 | bsz 201.1 | num_updates 36906 | best_bleu 29.25
2023-08-26 08:16:19 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 31 @ 36906 updates
2023-08-26 08:16:19 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.1008.pt
2023-08-26 08:16:21 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.1008.pt
2023-08-26 08:16:27 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.1008.pt (epoch 31 @ 36906 updates, score 29.1) (writing took 7.966053438998642 seconds)
2023-08-26 08:16:27 | INFO | fairseq_cli.train | end of epoch 31 (average epoch stats below)
2023-08-26 08:16:27 | INFO | train | epoch 031 | loss 1.754 | trans_loss 4.532 | nll_loss 1.701 | w2v_ctc_loss 0.517 | task_loss 2.346 | contrastive_loss 0 | total 6703.69 | n_correct 4910.98 | ppl 3.25 | accuracy 73.258 | wps 16809.3 | ups 1.25 | wpb 13407.4 | bsz 452.1 | num_updates 36906 | lr 7.3615e-05 | gnorm 0.392 | clip 0 | loss_scale 16 | train_wall 850 | gb_free 10 | wall 32620
2023-08-26 08:16:27 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 08:16:27 | INFO | fairseq.trainer | begin training epoch 32
2023-08-26 08:16:27 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 08:17:41 | INFO | train_inner | epoch 032:     94 / 1191 loss=1.744, trans_loss=4.517, nll_loss=1.681, w2v_ctc_loss=0.509, task_loss=2.257, contrastive_loss=0, total=6711.21, n_correct=4935.76, ppl=3.21, accuracy=73.545, wps=11251.8, ups=0.84, wpb=13422.4, bsz=457.7, num_updates=37000, lr=7.35215e-05, gnorm=0.394, clip=0, loss_scale=16, train_wall=71, gb_free=9.6, wall=32694
2023-08-26 08:18:53 | INFO | train_inner | epoch 032:    194 / 1191 loss=1.751, trans_loss=4.527, nll_loss=1.694, w2v_ctc_loss=0.514, task_loss=2.244, contrastive_loss=0, total=6815.61, n_correct=4997.8, ppl=3.23, accuracy=73.329, wps=18895.5, ups=1.39, wpb=13631.2, bsz=468.2, num_updates=37100, lr=7.34223e-05, gnorm=0.381, clip=0, loss_scale=16, train_wall=72, gb_free=12.4, wall=32766
2023-08-26 08:20:05 | INFO | train_inner | epoch 032:    294 / 1191 loss=1.751, trans_loss=4.528, nll_loss=1.695, w2v_ctc_loss=0.512, task_loss=2.408, contrastive_loss=0, total=6678.58, n_correct=4898.94, ppl=3.24, accuracy=73.353, wps=18592.8, ups=1.39, wpb=13357.2, bsz=446.2, num_updates=37200, lr=7.33236e-05, gnorm=0.39, clip=0, loss_scale=16, train_wall=71, gb_free=13.7, wall=32838
2023-08-26 08:21:17 | INFO | train_inner | epoch 032:    394 / 1191 loss=1.743, trans_loss=4.515, nll_loss=1.679, w2v_ctc_loss=0.507, task_loss=2.271, contrastive_loss=0, total=6770.32, n_correct=4985.66, ppl=3.2, accuracy=73.64, wps=18897.8, ups=1.4, wpb=13540.6, bsz=460, num_updates=37300, lr=7.32252e-05, gnorm=0.394, clip=0, loss_scale=16, train_wall=71, gb_free=14.9, wall=32910
2023-08-26 08:22:29 | INFO | train_inner | epoch 032:    494 / 1191 loss=1.751, trans_loss=4.529, nll_loss=1.697, w2v_ctc_loss=0.514, task_loss=2.341, contrastive_loss=0, total=6719.21, n_correct=4926.48, ppl=3.24, accuracy=73.319, wps=18511.1, ups=1.38, wpb=13438.4, bsz=450.3, num_updates=37400, lr=7.31272e-05, gnorm=0.385, clip=0, loss_scale=32, train_wall=72, gb_free=12.4, wall=32983
2023-08-26 08:23:42 | INFO | train_inner | epoch 032:    594 / 1191 loss=1.752, trans_loss=4.527, nll_loss=1.694, w2v_ctc_loss=0.516, task_loss=2.371, contrastive_loss=0, total=6697.98, n_correct=4915.19, ppl=3.24, accuracy=73.383, wps=18576.2, ups=1.39, wpb=13396, bsz=446.4, num_updates=37500, lr=7.30297e-05, gnorm=0.389, clip=0, loss_scale=32, train_wall=72, gb_free=13.9, wall=33055
2023-08-26 08:24:54 | INFO | train_inner | epoch 032:    694 / 1191 loss=1.751, trans_loss=4.523, nll_loss=1.688, w2v_ctc_loss=0.514, task_loss=2.531, contrastive_loss=0, total=6660.34, n_correct=4894.58, ppl=3.22, accuracy=73.488, wps=18297.1, ups=1.37, wpb=13320.7, bsz=434.4, num_updates=37600, lr=7.29325e-05, gnorm=0.391, clip=0, loss_scale=32, train_wall=72, gb_free=14.6, wall=33127
2023-08-26 08:26:07 | INFO | train_inner | epoch 032:    794 / 1191 loss=1.754, trans_loss=4.529, nll_loss=1.697, w2v_ctc_loss=0.519, task_loss=2.275, contrastive_loss=0, total=6787.48, n_correct=4974.87, ppl=3.24, accuracy=73.295, wps=18779.9, ups=1.38, wpb=13575, bsz=469.5, num_updates=37700, lr=7.28357e-05, gnorm=0.392, clip=0, loss_scale=32, train_wall=72, gb_free=13.4, wall=33200
2023-08-26 08:27:18 | INFO | train_inner | epoch 032:    894 / 1191 loss=1.754, trans_loss=4.529, nll_loss=1.696, w2v_ctc_loss=0.515, task_loss=2.443, contrastive_loss=0, total=6668.64, n_correct=4885.54, ppl=3.24, accuracy=73.261, wps=18584.8, ups=1.39, wpb=13337.3, bsz=440.3, num_updates=37800, lr=7.27393e-05, gnorm=0.395, clip=0, loss_scale=32, train_wall=71, gb_free=13.2, wall=33271
2023-08-26 08:28:30 | INFO | train_inner | epoch 032:    994 / 1191 loss=1.753, trans_loss=4.528, nll_loss=1.695, w2v_ctc_loss=0.519, task_loss=2.38, contrastive_loss=0, total=6620.13, n_correct=4859.66, ppl=3.24, accuracy=73.407, wps=18450.4, ups=1.39, wpb=13240.3, bsz=444.7, num_updates=37900, lr=7.26433e-05, gnorm=0.39, clip=0, loss_scale=32, train_wall=71, gb_free=13.8, wall=33343
2023-08-26 08:29:42 | INFO | train_inner | epoch 032:   1094 / 1191 loss=1.756, trans_loss=4.531, nll_loss=1.699, w2v_ctc_loss=0.52, task_loss=2.467, contrastive_loss=0, total=6618.11, n_correct=4849.52, ppl=3.25, accuracy=73.277, wps=18550.6, ups=1.4, wpb=13236.2, bsz=432, num_updates=38000, lr=7.25476e-05, gnorm=0.397, clip=0, loss_scale=32, train_wall=71, gb_free=12.8, wall=33415
2023-08-26 08:29:42 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 08:30:14 | INFO | dev_st | epoch 032 | valid on 'dev_st' subset | loss 3.651 | trans_loss 4.854 | nll_loss 2.069 | w2v_ctc_loss 1.202 | task_loss 8.578 | contrastive_loss 0 | total 6138.43 | n_correct 4395.57 | ppl 4.2 | accuracy 71.607 | uer 16.273 | wer 18.051 | raw_wer 18.051 | bleu 29.29 | wps 1757 | wpb 6138.4 | bsz 201.1 | num_updates 38000 | best_bleu 29.29
2023-08-26 08:30:14 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 32 @ 38000 updates
2023-08-26 08:30:14 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_32_38000.pt
2023-08-26 08:30:16 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_32_38000.pt
2023-08-26 08:30:27 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_32_38000.pt (epoch 32 @ 38000 updates, score 29.29) (writing took 12.940054993996455 seconds)
2023-08-26 08:31:36 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 08:32:08 | INFO | dev_st | epoch 032 | valid on 'dev_st' subset | loss 3.651 | trans_loss 4.858 | nll_loss 2.075 | w2v_ctc_loss 1.195 | task_loss 8.53 | contrastive_loss 0 | total 6138.43 | n_correct 4393.86 | ppl 4.21 | accuracy 71.58 | uer 16.102 | wer 18.033 | raw_wer 18.033 | bleu 29.21 | wps 1756.3 | wpb 6138.4 | bsz 201.1 | num_updates 38097 | best_bleu 29.29
2023-08-26 08:32:08 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 32 @ 38097 updates
2023-08-26 08:32:08 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.2107.pt
2023-08-26 08:32:12 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.2107.pt
2023-08-26 08:32:17 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.2107.pt (epoch 32 @ 38097 updates, score 29.21) (writing took 8.288263612994342 seconds)
2023-08-26 08:32:17 | INFO | fairseq_cli.train | end of epoch 32 (average epoch stats below)
2023-08-26 08:32:17 | INFO | train | epoch 032 | loss 1.751 | trans_loss 4.526 | nll_loss 1.693 | w2v_ctc_loss 0.514 | task_loss 2.347 | contrastive_loss 0 | total 6703.69 | n_correct 4919.41 | ppl 3.23 | accuracy 73.384 | wps 16802.5 | ups 1.25 | wpb 13407.4 | bsz 452.1 | num_updates 38097 | lr 7.24552e-05 | gnorm 0.39 | clip 0 | loss_scale 32 | train_wall 849 | gb_free 11.4 | wall 33570
2023-08-26 08:32:18 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 08:32:18 | INFO | fairseq.trainer | begin training epoch 33
2023-08-26 08:32:18 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 08:32:27 | INFO | train_inner | epoch 033:      3 / 1191 loss=1.748, trans_loss=4.534, nll_loss=1.704, w2v_ctc_loss=0.507, task_loss=2.187, contrastive_loss=0, total=6703.77, n_correct=4911.77, ppl=3.26, accuracy=73.269, wps=8119.1, ups=0.61, wpb=13407.5, bsz=480.5, num_updates=38100, lr=7.24524e-05, gnorm=0.389, clip=0, loss_scale=32, train_wall=70, gb_free=11.8, wall=33580
2023-08-26 08:33:39 | INFO | train_inner | epoch 033:    103 / 1191 loss=1.74, trans_loss=4.516, nll_loss=1.681, w2v_ctc_loss=0.499, task_loss=2.243, contrastive_loss=0, total=6803.35, n_correct=5013.65, ppl=3.21, accuracy=73.694, wps=18791.2, ups=1.38, wpb=13606.7, bsz=469.1, num_updates=38200, lr=7.23575e-05, gnorm=0.385, clip=0, loss_scale=32, train_wall=72, gb_free=14.4, wall=33652
2023-08-26 08:33:45 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-26 08:34:51 | INFO | train_inner | epoch 033:    204 / 1191 loss=1.743, trans_loss=4.515, nll_loss=1.678, w2v_ctc_loss=0.506, task_loss=2.276, contrastive_loss=0, total=6765.07, n_correct=4979.7, ppl=3.2, accuracy=73.609, wps=18893.7, ups=1.4, wpb=13530.1, bsz=454.5, num_updates=38300, lr=7.22629e-05, gnorm=0.387, clip=0, loss_scale=16, train_wall=71, gb_free=14.6, wall=33724
2023-08-26 08:36:03 | INFO | train_inner | epoch 033:    304 / 1191 loss=1.751, trans_loss=4.522, nll_loss=1.687, w2v_ctc_loss=0.513, task_loss=2.545, contrastive_loss=0, total=6574.87, n_correct=4829.38, ppl=3.22, accuracy=73.452, wps=18302.3, ups=1.39, wpb=13149.7, bsz=429.3, num_updates=38400, lr=7.21688e-05, gnorm=0.395, clip=0, loss_scale=16, train_wall=71, gb_free=12, wall=33796
2023-08-26 08:37:14 | INFO | train_inner | epoch 033:    404 / 1191 loss=1.745, trans_loss=4.519, nll_loss=1.684, w2v_ctc_loss=0.505, task_loss=2.44, contrastive_loss=0, total=6600.59, n_correct=4858.97, ppl=3.21, accuracy=73.614, wps=18600.2, ups=1.41, wpb=13201.2, bsz=435.4, num_updates=38500, lr=7.2075e-05, gnorm=0.388, clip=0, loss_scale=16, train_wall=70, gb_free=14, wall=33867
2023-08-26 08:38:25 | INFO | train_inner | epoch 033:    504 / 1191 loss=1.743, trans_loss=4.519, nll_loss=1.684, w2v_ctc_loss=0.504, task_loss=2.276, contrastive_loss=0, total=6700.48, n_correct=4928.66, ppl=3.21, accuracy=73.557, wps=18804.1, ups=1.4, wpb=13401, bsz=457.5, num_updates=38600, lr=7.19816e-05, gnorm=0.403, clip=0, loss_scale=16, train_wall=71, gb_free=14.1, wall=33938
2023-08-26 08:39:37 | INFO | train_inner | epoch 033:    604 / 1191 loss=1.747, trans_loss=4.515, nll_loss=1.679, w2v_ctc_loss=0.515, task_loss=2.407, contrastive_loss=0, total=6668.81, n_correct=4903.1, ppl=3.2, accuracy=73.523, wps=18459.1, ups=1.38, wpb=13337.6, bsz=445.4, num_updates=38700, lr=7.18885e-05, gnorm=0.397, clip=0, loss_scale=16, train_wall=72, gb_free=14.2, wall=34010
2023-08-26 08:40:49 | INFO | train_inner | epoch 033:    704 / 1191 loss=1.748, trans_loss=4.521, nll_loss=1.687, w2v_ctc_loss=0.512, task_loss=2.381, contrastive_loss=0, total=6684.05, n_correct=4915.43, ppl=3.22, accuracy=73.54, wps=18530.5, ups=1.39, wpb=13368.1, bsz=444.9, num_updates=38800, lr=7.17958e-05, gnorm=0.394, clip=0, loss_scale=16, train_wall=71, gb_free=5.9, wall=34082
2023-08-26 08:42:01 | INFO | train_inner | epoch 033:    804 / 1191 loss=1.74, trans_loss=4.516, nll_loss=1.681, w2v_ctc_loss=0.499, task_loss=2.217, contrastive_loss=0, total=6798.01, n_correct=5012.09, ppl=3.21, accuracy=73.729, wps=18975.3, ups=1.4, wpb=13596, bsz=467.6, num_updates=38900, lr=7.17035e-05, gnorm=0.39, clip=0, loss_scale=16, train_wall=71, gb_free=14.4, wall=34154
2023-08-26 08:43:13 | INFO | train_inner | epoch 033:    904 / 1191 loss=1.748, trans_loss=4.523, nll_loss=1.689, w2v_ctc_loss=0.514, task_loss=2.278, contrastive_loss=0, total=6756.92, n_correct=4966.45, ppl=3.22, accuracy=73.502, wps=18757.4, ups=1.39, wpb=13513.8, bsz=463.5, num_updates=39000, lr=7.16115e-05, gnorm=0.4, clip=0, loss_scale=16, train_wall=72, gb_free=13.1, wall=34226
2023-08-26 08:44:26 | INFO | train_inner | epoch 033:   1004 / 1191 loss=1.753, trans_loss=4.531, nll_loss=1.699, w2v_ctc_loss=0.515, task_loss=2.485, contrastive_loss=0, total=6668.58, n_correct=4892.36, ppl=3.25, accuracy=73.364, wps=18300.5, ups=1.37, wpb=13337.2, bsz=438.6, num_updates=39100, lr=7.15199e-05, gnorm=0.397, clip=0, loss_scale=16, train_wall=72, gb_free=11.9, wall=34299
2023-08-26 08:45:38 | INFO | train_inner | epoch 033:   1104 / 1191 loss=1.753, trans_loss=4.527, nll_loss=1.695, w2v_ctc_loss=0.52, task_loss=2.287, contrastive_loss=0, total=6760.49, n_correct=4953.5, ppl=3.24, accuracy=73.271, wps=18766.1, ups=1.39, wpb=13521, bsz=465, num_updates=39200, lr=7.14286e-05, gnorm=0.387, clip=0, loss_scale=16, train_wall=72, gb_free=13.4, wall=34371
2023-08-26 08:46:41 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 08:47:13 | INFO | dev_st | epoch 033 | valid on 'dev_st' subset | loss 3.655 | trans_loss 4.854 | nll_loss 2.07 | w2v_ctc_loss 1.216 | task_loss 8.523 | contrastive_loss 0 | total 6138.43 | n_correct 4394.57 | ppl 4.2 | accuracy 71.591 | uer 16.252 | wer 18.089 | raw_wer 18.089 | bleu 29.12 | wps 1745.7 | wpb 6138.4 | bsz 201.1 | num_updates 39287 | best_bleu 29.29
2023-08-26 08:47:13 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 33 @ 39287 updates
2023-08-26 08:47:13 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.1209.pt
2023-08-26 08:47:16 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.1209.pt
2023-08-26 08:47:20 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.1209.pt (epoch 33 @ 39287 updates, score 29.12) (writing took 7.301212247002695 seconds)
2023-08-26 08:47:21 | INFO | fairseq_cli.train | end of epoch 33 (average epoch stats below)
2023-08-26 08:47:21 | INFO | train | epoch 033 | loss 1.747 | trans_loss 4.521 | nll_loss 1.686 | w2v_ctc_loss 0.509 | task_loss 2.345 | contrastive_loss 0 | total 6703.49 | n_correct 4929.06 | ppl 3.22 | accuracy 73.53 | wps 17657.3 | ups 1.32 | wpb 13407 | bsz 452 | num_updates 39287 | lr 7.13494e-05 | gnorm 0.393 | clip 0 | loss_scale 16 | train_wall 849 | gb_free 10.6 | wall 34474
2023-08-26 08:47:21 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 08:47:21 | INFO | fairseq.trainer | begin training epoch 34
2023-08-26 08:47:21 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 08:47:38 | INFO | train_inner | epoch 034:     13 / 1191 loss=1.745, trans_loss=4.522, nll_loss=1.688, w2v_ctc_loss=0.508, task_loss=2.276, contrastive_loss=0, total=6698.77, n_correct=4926.38, ppl=3.22, accuracy=73.542, wps=11168.4, ups=0.83, wpb=13397.5, bsz=465.3, num_updates=39300, lr=7.13376e-05, gnorm=0.389, clip=0, loss_scale=16, train_wall=71, gb_free=14.3, wall=34491
2023-08-26 08:48:50 | INFO | train_inner | epoch 034:    113 / 1191 loss=1.736, trans_loss=4.512, nll_loss=1.674, w2v_ctc_loss=0.495, task_loss=2.133, contrastive_loss=0, total=6824.78, n_correct=5030.65, ppl=3.19, accuracy=73.712, wps=19033.6, ups=1.39, wpb=13649.6, bsz=480.2, num_updates=39400, lr=7.1247e-05, gnorm=0.381, clip=0, loss_scale=16, train_wall=71, gb_free=13.4, wall=34563
2023-08-26 08:50:02 | INFO | train_inner | epoch 034:    213 / 1191 loss=1.743, trans_loss=4.513, nll_loss=1.676, w2v_ctc_loss=0.508, task_loss=2.448, contrastive_loss=0, total=6657.08, n_correct=4905.93, ppl=3.2, accuracy=73.695, wps=18439.7, ups=1.38, wpb=13314.2, bsz=445.7, num_updates=39500, lr=7.11568e-05, gnorm=0.391, clip=0, loss_scale=16, train_wall=72, gb_free=13.7, wall=34635
2023-08-26 08:51:14 | INFO | train_inner | epoch 034:    313 / 1191 loss=1.744, trans_loss=4.513, nll_loss=1.676, w2v_ctc_loss=0.507, task_loss=2.483, contrastive_loss=0, total=6596.5, n_correct=4858.07, ppl=3.19, accuracy=73.646, wps=18280.3, ups=1.39, wpb=13193, bsz=435.5, num_updates=39600, lr=7.10669e-05, gnorm=0.4, clip=0, loss_scale=16, train_wall=71, gb_free=10.5, wall=34707
2023-08-26 08:52:27 | INFO | train_inner | epoch 034:    413 / 1191 loss=1.748, trans_loss=4.517, nll_loss=1.682, w2v_ctc_loss=0.51, task_loss=2.486, contrastive_loss=0, total=6680.72, n_correct=4911.75, ppl=3.21, accuracy=73.521, wps=18411.1, ups=1.38, wpb=13361.4, bsz=431.6, num_updates=39700, lr=7.09773e-05, gnorm=0.393, clip=0, loss_scale=16, train_wall=72, gb_free=13.5, wall=34780
2023-08-26 08:53:39 | INFO | train_inner | epoch 034:    513 / 1191 loss=1.741, trans_loss=4.513, nll_loss=1.676, w2v_ctc_loss=0.501, task_loss=2.436, contrastive_loss=0, total=6676.29, n_correct=4920.22, ppl=3.2, accuracy=73.697, wps=18445.7, ups=1.38, wpb=13352.6, bsz=442.6, num_updates=39800, lr=7.08881e-05, gnorm=0.389, clip=0, loss_scale=16, train_wall=72, gb_free=14.8, wall=34852
2023-08-26 08:54:51 | INFO | train_inner | epoch 034:    613 / 1191 loss=1.743, trans_loss=4.517, nll_loss=1.682, w2v_ctc_loss=0.506, task_loss=2.29, contrastive_loss=0, total=6740.83, n_correct=4960.01, ppl=3.21, accuracy=73.582, wps=18738.7, ups=1.39, wpb=13481.7, bsz=463.1, num_updates=39900, lr=7.07992e-05, gnorm=0.388, clip=0, loss_scale=16, train_wall=71, gb_free=10.6, wall=34924
2023-08-26 08:56:02 | INFO | train_inner | epoch 034:    713 / 1191 loss=1.745, trans_loss=4.517, nll_loss=1.681, w2v_ctc_loss=0.507, task_loss=2.411, contrastive_loss=0, total=6627.17, n_correct=4877.55, ppl=3.21, accuracy=73.599, wps=18570.5, ups=1.4, wpb=13254.3, bsz=440.8, num_updates=40000, lr=7.07107e-05, gnorm=0.406, clip=0, loss_scale=16, train_wall=71, gb_free=13.6, wall=34995
2023-08-26 08:56:02 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 08:56:34 | INFO | dev_st | epoch 034 | valid on 'dev_st' subset | loss 3.645 | trans_loss 4.854 | nll_loss 2.069 | w2v_ctc_loss 1.182 | task_loss 8.564 | contrastive_loss 0 | total 6138.43 | n_correct 4397.43 | ppl 4.2 | accuracy 71.638 | uer 16.209 | wer 18.085 | raw_wer 18.085 | bleu 29.38 | wps 1768.6 | wpb 6138.4 | bsz 201.1 | num_updates 40000 | best_bleu 29.38
2023-08-26 08:56:34 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 34 @ 40000 updates
2023-08-26 08:56:34 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_34_40000.pt
2023-08-26 08:56:36 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_34_40000.pt
2023-08-26 08:56:46 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_34_40000.pt (epoch 34 @ 40000 updates, score 29.38) (writing took 11.36388657399948 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:0')
2023-08-26 08:57:59 | INFO | train_inner | epoch 034:    813 / 1191 loss=1.746, trans_loss=4.516, nll_loss=1.68, w2v_ctc_loss=0.515, task_loss=2.421, contrastive_loss=0, total=6638.91, n_correct=4890.53, ppl=3.2, accuracy=73.665, wps=11387.5, ups=0.86, wpb=13277.8, bsz=449.5, num_updates=40100, lr=7.06225e-05, gnorm=0.398, clip=0, loss_scale=16, train_wall=72, gb_free=11.5, wall=35112
2023-08-26 08:59:10 | INFO | train_inner | epoch 034:    913 / 1191 loss=1.744, trans_loss=4.511, nll_loss=1.673, w2v_ctc_loss=0.508, task_loss=2.458, contrastive_loss=0, total=6678.97, n_correct=4924.85, ppl=3.19, accuracy=73.737, wps=18669.5, ups=1.4, wpb=13357.9, bsz=433.3, num_updates=40200, lr=7.05346e-05, gnorm=0.395, clip=0, loss_scale=16, train_wall=71, gb_free=12.7, wall=35183
2023-08-26 08:59:40 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-26 09:00:23 | INFO | train_inner | epoch 034:   1014 / 1191 loss=1.749, trans_loss=4.522, nll_loss=1.688, w2v_ctc_loss=0.511, task_loss=2.43, contrastive_loss=0, total=6646.08, n_correct=4885.28, ppl=3.22, accuracy=73.506, wps=18333.3, ups=1.38, wpb=13292.2, bsz=435.9, num_updates=40300, lr=7.0447e-05, gnorm=0.394, clip=0, loss_scale=8, train_wall=72, gb_free=12.1, wall=35256
2023-08-26 09:01:34 | INFO | train_inner | epoch 034:   1114 / 1191 loss=1.736, trans_loss=4.514, nll_loss=1.678, w2v_ctc_loss=0.496, task_loss=2.156, contrastive_loss=0, total=6861.81, n_correct=5057.22, ppl=3.2, accuracy=73.701, wps=19241.5, ups=1.4, wpb=13723.6, bsz=480.5, num_updates=40400, lr=7.03598e-05, gnorm=0.382, clip=0, loss_scale=8, train_wall=71, gb_free=13.3, wall=35327
2023-08-26 09:02:30 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:4')
2023-08-26 09:03:02 | INFO | dev_st | epoch 034 | valid on 'dev_st' subset | loss 3.652 | trans_loss 4.86 | nll_loss 2.079 | w2v_ctc_loss 1.193 | task_loss 8.569 | contrastive_loss 0 | total 6138.43 | n_correct 4395 | ppl 4.22 | accuracy 71.598 | uer 16.214 | wer 18.055 | raw_wer 18.055 | bleu 29.26 | wps 1774.9 | wpb 6138.4 | bsz 201.1 | num_updates 40477 | best_bleu 29.38
2023-08-26 09:03:02 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 34 @ 40477 updates
2023-08-26 09:03:02 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.2605.pt
2023-08-26 09:03:04 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.2605.pt
2023-08-26 09:03:08 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.2605.pt (epoch 34 @ 40477 updates, score 29.26) (writing took 6.378133735997835 seconds)
2023-08-26 09:03:09 | INFO | fairseq_cli.train | end of epoch 34 (average epoch stats below)
2023-08-26 09:03:09 | INFO | train | epoch 034 | loss 1.743 | trans_loss 4.515 | nll_loss 1.679 | w2v_ctc_loss 0.506 | task_loss 2.352 | contrastive_loss 0 | total 6702.31 | n_correct 4935.38 | ppl 3.2 | accuracy 73.637 | wps 16834.6 | ups 1.26 | wpb 13404.6 | bsz 451.8 | num_updates 40477 | lr 7.02928e-05 | gnorm 0.392 | clip 0 | loss_scale 8 | train_wall 850 | gb_free 13.8 | wall 35422
2023-08-26 09:03:09 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 09:03:09 | INFO | fairseq.trainer | begin training epoch 35
2023-08-26 09:03:09 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 09:03:32 | INFO | train_inner | epoch 035:     23 / 1191 loss=1.742, trans_loss=4.518, nll_loss=1.683, w2v_ctc_loss=0.505, task_loss=2.215, contrastive_loss=0, total=6766.65, n_correct=4976.72, ppl=3.21, accuracy=73.548, wps=11463.9, ups=0.85, wpb=13533.3, bsz=471.5, num_updates=40500, lr=7.02728e-05, gnorm=0.389, clip=0, loss_scale=8, train_wall=71, gb_free=10.7, wall=35445
2023-08-26 09:04:44 | INFO | train_inner | epoch 035:    123 / 1191 loss=1.739, trans_loss=4.509, nll_loss=1.67, w2v_ctc_loss=0.503, task_loss=2.355, contrastive_loss=0, total=6708.25, n_correct=4948.88, ppl=3.18, accuracy=73.773, wps=18654.7, ups=1.39, wpb=13416.5, bsz=451.4, num_updates=40600, lr=7.01862e-05, gnorm=0.395, clip=0, loss_scale=8, train_wall=71, gb_free=13.4, wall=35517
2023-08-26 09:05:56 | INFO | train_inner | epoch 035:    223 / 1191 loss=1.733, trans_loss=4.504, nll_loss=1.664, w2v_ctc_loss=0.49, task_loss=2.428, contrastive_loss=0, total=6627.47, n_correct=4899.6, ppl=3.17, accuracy=73.929, wps=18570.1, ups=1.4, wpb=13254.9, bsz=444.5, num_updates=40700, lr=7.01e-05, gnorm=0.395, clip=0, loss_scale=8, train_wall=71, gb_free=14.5, wall=35589
2023-08-26 09:07:07 | INFO | train_inner | epoch 035:    323 / 1191 loss=1.735, trans_loss=4.503, nll_loss=1.664, w2v_ctc_loss=0.499, task_loss=2.253, contrastive_loss=0, total=6767.84, n_correct=5005.32, ppl=3.17, accuracy=73.957, wps=18853.5, ups=1.39, wpb=13535.7, bsz=463.2, num_updates=40800, lr=7.0014e-05, gnorm=0.39, clip=0, loss_scale=8, train_wall=71, gb_free=12.9, wall=35660
2023-08-26 09:08:20 | INFO | train_inner | epoch 035:    423 / 1191 loss=1.742, trans_loss=4.51, nll_loss=1.671, w2v_ctc_loss=0.503, task_loss=2.623, contrastive_loss=0, total=6574.17, n_correct=4850.73, ppl=3.19, accuracy=73.785, wps=18140.5, ups=1.38, wpb=13148.3, bsz=420.7, num_updates=40900, lr=6.99284e-05, gnorm=0.4, clip=0, loss_scale=8, train_wall=72, gb_free=14.8, wall=35733
2023-08-26 09:09:32 | INFO | train_inner | epoch 035:    523 / 1191 loss=1.738, trans_loss=4.506, nll_loss=1.667, w2v_ctc_loss=0.501, task_loss=2.335, contrastive_loss=0, total=6726.43, n_correct=4967.12, ppl=3.17, accuracy=73.845, wps=18749.8, ups=1.39, wpb=13452.9, bsz=456.8, num_updates=41000, lr=6.9843e-05, gnorm=0.398, clip=0, loss_scale=8, train_wall=71, gb_free=13.9, wall=35805
2023-08-26 09:10:45 | INFO | train_inner | epoch 035:    623 / 1191 loss=1.74, trans_loss=4.509, nll_loss=1.671, w2v_ctc_loss=0.503, task_loss=2.384, contrastive_loss=0, total=6707.79, n_correct=4948.76, ppl=3.18, accuracy=73.776, wps=18340.4, ups=1.37, wpb=13415.6, bsz=446.9, num_updates=41100, lr=6.9758e-05, gnorm=0.395, clip=0, loss_scale=8, train_wall=73, gb_free=12.4, wall=35878
2023-08-26 09:11:57 | INFO | train_inner | epoch 035:    723 / 1191 loss=1.742, trans_loss=4.514, nll_loss=1.677, w2v_ctc_loss=0.504, task_loss=2.357, contrastive_loss=0, total=6699.36, n_correct=4934.11, ppl=3.2, accuracy=73.65, wps=18582, ups=1.39, wpb=13398.7, bsz=453.1, num_updates=41200, lr=6.96733e-05, gnorm=0.395, clip=0, loss_scale=8, train_wall=71, gb_free=11.1, wall=35950
2023-08-26 09:13:09 | INFO | train_inner | epoch 035:    823 / 1191 loss=1.743, trans_loss=4.519, nll_loss=1.684, w2v_ctc_loss=0.502, task_loss=2.263, contrastive_loss=0, total=6757, n_correct=4971.92, ppl=3.21, accuracy=73.582, wps=18722.2, ups=1.39, wpb=13514, bsz=459.2, num_updates=41300, lr=6.95889e-05, gnorm=0.397, clip=0, loss_scale=8, train_wall=72, gb_free=13, wall=36022
2023-08-26 09:14:20 | INFO | train_inner | epoch 035:    923 / 1191 loss=1.736, trans_loss=4.51, nll_loss=1.673, w2v_ctc_loss=0.496, task_loss=2.156, contrastive_loss=0, total=6767.2, n_correct=4990.66, ppl=3.19, accuracy=73.748, wps=19052.8, ups=1.41, wpb=13534.4, bsz=472.7, num_updates=41400, lr=6.95048e-05, gnorm=0.379, clip=0, loss_scale=8, train_wall=70, gb_free=11.9, wall=36093
2023-08-26 09:15:32 | INFO | train_inner | epoch 035:   1023 / 1191 loss=1.743, trans_loss=4.509, nll_loss=1.67, w2v_ctc_loss=0.509, task_loss=2.393, contrastive_loss=0, total=6722.28, n_correct=4953.56, ppl=3.18, accuracy=73.689, wps=18737.3, ups=1.39, wpb=13444.6, bsz=441.5, num_updates=41500, lr=6.9421e-05, gnorm=0.396, clip=0, loss_scale=8, train_wall=71, gb_free=15.2, wall=36165
2023-08-26 09:16:45 | INFO | train_inner | epoch 035:   1123 / 1191 loss=1.745, trans_loss=4.518, nll_loss=1.683, w2v_ctc_loss=0.51, task_loss=2.424, contrastive_loss=0, total=6632.06, n_correct=4880.48, ppl=3.21, accuracy=73.589, wps=18253.5, ups=1.38, wpb=13264.1, bsz=443.9, num_updates=41600, lr=6.93375e-05, gnorm=0.395, clip=0, loss_scale=8, train_wall=72, gb_free=8.9, wall=36238
2023-08-26 09:17:34 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 09:18:06 | INFO | dev_st | epoch 035 | valid on 'dev_st' subset | loss 3.663 | trans_loss 4.86 | nll_loss 2.078 | w2v_ctc_loss 1.23 | task_loss 8.542 | contrastive_loss 0 | total 6138.43 | n_correct 4398.86 | ppl 4.22 | accuracy 71.661 | uer 16.375 | wer 18.141 | raw_wer 18.141 | bleu 29.35 | wps 1774.5 | wpb 6138.4 | bsz 201.1 | num_updates 41668 | best_bleu 29.38
2023-08-26 09:18:06 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 35 @ 41668 updates
2023-08-26 09:18:06 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.3505.pt
2023-08-26 09:18:08 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.3505.pt
2023-08-26 09:18:11 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.3505.pt (epoch 35 @ 41668 updates, score 29.35) (writing took 5.688939904997824 seconds)
2023-08-26 09:18:12 | INFO | fairseq_cli.train | end of epoch 35 (average epoch stats below)
2023-08-26 09:18:12 | INFO | train | epoch 035 | loss 1.74 | trans_loss 4.51 | nll_loss 1.673 | w2v_ctc_loss 0.502 | task_loss 2.347 | contrastive_loss 0 | total 6703.69 | n_correct 4944.06 | ppl 3.19 | accuracy 73.751 | wps 17680 | ups 1.32 | wpb 13407.4 | bsz 452.1 | num_updates 41668 | lr 6.92809e-05 | gnorm 0.393 | clip 0 | loss_scale 8 | train_wall 851 | gb_free 14.1 | wall 36325
2023-08-26 09:18:12 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 09:18:12 | INFO | fairseq.trainer | begin training epoch 36
2023-08-26 09:18:12 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 09:18:42 | INFO | train_inner | epoch 036:     32 / 1191 loss=1.734, trans_loss=4.508, nll_loss=1.67, w2v_ctc_loss=0.493, task_loss=2.253, contrastive_loss=0, total=6736.56, n_correct=4976.91, ppl=3.18, accuracy=73.879, wps=11495.9, ups=0.85, wpb=13473.1, bsz=468.8, num_updates=41700, lr=6.92543e-05, gnorm=0.388, clip=0, loss_scale=8, train_wall=71, gb_free=13.8, wall=36355
2023-08-26 09:19:53 | INFO | train_inner | epoch 036:    132 / 1191 loss=1.732, trans_loss=4.496, nll_loss=1.654, w2v_ctc_loss=0.495, task_loss=2.41, contrastive_loss=0, total=6631.33, n_correct=4910.21, ppl=3.15, accuracy=74.046, wps=18660.7, ups=1.41, wpb=13262.7, bsz=441.6, num_updates=41800, lr=6.91714e-05, gnorm=0.394, clip=0, loss_scale=8, train_wall=71, gb_free=11.8, wall=36426
2023-08-26 09:21:04 | INFO | train_inner | epoch 036:    232 / 1191 loss=1.723, trans_loss=4.491, nll_loss=1.648, w2v_ctc_loss=0.485, task_loss=2.217, contrastive_loss=0, total=6729.56, n_correct=4996.94, ppl=3.13, accuracy=74.254, wps=18842.4, ups=1.4, wpb=13459.1, bsz=469.7, num_updates=41900, lr=6.90889e-05, gnorm=0.398, clip=0, loss_scale=8, train_wall=71, gb_free=6, wall=36497
2023-08-26 09:22:16 | INFO | train_inner | epoch 036:    332 / 1191 loss=1.732, trans_loss=4.502, nll_loss=1.662, w2v_ctc_loss=0.494, task_loss=2.246, contrastive_loss=0, total=6782.01, n_correct=5021.29, ppl=3.17, accuracy=74.038, wps=18946.4, ups=1.4, wpb=13564, bsz=465.5, num_updates=42000, lr=6.90066e-05, gnorm=0.386, clip=0, loss_scale=8, train_wall=71, gb_free=9.8, wall=36569
2023-08-26 09:22:16 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 09:22:48 | INFO | dev_st | epoch 036 | valid on 'dev_st' subset | loss 3.681 | trans_loss 4.867 | nll_loss 2.083 | w2v_ctc_loss 1.275 | task_loss 8.544 | contrastive_loss 0 | total 6138.43 | n_correct 4390.71 | ppl 4.24 | accuracy 71.528 | uer 16.428 | wer 18.193 | raw_wer 18.193 | bleu 29.21 | wps 1761.8 | wpb 6138.4 | bsz 201.1 | num_updates 42000 | best_bleu 29.38
2023-08-26 09:22:48 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 36 @ 42000 updates
2023-08-26 09:22:48 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_36_42000.pt
2023-08-26 09:22:50 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_36_42000.pt
2023-08-26 09:22:55 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_36_42000.pt (epoch 36 @ 42000 updates, score 29.21) (writing took 6.535049455000262 seconds)
2023-08-26 09:24:08 | INFO | train_inner | epoch 036:    432 / 1191 loss=1.734, trans_loss=4.503, nll_loss=1.664, w2v_ctc_loss=0.498, task_loss=2.23, contrastive_loss=0, total=6783.3, n_correct=5015.68, ppl=3.17, accuracy=73.942, wps=12098.4, ups=0.89, wpb=13566.6, bsz=468.3, num_updates=42100, lr=6.89246e-05, gnorm=0.389, clip=0, loss_scale=8, train_wall=72, gb_free=12.4, wall=36681
2023-08-26 09:25:20 | INFO | train_inner | epoch 036:    532 / 1191 loss=1.735, trans_loss=4.51, nll_loss=1.673, w2v_ctc_loss=0.494, task_loss=2.18, contrastive_loss=0, total=6811.77, n_correct=5028.08, ppl=3.19, accuracy=73.815, wps=18982, ups=1.39, wpb=13623.5, bsz=480.4, num_updates=42200, lr=6.88428e-05, gnorm=0.386, clip=0, loss_scale=8, train_wall=71, gb_free=13.7, wall=36753
2023-08-26 09:26:32 | INFO | train_inner | epoch 036:    632 / 1191 loss=1.736, trans_loss=4.501, nll_loss=1.66, w2v_ctc_loss=0.501, task_loss=2.414, contrastive_loss=0, total=6679.56, n_correct=4941.91, ppl=3.16, accuracy=73.986, wps=18560.1, ups=1.39, wpb=13359.1, bsz=440.3, num_updates=42300, lr=6.87614e-05, gnorm=0.393, clip=0, loss_scale=16, train_wall=71, gb_free=15.2, wall=36825
2023-08-26 09:27:44 | INFO | train_inner | epoch 036:    732 / 1191 loss=1.735, trans_loss=4.503, nll_loss=1.663, w2v_ctc_loss=0.496, task_loss=2.356, contrastive_loss=0, total=6714.6, n_correct=4962.94, ppl=3.17, accuracy=73.913, wps=18608, ups=1.39, wpb=13429.2, bsz=450.4, num_updates=42400, lr=6.86803e-05, gnorm=0.388, clip=0, loss_scale=16, train_wall=72, gb_free=9.7, wall=36897
2023-08-26 09:28:56 | INFO | train_inner | epoch 036:    832 / 1191 loss=1.743, trans_loss=4.515, nll_loss=1.679, w2v_ctc_loss=0.507, task_loss=2.435, contrastive_loss=0, total=6682.32, n_correct=4926.31, ppl=3.2, accuracy=73.722, wps=18482.7, ups=1.38, wpb=13364.6, bsz=445.5, num_updates=42500, lr=6.85994e-05, gnorm=0.404, clip=0, loss_scale=16, train_wall=72, gb_free=12.3, wall=36969
2023-08-26 09:30:09 | INFO | train_inner | epoch 036:    932 / 1191 loss=1.741, trans_loss=4.508, nll_loss=1.67, w2v_ctc_loss=0.502, task_loss=2.522, contrastive_loss=0, total=6678.37, n_correct=4928.19, ppl=3.18, accuracy=73.793, wps=18315.9, ups=1.37, wpb=13356.7, bsz=433, num_updates=42600, lr=6.85189e-05, gnorm=0.398, clip=0, loss_scale=16, train_wall=72, gb_free=13.7, wall=37042
2023-08-26 09:31:21 | INFO | train_inner | epoch 036:   1032 / 1191 loss=1.74, trans_loss=4.513, nll_loss=1.676, w2v_ctc_loss=0.504, task_loss=2.271, contrastive_loss=0, total=6705.03, n_correct=4942.32, ppl=3.19, accuracy=73.711, wps=18665.2, ups=1.39, wpb=13410.1, bsz=461.4, num_updates=42700, lr=6.84386e-05, gnorm=0.395, clip=0, loss_scale=16, train_wall=71, gb_free=13.7, wall=37114
2023-08-26 09:32:33 | INFO | train_inner | epoch 036:   1132 / 1191 loss=1.741, trans_loss=4.505, nll_loss=1.665, w2v_ctc_loss=0.508, task_loss=2.476, contrastive_loss=0, total=6610.85, n_correct=4879.74, ppl=3.17, accuracy=73.814, wps=18394.3, ups=1.39, wpb=13221.7, bsz=434.6, num_updates=42800, lr=6.83586e-05, gnorm=0.405, clip=0, loss_scale=16, train_wall=71, gb_free=13.6, wall=37186
2023-08-26 09:33:15 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 09:33:48 | INFO | dev_st | epoch 036 | valid on 'dev_st' subset | loss 3.665 | trans_loss 4.861 | nll_loss 2.078 | w2v_ctc_loss 1.234 | task_loss 8.546 | contrastive_loss 0 | total 6138.43 | n_correct 4397 | ppl 4.22 | accuracy 71.631 | uer 16.364 | wer 18.211 | raw_wer 18.211 | bleu 29.16 | wps 1717.7 | wpb 6138.4 | bsz 201.1 | num_updates 42859 | best_bleu 29.38
2023-08-26 09:33:48 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 36 @ 42859 updates
2023-08-26 09:33:48 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.1601.pt
2023-08-26 09:33:53 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.1601.pt
2023-08-26 09:33:57 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.1601.pt (epoch 36 @ 42859 updates, score 29.16) (writing took 9.682019160005439 seconds)
2023-08-26 09:33:57 | INFO | fairseq_cli.train | end of epoch 36 (average epoch stats below)
2023-08-26 09:33:57 | INFO | train | epoch 036 | loss 1.736 | trans_loss 4.505 | nll_loss 1.665 | w2v_ctc_loss 0.499 | task_loss 2.349 | contrastive_loss 0 | total 6703.69 | n_correct 4953.93 | ppl 3.17 | accuracy 73.899 | wps 16885.6 | ups 1.26 | wpb 13407.4 | bsz 452.1 | num_updates 42859 | lr 6.83115e-05 | gnorm 0.394 | clip 0 | loss_scale 16 | train_wall 850 | gb_free 12.7 | wall 37270
2023-08-26 09:33:58 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 09:33:58 | INFO | fairseq.trainer | begin training epoch 37
2023-08-26 09:33:58 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 09:34:34 | INFO | train_inner | epoch 037:     41 / 1191 loss=1.739, trans_loss=4.507, nll_loss=1.669, w2v_ctc_loss=0.502, task_loss=2.462, contrastive_loss=0, total=6659.58, n_correct=4913.05, ppl=3.18, accuracy=73.774, wps=10957, ups=0.82, wpb=13319.2, bsz=437.9, num_updates=42900, lr=6.82789e-05, gnorm=0.391, clip=0, loss_scale=16, train_wall=71, gb_free=10.3, wall=37308
2023-08-26 09:35:47 | INFO | train_inner | epoch 037:    141 / 1191 loss=1.73, trans_loss=4.497, nll_loss=1.656, w2v_ctc_loss=0.49, task_loss=2.233, contrastive_loss=0, total=6761.77, n_correct=5003.17, ppl=3.15, accuracy=73.992, wps=18674.7, ups=1.38, wpb=13523.5, bsz=465.1, num_updates=43000, lr=6.81994e-05, gnorm=0.389, clip=0, loss_scale=16, train_wall=72, gb_free=13.2, wall=37380
2023-08-26 09:36:59 | INFO | train_inner | epoch 037:    241 / 1191 loss=1.728, trans_loss=4.492, nll_loss=1.649, w2v_ctc_loss=0.488, task_loss=2.339, contrastive_loss=0, total=6711.81, n_correct=4975.32, ppl=3.14, accuracy=74.128, wps=18702.6, ups=1.39, wpb=13423.6, bsz=452.9, num_updates=43100, lr=6.81203e-05, gnorm=0.391, clip=0, loss_scale=16, train_wall=71, gb_free=10.2, wall=37452
2023-08-26 09:38:11 | INFO | train_inner | epoch 037:    341 / 1191 loss=1.734, trans_loss=4.499, nll_loss=1.658, w2v_ctc_loss=0.495, task_loss=2.452, contrastive_loss=0, total=6630.31, n_correct=4904.95, ppl=3.16, accuracy=73.978, wps=18442.3, ups=1.39, wpb=13260.6, bsz=434.1, num_updates=43200, lr=6.80414e-05, gnorm=0.396, clip=0, loss_scale=16, train_wall=71, gb_free=10.8, wall=37524
2023-08-26 09:39:22 | INFO | train_inner | epoch 037:    441 / 1191 loss=1.73, trans_loss=4.495, nll_loss=1.653, w2v_ctc_loss=0.493, task_loss=2.322, contrastive_loss=0, total=6708.52, n_correct=4970.05, ppl=3.15, accuracy=74.086, wps=18695, ups=1.39, wpb=13417, bsz=452, num_updates=43300, lr=6.79628e-05, gnorm=0.39, clip=0, loss_scale=16, train_wall=71, gb_free=10, wall=37595
2023-08-26 09:40:34 | INFO | train_inner | epoch 037:    541 / 1191 loss=1.735, trans_loss=4.499, nll_loss=1.658, w2v_ctc_loss=0.5, task_loss=2.412, contrastive_loss=0, total=6632.82, n_correct=4903.55, ppl=3.16, accuracy=73.929, wps=18449, ups=1.39, wpb=13265.6, bsz=447.6, num_updates=43400, lr=6.78844e-05, gnorm=0.396, clip=0, loss_scale=16, train_wall=71, gb_free=14.3, wall=37667
2023-08-26 09:41:46 | INFO | train_inner | epoch 037:    641 / 1191 loss=1.737, trans_loss=4.505, nll_loss=1.665, w2v_ctc_loss=0.496, task_loss=2.533, contrastive_loss=0, total=6624.36, n_correct=4891.11, ppl=3.17, accuracy=73.835, wps=18406.2, ups=1.39, wpb=13248.7, bsz=425.6, num_updates=43500, lr=6.78064e-05, gnorm=0.397, clip=0, loss_scale=16, train_wall=71, gb_free=14.3, wall=37739
2023-08-26 09:42:58 | INFO | train_inner | epoch 037:    741 / 1191 loss=1.733, trans_loss=4.498, nll_loss=1.657, w2v_ctc_loss=0.496, task_loss=2.332, contrastive_loss=0, total=6732.2, n_correct=4982.63, ppl=3.15, accuracy=74.012, wps=18688.4, ups=1.39, wpb=13464.4, bsz=452, num_updates=43600, lr=6.77285e-05, gnorm=0.394, clip=0, loss_scale=16, train_wall=71, gb_free=11.8, wall=37811
2023-08-26 09:44:11 | INFO | train_inner | epoch 037:    841 / 1191 loss=1.731, trans_loss=4.505, nll_loss=1.667, w2v_ctc_loss=0.49, task_loss=2.243, contrastive_loss=0, total=6802.03, n_correct=5030.87, ppl=3.18, accuracy=73.961, wps=18672.6, ups=1.37, wpb=13604.1, bsz=468.4, num_updates=43700, lr=6.7651e-05, gnorm=0.386, clip=0, loss_scale=16, train_wall=72, gb_free=14, wall=37884
2023-08-26 09:45:23 | INFO | train_inner | epoch 037:    941 / 1191 loss=1.724, trans_loss=4.498, nll_loss=1.657, w2v_ctc_loss=0.485, task_loss=2.045, contrastive_loss=0, total=6859.7, n_correct=5083.54, ppl=3.15, accuracy=74.107, wps=18999.5, ups=1.38, wpb=13719.4, bsz=502.5, num_updates=43800, lr=6.75737e-05, gnorm=0.385, clip=0, loss_scale=16, train_wall=72, gb_free=13.1, wall=37956
2023-08-26 09:46:35 | INFO | train_inner | epoch 037:   1041 / 1191 loss=1.735, trans_loss=4.499, nll_loss=1.659, w2v_ctc_loss=0.499, task_loss=2.467, contrastive_loss=0, total=6685.46, n_correct=4948.01, ppl=3.16, accuracy=74.012, wps=18557.8, ups=1.39, wpb=13370.9, bsz=438.4, num_updates=43900, lr=6.74967e-05, gnorm=0.391, clip=0, loss_scale=16, train_wall=71, gb_free=11.7, wall=38028
2023-08-26 09:47:47 | INFO | train_inner | epoch 037:   1141 / 1191 loss=1.744, trans_loss=4.511, nll_loss=1.674, w2v_ctc_loss=0.509, task_loss=2.434, contrastive_loss=0, total=6631.22, n_correct=4884.15, ppl=3.19, accuracy=73.654, wps=18491.9, ups=1.39, wpb=13262.4, bsz=443.9, num_updates=44000, lr=6.742e-05, gnorm=0.406, clip=0, loss_scale=16, train_wall=71, gb_free=14.1, wall=38100
2023-08-26 09:47:47 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 09:48:19 | INFO | dev_st | epoch 037 | valid on 'dev_st' subset | loss 3.66 | trans_loss 4.857 | nll_loss 2.073 | w2v_ctc_loss 1.227 | task_loss 8.478 | contrastive_loss 0 | total 6138.43 | n_correct 4401.43 | ppl 4.21 | accuracy 71.703 | uer 16.364 | wer 18.196 | raw_wer 18.196 | bleu 29.36 | wps 1761.5 | wpb 6138.4 | bsz 201.1 | num_updates 44000 | best_bleu 29.38
2023-08-26 09:48:19 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 37 @ 44000 updates
2023-08-26 09:48:19 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_37_44000.pt
2023-08-26 09:48:21 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_37_44000.pt
2023-08-26 09:48:26 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_37_44000.pt (epoch 37 @ 44000 updates, score 29.36) (writing took 6.808491403004155 seconds)
2023-08-26 09:49:02 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 09:49:34 | INFO | dev_st | epoch 037 | valid on 'dev_st' subset | loss 3.674 | trans_loss 4.859 | nll_loss 2.076 | w2v_ctc_loss 1.268 | task_loss 8.546 | contrastive_loss 0 | total 6138.43 | n_correct 4397.43 | ppl 4.22 | accuracy 71.638 | uer 16.538 | wer 18.401 | raw_wer 18.401 | bleu 29.28 | wps 1758.1 | wpb 6138.4 | bsz 201.1 | num_updates 44050 | best_bleu 29.38
2023-08-26 09:49:34 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 37 @ 44050 updates
2023-08-26 09:49:34 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.2803.pt
2023-08-26 09:49:37 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.2803.pt
2023-08-26 09:49:41 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.2803.pt (epoch 37 @ 44050 updates, score 29.28) (writing took 7.024474837002344 seconds)
2023-08-26 09:49:42 | INFO | fairseq_cli.train | end of epoch 37 (average epoch stats below)
2023-08-26 09:49:42 | INFO | train | epoch 037 | loss 1.733 | trans_loss 4.5 | nll_loss 1.66 | w2v_ctc_loss 0.495 | task_loss 2.346 | contrastive_loss 0 | total 6703.69 | n_correct 4958.75 | ppl 3.16 | accuracy 73.97 | wps 16913.3 | ups 1.26 | wpb 13407.4 | bsz 452.1 | num_updates 44050 | lr 6.73817e-05 | gnorm 0.394 | clip 0 | loss_scale 16 | train_wall 851 | gb_free 13.3 | wall 38215
2023-08-26 09:49:42 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 09:49:42 | INFO | fairseq.trainer | begin training epoch 38
2023-08-26 09:49:42 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 09:50:25 | INFO | train_inner | epoch 038:     50 / 1191 loss=1.737, trans_loss=4.505, nll_loss=1.666, w2v_ctc_loss=0.5, task_loss=2.477, contrastive_loss=0, total=6589.76, n_correct=4872.47, ppl=3.17, accuracy=73.94, wps=8374.1, ups=0.64, wpb=13179.5, bsz=431.4, num_updates=44100, lr=6.73435e-05, gnorm=0.416, clip=0, loss_scale=16, train_wall=70, gb_free=13.9, wall=38258
2023-08-26 09:51:36 | INFO | train_inner | epoch 038:    150 / 1191 loss=1.725, trans_loss=4.486, nll_loss=1.641, w2v_ctc_loss=0.488, task_loss=2.289, contrastive_loss=0, total=6719.12, n_correct=4992.46, ppl=3.12, accuracy=74.302, wps=18694.3, ups=1.39, wpb=13438.2, bsz=452.9, num_updates=44200, lr=6.72673e-05, gnorm=0.39, clip=0, loss_scale=16, train_wall=71, gb_free=13.1, wall=38329
2023-08-26 09:52:48 | INFO | train_inner | epoch 038:    250 / 1191 loss=1.733, trans_loss=4.498, nll_loss=1.657, w2v_ctc_loss=0.493, task_loss=2.341, contrastive_loss=0, total=6682.28, n_correct=4942.97, ppl=3.15, accuracy=73.971, wps=18630.2, ups=1.39, wpb=13364.6, bsz=456, num_updates=44300, lr=6.71913e-05, gnorm=0.392, clip=0, loss_scale=16, train_wall=71, gb_free=11.9, wall=38401
2023-08-26 09:54:01 | INFO | train_inner | epoch 038:    350 / 1191 loss=1.731, trans_loss=4.49, nll_loss=1.647, w2v_ctc_loss=0.497, task_loss=2.458, contrastive_loss=0, total=6670.35, n_correct=4947.19, ppl=3.13, accuracy=74.167, wps=18413.1, ups=1.38, wpb=13340.7, bsz=437, num_updates=44400, lr=6.71156e-05, gnorm=0.397, clip=0, loss_scale=32, train_wall=72, gb_free=11.9, wall=38474
2023-08-26 09:55:12 | INFO | train_inner | epoch 038:    450 / 1191 loss=1.728, trans_loss=4.496, nll_loss=1.655, w2v_ctc_loss=0.491, task_loss=2.197, contrastive_loss=0, total=6759.42, n_correct=5007.93, ppl=3.15, accuracy=74.088, wps=18817.9, ups=1.39, wpb=13518.8, bsz=477.9, num_updates=44500, lr=6.70402e-05, gnorm=0.389, clip=0, loss_scale=32, train_wall=71, gb_free=12.7, wall=38546
2023-08-26 09:56:25 | INFO | train_inner | epoch 038:    550 / 1191 loss=1.727, trans_loss=4.492, nll_loss=1.65, w2v_ctc_loss=0.489, task_loss=2.269, contrastive_loss=0, total=6812.64, n_correct=5052.16, ppl=3.14, accuracy=74.159, wps=18908.4, ups=1.39, wpb=13625.3, bsz=466.2, num_updates=44600, lr=6.6965e-05, gnorm=0.398, clip=0, loss_scale=32, train_wall=71, gb_free=11.5, wall=38618
2023-08-26 09:57:27 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-26 09:57:38 | INFO | train_inner | epoch 038:    651 / 1191 loss=1.728, trans_loss=4.501, nll_loss=1.661, w2v_ctc_loss=0.488, task_loss=2.15, contrastive_loss=0, total=6837.1, n_correct=5063.12, ppl=3.16, accuracy=74.054, wps=18674.4, ups=1.37, wpb=13674.2, bsz=477, num_updates=44700, lr=6.689e-05, gnorm=0.394, clip=0, loss_scale=16, train_wall=73, gb_free=14.1, wall=38691
2023-08-26 09:58:49 | INFO | train_inner | epoch 038:    751 / 1191 loss=1.73, trans_loss=4.498, nll_loss=1.657, w2v_ctc_loss=0.493, task_loss=2.272, contrastive_loss=0, total=6740.78, n_correct=4995.26, ppl=3.15, accuracy=74.105, wps=18834.3, ups=1.4, wpb=13481.6, bsz=465.9, num_updates=44800, lr=6.68153e-05, gnorm=0.395, clip=0, loss_scale=16, train_wall=71, gb_free=11.1, wall=38762
2023-08-26 10:00:01 | INFO | train_inner | epoch 038:    851 / 1191 loss=1.735, trans_loss=4.497, nll_loss=1.655, w2v_ctc_loss=0.5, task_loss=2.475, contrastive_loss=0, total=6673.65, n_correct=4935.37, ppl=3.15, accuracy=73.953, wps=18572.9, ups=1.39, wpb=13347.3, bsz=432.7, num_updates=44900, lr=6.67409e-05, gnorm=0.399, clip=0, loss_scale=16, train_wall=71, gb_free=6.8, wall=38834
2023-08-26 10:01:14 | INFO | train_inner | epoch 038:    951 / 1191 loss=1.73, trans_loss=4.497, nll_loss=1.655, w2v_ctc_loss=0.489, task_loss=2.348, contrastive_loss=0, total=6698.96, n_correct=4962.37, ppl=3.15, accuracy=74.077, wps=18485.2, ups=1.38, wpb=13397.9, bsz=448.2, num_updates=45000, lr=6.66667e-05, gnorm=0.392, clip=0, loss_scale=16, train_wall=72, gb_free=9.7, wall=38907
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:0')
2023-08-26 10:02:25 | INFO | train_inner | epoch 038:   1051 / 1191 loss=1.735, trans_loss=4.497, nll_loss=1.656, w2v_ctc_loss=0.499, task_loss=2.497, contrastive_loss=0, total=6616.94, n_correct=4895.71, ppl=3.15, accuracy=73.988, wps=18501.3, ups=1.4, wpb=13233.9, bsz=436.5, num_updates=45100, lr=6.65927e-05, gnorm=0.4, clip=0, loss_scale=16, train_wall=71, gb_free=13, wall=38978
2023-08-26 10:03:37 | INFO | train_inner | epoch 038:   1151 / 1191 loss=1.73, trans_loss=4.498, nll_loss=1.657, w2v_ctc_loss=0.489, task_loss=2.369, contrastive_loss=0, total=6680.61, n_correct=4942.94, ppl=3.15, accuracy=73.989, wps=18548.7, ups=1.39, wpb=13361.2, bsz=448.7, num_updates=45200, lr=6.6519e-05, gnorm=0.4, clip=0, loss_scale=16, train_wall=71, gb_free=11.2, wall=39050
2023-08-26 10:04:06 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2138, device='cuda:4')
2023-08-26 10:04:38 | INFO | dev_st | epoch 038 | valid on 'dev_st' subset | loss 3.654 | trans_loss 4.861 | nll_loss 2.077 | w2v_ctc_loss 1.195 | task_loss 8.537 | contrastive_loss 0 | total 6138.43 | n_correct 4389.86 | ppl 4.22 | accuracy 71.514 | uer 16.174 | wer 17.962 | raw_wer 17.962 | bleu 29.11 | wps 1772.7 | wpb 6138.4 | bsz 201.1 | num_updates 45240 | best_bleu 29.38
2023-08-26 10:04:38 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 38 @ 45240 updates
2023-08-26 10:04:38 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_last.pt
2023-08-26 10:04:44 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_last.pt
2023-08-26 10:04:44 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_last.pt (epoch 38 @ 45240 updates, score 29.11) (writing took 5.9976020570029505 seconds)
2023-08-26 10:04:44 | INFO | fairseq_cli.train | end of epoch 38 (average epoch stats below)
2023-08-26 10:04:44 | INFO | train | epoch 038 | loss 1.73 | trans_loss 4.496 | nll_loss 1.654 | w2v_ctc_loss 0.493 | task_loss 2.347 | contrastive_loss 0 | total 6704.19 | n_correct 4966.33 | ppl 3.15 | accuracy 74.078 | wps 17683.7 | ups 1.32 | wpb 13408.4 | bsz 452.3 | num_updates 45240 | lr 6.64896e-05 | gnorm 0.395 | clip 0 | loss_scale 16 | train_wall 849 | gb_free 13.7 | wall 39117
2023-08-26 10:04:44 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 10:04:44 | INFO | fairseq.trainer | begin training epoch 39
2023-08-26 10:04:44 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 10:05:34 | INFO | train_inner | epoch 039:     60 / 1191 loss=1.733, trans_loss=4.496, nll_loss=1.654, w2v_ctc_loss=0.496, task_loss=2.648, contrastive_loss=0, total=6532.22, n_correct=4842.8, ppl=3.15, accuracy=74.137, wps=11174.8, ups=0.86, wpb=13064.4, bsz=421.7, num_updates=45300, lr=6.64455e-05, gnorm=0.398, clip=0, loss_scale=16, train_wall=71, gb_free=14.7, wall=39167
2023-08-26 10:06:46 | INFO | train_inner | epoch 039:    160 / 1191 loss=1.723, trans_loss=4.483, nll_loss=1.637, w2v_ctc_loss=0.485, task_loss=2.368, contrastive_loss=0, total=6686.78, n_correct=4975.42, ppl=3.11, accuracy=74.407, wps=18568.6, ups=1.39, wpb=13373.6, bsz=442, num_updates=45400, lr=6.63723e-05, gnorm=0.39, clip=0, loss_scale=16, train_wall=71, gb_free=12.7, wall=39239
2023-08-26 10:07:58 | INFO | train_inner | epoch 039:    260 / 1191 loss=1.73, trans_loss=4.495, nll_loss=1.652, w2v_ctc_loss=0.49, task_loss=2.444, contrastive_loss=0, total=6660.47, n_correct=4934.48, ppl=3.14, accuracy=74.086, wps=18513.4, ups=1.39, wpb=13320.9, bsz=441, num_updates=45500, lr=6.62994e-05, gnorm=0.394, clip=0, loss_scale=16, train_wall=71, gb_free=13.4, wall=39311
2023-08-26 10:09:11 | INFO | train_inner | epoch 039:    360 / 1191 loss=1.73, trans_loss=4.492, nll_loss=1.649, w2v_ctc_loss=0.493, task_loss=2.537, contrastive_loss=0, total=6609.63, n_correct=4904.73, ppl=3.14, accuracy=74.206, wps=18245.8, ups=1.38, wpb=13219.3, bsz=430.1, num_updates=45600, lr=6.62266e-05, gnorm=0.407, clip=0, loss_scale=16, train_wall=72, gb_free=13, wall=39384
2023-08-26 10:10:23 | INFO | train_inner | epoch 039:    460 / 1191 loss=1.723, trans_loss=4.488, nll_loss=1.644, w2v_ctc_loss=0.48, task_loss=2.259, contrastive_loss=0, total=6756.08, n_correct=5012.9, ppl=3.12, accuracy=74.198, wps=18735.2, ups=1.39, wpb=13512.2, bsz=463.1, num_updates=45700, lr=6.61541e-05, gnorm=0.398, clip=0, loss_scale=16, train_wall=72, gb_free=15, wall=39456
2023-08-26 10:11:35 | INFO | train_inner | epoch 039:    560 / 1191 loss=1.723, trans_loss=4.486, nll_loss=1.641, w2v_ctc_loss=0.483, task_loss=2.354, contrastive_loss=0, total=6692.42, n_correct=4972.04, ppl=3.12, accuracy=74.294, wps=18634.1, ups=1.39, wpb=13384.8, bsz=449.7, num_updates=45800, lr=6.60819e-05, gnorm=0.388, clip=0, loss_scale=16, train_wall=71, gb_free=12.8, wall=39528
2023-08-26 10:12:47 | INFO | train_inner | epoch 039:    660 / 1191 loss=1.726, trans_loss=4.493, nll_loss=1.65, w2v_ctc_loss=0.489, task_loss=2.295, contrastive_loss=0, total=6730.64, n_correct=4992.41, ppl=3.14, accuracy=74.174, wps=18712, ups=1.39, wpb=13461.3, bsz=466.6, num_updates=45900, lr=6.60098e-05, gnorm=0.398, clip=0, loss_scale=16, train_wall=71, gb_free=15.1, wall=39600
2023-08-26 10:13:58 | INFO | train_inner | epoch 039:    760 / 1191 loss=1.73, trans_loss=4.495, nll_loss=1.653, w2v_ctc_loss=0.494, task_loss=2.345, contrastive_loss=0, total=6726.76, n_correct=4986.98, ppl=3.15, accuracy=74.136, wps=18772.5, ups=1.4, wpb=13453.5, bsz=454, num_updates=46000, lr=6.5938e-05, gnorm=0.391, clip=0, loss_scale=16, train_wall=71, gb_free=11.7, wall=39671
2023-08-26 10:13:58 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 10:14:30 | INFO | dev_st | epoch 039 | valid on 'dev_st' subset | loss 3.676 | trans_loss 4.864 | nll_loss 2.081 | w2v_ctc_loss 1.265 | task_loss 8.519 | contrastive_loss 0 | total 6138.43 | n_correct 4388.43 | ppl 4.23 | accuracy 71.491 | uer 16.254 | wer 18.181 | raw_wer 18.181 | bleu 28.77 | wps 1766.2 | wpb 6138.4 | bsz 201.1 | num_updates 46000 | best_bleu 29.38
2023-08-26 10:14:30 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 39 @ 46000 updates
2023-08-26 10:14:30 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_39_46000.pt
2023-08-26 10:14:32 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_39_46000.pt
2023-08-26 10:14:37 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_39_46000.pt (epoch 39 @ 46000 updates, score 28.77) (writing took 6.843921329993464 seconds)
2023-08-26 10:15:49 | INFO | train_inner | epoch 039:    860 / 1191 loss=1.728, trans_loss=4.496, nll_loss=1.654, w2v_ctc_loss=0.491, task_loss=2.243, contrastive_loss=0, total=6791.29, n_correct=5035.59, ppl=3.15, accuracy=74.148, wps=12212.3, ups=0.9, wpb=13582.6, bsz=470.5, num_updates=46100, lr=6.58665e-05, gnorm=0.402, clip=0, loss_scale=16, train_wall=71, gb_free=13.6, wall=39782
2023-08-26 10:17:02 | INFO | train_inner | epoch 039:    960 / 1191 loss=1.722, trans_loss=4.488, nll_loss=1.645, w2v_ctc_loss=0.485, task_loss=2.15, contrastive_loss=0, total=6846.2, n_correct=5083.45, ppl=3.13, accuracy=74.252, wps=18884.3, ups=1.38, wpb=13692.4, bsz=481, num_updates=46200, lr=6.57952e-05, gnorm=0.387, clip=0, loss_scale=16, train_wall=72, gb_free=13.2, wall=39855
2023-08-26 10:18:14 | INFO | train_inner | epoch 039:   1060 / 1191 loss=1.726, trans_loss=4.491, nll_loss=1.648, w2v_ctc_loss=0.486, task_loss=2.277, contrastive_loss=0, total=6764.82, n_correct=5018.78, ppl=3.13, accuracy=74.189, wps=18900.3, ups=1.4, wpb=13529.6, bsz=459.7, num_updates=46300, lr=6.57241e-05, gnorm=0.387, clip=0, loss_scale=16, train_wall=71, gb_free=14.5, wall=39927
2023-08-26 10:19:25 | INFO | train_inner | epoch 039:   1160 / 1191 loss=1.734, trans_loss=4.494, nll_loss=1.652, w2v_ctc_loss=0.499, task_loss=2.523, contrastive_loss=0, total=6545.84, n_correct=4845.47, ppl=3.14, accuracy=74.024, wps=18369.4, ups=1.4, wpb=13091.7, bsz=422.1, num_updates=46400, lr=6.56532e-05, gnorm=0.431, clip=0, loss_scale=16, train_wall=71, gb_free=12.9, wall=39998
2023-08-26 10:19:47 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 10:20:19 | INFO | dev_st | epoch 039 | valid on 'dev_st' subset | loss 3.677 | trans_loss 4.864 | nll_loss 2.079 | w2v_ctc_loss 1.267 | task_loss 8.56 | contrastive_loss 0 | total 6138.43 | n_correct 4392.29 | ppl 4.23 | accuracy 71.554 | uer 16.19 | wer 18.059 | raw_wer 18.059 | bleu 29.15 | wps 1770.7 | wpb 6138.4 | bsz 201.1 | num_updates 46431 | best_bleu 29.38
2023-08-26 10:20:19 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 39 @ 46431 updates
2023-08-26 10:20:19 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_last.pt
2023-08-26 10:20:25 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_last.pt
2023-08-26 10:20:25 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_last.pt (epoch 39 @ 46431 updates, score 29.15) (writing took 5.764063555994653 seconds)
2023-08-26 10:20:25 | INFO | fairseq_cli.train | end of epoch 39 (average epoch stats below)
2023-08-26 10:20:25 | INFO | train | epoch 039 | loss 1.727 | trans_loss 4.491 | nll_loss 1.648 | w2v_ctc_loss 0.489 | task_loss 2.347 | contrastive_loss 0 | total 6703.69 | n_correct 4974.12 | ppl 3.13 | accuracy 74.2 | wps 16967.4 | ups 1.27 | wpb 13407.4 | bsz 452.1 | num_updates 46431 | lr 6.56313e-05 | gnorm 0.397 | clip 0 | loss_scale 16 | train_wall 850 | gb_free 13.1 | wall 40058
2023-08-26 10:20:25 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 10:20:25 | INFO | fairseq.trainer | begin training epoch 40
2023-08-26 10:20:25 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 10:21:22 | INFO | train_inner | epoch 040:     69 / 1191 loss=1.719, trans_loss=4.481, nll_loss=1.635, w2v_ctc_loss=0.482, task_loss=2.165, contrastive_loss=0, total=6806.36, n_correct=5062.92, ppl=3.11, accuracy=74.385, wps=11647.7, ups=0.86, wpb=13612.7, bsz=479.3, num_updates=46500, lr=6.55826e-05, gnorm=0.389, clip=0, loss_scale=16, train_wall=71, gb_free=14.7, wall=40115
2023-08-26 10:22:33 | INFO | train_inner | epoch 040:    169 / 1191 loss=1.72, trans_loss=4.478, nll_loss=1.632, w2v_ctc_loss=0.485, task_loss=2.344, contrastive_loss=0, total=6719.99, n_correct=5012.31, ppl=3.1, accuracy=74.588, wps=18715.7, ups=1.39, wpb=13440, bsz=449.5, num_updates=46600, lr=6.55122e-05, gnorm=0.392, clip=0, loss_scale=16, train_wall=71, gb_free=13.4, wall=40187
2023-08-26 10:23:46 | INFO | train_inner | epoch 040:    269 / 1191 loss=1.719, trans_loss=4.481, nll_loss=1.635, w2v_ctc_loss=0.479, task_loss=2.288, contrastive_loss=0, total=6731.26, n_correct=5007.7, ppl=3.11, accuracy=74.395, wps=18667.5, ups=1.39, wpb=13462.5, bsz=458.6, num_updates=46700, lr=6.5442e-05, gnorm=0.388, clip=0, loss_scale=16, train_wall=71, gb_free=12.5, wall=40259
2023-08-26 10:24:58 | INFO | train_inner | epoch 040:    369 / 1191 loss=1.724, trans_loss=4.483, nll_loss=1.637, w2v_ctc_loss=0.487, task_loss=2.47, contrastive_loss=0, total=6628.21, n_correct=4927.75, ppl=3.11, accuracy=74.345, wps=18276.5, ups=1.38, wpb=13256.4, bsz=442.5, num_updates=46800, lr=6.5372e-05, gnorm=0.396, clip=0, loss_scale=32, train_wall=72, gb_free=14.3, wall=40331
2023-08-26 10:26:10 | INFO | train_inner | epoch 040:    469 / 1191 loss=1.721, trans_loss=4.484, nll_loss=1.639, w2v_ctc_loss=0.483, task_loss=2.299, contrastive_loss=0, total=6738.83, n_correct=5017.28, ppl=3.11, accuracy=74.453, wps=18880.1, ups=1.4, wpb=13477.7, bsz=458, num_updates=46900, lr=6.53023e-05, gnorm=0.393, clip=0, loss_scale=32, train_wall=71, gb_free=14, wall=40403
2023-08-26 10:27:21 | INFO | train_inner | epoch 040:    569 / 1191 loss=1.718, trans_loss=4.483, nll_loss=1.638, w2v_ctc_loss=0.475, task_loss=2.307, contrastive_loss=0, total=6672.37, n_correct=4965.5, ppl=3.11, accuracy=74.419, wps=18690, ups=1.4, wpb=13344.7, bsz=454.7, num_updates=47000, lr=6.52328e-05, gnorm=0.393, clip=0, loss_scale=32, train_wall=71, gb_free=13.8, wall=40474
2023-08-26 10:28:33 | INFO | train_inner | epoch 040:    669 / 1191 loss=1.729, trans_loss=4.49, nll_loss=1.646, w2v_ctc_loss=0.49, task_loss=2.399, contrastive_loss=0, total=6678.95, n_correct=4955.05, ppl=3.13, accuracy=74.189, wps=18485, ups=1.38, wpb=13357.9, bsz=443.9, num_updates=47100, lr=6.51635e-05, gnorm=0.394, clip=0, loss_scale=32, train_wall=72, gb_free=12, wall=40546
2023-08-26 10:29:45 | INFO | train_inner | epoch 040:    769 / 1191 loss=1.727, trans_loss=4.488, nll_loss=1.644, w2v_ctc_loss=0.49, task_loss=2.387, contrastive_loss=0, total=6676.6, n_correct=4958.37, ppl=3.13, accuracy=74.265, wps=18537.6, ups=1.39, wpb=13353.2, bsz=446.1, num_updates=47200, lr=6.50945e-05, gnorm=0.394, clip=0, loss_scale=32, train_wall=71, gb_free=14.2, wall=40618
2023-08-26 10:30:58 | INFO | train_inner | epoch 040:    869 / 1191 loss=1.729, trans_loss=4.49, nll_loss=1.647, w2v_ctc_loss=0.491, task_loss=2.444, contrastive_loss=0, total=6699.5, n_correct=4969.48, ppl=3.13, accuracy=74.177, wps=18325.8, ups=1.37, wpb=13399, bsz=441, num_updates=47300, lr=6.50256e-05, gnorm=0.393, clip=0, loss_scale=32, train_wall=73, gb_free=13.7, wall=40691
2023-08-26 10:32:10 | INFO | train_inner | epoch 040:    969 / 1191 loss=1.725, trans_loss=4.493, nll_loss=1.65, w2v_ctc_loss=0.484, task_loss=2.294, contrastive_loss=0, total=6690.02, n_correct=4966.98, ppl=3.14, accuracy=74.245, wps=18758.2, ups=1.4, wpb=13380, bsz=455.9, num_updates=47400, lr=6.4957e-05, gnorm=0.399, clip=0, loss_scale=32, train_wall=71, gb_free=13.7, wall=40763
2023-08-26 10:33:18 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-26 10:33:23 | INFO | train_inner | epoch 040:   1070 / 1191 loss=1.729, trans_loss=4.49, nll_loss=1.647, w2v_ctc_loss=0.496, task_loss=2.376, contrastive_loss=0, total=6730.88, n_correct=4992.59, ppl=3.13, accuracy=74.174, wps=18368.1, ups=1.36, wpb=13461.8, bsz=450.8, num_updates=47500, lr=6.48886e-05, gnorm=0.395, clip=0, loss_scale=16, train_wall=73, gb_free=10.8, wall=40836
2023-08-26 10:34:35 | INFO | train_inner | epoch 040:   1170 / 1191 loss=1.723, trans_loss=4.489, nll_loss=1.645, w2v_ctc_loss=0.483, task_loss=2.284, contrastive_loss=0, total=6704.61, n_correct=4979.82, ppl=3.13, accuracy=74.275, wps=18701, ups=1.39, wpb=13409.2, bsz=463, num_updates=47600, lr=6.48204e-05, gnorm=0.399, clip=0, loss_scale=16, train_wall=71, gb_free=13, wall=40908
2023-08-26 10:34:50 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 10:35:22 | INFO | dev_st | epoch 040 | valid on 'dev_st' subset | loss 3.662 | trans_loss 4.858 | nll_loss 2.074 | w2v_ctc_loss 1.231 | task_loss 8.553 | contrastive_loss 0 | total 6138.43 | n_correct 4395.57 | ppl 4.21 | accuracy 71.607 | uer 16.204 | wer 18.022 | raw_wer 18.022 | bleu 29.24 | wps 1776.4 | wpb 6138.4 | bsz 201.1 | num_updates 47621 | best_bleu 29.38
2023-08-26 10:35:22 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 40 @ 47621 updates
2023-08-26 10:35:22 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.2404.pt
2023-08-26 10:35:24 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.2404.pt
2023-08-26 10:35:29 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_29.2404.pt (epoch 40 @ 47621 updates, score 29.24) (writing took 7.028045934996044 seconds)
2023-08-26 10:35:29 | INFO | fairseq_cli.train | end of epoch 40 (average epoch stats below)
2023-08-26 10:35:29 | INFO | train | epoch 040 | loss 1.724 | trans_loss 4.486 | nll_loss 1.641 | w2v_ctc_loss 0.486 | task_loss 2.35 | contrastive_loss 0 | total 6702.07 | n_correct 4981.06 | ppl 3.12 | accuracy 74.321 | wps 17642.2 | ups 1.32 | wpb 13404.1 | bsz 451.8 | num_updates 47621 | lr 6.48061e-05 | gnorm 0.394 | clip 0 | loss_scale 16 | train_wall 849 | gb_free 12.1 | wall 40962
2023-08-26 10:35:29 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 10:35:29 | INFO | fairseq.trainer | begin training epoch 41
2023-08-26 10:35:29 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 10:36:34 | INFO | train_inner | epoch 041:     79 / 1191 loss=1.719, trans_loss=4.481, nll_loss=1.636, w2v_ctc_loss=0.478, task_loss=2.343, contrastive_loss=0, total=6693.81, n_correct=4983.34, ppl=3.11, accuracy=74.447, wps=11253.2, ups=0.84, wpb=13387.6, bsz=458.6, num_updates=47700, lr=6.47524e-05, gnorm=0.395, clip=0, loss_scale=16, train_wall=71, gb_free=13.8, wall=41027
2023-08-26 10:37:46 | INFO | train_inner | epoch 041:    179 / 1191 loss=1.722, trans_loss=4.48, nll_loss=1.634, w2v_ctc_loss=0.482, task_loss=2.382, contrastive_loss=0, total=6684.4, n_correct=4970.48, ppl=3.1, accuracy=74.359, wps=18541.3, ups=1.39, wpb=13368.8, bsz=446.3, num_updates=47800, lr=6.46846e-05, gnorm=0.39, clip=0, loss_scale=16, train_wall=72, gb_free=12.9, wall=41099
2023-08-26 10:38:58 | INFO | train_inner | epoch 041:    279 / 1191 loss=1.713, trans_loss=4.478, nll_loss=1.631, w2v_ctc_loss=0.472, task_loss=2.222, contrastive_loss=0, total=6783.63, n_correct=5057.29, ppl=3.1, accuracy=74.551, wps=18727.5, ups=1.38, wpb=13567.3, bsz=474.5, num_updates=47900, lr=6.46171e-05, gnorm=0.386, clip=0, loss_scale=16, train_wall=72, gb_free=12.9, wall=41171
2023-08-26 10:40:10 | INFO | train_inner | epoch 041:    379 / 1191 loss=1.716, trans_loss=4.478, nll_loss=1.631, w2v_ctc_loss=0.479, task_loss=2.224, contrastive_loss=0, total=6808.84, n_correct=5076.12, ppl=3.1, accuracy=74.552, wps=18929.6, ups=1.39, wpb=13617.7, bsz=466.3, num_updates=48000, lr=6.45497e-05, gnorm=0.388, clip=0, loss_scale=16, train_wall=71, gb_free=14.2, wall=41243
2023-08-26 10:40:10 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 10:40:42 | INFO | dev_st | epoch 041 | valid on 'dev_st' subset | loss 3.668 | trans_loss 4.86 | nll_loss 2.076 | w2v_ctc_loss 1.248 | task_loss 8.519 | contrastive_loss 0 | total 6138.43 | n_correct 4402.57 | ppl 4.22 | accuracy 71.721 | uer 16.206 | wer 18.018 | raw_wer 18.018 | bleu 29.34 | wps 1763.5 | wpb 6138.4 | bsz 201.1 | num_updates 48000 | best_bleu 29.38
2023-08-26 10:40:42 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 41 @ 48000 updates
2023-08-26 10:40:42 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_41_48000.pt
2023-08-26 10:40:44 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_41_48000.pt
2023-08-26 10:40:50 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_41_48000.pt (epoch 41 @ 48000 updates, score 29.34) (writing took 7.2604139519971795 seconds)
2023-08-26 10:42:02 | INFO | train_inner | epoch 041:    479 / 1191 loss=1.719, trans_loss=4.48, nll_loss=1.634, w2v_ctc_loss=0.481, task_loss=2.268, contrastive_loss=0, total=6779.97, n_correct=5051.61, ppl=3.1, accuracy=74.508, wps=12144.2, ups=0.9, wpb=13559.9, bsz=459.8, num_updates=48100, lr=6.44826e-05, gnorm=0.404, clip=0, loss_scale=16, train_wall=71, gb_free=12, wall=41355
2023-08-26 10:43:14 | INFO | train_inner | epoch 041:    579 / 1191 loss=1.714, trans_loss=4.476, nll_loss=1.628, w2v_ctc_loss=0.472, task_loss=2.22, contrastive_loss=0, total=6786.92, n_correct=5060.68, ppl=3.09, accuracy=74.565, wps=18877.9, ups=1.39, wpb=13573.8, bsz=461.3, num_updates=48200, lr=6.44157e-05, gnorm=0.389, clip=0, loss_scale=16, train_wall=71, gb_free=13, wall=41427
2023-08-26 10:44:26 | INFO | train_inner | epoch 041:    679 / 1191 loss=1.72, trans_loss=4.481, nll_loss=1.635, w2v_ctc_loss=0.483, task_loss=2.343, contrastive_loss=0, total=6689.04, n_correct=4976.43, ppl=3.11, accuracy=74.397, wps=18583.8, ups=1.39, wpb=13378.1, bsz=450.7, num_updates=48300, lr=6.43489e-05, gnorm=0.39, clip=0, loss_scale=16, train_wall=71, gb_free=13.8, wall=41499
2023-08-26 10:45:38 | INFO | train_inner | epoch 041:    779 / 1191 loss=1.727, trans_loss=4.481, nll_loss=1.635, w2v_ctc_loss=0.491, task_loss=2.589, contrastive_loss=0, total=6531.41, n_correct=4850.78, ppl=3.11, accuracy=74.268, wps=18150.9, ups=1.39, wpb=13062.8, bsz=419.5, num_updates=48400, lr=6.42824e-05, gnorm=0.402, clip=0, loss_scale=16, train_wall=71, gb_free=12.3, wall=41571
2023-08-26 10:46:50 | INFO | train_inner | epoch 041:    879 / 1191 loss=1.726, trans_loss=4.483, nll_loss=1.637, w2v_ctc_loss=0.49, task_loss=2.515, contrastive_loss=0, total=6587.83, n_correct=4898.98, ppl=3.11, accuracy=74.364, wps=18149.7, ups=1.38, wpb=13175.7, bsz=427.9, num_updates=48500, lr=6.42161e-05, gnorm=0.408, clip=0, loss_scale=16, train_wall=72, gb_free=12.9, wall=41643
2023-08-26 10:48:02 | INFO | train_inner | epoch 041:    979 / 1191 loss=1.727, trans_loss=4.49, nll_loss=1.646, w2v_ctc_loss=0.488, task_loss=2.477, contrastive_loss=0, total=6659.53, n_correct=4943.04, ppl=3.13, accuracy=74.225, wps=18448.5, ups=1.39, wpb=13319.1, bsz=439.6, num_updates=48600, lr=6.415e-05, gnorm=0.397, clip=0, loss_scale=16, train_wall=72, gb_free=12.1, wall=41716
2023-08-26 10:49:15 | INFO | train_inner | epoch 041:   1079 / 1191 loss=1.718, trans_loss=4.485, nll_loss=1.641, w2v_ctc_loss=0.478, task_loss=2.172, contrastive_loss=0, total=6842.66, n_correct=5086.25, ppl=3.12, accuracy=74.331, wps=18977.8, ups=1.39, wpb=13685.3, bsz=481.2, num_updates=48700, lr=6.40841e-05, gnorm=0.39, clip=0, loss_scale=16, train_wall=72, gb_free=13.2, wall=41788
2023-08-26 10:50:26 | INFO | train_inner | epoch 041:   1179 / 1191 loss=1.727, trans_loss=4.487, nll_loss=1.643, w2v_ctc_loss=0.488, task_loss=2.477, contrastive_loss=0, total=6592.77, n_correct=4897.63, ppl=3.12, accuracy=74.288, wps=18421.3, ups=1.4, wpb=13185.5, bsz=430.8, num_updates=48800, lr=6.40184e-05, gnorm=0.403, clip=0, loss_scale=16, train_wall=71, gb_free=13.3, wall=41859
2023-08-26 10:50:35 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 10:51:07 | INFO | dev_st | epoch 041 | valid on 'dev_st' subset | loss 3.673 | trans_loss 4.866 | nll_loss 2.084 | w2v_ctc_loss 1.248 | task_loss 8.521 | contrastive_loss 0 | total 6138.43 | n_correct 4392 | ppl 4.24 | accuracy 71.549 | uer 16.399 | wer 18.2 | raw_wer 18.2 | bleu 28.86 | wps 1744 | wpb 6138.4 | bsz 201.1 | num_updates 48812 | best_bleu 29.38
2023-08-26 10:51:07 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 41 @ 48812 updates
2023-08-26 10:51:07 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_last.pt
2023-08-26 10:51:14 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_last.pt
2023-08-26 10:51:14 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_last.pt (epoch 41 @ 48812 updates, score 28.86) (writing took 6.649388121993979 seconds)
2023-08-26 10:51:14 | INFO | fairseq_cli.train | end of epoch 41 (average epoch stats below)
2023-08-26 10:51:14 | INFO | train | epoch 041 | loss 1.72 | trans_loss 4.481 | nll_loss 1.636 | w2v_ctc_loss 0.481 | task_loss 2.342 | contrastive_loss 0 | total 6703.69 | n_correct 4988.5 | ppl 3.11 | accuracy 74.414 | wps 16905.3 | ups 1.26 | wpb 13407.4 | bsz 452.1 | num_updates 48812 | lr 6.40106e-05 | gnorm 0.395 | clip 0 | loss_scale 16 | train_wall 851 | gb_free 11.5 | wall 41907
2023-08-26 10:51:14 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1191
2023-08-26 10:51:14 | INFO | fairseq.trainer | begin training epoch 42
2023-08-26 10:51:14 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-26 10:52:24 | INFO | train_inner | epoch 042:     88 / 1191 loss=1.709, trans_loss=4.472, nll_loss=1.623, w2v_ctc_loss=0.469, task_loss=2.097, contrastive_loss=0, total=6832.07, n_correct=5107.06, ppl=3.08, accuracy=74.751, wps=11636.2, ups=0.85, wpb=13664.1, bsz=486.2, num_updates=48900, lr=6.39529e-05, gnorm=0.385, clip=0, loss_scale=16, train_wall=70, gb_free=14.1, wall=41977
2023-08-26 10:53:36 | INFO | train_inner | epoch 042:    188 / 1191 loss=1.723, trans_loss=4.481, nll_loss=1.634, w2v_ctc_loss=0.482, task_loss=2.417, contrastive_loss=0, total=6681.71, n_correct=4967.38, ppl=3.1, accuracy=74.343, wps=18519.2, ups=1.39, wpb=13363.4, bsz=442.9, num_updates=49000, lr=6.38877e-05, gnorm=0.401, clip=0, loss_scale=16, train_wall=71, gb_free=13, wall=42049
2023-08-26 10:54:47 | INFO | train_inner | epoch 042:    288 / 1191 loss=1.719, trans_loss=4.472, nll_loss=1.624, w2v_ctc_loss=0.486, task_loss=2.412, contrastive_loss=0, total=6645.07, n_correct=4951.62, ppl=3.08, accuracy=74.516, wps=18550.1, ups=1.4, wpb=13290.1, bsz=444.2, num_updates=49100, lr=6.38226e-05, gnorm=0.402, clip=0, loss_scale=16, train_wall=71, gb_free=14, wall=42120
2023-08-26 10:56:00 | INFO | train_inner | epoch 042:    388 / 1191 loss=1.713, trans_loss=4.471, nll_loss=1.622, w2v_ctc_loss=0.474, task_loss=2.434, contrastive_loss=0, total=6618.55, n_correct=4941.23, ppl=3.08, accuracy=74.657, wps=18358.8, ups=1.39, wpb=13237.1, bsz=444.6, num_updates=49200, lr=6.37577e-05, gnorm=0.397, clip=0, loss_scale=16, train_wall=72, gb_free=11.2, wall=42193
2023-08-26 10:57:13 | INFO | train_inner | epoch 042:    488 / 1191 loss=1.723, trans_loss=4.48, nll_loss=1.633, w2v_ctc_loss=0.482, task_loss=2.607, contrastive_loss=0, total=6628.88, n_correct=4931.31, ppl=3.1, accuracy=74.391, wps=18152.3, ups=1.37, wpb=13257.8, bsz=421.9, num_updates=49300, lr=6.3693e-05, gnorm=0.4, clip=0, loss_scale=16, train_wall=72, gb_free=11.7, wall=42266
2023-08-26 10:58:24 | INFO | train_inner | epoch 042:    588 / 1191 loss=1.724, trans_loss=4.481, nll_loss=1.634, w2v_ctc_loss=0.487, task_loss=2.51, contrastive_loss=0, total=6613.72, n_correct=4921.66, ppl=3.1, accuracy=74.416, wps=18510.3, ups=1.4, wpb=13227.4, bsz=432.7, num_updates=49400, lr=6.36285e-05, gnorm=0.397, clip=0, loss_scale=16, train_wall=71, gb_free=10.3, wall=42337
2023-08-26 10:59:36 | INFO | train_inner | epoch 042:    688 / 1191 loss=1.713, trans_loss=4.478, nll_loss=1.632, w2v_ctc_loss=0.472, task_loss=2.15, contrastive_loss=0, total=6815.56, n_correct=5082.64, ppl=3.1, accuracy=74.574, wps=18877.4, ups=1.38, wpb=13631.1, bsz=479.3, num_updates=49500, lr=6.35642e-05, gnorm=0.392, clip=0, loss_scale=16, train_wall=72, gb_free=13.4, wall=42409
2023-08-26 11:00:48 | INFO | train_inner | epoch 042:    788 / 1191 loss=1.717, trans_loss=4.481, nll_loss=1.636, w2v_ctc_loss=0.477, task_loss=2.276, contrastive_loss=0, total=6712.07, n_correct=5000.98, ppl=3.11, accuracy=74.507, wps=18747, ups=1.4, wpb=13424.1, bsz=462.2, num_updates=49600, lr=6.35001e-05, gnorm=0.39, clip=0, loss_scale=32, train_wall=71, gb_free=13.7, wall=42481
2023-08-26 11:01:20 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-26 11:02:00 | INFO | train_inner | epoch 042:    889 / 1191 loss=1.715, trans_loss=4.472, nll_loss=1.624, w2v_ctc_loss=0.476, task_loss=2.384, contrastive_loss=0, total=6578.61, n_correct=4907.11, ppl=3.08, accuracy=74.592, wps=18214.7, ups=1.38, wpb=13157.2, bsz=443, num_updates=49700, lr=6.34361e-05, gnorm=0.392, clip=0, loss_scale=16, train_wall=72, gb_free=13.2, wall=42553
2023-08-26 11:03:12 | INFO | train_inner | epoch 042:    989 / 1191 loss=1.714, trans_loss=4.478, nll_loss=1.631, w2v_ctc_loss=0.473, task_loss=2.156, contrastive_loss=0, total=6810.28, n_correct=5077.08, ppl=3.1, accuracy=74.55, wps=18872.3, ups=1.39, wpb=13620.6, bsz=481, num_updates=49800, lr=6.33724e-05, gnorm=0.384, clip=0, loss_scale=16, train_wall=72, gb_free=11.5, wall=42625
2023-08-26 11:04:24 | INFO | train_inner | epoch 042:   1089 / 1191 loss=1.723, trans_loss=4.48, nll_loss=1.634, w2v_ctc_loss=0.483, task_loss=2.526, contrastive_loss=0, total=6679.66, n_correct=4968.58, ppl=3.1, accuracy=74.384, wps=18645.8, ups=1.4, wpb=13359.3, bsz=424.5, num_updates=49900, lr=6.33089e-05, gnorm=0.393, clip=0, loss_scale=16, train_wall=71, gb_free=14.4, wall=42697
2023-08-26 11:05:36 | INFO | train_inner | epoch 042:   1189 / 1191 loss=1.717, trans_loss=4.478, nll_loss=1.632, w2v_ctc_loss=0.479, task_loss=2.253, contrastive_loss=0, total=6829.88, n_correct=5092.58, ppl=3.1, accuracy=74.563, wps=18935.8, ups=1.39, wpb=13659.8, bsz=464.9, num_updates=50000, lr=6.32456e-05, gnorm=0.386, clip=0, loss_scale=16, train_wall=71, gb_free=12.2, wall=42769
2023-08-26 11:05:36 | INFO | fairseq_cli.train | Stopping training due to num_updates: 50000 >= max_update: 50000
2023-08-26 11:05:36 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-26 11:06:08 | INFO | dev_st | epoch 042 | valid on 'dev_st' subset | loss 3.653 | trans_loss 4.856 | nll_loss 2.072 | w2v_ctc_loss 1.206 | task_loss 8.53 | contrastive_loss 0 | total 6138.43 | n_correct 4398.71 | ppl 4.2 | accuracy 71.659 | uer 16.372 | wer 18.304 | raw_wer 18.304 | bleu 28.98 | wps 1756.3 | wpb 6138.4 | bsz 201.1 | num_updates 50000 | best_bleu 29.38
2023-08-26 11:06:08 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 42 @ 50000 updates
2023-08-26 11:06:08 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_42_50000.pt
2023-08-26 11:06:10 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_42_50000.pt
2023-08-26 11:06:15 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/enfr_shrink_v2_merge_wmt_0825_soft_noCL_AT_sentence_mixup0109_scale2.5_alpha0_mt0.5/checkpoint_42_50000.pt (epoch 42 @ 50000 updates, score 28.98) (writing took 6.472544593998464 seconds)
2023-08-26 11:06:15 | INFO | fairseq_cli.train | end of epoch 42 (average epoch stats below)
2023-08-26 11:06:15 | INFO | train | epoch 042 | loss 1.717 | trans_loss 4.477 | nll_loss 1.63 | w2v_ctc_loss 0.478 | task_loss 2.343 | contrastive_loss 0 | total 6706.95 | n_correct 4997.86 | ppl 3.1 | accuracy 74.518 | wps 17680.7 | ups 1.32 | wpb 13413.9 | bsz 452.6 | num_updates 50000 | lr 6.32456e-05 | gnorm 0.393 | clip 0 | loss_scale 16 | train_wall 848 | gb_free 12.2 | wall 42808
2023-08-26 11:06:15 | INFO | fairseq_cli.train | done training in 42750.5 seconds
Exception in thread Thread-7:
Traceback (most recent call last):
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/threading.py", line 932, in _bootstrap_inner
Exception in thread Thread-6:
Traceback (most recent call last):
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/threading.py", line 932, in _bootstrap_inner
Exception in thread Thread-3:
Traceback (most recent call last):
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/tensorboardX/event_file_writer.py", line 202, in run
    self.run()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/tensorboardX/event_file_writer.py", line 202, in run
    data = self._queue.get(True, queue_wait_duration)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/queues.py", line 111, in get
    data = self._queue.get(True, queue_wait_duration)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/queues.py", line 111, in get
    res = self._recv_bytes()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 216, in recv_bytes
    self.run()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/tensorboardX/event_file_writer.py", line 202, in run
    data = self._queue.get(True, queue_wait_duration)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/queues.py", line 111, in get
    res = self._recv_bytes()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 216, in recv_bytes
    buf = self._recv_bytes(maxlength)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 414, in _recv_bytes
    buf = self._recv_bytes(maxlength)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 414, in _recv_bytes
    buf = self._recv(4)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 383, in _recv
    buf = self._recv(4)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 383, in _recv
    res = self._recv_bytes()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 216, in recv_bytes
    raise EOFError
EOFError
    raise EOFError
EOFError
    buf = self._recv_bytes(maxlength)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 414, in _recv_bytes
    buf = self._recv(4)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 383, in _recv
    raise EOFError
EOFError
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/resource_tracker.py:216: UserWarning: resource_tracker: There appear to be 1728 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
