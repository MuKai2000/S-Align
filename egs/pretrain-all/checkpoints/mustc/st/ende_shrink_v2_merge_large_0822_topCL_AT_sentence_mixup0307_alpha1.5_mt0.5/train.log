2023-08-22 15:00:01 | INFO | fairseq.distributed.utils | distributed init (rank 6): tcp://localhost:14344
2023-08-22 15:00:01 | INFO | fairseq.distributed.utils | distributed init (rank 2): tcp://localhost:14344
2023-08-22 15:00:01 | INFO | fairseq.distributed.utils | distributed init (rank 4): tcp://localhost:14344
2023-08-22 15:00:01 | INFO | fairseq.distributed.utils | distributed init (rank 5): tcp://localhost:14344
2023-08-22 15:00:01 | INFO | fairseq.distributed.utils | distributed init (rank 1): tcp://localhost:14344
2023-08-22 15:00:01 | INFO | fairseq.distributed.utils | distributed init (rank 7): tcp://localhost:14344
2023-08-22 15:00:01 | INFO | fairseq.distributed.utils | distributed init (rank 0): tcp://localhost:14344
2023-08-22 15:00:01 | INFO | fairseq.distributed.utils | distributed init (rank 3): tcp://localhost:14344
2023-08-22 15:00:01 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 3
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 6
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 2
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 4
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 5
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 1
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 7
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 0
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Rank 0: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 15:00:02 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 0
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Rank 7: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 15:00:02 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 7
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Rank 6: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 15:00:02 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 6
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Rank 5: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Rank 1: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 15:00:02 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 5
2023-08-22 15:00:02 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 1
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Rank 3: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 15:00:02 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 3
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Rank 2: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 15:00:02 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 2
2023-08-22 15:00:02 | INFO | torch.distributed.distributed_c10d | Rank 4: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 15:00:02 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 4
2023-08-22 15:00:05 | INFO | fairseq_cli.train | {'_name': None, 'common': {'_name': None, 'no_progress_bar': True, 'log_interval': 100, 'log_format': None, 'log_file': None, 'aim_repo': None, 'aim_run_hash': None, 'tensorboard_logdir': './checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5', 'wandb_project': None, 'azureml_logging': False, 'seed': 1, 'cpu': False, 'tpu': False, 'bf16': False, 'memory_efficient_bf16': False, 'fp16': True, 'memory_efficient_fp16': False, 'fp16_no_flatten_grads': False, 'fp16_init_scale': 128, 'fp16_scale_window': None, 'fp16_scale_tolerance': 0.0, 'on_cpu_convert_precision': False, 'min_loss_scale': 0.0001, 'threshold_loss_scale': None, 'amp': False, 'amp_batch_retries': 2, 'amp_init_scale': 128, 'amp_scale_window': None, 'user_dir': None, 'empty_cache_freq': 0, 'all_gather_list_size': 16384, 'model_parallel_size': 1, 'quantization_config_path': None, 'profile': False, 'reset_logging': False, 'suppress_crashes': False, 'use_plasma_view': False, 'plasma_path': '/tmp/plasma'}, 'common_eval': {'_name': None, 'path': None, 'post_process': 'sentencepiece', 'quiet': False, 'model_overrides': '{}', 'results_path': None}, 'distributed_training': {'_name': None, 'distributed_world_size': 8, 'distributed_num_procs': 8, 'distributed_rank': 0, 'distributed_backend': 'nccl', 'distributed_init_method': 'tcp://localhost:14344', 'distributed_port': -1, 'device_id': 0, 'distributed_no_spawn': False, 'ddp_backend': 'no_c10d', 'ddp_comm_hook': 'none', 'bucket_cap_mb': 25, 'fix_batches_to_gpus': False, 'find_unused_parameters': False, 'gradient_as_bucket_view': False, 'fast_stat_sync': False, 'heartbeat_timeout': -1, 'broadcast_buffers': False, 'slowmo_momentum': None, 'slowmo_base_algorithm': 'localsgd', 'localsgd_frequency': 3, 'nprocs_per_node': 8, 'pipeline_model_parallel': False, 'pipeline_balance': None, 'pipeline_devices': None, 'pipeline_chunks': 0, 'pipeline_encoder_balance': None, 'pipeline_encoder_devices': None, 'pipeline_decoder_balance': None, 'pipeline_decoder_devices': None, 'pipeline_checkpoint': 'never', 'zero_sharding': 'none', 'fp16': True, 'memory_efficient_fp16': False, 'tpu': False, 'no_reshard_after_forward': False, 'fp32_reduce_scatter': False, 'cpu_offload': False, 'use_sharded_state': False, 'not_fsdp_flatten_parameters': False}, 'dataset': {'_name': None, 'num_workers': 2, 'skip_invalid_size_inputs_valid_test': True, 'max_tokens': 15000, 'batch_size': None, 'required_batch_size_multiple': 8, 'required_seq_len_multiple': 1, 'dataset_impl': None, 'data_buffer_size': 10, 'train_subset': 'train_st,train_asr', 'valid_subset': 'dev_st', 'combine_valid_subsets': None, 'ignore_unused_valid_subsets': False, 'validate_interval': 1, 'validate_interval_updates': 0, 'validate_after_updates': 0, 'fixed_validation_seed': None, 'disable_validation': False, 'max_tokens_valid': 15000, 'batch_size_valid': None, 'max_valid_steps': None, 'curriculum': 0, 'gen_subset': 'test', 'num_shards': 1, 'shard_id': 0, 'grouped_shuffling': False, 'update_epoch_batch_itr': False, 'update_ordered_indices_seed': False}, 'optimization': {'_name': None, 'max_epoch': 100, 'max_update': 50000, 'stop_time_hours': 0.0, 'clip_norm': 10.0, 'sentence_avg': False, 'update_freq': [1], 'lr': [0.0002], 'stop_min_lr': -1.0, 'use_bmuf': False, 'skip_remainder_batch': False}, 'checkpoint': {'_name': None, 'save_dir': './checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5', 'restore_file': 'checkpoint_last.pt', 'continue_once': None, 'finetune_from_model': None, 'reset_dataloader': False, 'reset_lr_scheduler': False, 'reset_meters': False, 'reset_optimizer': False, 'optimizer_overrides': '{}', 'save_interval': 1, 'save_interval_updates': 2000, 'keep_interval_updates': 5, 'keep_interval_updates_pattern': -1, 'keep_last_epochs': 2, 'keep_best_checkpoints': 10, 'no_save': False, 'no_epoch_checkpoints': True, 'no_last_checkpoints': False, 'no_save_optimizer_state': False, 'best_checkpoint_metric': 'bleu', 'maximize_best_checkpoint_metric': True, 'patience': -1, 'checkpoint_suffix': '', 'checkpoint_shard_count': 1, 'load_checkpoint_on_all_dp_ranks': False, 'write_checkpoints_asynchronously': False, 'model_parallel_size': 1}, 'bmuf': {'_name': None, 'block_lr': 1.0, 'block_momentum': 0.875, 'global_sync_iter': 50, 'warmup_iterations': 500, 'use_nbm': False, 'average_sync': False, 'distributed_world_size': 8}, 'generation': {'_name': None, 'beam': 5, 'beam_mt': 0, 'nbest': 1, 'max_len_a': 0.0, 'max_len_b': 200, 'max_len_a_mt': 0.0, 'max_len_b_mt': 200, 'min_len': 1, 'match_source_len': False, 'unnormalized': False, 'no_early_stop': False, 'no_beamable_mm': False, 'lenpen': 1.0, 'lenpen_mt': 1.0, 'unkpen': 0.0, 'replace_unk': None, 'sacrebleu': False, 'score_reference': False, 'prefix_size': 0, 'no_repeat_ngram_size': 0, 'sampling': False, 'sampling_topk': -1, 'sampling_topp': -1.0, 'constraints': None, 'temperature': 1.0, 'diverse_beam_groups': -1, 'diverse_beam_strength': 0.5, 'diversity_rate': -1.0, 'print_alignment': None, 'print_step': False, 'lm_path': None, 'lm_weight': 0.0, 'iter_decode_eos_penalty': 0.0, 'iter_decode_max_iter': 10, 'iter_decode_force_max_iter': False, 'iter_decode_with_beam': 1, 'iter_decode_with_external_reranker': False, 'retain_iter_history': False, 'retain_dropout': False, 'retain_dropout_modules': None, 'decoding_format': None, 'no_seed_provided': False, 'eos_token': None}, 'eval_lm': {'_name': None, 'output_word_probs': False, 'output_word_stats': False, 'context_window': 0, 'softmax_batch': 9223372036854775807}, 'interactive': {'_name': None, 'buffer_size': 0, 'input': '-'}, 'model': Namespace(_name='s2t_joint', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_low_pos=False, at_nomute=False, at_nopad=True, at_scale=1.0, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=1.5, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_ende_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=15000, max_tokens_valid=15000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=-0.1, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/mnt/zhangyh/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=False, use_two_contrastive=False, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/mnt/zhangyh/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'task': Namespace(_name='joint_triple_pretraining_merge', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_low_pos=False, at_nomute=False, at_nopad=True, at_scale=1.0, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=1.5, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_ende_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=15000, max_tokens_valid=15000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=-0.1, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/mnt/zhangyh/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=False, use_two_contrastive=False, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/mnt/zhangyh/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'criterion': Namespace(_name='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_low_pos=False, at_nomute=False, at_nopad=True, at_scale=1.0, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=1.5, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_ende_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=15000, max_tokens_valid=15000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=-0.1, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/mnt/zhangyh/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=False, use_two_contrastive=False, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/mnt/zhangyh/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'optimizer': {'_name': 'adam', 'adam_betas': '(0.9,0.98)', 'adam_eps': 1e-08, 'weight_decay': 0.0, 'use_old_adam': False, 'fp16_adam_stats': False, 'tpu': False, 'lr': [0.0002]}, 'lr_scheduler': {'_name': 'inverse_sqrt', 'warmup_updates': 5000, 'warmup_init_lr': 1e-07, 'lr': [0.0002]}, 'scoring': {'_name': 'bleu', 'pad': 1, 'eos': 2, 'unk': 3}, 'bpe': None, 'tokenizer': None, 'ema': {'_name': None, 'store_ema': False, 'ema_decay': 0.9999, 'ema_start_update': 0, 'ema_seed_model': None, 'ema_update_freq': 1, 'ema_fp32': False}}
2023-08-22 15:00:05 | INFO | fairseq.tasks.joint_triple_pretraining_merge | dictionary size (dict.wrd.txt): 10,000
2023-08-22 15:00:05 | INFO | fairseq.tasks.joint_triple_pretraining_merge | asr dictionary size (dict.wrd.txt): 10,000
2023-08-22 15:00:05 | INFO | fairseq.tasks.joint_triple_pretraining_merge | cluster dictionary size (kmeans100.convert.txt): 5,224
2023-08-22 15:00:05 | INFO | fairseq.tasks.joint_triple_pretraining_merge | Initial task weight: asr 1.0: mt 0.5
2023-08-22 15:00:05 | INFO | root | load pretrained embeddings: /mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline
2023-08-22 15:00:10 | INFO | fairseq.tasks.hubert_pretraining | current directory is /mnt/zhangyh/fairseq-AT/egs/pretrain-all
2023-08-22 15:00:10 | INFO | fairseq.tasks.hubert_pretraining | HubertPretrainingTask Config {'_name': 'hubert_pretraining', 'data': 'data_all_ende_lcrm', 'fine_tuning': False, 'labels': ['layer6.km500'], 'label_dir': None, 'label_rate': 50.0, 'sample_rate': 16000, 'normalize': False, 'enable_padding': False, 'max_keep_size': None, 'max_sample_size': 250000, 'min_sample_size': 32000, 'single_target': False, 'random_crop': True, 'pad_audio': False}
2023-08-22 15:00:10 | INFO | fairseq.models.hubert.hubert | HubertModel Config: {'_name': 'hubert', 'label_rate': 50.0, 'extractor_mode': default, 'encoder_layers': 12, 'encoder_embed_dim': 768, 'encoder_ffn_embed_dim': 3072, 'encoder_attention_heads': 12, 'activation_fn': gelu, 'layer_type': transformer, 'dropout': 0.1, 'attention_dropout': 0.1, 'activation_dropout': 0.1, 'encoder_layerdrop': 0.0, 'dropout_input': 0.0, 'dropout_features': 0.1, 'final_dim': 256, 'untie_final_proj': False, 'layer_norm_first': False, 'conv_feature_layers': '[(512,10,5)] + [(512,3,2)] * 4 + [(512,2,2)] * 2', 'conv_bias': False, 'logit_temp': 0.1, 'target_glu': False, 'feature_grad_mult': 0.0, 'mask_length': 10, 'mask_prob': 0.5, 'mask_selection': static, 'mask_other': 0.0, 'no_mask_overlap': False, 'mask_min_space': 1, 'mask_channel_length': 6, 'mask_channel_prob': 0.25, 'mask_channel_selection': static, 'mask_channel_other': 0.0, 'no_mask_channel_overlap': False, 'mask_channel_min_space': 1, 'conv_pos': 128, 'conv_pos_groups': 16, 'latent_temp': [2.0, 0.5, 0.999995], 'skip_masked': False, 'skip_nomask': False, 'checkpoint_activations': False, 'required_seq_len_multiple': 2, 'depthwise_conv_kernel_size': 31, 'attn_type': '', 'pos_enc_type': 'abs', 'fp16': True}
2023-08-22 15:00:11 | INFO | root | load pretrained hubert
2023-08-22 15:00:19 | INFO | root | load pretrained embedding as ctc proj: /mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline
2023-08-22 15:00:23 | INFO | root | load pretrained encoder: /mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt
2023-08-22 15:00:30 | INFO | root | load pretrained decoder: /mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt
2023-08-22 15:00:30 | INFO | root | share the sematic adapter and textual encoder
2023-08-22 15:00:30 | INFO | fairseq_cli.train | S2TJoint(
  (acoustic_encoder): AcousticEncoder(
    (compress_ffn): Linear(in_features=768, out_features=512, bias=True)
    (proj): Linear(in_features=512, out_features=10000, bias=False)
    (w2v_model): HubertModel(
      (feature_extractor): ConvFeatureExtractionModel(
        (conv_layers): ModuleList(
          (0): Sequential(
            (0): Conv1d(1, 512, kernel_size=(10,), stride=(5,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): Fp32GroupNorm(512, 512, eps=1e-05, affine=True)
            (3): GELU(approximate='none')
          )
          (1-4): 4 x Sequential(
            (0): Conv1d(512, 512, kernel_size=(3,), stride=(2,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): GELU(approximate='none')
          )
          (5-6): 2 x Sequential(
            (0): Conv1d(512, 512, kernel_size=(2,), stride=(2,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): GELU(approximate='none')
          )
        )
      )
      (post_extract_proj): Linear(in_features=512, out_features=768, bias=True)
      (dropout_input): Dropout(p=0.0, inplace=False)
      (dropout_features): Dropout(p=0.1, inplace=False)
      (encoder): TransformerEncoder(
        (pos_conv): Sequential(
          (0): Conv1d(768, 768, kernel_size=(128,), stride=(1,), padding=(64,), groups=16)
          (1): SamePad()
          (2): GELU(approximate='none')
        )
        (layers): ModuleList(
          (0-11): 12 x TransformerSentenceEncoderLayer(
            (self_attn): MultiheadAttention(
              (dropout_module): FairseqDropout()
              (k_proj): Linear(in_features=768, out_features=768, bias=True)
              (v_proj): Linear(in_features=768, out_features=768, bias=True)
              (q_proj): Linear(in_features=768, out_features=768, bias=True)
              (out_proj): Linear(in_features=768, out_features=768, bias=True)
            )
            (dropout1): Dropout(p=0.1, inplace=False)
            (dropout2): Dropout(p=0.1, inplace=False)
            (dropout3): Dropout(p=0.1, inplace=False)
            (self_attn_layer_norm): FusedLayerNorm(torch.Size([768]), eps=1e-05, elementwise_affine=True)
            (fc1): Linear(in_features=768, out_features=3072, bias=True)
            (fc2): Linear(in_features=3072, out_features=768, bias=True)
            (final_layer_norm): FusedLayerNorm(torch.Size([768]), eps=1e-05, elementwise_affine=True)
          )
        )
        (layer_norm): FusedLayerNorm(torch.Size([768]), eps=1e-05, elementwise_affine=True)
      )
      (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
      (final_proj): None
    )
    (noad): NormalAdapter(
      (subsample): Conv1dSubsampler(
        (conv_layers): ModuleList(
          (0): Conv1d(512, 512, kernel_size=(5,), stride=(2,), padding=(2,))
          (1): Conv1d(256, 1024, kernel_size=(5,), stride=(2,), padding=(2,))
        )
      )
      (layers): ModuleList()
    )
    (sead): SemanticAdapter(
      (embed_positions): SinusoidalPositionalEmbedding()
      (layers): ModuleList(
        (0-5): 6 x TransformerEncoderLayerBase(
          (self_attn): MultiheadAttention(
            (dropout_module): FairseqDropout()
            (k_proj): Linear(in_features=512, out_features=512, bias=True)
            (v_proj): Linear(in_features=512, out_features=512, bias=True)
            (q_proj): Linear(in_features=512, out_features=512, bias=True)
            (out_proj): Linear(in_features=512, out_features=512, bias=True)
          )
          (self_attn_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
          (dropout_module): FairseqDropout()
          (activation_dropout_module): FairseqDropout()
          (fc1): Linear(in_features=512, out_features=2048, bias=True)
          (fc2): Linear(in_features=2048, out_features=512, bias=True)
          (final_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
        )
      )
      (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
    )
    (final_dropout): Dropout(p=0.1, inplace=False)
    (shrink_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
  )
  (textual_encoder): MTModelEncoder(
    (dropout_module): FairseqDropout()
    (embed_tokens): Embedding(10000, 512, padding_idx=1)
    (embed_positions): SinusoidalPositionalEmbedding()
    (layers): ModuleList(
      (0-5): 6 x TransformerEncoderLayerBase(
        (self_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (self_attn_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
        (dropout_module): FairseqDropout()
        (activation_dropout_module): FairseqDropout()
        (fc1): Linear(in_features=512, out_features=2048, bias=True)
        (fc2): Linear(in_features=2048, out_features=512, bias=True)
        (final_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
      )
    )
    (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
  )
  (decoder): TransformerDecoderScriptable(
    (dropout_module): FairseqDropout()
    (embed_tokens): Embedding(10000, 512, padding_idx=1)
    (embed_positions): SinusoidalPositionalEmbedding()
    (layers): ModuleList(
      (0-5): 6 x TransformerDecoderLayerBase(
        (dropout_module): FairseqDropout()
        (self_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (activation_dropout_module): FairseqDropout()
        (self_attn_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
        (encoder_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (encoder_attn_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
        (fc1): Linear(in_features=512, out_features=2048, bias=True)
        (fc2): Linear(in_features=2048, out_features=512, bias=True)
        (final_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
      )
    )
    (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
    (output_projection): Linear(in_features=512, out_features=10000, bias=False)
  )
  (task_net): TaskNetwork(
    (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
    (down_proj): Linear(in_features=512, out_features=256, bias=True)
    (up_proj): Linear(in_features=256, out_features=512, bias=True)
    (dropout_module): FairseqDropout()
    (task_proj): Linear(in_features=512, out_features=1, bias=False)
  )
)
2023-08-22 15:00:30 | INFO | fairseq_cli.train | task: JointTriplePretrainingMergeTask
2023-08-22 15:00:30 | INFO | fairseq_cli.train | model: S2TJoint
2023-08-22 15:00:30 | INFO | fairseq_cli.train | criterion: LabelSmoothedCrossEntropywithW2vCtcShrinkJointATMerge
2023-08-22 15:00:30 | INFO | fairseq_cli.train | num. shared model params: 147,044,480 (num. trained: 147,044,480)
2023-08-22 15:00:30 | INFO | fairseq_cli.train | num. expert model params: 0 (num. trained: 0)
2023-08-22 15:00:30 | INFO | fairseq.tasks.speech_to_text | pre-tokenizer: {'tokenizer': None}
2023-08-22 15:00:30 | INFO | fairseq.tasks.speech_to_text | tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/mnt/zhangyh/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-22 15:00:30 | INFO | fairseq.tasks.joint_triple_pretraining_merge | src tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/mnt/zhangyh/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-22 15:00:30 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="dev_st", n_samples=1418, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-22 15:00:46 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:2 to store for rank: 0
2023-08-22 15:00:46 | INFO | torch.distributed.distributed_c10d | Rank 0: Completed store-based barrier for key:store_based_barrier_key:2 with 8 nodes.
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- textual_encoder.embed_tokens.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- decoder.embed_tokens.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- decoder.output_projection.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.0.0.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.1.0.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.2.0.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.3.0.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.4.0.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.5.0.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.6.0.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- decoder.output_projection.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- task_net.task_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.k_proj.weight <- textual_encoder.layers.0.self_attn.k_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.k_proj.bias <- textual_encoder.layers.0.self_attn.k_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.v_proj.weight <- textual_encoder.layers.0.self_attn.v_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.v_proj.bias <- textual_encoder.layers.0.self_attn.v_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.q_proj.weight <- textual_encoder.layers.0.self_attn.q_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.q_proj.bias <- textual_encoder.layers.0.self_attn.q_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.out_proj.weight <- textual_encoder.layers.0.self_attn.out_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.out_proj.bias <- textual_encoder.layers.0.self_attn.out_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn_layer_norm.weight <- textual_encoder.layers.0.self_attn_layer_norm.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn_layer_norm.bias <- textual_encoder.layers.0.self_attn_layer_norm.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc1.weight <- textual_encoder.layers.0.fc1.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc1.bias <- textual_encoder.layers.0.fc1.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc2.weight <- textual_encoder.layers.0.fc2.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc2.bias <- textual_encoder.layers.0.fc2.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.final_layer_norm.weight <- textual_encoder.layers.0.final_layer_norm.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.final_layer_norm.bias <- textual_encoder.layers.0.final_layer_norm.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.k_proj.weight <- textual_encoder.layers.1.self_attn.k_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.k_proj.bias <- textual_encoder.layers.1.self_attn.k_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.v_proj.weight <- textual_encoder.layers.1.self_attn.v_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.v_proj.bias <- textual_encoder.layers.1.self_attn.v_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.q_proj.weight <- textual_encoder.layers.1.self_attn.q_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.q_proj.bias <- textual_encoder.layers.1.self_attn.q_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.out_proj.weight <- textual_encoder.layers.1.self_attn.out_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.out_proj.bias <- textual_encoder.layers.1.self_attn.out_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn_layer_norm.weight <- textual_encoder.layers.1.self_attn_layer_norm.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn_layer_norm.bias <- textual_encoder.layers.1.self_attn_layer_norm.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc1.weight <- textual_encoder.layers.1.fc1.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc1.bias <- textual_encoder.layers.1.fc1.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc2.weight <- textual_encoder.layers.1.fc2.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc2.bias <- textual_encoder.layers.1.fc2.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.final_layer_norm.weight <- textual_encoder.layers.1.final_layer_norm.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.final_layer_norm.bias <- textual_encoder.layers.1.final_layer_norm.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.k_proj.weight <- textual_encoder.layers.2.self_attn.k_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.k_proj.bias <- textual_encoder.layers.2.self_attn.k_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.v_proj.weight <- textual_encoder.layers.2.self_attn.v_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.v_proj.bias <- textual_encoder.layers.2.self_attn.v_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.q_proj.weight <- textual_encoder.layers.2.self_attn.q_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.q_proj.bias <- textual_encoder.layers.2.self_attn.q_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.out_proj.weight <- textual_encoder.layers.2.self_attn.out_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.out_proj.bias <- textual_encoder.layers.2.self_attn.out_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn_layer_norm.weight <- textual_encoder.layers.2.self_attn_layer_norm.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn_layer_norm.bias <- textual_encoder.layers.2.self_attn_layer_norm.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc1.weight <- textual_encoder.layers.2.fc1.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc1.bias <- textual_encoder.layers.2.fc1.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc2.weight <- textual_encoder.layers.2.fc2.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc2.bias <- textual_encoder.layers.2.fc2.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.final_layer_norm.weight <- textual_encoder.layers.2.final_layer_norm.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.final_layer_norm.bias <- textual_encoder.layers.2.final_layer_norm.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.k_proj.weight <- textual_encoder.layers.3.self_attn.k_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.k_proj.bias <- textual_encoder.layers.3.self_attn.k_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.v_proj.weight <- textual_encoder.layers.3.self_attn.v_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.v_proj.bias <- textual_encoder.layers.3.self_attn.v_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.q_proj.weight <- textual_encoder.layers.3.self_attn.q_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.q_proj.bias <- textual_encoder.layers.3.self_attn.q_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.out_proj.weight <- textual_encoder.layers.3.self_attn.out_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.out_proj.bias <- textual_encoder.layers.3.self_attn.out_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn_layer_norm.weight <- textual_encoder.layers.3.self_attn_layer_norm.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn_layer_norm.bias <- textual_encoder.layers.3.self_attn_layer_norm.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc1.weight <- textual_encoder.layers.3.fc1.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc1.bias <- textual_encoder.layers.3.fc1.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc2.weight <- textual_encoder.layers.3.fc2.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc2.bias <- textual_encoder.layers.3.fc2.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.final_layer_norm.weight <- textual_encoder.layers.3.final_layer_norm.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.final_layer_norm.bias <- textual_encoder.layers.3.final_layer_norm.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.k_proj.weight <- textual_encoder.layers.4.self_attn.k_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.k_proj.bias <- textual_encoder.layers.4.self_attn.k_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.v_proj.weight <- textual_encoder.layers.4.self_attn.v_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.v_proj.bias <- textual_encoder.layers.4.self_attn.v_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.q_proj.weight <- textual_encoder.layers.4.self_attn.q_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.q_proj.bias <- textual_encoder.layers.4.self_attn.q_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.out_proj.weight <- textual_encoder.layers.4.self_attn.out_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.out_proj.bias <- textual_encoder.layers.4.self_attn.out_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn_layer_norm.weight <- textual_encoder.layers.4.self_attn_layer_norm.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn_layer_norm.bias <- textual_encoder.layers.4.self_attn_layer_norm.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc1.weight <- textual_encoder.layers.4.fc1.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc1.bias <- textual_encoder.layers.4.fc1.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc2.weight <- textual_encoder.layers.4.fc2.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc2.bias <- textual_encoder.layers.4.fc2.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.final_layer_norm.weight <- textual_encoder.layers.4.final_layer_norm.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.final_layer_norm.bias <- textual_encoder.layers.4.final_layer_norm.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.k_proj.weight <- textual_encoder.layers.5.self_attn.k_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.k_proj.bias <- textual_encoder.layers.5.self_attn.k_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.v_proj.weight <- textual_encoder.layers.5.self_attn.v_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.v_proj.bias <- textual_encoder.layers.5.self_attn.v_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.q_proj.weight <- textual_encoder.layers.5.self_attn.q_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.q_proj.bias <- textual_encoder.layers.5.self_attn.q_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.out_proj.weight <- textual_encoder.layers.5.self_attn.out_proj.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.out_proj.bias <- textual_encoder.layers.5.self_attn.out_proj.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn_layer_norm.weight <- textual_encoder.layers.5.self_attn_layer_norm.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn_layer_norm.bias <- textual_encoder.layers.5.self_attn_layer_norm.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc1.weight <- textual_encoder.layers.5.fc1.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc1.bias <- textual_encoder.layers.5.fc1.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc2.weight <- textual_encoder.layers.5.fc2.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc2.bias <- textual_encoder.layers.5.fc2.bias
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.final_layer_norm.weight <- textual_encoder.layers.5.final_layer_norm.weight
2023-08-22 15:00:46 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.final_layer_norm.bias <- textual_encoder.layers.5.final_layer_norm.bias
2023-08-22 15:00:47 | INFO | fairseq.utils | ***********************CUDA enviroments for all 8 workers***********************
2023-08-22 15:00:47 | INFO | fairseq.utils | rank   0: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 15:00:47 | INFO | fairseq.utils | rank   1: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 15:00:47 | INFO | fairseq.utils | rank   2: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 15:00:47 | INFO | fairseq.utils | rank   3: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 15:00:47 | INFO | fairseq.utils | rank   4: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 15:00:47 | INFO | fairseq.utils | rank   5: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 15:00:47 | INFO | fairseq.utils | rank   6: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 15:00:47 | INFO | fairseq.utils | rank   7: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 15:00:47 | INFO | fairseq.utils | ***********************CUDA enviroments for all 8 workers***********************
2023-08-22 15:00:47 | INFO | fairseq_cli.train | training on 8 devices (GPUs/TPUs)
2023-08-22 15:00:47 | INFO | fairseq_cli.train | max tokens per device = 15000 and max sentences per device = None
2023-08-22 15:00:47 | INFO | fairseq.trainer | Preparing to load checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-22 15:00:47 | INFO | fairseq.trainer | No existing checkpoint found ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-22 15:00:47 | INFO | fairseq.trainer | loading train data for epoch 1
2023-08-22 15:00:47 | INFO | fairseq.tasks.speech_to_text | pre-tokenizer: {'tokenizer': None}
2023-08-22 15:00:47 | INFO | fairseq.tasks.speech_to_text | tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/mnt/zhangyh/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-22 15:00:47 | INFO | fairseq.tasks.joint_triple_pretraining_merge | src tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/mnt/zhangyh/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-22 15:00:48 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="train_asr", n_samples=225277, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-22 15:00:50 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="train_st", n_samples=225277, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-22 15:01:31 | INFO | fairseq.optim.adam | using FusedAdam
2023-08-22 15:01:31 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 15:01:31 | INFO | fairseq.trainer | begin training epoch 1
2023-08-22 15:01:31 | INFO | fairseq_cli.train | Start iterating over samples
True False
None None None
2023-08-22 15:01:42 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 64.0
True False
None None None
2023-08-22 15:01:44 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 32.0
2023-08-22 15:01:55 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
True False
None None None
True False
None None None
True False
None None None
2023-08-22 15:02:32 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
True False
None None None
2023-08-22 15:02:53 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 15:03:04 | INFO | train_inner | epoch 001:    105 / 1474 loss=20.065, trans_loss=5.874, nll_loss=4.683, w2v_ctc_loss=22.356, task_loss=1.692, contrastive_loss=3.256, total=4206.78, n_correct=123.63, ppl=25.69, accuracy=2.939, wps=15338.1, ups=1.22, wpb=12553.1, bsz=472.4, num_updates=100, lr=4.098e-06, gnorm=2.82, clip=0, loss_scale=4, train_wall=86, gb_free=19.4, wall=137
2023-08-22 15:04:19 | INFO | train_inner | epoch 001:    205 / 1474 loss=16.548, trans_loss=5.872, nll_loss=4.707, w2v_ctc_loss=17.003, task_loss=1.619, contrastive_loss=3.234, total=4114.86, n_correct=114.78, ppl=26.12, accuracy=2.789, wps=16332.1, ups=1.33, wpb=12286.8, bsz=458.8, num_updates=200, lr=8.096e-06, gnorm=7.3, clip=18, loss_scale=4, train_wall=75, gb_free=19.3, wall=212
2023-08-22 15:05:33 | INFO | train_inner | epoch 001:    305 / 1474 loss=9.93, trans_loss=5.869, nll_loss=4.743, w2v_ctc_loss=6.882, task_loss=1.566, contrastive_loss=3.172, total=4080.91, n_correct=109.92, ppl=26.79, accuracy=2.694, wps=16561.9, ups=1.36, wpb=12190.4, bsz=439.4, num_updates=300, lr=1.2094e-05, gnorm=2.208, clip=0, loss_scale=4, train_wall=67, gb_free=18.6, wall=286
2023-08-22 15:06:47 | INFO | train_inner | epoch 001:    405 / 1474 loss=9.424, trans_loss=5.826, nll_loss=4.722, w2v_ctc_loss=6.108, task_loss=1.344, contrastive_loss=3.204, total=4176.41, n_correct=103.69, ppl=26.39, accuracy=2.483, wps=16731.5, ups=1.34, wpb=12470, bsz=461.3, num_updates=400, lr=1.6092e-05, gnorm=1.383, clip=0, loss_scale=4, train_wall=70, gb_free=19.4, wall=361
2023-08-22 15:08:07 | INFO | train_inner | epoch 001:    505 / 1474 loss=9.302, trans_loss=5.876, nll_loss=4.81, w2v_ctc_loss=5.811, task_loss=1.207, contrastive_loss=3.3, total=4192.13, n_correct=107.52, ppl=28.05, accuracy=2.565, wps=15777.6, ups=1.26, wpb=12526, bsz=489.2, num_updates=500, lr=2.009e-05, gnorm=1.163, clip=0, loss_scale=4, train_wall=77, gb_free=19.1, wall=440
2023-08-22 15:09:25 | INFO | train_inner | epoch 001:    605 / 1474 loss=9.174, trans_loss=5.901, nll_loss=4.842, w2v_ctc_loss=5.652, task_loss=1.191, contrastive_loss=3.245, total=4131.49, n_correct=103.46, ppl=28.67, accuracy=2.504, wps=15693.4, ups=1.27, wpb=12320.8, bsz=473.5, num_updates=600, lr=2.4088e-05, gnorm=1.077, clip=0, loss_scale=4, train_wall=68, gb_free=18.9, wall=518
2023-08-22 15:10:41 | INFO | train_inner | epoch 001:    705 / 1474 loss=9.021, trans_loss=5.808, nll_loss=4.704, w2v_ctc_loss=5.588, task_loss=1.243, contrastive_loss=3.122, total=4147.85, n_correct=108.74, ppl=26.07, accuracy=2.622, wps=16319.9, ups=1.32, wpb=12387.4, bsz=455.8, num_updates=700, lr=2.8086e-05, gnorm=1.234, clip=0, loss_scale=4, train_wall=70, gb_free=19.2, wall=594
2023-08-22 15:11:55 | INFO | train_inner | epoch 001:    805 / 1474 loss=8.874, trans_loss=5.825, nll_loss=4.724, w2v_ctc_loss=5.414, task_loss=1.221, contrastive_loss=3.13, total=4128.17, n_correct=104.55, ppl=26.43, accuracy=2.533, wps=16525.8, ups=1.34, wpb=12316.6, bsz=462.9, num_updates=800, lr=3.2084e-05, gnorm=1.316, clip=0, loss_scale=4, train_wall=70, gb_free=18.6, wall=669
2023-08-22 15:13:15 | INFO | train_inner | epoch 001:    905 / 1474 loss=8.816, trans_loss=6.003, nll_loss=4.964, w2v_ctc_loss=5.216, task_loss=1.232, contrastive_loss=3.028, total=4166.08, n_correct=80.4, ppl=31.21, accuracy=1.93, wps=15748.8, ups=1.27, wpb=12441.2, bsz=458.8, num_updates=900, lr=3.6082e-05, gnorm=1.491, clip=0, loss_scale=4, train_wall=77, gb_free=18.5, wall=748
2023-08-22 15:14:34 | INFO | train_inner | epoch 001:   1005 / 1474 loss=8.636, trans_loss=6.069, nll_loss=5.045, w2v_ctc_loss=4.944, task_loss=1.244, contrastive_loss=2.999, total=4131.01, n_correct=71.11, ppl=33.01, accuracy=1.721, wps=15665.3, ups=1.27, wpb=12339.5, bsz=456.7, num_updates=1000, lr=4.008e-05, gnorm=1.854, clip=0, loss_scale=4, train_wall=75, gb_free=19.1, wall=827
2023-08-22 15:15:50 | INFO | train_inner | epoch 001:   1105 / 1474 loss=8.429, trans_loss=6.115, nll_loss=5.092, w2v_ctc_loss=4.718, task_loss=1.261, contrastive_loss=2.896, total=4159.12, n_correct=65.3, ppl=34.1, accuracy=1.57, wps=16138.6, ups=1.3, wpb=12405, bsz=454.7, num_updates=1100, lr=4.4078e-05, gnorm=2.288, clip=0, loss_scale=4, train_wall=76, gb_free=18.8, wall=904
2023-08-22 15:17:01 | INFO | train_inner | epoch 001:   1205 / 1474 loss=8.22, trans_loss=6.105, nll_loss=5.08, w2v_ctc_loss=4.561, task_loss=1.326, contrastive_loss=2.76, total=4122.88, n_correct=62.4, ppl=33.83, accuracy=1.514, wps=17439.2, ups=1.42, wpb=12314.8, bsz=437.2, num_updates=1200, lr=4.8076e-05, gnorm=2.979, clip=0, loss_scale=4, train_wall=67, gb_free=19.1, wall=974
2023-08-22 15:18:15 | INFO | train_inner | epoch 001:   1305 / 1474 loss=8.079, trans_loss=6.172, nll_loss=5.161, w2v_ctc_loss=4.408, task_loss=1.241, contrastive_loss=2.64, total=4065.11, n_correct=53.09, ppl=35.78, accuracy=1.306, wps=16323.5, ups=1.35, wpb=12135.9, bsz=445.4, num_updates=1300, lr=5.2074e-05, gnorm=2.851, clip=0, loss_scale=4, train_wall=70, gb_free=19.2, wall=1049
2023-08-22 15:19:34 | INFO | train_inner | epoch 001:   1405 / 1474 loss=7.908, trans_loss=6.193, nll_loss=5.188, w2v_ctc_loss=4.282, task_loss=1.265, contrastive_loss=2.663, total=4125.61, n_correct=51.55, ppl=36.45, accuracy=1.25, wps=15668.6, ups=1.27, wpb=12327.8, bsz=450.3, num_updates=1400, lr=5.6072e-05, gnorm=3.318, clip=1, loss_scale=4, train_wall=78, gb_free=18.6, wall=1128
2023-08-22 15:20:24 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
2023-08-22 15:21:13 | INFO | dev_st | epoch 001 | valid on 'dev_st' subset | loss 12.344 | trans_loss 13.892 | nll_loss 13.739 | w2v_ctc_loss 5.599 | task_loss 7.545 | contrastive_loss 3.663 | total 4003.4 | n_correct 35.3 | ppl 13671.2 | accuracy 0.882 | uer 69.952 | wer 68.532 | raw_wer 68.532 | bleu 0 | wps 965.7 | wpb 4003.4 | bsz 141.8 | num_updates 1469
2023-08-22 15:21:13 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 1 @ 1469 updates
2023-08-22 15:21:13 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 15:21:16 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 15:21:19 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 1 @ 1469 updates, score 0.0) (writing took 5.457467244006693 seconds)
2023-08-22 15:21:19 | INFO | fairseq_cli.train | end of epoch 1 (average epoch stats below)
2023-08-22 15:21:19 | INFO | train | epoch 001 | loss 10.071 | trans_loss 5.976 | nll_loss 4.904 | w2v_ctc_loss 7.22 | task_loss 1.326 | contrastive_loss 3.027 | total 4138.49 | n_correct 88.1926 | ppl 29.95 | accuracy 2.131 | wps 15423.2 | ups 1.25 | wpb 12355.5 | bsz 458.6 | num_updates 1469 | lr 5.88306e-05 | gnorm 2.419 | clip 1.3 | loss_scale 4 | train_wall 1075 | gb_free 18.9 | wall 1232
2023-08-22 15:21:19 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 15:21:19 | INFO | fairseq.trainer | begin training epoch 2
2023-08-22 15:21:19 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 15:21:45 | INFO | train_inner | epoch 002:     31 / 1474 loss=7.734, trans_loss=6.201, nll_loss=5.192, w2v_ctc_loss=4.148, task_loss=1.191, contrastive_loss=2.562, total=4159.96, n_correct=51.49, ppl=36.55, accuracy=1.238, wps=9443.1, ups=0.76, wpb=12405.9, bsz=470.9, num_updates=1500, lr=6.007e-05, gnorm=3.421, clip=0, loss_scale=4, train_wall=69, gb_free=19.6, wall=1259
2023-08-22 15:22:47 | INFO | train_inner | epoch 002:    131 / 1474 loss=7.569, trans_loss=6.175, nll_loss=5.16, w2v_ctc_loss=4.083, task_loss=1.256, contrastive_loss=2.388, total=4158.42, n_correct=56.11, ppl=35.76, accuracy=1.349, wps=20192.4, ups=1.63, wpb=12405.1, bsz=453.8, num_updates=1600, lr=6.4068e-05, gnorm=3.271, clip=0, loss_scale=4, train_wall=61, gb_free=18.9, wall=1320
2023-08-22 15:23:48 | INFO | train_inner | epoch 002:    231 / 1474 loss=7.457, trans_loss=6.175, nll_loss=5.165, w2v_ctc_loss=3.94, task_loss=1.092, contrastive_loss=2.427, total=4199.99, n_correct=52.42, ppl=35.87, accuracy=1.248, wps=20513.8, ups=1.64, wpb=12542.2, bsz=493.1, num_updates=1700, lr=6.8066e-05, gnorm=2.826, clip=0, loss_scale=4, train_wall=61, gb_free=18.8, wall=1381
2023-08-22 15:24:50 | INFO | train_inner | epoch 002:    331 / 1474 loss=7.229, trans_loss=6.158, nll_loss=5.142, w2v_ctc_loss=3.897, task_loss=1.276, contrastive_loss=2.146, total=4133.34, n_correct=52.7, ppl=35.3, accuracy=1.275, wps=20028, ups=1.62, wpb=12340.6, bsz=446, num_updates=1800, lr=7.2064e-05, gnorm=3.215, clip=0, loss_scale=4, train_wall=61, gb_free=19.6, wall=1443
2023-08-22 15:25:52 | INFO | train_inner | epoch 002:    431 / 1474 loss=7.058, trans_loss=6.164, nll_loss=5.154, w2v_ctc_loss=3.847, task_loss=1.399, contrastive_loss=1.907, total=4031.76, n_correct=50.23, ppl=35.6, accuracy=1.246, wps=19362.2, ups=1.61, wpb=12051, bsz=413.3, num_updates=1900, lr=7.6062e-05, gnorm=3.231, clip=0, loss_scale=4, train_wall=62, gb_free=18.6, wall=1505
2023-08-22 15:26:54 | INFO | train_inner | epoch 002:    531 / 1474 loss=6.963, trans_loss=6.154, nll_loss=5.135, w2v_ctc_loss=3.716, task_loss=1.216, contrastive_loss=2.03, total=4176.84, n_correct=50.33, ppl=35.14, accuracy=1.205, wps=20188.2, ups=1.62, wpb=12461.7, bsz=466.9, num_updates=2000, lr=8.006e-05, gnorm=3.111, clip=0, loss_scale=4, train_wall=61, gb_free=18.5, wall=1567
2023-08-22 15:26:54 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 15:27:41 | INFO | dev_st | epoch 002 | valid on 'dev_st' subset | loss 11.446 | trans_loss 13.457 | nll_loss 13.198 | w2v_ctc_loss 4.858 | task_loss 7.545 | contrastive_loss 2.742 | total 4003.4 | n_correct 47 | ppl 9397.19 | accuracy 1.174 | uer 63.053 | wer 62.209 | raw_wer 62.209 | bleu 0 | wps 1034.8 | wpb 4003.4 | bsz 141.8 | num_updates 2000 | best_bleu 0
2023-08-22 15:27:41 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 2 @ 2000 updates
2023-08-22 15:27:41 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_2_2000.pt
2023-08-22 15:27:43 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_2_2000.pt
2023-08-22 15:27:55 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_2_2000.pt (epoch 2 @ 2000 updates, score 0.0) (writing took 14.050071386038326 seconds)
2023-08-22 15:28:56 | INFO | train_inner | epoch 002:    631 / 1474 loss=6.778, trans_loss=6.144, nll_loss=5.125, w2v_ctc_loss=3.637, task_loss=1.234, contrastive_loss=1.781, total=4128.91, n_correct=50.05, ppl=34.9, accuracy=1.212, wps=10077, ups=0.82, wpb=12321.5, bsz=450, num_updates=2100, lr=8.4058e-05, gnorm=3.024, clip=0, loss_scale=4, train_wall=60, gb_free=19.4, wall=1689
2023-08-22 15:29:57 | INFO | train_inner | epoch 002:    731 / 1474 loss=6.662, trans_loss=6.125, nll_loss=5.102, w2v_ctc_loss=3.578, task_loss=1.246, contrastive_loss=1.822, total=4134.99, n_correct=51.55, ppl=34.35, accuracy=1.247, wps=20147.5, ups=1.63, wpb=12343.8, bsz=457.3, num_updates=2200, lr=8.8056e-05, gnorm=3.047, clip=0, loss_scale=8, train_wall=61, gb_free=18.9, wall=1751
2023-08-22 15:30:59 | INFO | train_inner | epoch 002:    831 / 1474 loss=6.553, trans_loss=6.106, nll_loss=5.081, w2v_ctc_loss=3.527, task_loss=1.25, contrastive_loss=1.768, total=4176.63, n_correct=51.17, ppl=33.84, accuracy=1.225, wps=20227.5, ups=1.62, wpb=12476, bsz=463.9, num_updates=2300, lr=9.2054e-05, gnorm=2.767, clip=0, loss_scale=8, train_wall=61, gb_free=18.6, wall=1812
2023-08-22 15:32:01 | INFO | train_inner | epoch 002:    931 / 1474 loss=6.371, trans_loss=6.086, nll_loss=5.055, w2v_ctc_loss=3.446, task_loss=1.284, contrastive_loss=1.642, total=4102.83, n_correct=49.35, ppl=33.25, accuracy=1.203, wps=19566.3, ups=1.6, wpb=12248.5, bsz=444.8, num_updates=2400, lr=9.6052e-05, gnorm=2.72, clip=0, loss_scale=8, train_wall=62, gb_free=18.5, wall=1875
2023-08-22 15:33:03 | INFO | train_inner | epoch 002:   1031 / 1474 loss=6.231, trans_loss=6.078, nll_loss=5.047, w2v_ctc_loss=3.38, task_loss=1.265, contrastive_loss=1.464, total=4094.52, n_correct=48.43, ppl=33.06, accuracy=1.183, wps=19838.5, ups=1.62, wpb=12223.5, bsz=452.4, num_updates=2500, lr=0.00010005, gnorm=2.623, clip=0, loss_scale=8, train_wall=61, gb_free=18.7, wall=1937
2023-08-22 15:34:05 | INFO | train_inner | epoch 002:   1131 / 1474 loss=6.192, trans_loss=6.079, nll_loss=5.051, w2v_ctc_loss=3.292, task_loss=1.111, contrastive_loss=1.637, total=4208.43, n_correct=50.45, ppl=33.14, accuracy=1.199, wps=20192.9, ups=1.61, wpb=12564.4, bsz=493.6, num_updates=2600, lr=0.000104048, gnorm=2.428, clip=0, loss_scale=8, train_wall=62, gb_free=19.6, wall=1999
2023-08-22 15:35:07 | INFO | train_inner | epoch 002:   1231 / 1474 loss=6.083, trans_loss=6.07, nll_loss=5.039, w2v_ctc_loss=3.237, task_loss=1.144, contrastive_loss=1.543, total=4225.14, n_correct=51.38, ppl=32.87, accuracy=1.216, wps=20322.8, ups=1.61, wpb=12605.4, bsz=493.8, num_updates=2700, lr=0.000108046, gnorm=2.314, clip=0, loss_scale=8, train_wall=61, gb_free=18.5, wall=2061
2023-08-22 15:36:08 | INFO | train_inner | epoch 002:   1331 / 1474 loss=5.924, trans_loss=6.059, nll_loss=5.031, w2v_ctc_loss=3.213, task_loss=1.212, contrastive_loss=1.194, total=4141.12, n_correct=49.82, ppl=32.7, accuracy=1.203, wps=20275, ups=1.64, wpb=12377.6, bsz=456.1, num_updates=2800, lr=0.000112044, gnorm=2.166, clip=0, loss_scale=8, train_wall=60, gb_free=19.1, wall=2122
2023-08-22 15:37:11 | INFO | train_inner | epoch 002:   1431 / 1474 loss=5.873, trans_loss=6.069, nll_loss=5.042, w2v_ctc_loss=3.156, task_loss=1.325, contrastive_loss=1.287, total=4066.11, n_correct=50.24, ppl=32.95, accuracy=1.236, wps=19439.4, ups=1.6, wpb=12140.4, bsz=444.1, num_updates=2900, lr=0.000116042, gnorm=2.14, clip=0, loss_scale=8, train_wall=62, gb_free=19, wall=2184
2023-08-22 15:37:37 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 15:38:24 | INFO | dev_st | epoch 002 | valid on 'dev_st' subset | loss 10.488 | trans_loss 13.076 | nll_loss 12.751 | w2v_ctc_loss 3.99 | task_loss 7.545 | contrastive_loss 1.57 | total 4003.4 | n_correct 56.8 | ppl 6892.96 | accuracy 1.419 | uer 55.708 | wer 54.364 | raw_wer 54.364 | bleu 0 | wps 1033.1 | wpb 4003.4 | bsz 141.8 | num_updates 2943 | best_bleu 0
2023-08-22 15:38:24 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 2 @ 2943 updates
2023-08-22 15:38:24 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 15:38:31 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 15:38:38 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 2 @ 2943 updates, score 0.0) (writing took 13.461975109996274 seconds)
2023-08-22 15:38:38 | INFO | fairseq_cli.train | end of epoch 2 (average epoch stats below)
2023-08-22 15:38:38 | INFO | train | epoch 002 | loss 6.636 | trans_loss 6.117 | nll_loss 5.095 | w2v_ctc_loss 3.567 | task_loss 1.234 | contrastive_loss 1.787 | total 4138.65 | n_correct 51.1133 | ppl 34.17 | accuracy 1.235 | wps 17518.2 | ups 1.42 | wpb 12355.8 | bsz 458.5 | num_updates 2943 | lr 0.000117761 | gnorm 2.776 | clip 0 | loss_scale 8 | train_wall 900 | gb_free 19 | wall 2272
2023-08-22 15:38:39 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 15:38:39 | INFO | fairseq.trainer | begin training epoch 3
2023-08-22 15:38:39 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 15:39:21 | INFO | train_inner | epoch 003:     57 / 1474 loss=5.733, trans_loss=6.057, nll_loss=5.027, w2v_ctc_loss=3.092, task_loss=1.292, contrastive_loss=1.106, total=4052.7, n_correct=54.98, ppl=32.61, accuracy=1.357, wps=9292.4, ups=0.77, wpb=12098.1, bsz=436.3, num_updates=3000, lr=0.00012004, gnorm=1.896, clip=0, loss_scale=8, train_wall=62, gb_free=19.4, wall=2314
2023-08-22 15:39:23 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 15:39:24 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 2.0
2023-08-22 15:40:51 | INFO | train_inner | epoch 003:    159 / 1474 loss=5.146, trans_loss=5.419, nll_loss=4.209, w2v_ctc_loss=2.844, task_loss=0.855, contrastive_loss=1.108, total=4154.28, n_correct=263.29, ppl=18.5, accuracy=6.338, wps=13828.9, ups=1.11, wpb=12404.4, bsz=460.7, num_updates=3100, lr=0.000124038, gnorm=4.429, clip=7, loss_scale=2, train_wall=89, gb_free=16.1, wall=2404
2023-08-22 15:42:21 | INFO | train_inner | epoch 003:    259 / 1474 loss=4.431, trans_loss=4.907, nll_loss=3.535, w2v_ctc_loss=2.562, task_loss=0.871, contrastive_loss=0.92, total=4155.72, n_correct=641.39, ppl=11.59, accuracy=15.434, wps=13801.8, ups=1.11, wpb=12415.9, bsz=465.5, num_updates=3200, lr=0.000128036, gnorm=3.549, clip=4, loss_scale=2, train_wall=89, gb_free=17.3, wall=2494
2023-08-22 15:43:49 | INFO | train_inner | epoch 003:    359 / 1474 loss=4.018, trans_loss=4.427, nll_loss=2.898, w2v_ctc_loss=2.494, task_loss=0.861, contrastive_loss=0.941, total=4154.07, n_correct=1115.12, ppl=7.45, accuracy=26.844, wps=13980.7, ups=1.13, wpb=12396.6, bsz=464.9, num_updates=3300, lr=0.000132034, gnorm=3.033, clip=2, loss_scale=2, train_wall=88, gb_free=15.1, wall=2583
2023-08-22 15:44:04 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 1.0
2023-08-22 15:45:06 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 0.5
2023-08-22 15:45:21 | INFO | train_inner | epoch 003:    461 / 1474 loss=3.813, trans_loss=4.357, nll_loss=2.809, w2v_ctc_loss=2.38, task_loss=0.848, contrastive_loss=0.755, total=4203.29, n_correct=1223.7, ppl=7.01, accuracy=29.113, wps=13743, ups=1.1, wpb=12547.1, bsz=472.9, num_updates=3400, lr=0.000136032, gnorm=3.121, clip=5, loss_scale=0.5, train_wall=91, gb_free=15.5, wall=2674
2023-08-22 15:46:50 | INFO | train_inner | epoch 003:    561 / 1474 loss=3.642, trans_loss=4.283, nll_loss=2.717, w2v_ctc_loss=2.294, task_loss=0.934, contrastive_loss=0.676, total=4082.91, n_correct=1259.16, ppl=6.57, accuracy=30.84, wps=13682.9, ups=1.12, wpb=12196.9, bsz=438.2, num_updates=3500, lr=0.00014003, gnorm=2.783, clip=2, loss_scale=0.5, train_wall=88, gb_free=14.2, wall=2763
2023-08-22 15:48:20 | INFO | train_inner | epoch 003:    661 / 1474 loss=3.555, trans_loss=4.241, nll_loss=2.659, w2v_ctc_loss=2.197, task_loss=0.818, contrastive_loss=0.759, total=4228.57, n_correct=1371.41, ppl=6.31, accuracy=32.432, wps=14026.6, ups=1.11, wpb=12607.2, bsz=484.2, num_updates=3600, lr=0.000144028, gnorm=2.207, clip=1, loss_scale=0.5, train_wall=89, gb_free=16.6, wall=2853
2023-08-22 15:49:48 | INFO | train_inner | epoch 003:    761 / 1474 loss=3.438, trans_loss=4.214, nll_loss=2.628, w2v_ctc_loss=2.152, task_loss=0.835, contrastive_loss=0.504, total=4160.15, n_correct=1372.39, ppl=6.18, accuracy=32.989, wps=14045.7, ups=1.13, wpb=12426.8, bsz=468.7, num_updates=3700, lr=0.000148026, gnorm=2.343, clip=1, loss_scale=0.5, train_wall=88, gb_free=11.2, wall=2942
2023-08-22 15:51:17 | INFO | train_inner | epoch 003:    861 / 1474 loss=3.361, trans_loss=4.205, nll_loss=2.617, w2v_ctc_loss=2.107, task_loss=0.87, contrastive_loss=0.439, total=4169.68, n_correct=1388.38, ppl=6.13, accuracy=33.297, wps=13961, ups=1.12, wpb=12450.8, bsz=457.7, num_updates=3800, lr=0.000152024, gnorm=2.299, clip=3, loss_scale=0.5, train_wall=89, gb_free=11.7, wall=3031
2023-08-22 15:52:46 | INFO | train_inner | epoch 003:    961 / 1474 loss=3.319, trans_loss=4.183, nll_loss=2.587, w2v_ctc_loss=2.061, task_loss=0.824, contrastive_loss=0.477, total=4174.86, n_correct=1429.66, ppl=6.01, accuracy=34.245, wps=14005.6, ups=1.12, wpb=12451.9, bsz=476.3, num_updates=3900, lr=0.000156022, gnorm=2.096, clip=2, loss_scale=0.5, train_wall=88, gb_free=16.2, wall=3120
2023-08-22 15:54:15 | INFO | train_inner | epoch 003:   1061 / 1474 loss=3.271, trans_loss=4.17, nll_loss=2.573, w2v_ctc_loss=2.055, task_loss=0.938, contrastive_loss=0.39, total=4053.96, n_correct=1387.03, ppl=5.95, accuracy=34.214, wps=13650.4, ups=1.13, wpb=12108.6, bsz=437.6, num_updates=4000, lr=0.00016002, gnorm=1.873, clip=1, loss_scale=0.5, train_wall=88, gb_free=14.5, wall=3208
2023-08-22 15:54:15 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 15:54:54 | INFO | dev_st | epoch 003 | valid on 'dev_st' subset | loss 5.857 | trans_loss 7.306 | nll_loss 5.191 | w2v_ctc_loss 2.562 | task_loss 4.159 | contrastive_loss 0.614 | total 4003.4 | n_correct 1447 | ppl 36.54 | accuracy 36.144 | uer 35.142 | wer 34.797 | raw_wer 34.797 | bleu 0.66 | wps 1325.5 | wpb 4003.4 | bsz 141.8 | num_updates 4000 | best_bleu 0.66
2023-08-22 15:54:54 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 3 @ 4000 updates
2023-08-22 15:54:54 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_3_4000.pt
2023-08-22 15:54:57 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_3_4000.pt
2023-08-22 15:55:08 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_3_4000.pt (epoch 3 @ 4000 updates, score 0.66) (writing took 13.781567990081385 seconds)
2023-08-22 15:56:35 | INFO | train_inner | epoch 003:   1161 / 1474 loss=3.202, trans_loss=4.164, nll_loss=2.564, w2v_ctc_loss=1.986, task_loss=0.933, contrastive_loss=0.358, total=4039.63, n_correct=1395.19, ppl=5.91, accuracy=34.538, wps=8593.2, ups=0.71, wpb=12056.7, bsz=432.1, num_updates=4100, lr=0.000164018, gnorm=1.63, clip=0, loss_scale=0.5, train_wall=87, gb_free=16.3, wall=3349
2023-08-22 15:58:04 | INFO | train_inner | epoch 003:   1261 / 1474 loss=3.173, trans_loss=4.149, nll_loss=2.546, w2v_ctc_loss=1.963, task_loss=0.921, contrastive_loss=0.345, total=4064.72, n_correct=1420.33, ppl=5.84, accuracy=34.943, wps=13731.4, ups=1.13, wpb=12139.4, bsz=432.5, num_updates=4200, lr=0.000168016, gnorm=1.867, clip=0, loss_scale=0.5, train_wall=88, gb_free=16.3, wall=3437
2023-08-22 15:59:33 | INFO | train_inner | epoch 003:   1361 / 1474 loss=3.145, trans_loss=4.134, nll_loss=2.526, w2v_ctc_loss=1.91, task_loss=0.874, contrastive_loss=0.439, total=4129.64, n_correct=1464.28, ppl=5.76, accuracy=35.458, wps=13819.3, ups=1.12, wpb=12328.6, bsz=460.2, num_updates=4300, lr=0.000172014, gnorm=1.564, clip=0, loss_scale=0.5, train_wall=88, gb_free=16.8, wall=3526
2023-08-22 16:01:02 | INFO | train_inner | epoch 003:   1461 / 1474 loss=3.114, trans_loss=4.125, nll_loss=2.516, w2v_ctc_loss=1.885, task_loss=0.828, contrastive_loss=0.416, total=4206.71, n_correct=1511.04, ppl=5.72, accuracy=35.92, wps=14086.6, ups=1.12, wpb=12565.6, bsz=475.7, num_updates=4400, lr=0.000176012, gnorm=1.605, clip=2, loss_scale=0.5, train_wall=89, gb_free=16, wall=3616
2023-08-22 16:01:14 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 16:01:49 | INFO | dev_st | epoch 003 | valid on 'dev_st' subset | loss 5.61 | trans_loss 7.152 | nll_loss 5.001 | w2v_ctc_loss 2.191 | task_loss 4.149 | contrastive_loss 0.52 | total 4003.4 | n_correct 1527.1 | ppl 32.01 | accuracy 38.145 | uer 32.864 | wer 32.866 | raw_wer 32.866 | bleu 1.49 | wps 1457.5 | wpb 4003.4 | bsz 141.8 | num_updates 4413 | best_bleu 1.49
2023-08-22 16:01:49 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 3 @ 4413 updates
2023-08-22 16:01:49 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 16:01:56 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 16:02:02 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 3 @ 4413 updates, score 1.49) (writing took 13.507450634031557 seconds)
2023-08-22 16:02:02 | INFO | fairseq_cli.train | end of epoch 3 (average epoch stats below)
2023-08-22 16:02:02 | INFO | train | epoch 003 | loss 3.694 | trans_loss 4.42 | nll_loss 2.897 | w2v_ctc_loss 2.237 | task_loss 0.886 | contrastive_loss 0.631 | total 4138.55 | n_correct 1187.83 | ppl 7.45 | accuracy 28.702 | wps 12935.6 | ups 1.05 | wpb 12355.5 | bsz 458.5 | num_updates 4413 | lr 0.000176532 | gnorm 2.422 | clip 2 | loss_scale 0.5 | train_wall 1286 | gb_free 16 | wall 3676
2023-08-22 16:02:03 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 16:02:03 | INFO | fairseq.trainer | begin training epoch 4
2023-08-22 16:02:03 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 16:03:26 | INFO | train_inner | epoch 004:     87 / 1474 loss=3.019, trans_loss=4.108, nll_loss=2.491, w2v_ctc_loss=1.839, task_loss=0.902, contrastive_loss=0.248, total=4095.97, n_correct=1486.77, ppl=5.62, accuracy=36.298, wps=8477.2, ups=0.69, wpb=12224.1, bsz=438.5, num_updates=4500, lr=0.00018001, gnorm=1.559, clip=0, loss_scale=0.5, train_wall=87, gb_free=16.1, wall=3760
2023-08-22 16:04:54 | INFO | train_inner | epoch 004:    187 / 1474 loss=2.998, trans_loss=4.087, nll_loss=2.466, w2v_ctc_loss=1.815, task_loss=0.83, contrastive_loss=0.272, total=4172.25, n_correct=1534.51, ppl=5.52, accuracy=36.779, wps=14175.9, ups=1.14, wpb=12457, bsz=467.5, num_updates=4600, lr=0.000184008, gnorm=1.524, clip=0, loss_scale=0.5, train_wall=87, gb_free=12.3, wall=3848
2023-08-22 16:06:23 | INFO | train_inner | epoch 004:    287 / 1474 loss=2.99, trans_loss=4.079, nll_loss=2.458, w2v_ctc_loss=1.78, task_loss=0.859, contrastive_loss=0.396, total=4158.19, n_correct=1541.53, ppl=5.49, accuracy=37.072, wps=14003.3, ups=1.13, wpb=12422.5, bsz=467.9, num_updates=4700, lr=0.000188006, gnorm=1.313, clip=0, loss_scale=0.5, train_wall=88, gb_free=16.6, wall=3936
2023-08-22 16:07:51 | INFO | train_inner | epoch 004:    387 / 1474 loss=2.938, trans_loss=4.077, nll_loss=2.451, w2v_ctc_loss=1.773, task_loss=0.916, contrastive_loss=0.216, total=4107.54, n_correct=1531.83, ppl=5.47, accuracy=37.293, wps=13865.4, ups=1.13, wpb=12255.4, bsz=437.9, num_updates=4800, lr=0.000192004, gnorm=1.338, clip=0, loss_scale=0.5, train_wall=88, gb_free=16.6, wall=4025
2023-08-22 16:09:21 | INFO | train_inner | epoch 004:    487 / 1474 loss=2.99, trans_loss=4.049, nll_loss=2.416, w2v_ctc_loss=1.714, task_loss=0.769, contrastive_loss=0.661, total=4242.53, n_correct=1623.59, ppl=5.34, accuracy=38.269, wps=14083.8, ups=1.11, wpb=12663.6, bsz=507.9, num_updates=4900, lr=0.000196002, gnorm=1.329, clip=1, loss_scale=0.5, train_wall=89, gb_free=16.7, wall=4115
2023-08-22 16:10:50 | INFO | train_inner | epoch 004:    587 / 1474 loss=2.896, trans_loss=4.032, nll_loss=2.395, w2v_ctc_loss=1.727, task_loss=0.818, contrastive_loss=0.279, total=4222.82, n_correct=1641.33, ppl=5.26, accuracy=38.868, wps=14132.3, ups=1.12, wpb=12606.6, bsz=484.3, num_updates=5000, lr=0.0002, gnorm=1.259, clip=0, loss_scale=0.5, train_wall=89, gb_free=14.2, wall=4204
mt_weight tensor(0.5000)
asr_weight tensor(0.4313, device='cuda:0')
2023-08-22 16:12:21 | INFO | train_inner | epoch 004:    687 / 1474 loss=2.896, trans_loss=4.03, nll_loss=2.388, w2v_ctc_loss=1.733, task_loss=0.909, contrastive_loss=0.34, total=4165.36, n_correct=1630.47, ppl=5.23, accuracy=39.144, wps=13786, ups=1.11, wpb=12416.4, bsz=452, num_updates=5100, lr=0.00019803, gnorm=0.985, clip=0, loss_scale=0.5, train_wall=89, gb_free=15.4, wall=4294
2023-08-22 16:13:50 | INFO | train_inner | epoch 004:    787 / 1474 loss=2.836, trans_loss=4.001, nll_loss=2.355, w2v_ctc_loss=1.711, task_loss=0.96, contrastive_loss=0.202, total=4021.88, n_correct=1599.01, ppl=5.12, accuracy=39.758, wps=13492.9, ups=1.12, wpb=12009.3, bsz=420.1, num_updates=5200, lr=0.000196116, gnorm=0.881, clip=1, loss_scale=0.5, train_wall=88, gb_free=17.1, wall=4383
2023-08-22 16:15:18 | INFO | train_inner | epoch 004:    887 / 1474 loss=2.89, trans_loss=3.979, nll_loss=2.327, w2v_ctc_loss=1.736, task_loss=0.87, contrastive_loss=0.394, total=4185.92, n_correct=1694.65, ppl=5.02, accuracy=40.485, wps=14057.6, ups=1.12, wpb=12500.2, bsz=466.8, num_updates=5300, lr=0.000194257, gnorm=0.927, clip=0, loss_scale=0.5, train_wall=88, gb_free=16.4, wall=4472
2023-08-22 16:16:47 | INFO | train_inner | epoch 004:    987 / 1474 loss=2.83, trans_loss=3.954, nll_loss=2.294, w2v_ctc_loss=1.724, task_loss=0.893, contrastive_loss=0.254, total=4125.22, n_correct=1711.62, ppl=4.91, accuracy=41.492, wps=13871.8, ups=1.13, wpb=12322, bsz=454.4, num_updates=5400, lr=0.00019245, gnorm=1.014, clip=0, loss_scale=0.5, train_wall=88, gb_free=16.4, wall=4561
2023-08-22 16:18:17 | INFO | train_inner | epoch 004:   1087 / 1474 loss=2.798, trans_loss=3.942, nll_loss=2.278, w2v_ctc_loss=1.701, task_loss=0.924, contrastive_loss=0.231, total=4079.97, n_correct=1719.93, ppl=4.85, accuracy=42.155, wps=13532.8, ups=1.11, wpb=12178.8, bsz=440.5, num_updates=5500, lr=0.000190693, gnorm=0.834, clip=0, loss_scale=1, train_wall=89, gb_free=16.3, wall=4651
2023-08-22 16:19:46 | INFO | train_inner | epoch 004:   1187 / 1474 loss=2.787, trans_loss=3.913, nll_loss=2.241, w2v_ctc_loss=1.679, task_loss=0.811, contrastive_loss=0.329, total=4171.2, n_correct=1810.88, ppl=4.73, accuracy=43.414, wps=14017, ups=1.13, wpb=12457.9, bsz=485.8, num_updates=5600, lr=0.000188982, gnorm=0.798, clip=0, loss_scale=1, train_wall=88, gb_free=15.3, wall=4740
2023-08-22 16:21:14 | INFO | train_inner | epoch 004:   1287 / 1474 loss=2.74, trans_loss=3.887, nll_loss=2.207, w2v_ctc_loss=1.656, task_loss=0.845, contrastive_loss=0.284, total=4140.63, n_correct=1830.91, ppl=4.62, accuracy=44.218, wps=14040.3, ups=1.14, wpb=12365.2, bsz=466.8, num_updates=5700, lr=0.000187317, gnorm=0.758, clip=0, loss_scale=1, train_wall=87, gb_free=16.5, wall=4828
2023-08-22 16:22:41 | INFO | train_inner | epoch 004:   1387 / 1474 loss=2.678, trans_loss=3.86, nll_loss=2.172, w2v_ctc_loss=1.646, task_loss=0.895, contrastive_loss=0.154, total=4100.54, n_correct=1853.62, ppl=4.51, accuracy=45.204, wps=14045.7, ups=1.15, wpb=12248.6, bsz=438.8, num_updates=5800, lr=0.000185695, gnorm=0.707, clip=0, loss_scale=1, train_wall=87, gb_free=17.4, wall=4915
2023-08-22 16:23:58 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.4313, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.4313, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.4313, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.4313, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.4313, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.4313, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.4313, device='cuda:3')
2023-08-22 16:24:32 | INFO | dev_st | epoch 004 | valid on 'dev_st' subset | loss 4.923 | trans_loss 6.266 | nll_loss 3.835 | w2v_ctc_loss 2.011 | task_loss 4.249 | contrastive_loss 0.387 | total 4003.4 | n_correct 2016.4 | ppl 14.27 | accuracy 50.367 | uer 29.735 | wer 30.521 | raw_wer 30.521 | bleu 9.56 | wps 1517.9 | wpb 4003.4 | bsz 141.8 | num_updates 5887 | best_bleu 9.56
2023-08-22 16:24:32 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 4 @ 5887 updates
2023-08-22 16:24:32 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 16:24:38 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 16:24:44 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 4 @ 5887 updates, score 9.56) (writing took 12.522743582958356 seconds)
2023-08-22 16:24:44 | INFO | fairseq_cli.train | end of epoch 4 (average epoch stats below)
2023-08-22 16:24:44 | INFO | train | epoch 004 | loss 2.866 | trans_loss 3.991 | nll_loss 2.341 | w2v_ctc_loss 1.726 | task_loss 0.871 | contrastive_loss 0.303 | total 4138.65 | n_correct 1670.41 | ppl 5.07 | accuracy 40.361 | wps 13372.4 | ups 1.08 | wpb 12355.8 | bsz 458.5 | num_updates 5887 | lr 0.000184318 | gnorm 1.098 | clip 0.3 | loss_scale 1 | train_wall 1298 | gb_free 14.5 | wall 5038
2023-08-22 16:24:45 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 16:24:45 | INFO | fairseq.trainer | begin training epoch 5
2023-08-22 16:24:45 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 16:25:03 | INFO | train_inner | epoch 005:     13 / 1474 loss=2.695, trans_loss=3.855, nll_loss=2.164, w2v_ctc_loss=1.656, task_loss=0.898, contrastive_loss=0.191, total=4049.24, n_correct=1839.63, ppl=4.48, accuracy=45.431, wps=8535.2, ups=0.71, wpb=12086.7, bsz=441.2, num_updates=5900, lr=0.000184115, gnorm=1.249, clip=2, loss_scale=1, train_wall=87, gb_free=16.6, wall=5057
2023-08-22 16:26:32 | INFO | train_inner | epoch 005:    113 / 1474 loss=2.608, trans_loss=3.801, nll_loss=2.096, w2v_ctc_loss=1.571, task_loss=0.783, contrastive_loss=0.19, total=4250.33, n_correct=2009.32, ppl=4.28, accuracy=47.274, wps=14314.1, ups=1.13, wpb=12693.9, bsz=497.5, num_updates=6000, lr=0.000182574, gnorm=0.776, clip=0, loss_scale=1, train_wall=88, gb_free=16.7, wall=5145
2023-08-22 16:26:32 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 16:27:09 | INFO | dev_st | epoch 005 | valid on 'dev_st' subset | loss 4.792 | trans_loss 6.177 | nll_loss 3.715 | w2v_ctc_loss 1.801 | task_loss 4.355 | contrastive_loss 0.36 | total 4003.4 | n_correct 2066.6 | ppl 13.13 | accuracy 51.621 | uer 28.32 | wer 29.339 | raw_wer 29.339 | bleu 10.03 | wps 1368.9 | wpb 4003.4 | bsz 141.8 | num_updates 6000 | best_bleu 10.03
2023-08-22 16:27:09 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 5 @ 6000 updates
2023-08-22 16:27:09 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_5_6000.pt
2023-08-22 16:27:11 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_5_6000.pt
2023-08-22 16:27:29 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_5_6000.pt (epoch 5 @ 6000 updates, score 10.03) (writing took 20.759044441045262 seconds)
2023-08-22 16:28:57 | INFO | train_inner | epoch 005:    213 / 1474 loss=2.632, trans_loss=3.795, nll_loss=2.085, w2v_ctc_loss=1.57, task_loss=0.808, contrastive_loss=0.392, total=4190.08, n_correct=2001.02, ppl=4.24, accuracy=47.756, wps=8614.8, ups=0.69, wpb=12501.7, bsz=486.7, num_updates=6100, lr=0.000181071, gnorm=0.743, clip=0, loss_scale=1, train_wall=87, gb_free=12.2, wall=5290
2023-08-22 16:30:25 | INFO | train_inner | epoch 005:    313 / 1474 loss=2.596, trans_loss=3.771, nll_loss=2.06, w2v_ctc_loss=1.581, task_loss=0.889, contrastive_loss=0.247, total=4096.44, n_correct=1970.93, ppl=4.17, accuracy=48.113, wps=13920.4, ups=1.14, wpb=12249.1, bsz=448.2, num_updates=6200, lr=0.000179605, gnorm=0.72, clip=0, loss_scale=1, train_wall=87, gb_free=16.2, wall=5378
2023-08-22 16:31:54 | INFO | train_inner | epoch 005:    413 / 1474 loss=2.63, trans_loss=3.768, nll_loss=2.055, w2v_ctc_loss=1.59, task_loss=0.87, contrastive_loss=0.341, total=4133.67, n_correct=2000.59, ppl=4.16, accuracy=48.397, wps=13895.9, ups=1.12, wpb=12352.7, bsz=463.8, num_updates=6300, lr=0.000178174, gnorm=1.014, clip=0, loss_scale=1, train_wall=88, gb_free=16.3, wall=5467
2023-08-22 16:33:22 | INFO | train_inner | epoch 005:    513 / 1474 loss=2.561, trans_loss=3.758, nll_loss=2.039, w2v_ctc_loss=1.553, task_loss=0.946, contrastive_loss=0.261, total=4036.61, n_correct=1974.4, ppl=4.11, accuracy=48.912, wps=13689.4, ups=1.14, wpb=12057.3, bsz=428.7, num_updates=6400, lr=0.000176777, gnorm=0.734, clip=0, loss_scale=1, train_wall=87, gb_free=17.5, wall=5555
2023-08-22 16:34:51 | INFO | train_inner | epoch 005:    613 / 1474 loss=2.542, trans_loss=3.752, nll_loss=2.029, w2v_ctc_loss=1.555, task_loss=0.919, contrastive_loss=0.162, total=4112.09, n_correct=2028.87, ppl=4.08, accuracy=49.339, wps=13824, ups=1.13, wpb=12268.1, bsz=443.6, num_updates=6500, lr=0.000175412, gnorm=0.757, clip=0, loss_scale=1, train_wall=88, gb_free=16.4, wall=5644
2023-08-22 16:36:20 | INFO | train_inner | epoch 005:    713 / 1474 loss=2.532, trans_loss=3.731, nll_loss=2.004, w2v_ctc_loss=1.518, task_loss=0.836, contrastive_loss=0.266, total=4160.15, n_correct=2093.92, ppl=4.01, accuracy=50.333, wps=13920.3, ups=1.12, wpb=12418.1, bsz=477.6, num_updates=6600, lr=0.000174078, gnorm=0.603, clip=0, loss_scale=1, train_wall=89, gb_free=15.2, wall=5733
2023-08-22 16:37:49 | INFO | train_inner | epoch 005:    813 / 1474 loss=2.509, trans_loss=3.719, nll_loss=1.989, w2v_ctc_loss=1.519, task_loss=0.892, contrastive_loss=0.201, total=4129.67, n_correct=2087.55, ppl=3.97, accuracy=50.55, wps=13822.9, ups=1.12, wpb=12327.3, bsz=452.6, num_updates=6700, lr=0.000172774, gnorm=0.69, clip=0, loss_scale=1, train_wall=89, gb_free=15.6, wall=5822
2023-08-22 16:39:17 | INFO | train_inner | epoch 005:    913 / 1474 loss=2.478, trans_loss=3.705, nll_loss=1.971, w2v_ctc_loss=1.512, task_loss=0.906, contrastive_loss=0.15, total=4107.27, n_correct=2096.12, ppl=3.92, accuracy=51.034, wps=13918.8, ups=1.14, wpb=12262.1, bsz=446.2, num_updates=6800, lr=0.000171499, gnorm=0.67, clip=0, loss_scale=1, train_wall=87, gb_free=12.6, wall=5911
2023-08-22 16:40:46 | INFO | train_inner | epoch 005:   1013 / 1474 loss=2.471, trans_loss=3.697, nll_loss=1.961, w2v_ctc_loss=1.492, task_loss=0.872, contrastive_loss=0.225, total=4154.85, n_correct=2142.43, ppl=3.89, accuracy=51.565, wps=13984.9, ups=1.13, wpb=12403.9, bsz=458.6, num_updates=6900, lr=0.000170251, gnorm=0.618, clip=0, loss_scale=1, train_wall=88, gb_free=15.2, wall=5999
2023-08-22 16:42:15 | INFO | train_inner | epoch 005:   1113 / 1474 loss=2.497, trans_loss=3.689, nll_loss=1.949, w2v_ctc_loss=1.515, task_loss=0.863, contrastive_loss=0.245, total=4178.83, n_correct=2166.84, ppl=3.86, accuracy=51.853, wps=13910.7, ups=1.12, wpb=12465.4, bsz=468.4, num_updates=7000, lr=0.000169031, gnorm=0.748, clip=0, loss_scale=1, train_wall=89, gb_free=12.7, wall=6089
2023-08-22 16:43:44 | INFO | train_inner | epoch 005:   1213 / 1474 loss=2.442, trans_loss=3.686, nll_loss=1.944, w2v_ctc_loss=1.489, task_loss=0.884, contrastive_loss=0.13, total=4163.71, n_correct=2169.98, ppl=3.85, accuracy=52.117, wps=13969, ups=1.12, wpb=12420.2, bsz=454, num_updates=7100, lr=0.000167836, gnorm=0.712, clip=0, loss_scale=1, train_wall=88, gb_free=17, wall=6178
2023-08-22 16:45:13 | INFO | train_inner | epoch 005:   1313 / 1474 loss=2.411, trans_loss=3.671, nll_loss=1.926, w2v_ctc_loss=1.467, task_loss=0.899, contrastive_loss=0.1, total=4125.59, n_correct=2167.68, ppl=3.8, accuracy=52.542, wps=13883.1, ups=1.13, wpb=12312.6, bsz=442.8, num_updates=7200, lr=0.000166667, gnorm=0.613, clip=0, loss_scale=1, train_wall=88, gb_free=14.5, wall=6266
2023-08-22 16:46:42 | INFO | train_inner | epoch 005:   1413 / 1474 loss=2.415, trans_loss=3.664, nll_loss=1.92, w2v_ctc_loss=1.454, task_loss=0.872, contrastive_loss=0.165, total=4145.41, n_correct=2192.78, ppl=3.78, accuracy=52.897, wps=13994.3, ups=1.13, wpb=12381.3, bsz=460.5, num_updates=7300, lr=0.000165521, gnorm=0.629, clip=0, loss_scale=1, train_wall=88, gb_free=16.2, wall=6355
2023-08-22 16:47:35 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 16:48:14 | INFO | dev_st | epoch 005 | valid on 'dev_st' subset | loss 4.472 | trans_loss 5.775 | nll_loss 3.201 | w2v_ctc_loss 1.678 | task_loss 4.381 | contrastive_loss 0.314 | total 4003.4 | n_correct 2292.7 | ppl 9.19 | accuracy 57.269 | uer 26.271 | wer 27.534 | raw_wer 27.534 | bleu 14.28 | wps 1303.4 | wpb 4003.4 | bsz 141.8 | num_updates 7361 | best_bleu 14.28
2023-08-22 16:48:14 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 5 @ 7361 updates
2023-08-22 16:48:14 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 16:48:20 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 16:48:26 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 5 @ 7361 updates, score 14.28) (writing took 12.517463681055233 seconds)
2023-08-22 16:48:27 | INFO | fairseq_cli.train | end of epoch 5 (average epoch stats below)
2023-08-22 16:48:27 | INFO | train | epoch 005 | loss 2.521 | trans_loss 3.727 | nll_loss 2 | w2v_ctc_loss 1.527 | task_loss 0.874 | contrastive_loss 0.22 | total 4138.65 | n_correct 2080.57 | ppl 4 | accuracy 50.272 | wps 12806.2 | ups 1.04 | wpb 12355.8 | bsz 458.5 | num_updates 7361 | lr 0.000164834 | gnorm 0.718 | clip 0 | loss_scale 1 | train_wall 1297 | gb_free 15.9 | wall 6460
2023-08-22 16:48:27 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 16:48:27 | INFO | fairseq.trainer | begin training epoch 6
2023-08-22 16:48:27 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 16:49:09 | INFO | train_inner | epoch 006:     39 / 1474 loss=2.421, trans_loss=3.651, nll_loss=1.901, w2v_ctc_loss=1.472, task_loss=0.903, contrastive_loss=0.163, total=4112.54, n_correct=2187.41, ppl=3.73, accuracy=53.189, wps=8333.5, ups=0.68, wpb=12270.9, bsz=445.9, num_updates=7400, lr=0.000164399, gnorm=0.72, clip=0, loss_scale=1, train_wall=88, gb_free=16.1, wall=6502
2023-08-22 16:50:37 | INFO | train_inner | epoch 006:    139 / 1474 loss=2.364, trans_loss=3.617, nll_loss=1.86, w2v_ctc_loss=1.409, task_loss=0.866, contrastive_loss=0.202, total=4157.02, n_correct=2252.24, ppl=3.63, accuracy=54.179, wps=14006.3, ups=1.13, wpb=12417.6, bsz=457.6, num_updates=7500, lr=0.000163299, gnorm=0.599, clip=0, loss_scale=2, train_wall=88, gb_free=14, wall=6591
2023-08-22 16:52:06 | INFO | train_inner | epoch 006:    239 / 1474 loss=2.365, trans_loss=3.623, nll_loss=1.868, w2v_ctc_loss=1.435, task_loss=0.919, contrastive_loss=0.125, total=4120.34, n_correct=2224.43, ppl=3.65, accuracy=53.987, wps=13886.1, ups=1.13, wpb=12308.9, bsz=444.8, num_updates=7600, lr=0.000162221, gnorm=0.625, clip=0, loss_scale=2, train_wall=88, gb_free=17.3, wall=6680
2023-08-22 16:53:36 | INFO | train_inner | epoch 006:    339 / 1474 loss=2.385, trans_loss=3.607, nll_loss=1.846, w2v_ctc_loss=1.376, task_loss=0.834, contrastive_loss=0.413, total=4160.74, n_correct=2275.75, ppl=3.59, accuracy=54.696, wps=13804.1, ups=1.11, wpb=12422.4, bsz=482.1, num_updates=7700, lr=0.000161165, gnorm=0.594, clip=0, loss_scale=2, train_wall=89, gb_free=15.8, wall=6770
2023-08-22 16:55:04 | INFO | train_inner | epoch 006:    439 / 1474 loss=2.317, trans_loss=3.598, nll_loss=1.834, w2v_ctc_loss=1.385, task_loss=0.838, contrastive_loss=0.122, total=4157.21, n_correct=2292.17, ppl=3.56, accuracy=55.137, wps=14197.2, ups=1.14, wpb=12413.9, bsz=470.2, num_updates=7800, lr=0.000160128, gnorm=0.557, clip=0, loss_scale=2, train_wall=87, gb_free=15.1, wall=6857
2023-08-22 16:56:33 | INFO | train_inner | epoch 006:    539 / 1474 loss=2.314, trans_loss=3.599, nll_loss=1.835, w2v_ctc_loss=1.388, task_loss=0.876, contrastive_loss=0.113, total=4168.09, n_correct=2300.63, ppl=3.57, accuracy=55.196, wps=13968.3, ups=1.12, wpb=12441.1, bsz=456, num_updates=7900, lr=0.000159111, gnorm=0.523, clip=0, loss_scale=2, train_wall=88, gb_free=15.7, wall=6946
2023-08-22 16:58:01 | INFO | train_inner | epoch 006:    639 / 1474 loss=2.317, trans_loss=3.595, nll_loss=1.831, w2v_ctc_loss=1.376, task_loss=0.825, contrastive_loss=0.168, total=4152.97, n_correct=2296.82, ppl=3.56, accuracy=55.305, wps=14101.3, ups=1.14, wpb=12396.5, bsz=473.1, num_updates=8000, lr=0.000158114, gnorm=0.602, clip=0, loss_scale=2, train_wall=87, gb_free=15, wall=7034
2023-08-22 16:58:01 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 16:58:37 | INFO | dev_st | epoch 006 | valid on 'dev_st' subset | loss 4.38 | trans_loss 5.626 | nll_loss 3.01 | w2v_ctc_loss 1.741 | task_loss 4.47 | contrastive_loss 0.271 | total 4003.4 | n_correct 2373.4 | ppl 8.05 | accuracy 59.285 | uer 25.477 | wer 26.949 | raw_wer 26.949 | bleu 15.9 | wps 1379.8 | wpb 4003.4 | bsz 141.8 | num_updates 8000 | best_bleu 15.9
2023-08-22 16:58:37 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 6 @ 8000 updates
2023-08-22 16:58:37 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_6_8000.pt
2023-08-22 16:58:40 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_6_8000.pt
2023-08-22 16:58:59 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_6_8000.pt (epoch 6 @ 8000 updates, score 15.9) (writing took 21.824947254965082 seconds)
2023-08-22 17:00:27 | INFO | train_inner | epoch 006:    739 / 1474 loss=2.316, trans_loss=3.595, nll_loss=1.83, w2v_ctc_loss=1.394, task_loss=0.898, contrastive_loss=0.12, total=4136.55, n_correct=2291.5, ppl=3.55, accuracy=55.396, wps=8407.9, ups=0.68, wpb=12349.7, bsz=450.8, num_updates=8100, lr=0.000157135, gnorm=0.616, clip=0, loss_scale=2, train_wall=88, gb_free=16.4, wall=7181
2023-08-22 17:01:56 | INFO | train_inner | epoch 006:    839 / 1474 loss=2.299, trans_loss=3.593, nll_loss=1.828, w2v_ctc_loss=1.379, task_loss=0.903, contrastive_loss=0.102, total=4134.7, n_correct=2294.51, ppl=3.55, accuracy=55.494, wps=13896.6, ups=1.13, wpb=12344.1, bsz=447.8, num_updates=8200, lr=0.000156174, gnorm=0.575, clip=0, loss_scale=2, train_wall=88, gb_free=14.4, wall=7270
2023-08-22 17:03:25 | INFO | train_inner | epoch 006:    939 / 1474 loss=2.314, trans_loss=3.589, nll_loss=1.822, w2v_ctc_loss=1.372, task_loss=0.932, contrastive_loss=0.199, total=4074.92, n_correct=2270.66, ppl=3.54, accuracy=55.723, wps=13671.6, ups=1.12, wpb=12163, bsz=439.9, num_updates=8300, lr=0.00015523, gnorm=0.517, clip=0, loss_scale=2, train_wall=88, gb_free=16.2, wall=7359
2023-08-22 17:04:53 | INFO | train_inner | epoch 006:   1039 / 1474 loss=2.307, trans_loss=3.575, nll_loss=1.804, w2v_ctc_loss=1.347, task_loss=0.824, contrastive_loss=0.272, total=4167.38, n_correct=2342.81, ppl=3.49, accuracy=56.218, wps=14110.1, ups=1.13, wpb=12438.7, bsz=478.3, num_updates=8400, lr=0.000154303, gnorm=0.53, clip=0, loss_scale=2, train_wall=87, gb_free=15.9, wall=7447
2023-08-22 17:06:22 | INFO | train_inner | epoch 006:   1139 / 1474 loss=2.281, trans_loss=3.574, nll_loss=1.803, w2v_ctc_loss=1.365, task_loss=0.971, contrastive_loss=0.103, total=4066.48, n_correct=2277.81, ppl=3.49, accuracy=56.014, wps=13764.3, ups=1.13, wpb=12140, bsz=428.3, num_updates=8500, lr=0.000153393, gnorm=0.553, clip=0, loss_scale=2, train_wall=88, gb_free=15.5, wall=7535
2023-08-22 17:07:51 | INFO | train_inner | epoch 006:   1239 / 1474 loss=2.317, trans_loss=3.558, nll_loss=1.785, w2v_ctc_loss=1.333, task_loss=0.856, contrastive_loss=0.417, total=4143.59, n_correct=2350.27, ppl=3.45, accuracy=56.721, wps=13825.8, ups=1.12, wpb=12377.1, bsz=471.5, num_updates=8600, lr=0.000152499, gnorm=0.496, clip=0, loss_scale=2, train_wall=89, gb_free=16.8, wall=7625
2023-08-22 17:09:19 | INFO | train_inner | epoch 006:   1339 / 1474 loss=2.243, trans_loss=3.561, nll_loss=1.785, w2v_ctc_loss=1.332, task_loss=0.865, contrastive_loss=0.087, total=4125.75, n_correct=2345.67, ppl=3.45, accuracy=56.854, wps=13952.5, ups=1.13, wpb=12308.4, bsz=454.4, num_updates=8700, lr=0.00015162, gnorm=0.499, clip=0, loss_scale=2, train_wall=88, gb_free=15.8, wall=7713
2023-08-22 17:10:48 | INFO | train_inner | epoch 006:   1439 / 1474 loss=2.244, trans_loss=3.555, nll_loss=1.78, w2v_ctc_loss=1.333, task_loss=0.873, contrastive_loss=0.093, total=4194.06, n_correct=2387.17, ppl=3.43, accuracy=56.918, wps=14119.2, ups=1.13, wpb=12518.6, bsz=462, num_updates=8800, lr=0.000150756, gnorm=0.533, clip=0, loss_scale=2, train_wall=88, gb_free=15.9, wall=7801
2023-08-22 17:11:18 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 17:11:52 | INFO | dev_st | epoch 006 | valid on 'dev_st' subset | loss 4.246 | trans_loss 5.509 | nll_loss 2.867 | w2v_ctc_loss 1.561 | task_loss 4.477 | contrastive_loss 0.275 | total 4003.4 | n_correct 2443.1 | ppl 7.3 | accuracy 61.026 | uer 23.985 | wer 25.435 | raw_wer 25.435 | bleu 17.44 | wps 1565.8 | wpb 4003.4 | bsz 141.8 | num_updates 8835 | best_bleu 17.44
2023-08-22 17:11:52 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 6 @ 8835 updates
2023-08-22 17:11:52 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 17:11:59 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 17:12:07 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 6 @ 8835 updates, score 17.44) (writing took 14.627860179985873 seconds)
2023-08-22 17:12:07 | INFO | fairseq_cli.train | end of epoch 6 (average epoch stats below)
2023-08-22 17:12:07 | INFO | train | epoch 006 | loss 2.313 | trans_loss 3.589 | nll_loss 1.823 | w2v_ctc_loss 1.374 | task_loss 0.875 | contrastive_loss 0.18 | total 4138.65 | n_correct 2298.88 | ppl 3.54 | accuracy 55.547 | wps 12824.5 | ups 1.04 | wpb 12355.8 | bsz 458.5 | num_updates 8835 | lr 0.000150457 | gnorm 0.563 | clip 0 | loss_scale 2 | train_wall 1297 | gb_free 14.6 | wall 7880
2023-08-22 17:12:07 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 17:12:07 | INFO | fairseq.trainer | begin training epoch 7
2023-08-22 17:12:07 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 17:13:12 | INFO | train_inner | epoch 007:     65 / 1474 loss=2.21, trans_loss=3.538, nll_loss=1.758, w2v_ctc_loss=1.297, task_loss=0.856, contrastive_loss=0.106, total=4103.49, n_correct=2358.57, ppl=3.38, accuracy=57.477, wps=8477.5, ups=0.69, wpb=12251.2, bsz=461.5, num_updates=8900, lr=0.000149906, gnorm=0.503, clip=0, loss_scale=2, train_wall=88, gb_free=16.6, wall=7946
2023-08-22 17:14:41 | INFO | train_inner | epoch 007:    165 / 1474 loss=2.211, trans_loss=3.529, nll_loss=1.746, w2v_ctc_loss=1.285, task_loss=0.885, contrastive_loss=0.177, total=4110.42, n_correct=2373.96, ppl=3.35, accuracy=57.755, wps=13913.3, ups=1.13, wpb=12272.5, bsz=455.4, num_updates=9000, lr=0.000149071, gnorm=0.494, clip=0, loss_scale=2, train_wall=88, gb_free=16, wall=8034
2023-08-22 17:16:09 | INFO | train_inner | epoch 007:    265 / 1474 loss=2.189, trans_loss=3.523, nll_loss=1.737, w2v_ctc_loss=1.285, task_loss=0.881, contrastive_loss=0.088, total=4130.95, n_correct=2394.72, ppl=3.33, accuracy=57.97, wps=13919.3, ups=1.13, wpb=12328.4, bsz=454.4, num_updates=9100, lr=0.00014825, gnorm=0.497, clip=0, loss_scale=2, train_wall=88, gb_free=17.3, wall=8123
2023-08-22 17:17:38 | INFO | train_inner | epoch 007:    365 / 1474 loss=2.238, trans_loss=3.525, nll_loss=1.741, w2v_ctc_loss=1.276, task_loss=0.843, contrastive_loss=0.346, total=4204.16, n_correct=2433.17, ppl=3.34, accuracy=57.875, wps=14103.7, ups=1.12, wpb=12547.1, bsz=481.5, num_updates=9200, lr=0.000147442, gnorm=0.515, clip=0, loss_scale=2, train_wall=88, gb_free=16.8, wall=8212
2023-08-22 17:19:07 | INFO | train_inner | epoch 007:    465 / 1474 loss=2.216, trans_loss=3.522, nll_loss=1.738, w2v_ctc_loss=1.269, task_loss=0.875, contrastive_loss=0.27, total=4147.32, n_correct=2404.35, ppl=3.34, accuracy=57.974, wps=14029.1, ups=1.13, wpb=12384.6, bsz=458.5, num_updates=9300, lr=0.000146647, gnorm=0.496, clip=0, loss_scale=2, train_wall=88, gb_free=17.5, wall=8300
2023-08-22 17:20:34 | INFO | train_inner | epoch 007:    565 / 1474 loss=2.178, trans_loss=3.519, nll_loss=1.732, w2v_ctc_loss=1.272, task_loss=0.857, contrastive_loss=0.094, total=4171.72, n_correct=2432.64, ppl=3.32, accuracy=58.313, wps=14180, ups=1.14, wpb=12445.8, bsz=460.5, num_updates=9400, lr=0.000145865, gnorm=0.492, clip=0, loss_scale=2, train_wall=87, gb_free=15.4, wall=8388
2023-08-22 17:22:03 | INFO | train_inner | epoch 007:    665 / 1474 loss=2.166, trans_loss=3.514, nll_loss=1.726, w2v_ctc_loss=1.263, task_loss=0.873, contrastive_loss=0.083, total=4150.49, n_correct=2428.86, ppl=3.31, accuracy=58.52, wps=13993.1, ups=1.13, wpb=12385.7, bsz=454.7, num_updates=9500, lr=0.000145095, gnorm=0.507, clip=0, loss_scale=2, train_wall=88, gb_free=16, wall=8476
2023-08-22 17:23:32 | INFO | train_inner | epoch 007:    765 / 1474 loss=2.164, trans_loss=3.505, nll_loss=1.716, w2v_ctc_loss=1.263, task_loss=0.907, contrastive_loss=0.081, total=4132.17, n_correct=2420.37, ppl=3.29, accuracy=58.574, wps=13833.8, ups=1.12, wpb=12338.5, bsz=450.8, num_updates=9600, lr=0.000144338, gnorm=0.49, clip=0, loss_scale=4, train_wall=89, gb_free=15.7, wall=8565
2023-08-22 17:25:01 | INFO | train_inner | epoch 007:    865 / 1474 loss=2.169, trans_loss=3.517, nll_loss=1.73, w2v_ctc_loss=1.261, task_loss=0.886, contrastive_loss=0.095, total=4140.18, n_correct=2413.43, ppl=3.32, accuracy=58.293, wps=13825.8, ups=1.12, wpb=12352.6, bsz=457.8, num_updates=9700, lr=0.000143592, gnorm=0.517, clip=0, loss_scale=4, train_wall=89, gb_free=15.3, wall=8655
2023-08-22 17:26:30 | INFO | train_inner | epoch 007:    965 / 1474 loss=2.177, trans_loss=3.503, nll_loss=1.714, w2v_ctc_loss=1.247, task_loss=0.836, contrastive_loss=0.19, total=4144.65, n_correct=2434.84, ppl=3.28, accuracy=58.747, wps=13985.9, ups=1.13, wpb=12374.9, bsz=475.4, num_updates=9800, lr=0.000142857, gnorm=0.508, clip=0, loss_scale=4, train_wall=88, gb_free=14.7, wall=8743
2023-08-22 17:27:58 | INFO | train_inner | epoch 007:   1065 / 1474 loss=2.157, trans_loss=3.511, nll_loss=1.725, w2v_ctc_loss=1.261, task_loss=0.921, contrastive_loss=0.066, total=4097.24, n_correct=2402.49, ppl=3.3, accuracy=58.637, wps=13915.4, ups=1.14, wpb=12232.2, bsz=435.9, num_updates=9900, lr=0.000142134, gnorm=0.502, clip=0, loss_scale=4, train_wall=87, gb_free=15.7, wall=8831
2023-08-22 17:29:27 | INFO | train_inner | epoch 007:   1165 / 1474 loss=2.208, trans_loss=3.496, nll_loss=1.708, w2v_ctc_loss=1.247, task_loss=0.851, contrastive_loss=0.329, total=4142.16, n_correct=2437.81, ppl=3.27, accuracy=58.854, wps=13831.4, ups=1.12, wpb=12377.5, bsz=471.9, num_updates=10000, lr=0.000141421, gnorm=0.531, clip=0, loss_scale=4, train_wall=89, gb_free=15, wall=8921
2023-08-22 17:29:27 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 17:30:02 | INFO | dev_st | epoch 007 | valid on 'dev_st' subset | loss 4.157 | trans_loss 5.416 | nll_loss 2.749 | w2v_ctc_loss 1.492 | task_loss 4.516 | contrastive_loss 0.25 | total 4003.4 | n_correct 2499 | ppl 6.72 | accuracy 62.422 | uer 22.531 | wer 24.19 | raw_wer 24.19 | bleu 18.6 | wps 1507.6 | wpb 4003.4 | bsz 141.8 | num_updates 10000 | best_bleu 18.6
2023-08-22 17:30:02 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 7 @ 10000 updates
2023-08-22 17:30:02 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_7_10000.pt
2023-08-22 17:30:04 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_7_10000.pt
2023-08-22 17:30:17 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_7_10000.pt (epoch 7 @ 10000 updates, score 18.6) (writing took 14.869882985949516 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:0')
2023-08-22 17:31:45 | INFO | train_inner | epoch 007:   1265 / 1474 loss=2.145, trans_loss=3.498, nll_loss=1.708, w2v_ctc_loss=1.241, task_loss=0.899, contrastive_loss=0.092, total=4119.52, n_correct=2426.01, ppl=3.27, accuracy=58.891, wps=8934.7, ups=0.73, wpb=12302.1, bsz=446.6, num_updates=10100, lr=0.00014072, gnorm=0.422, clip=0, loss_scale=4, train_wall=87, gb_free=13.4, wall=9058
2023-08-22 17:33:14 | INFO | train_inner | epoch 007:   1365 / 1474 loss=2.156, trans_loss=3.492, nll_loss=1.7, w2v_ctc_loss=1.247, task_loss=0.813, contrastive_loss=0.124, total=4185.65, n_correct=2476.58, ppl=3.25, accuracy=59.168, wps=14068.2, ups=1.13, wpb=12496.2, bsz=480.7, num_updates=10200, lr=0.000140028, gnorm=0.425, clip=0, loss_scale=4, train_wall=88, gb_free=16.5, wall=9147
2023-08-22 17:34:44 | INFO | train_inner | epoch 007:   1465 / 1474 loss=2.166, trans_loss=3.494, nll_loss=1.704, w2v_ctc_loss=1.243, task_loss=0.935, contrastive_loss=0.191, total=4113.9, n_correct=2430.65, ppl=3.26, accuracy=59.084, wps=13626.6, ups=1.11, wpb=12290.7, bsz=446.9, num_updates=10300, lr=0.000139347, gnorm=0.431, clip=0, loss_scale=4, train_wall=90, gb_free=16.1, wall=9237
2023-08-22 17:34:52 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:7')
2023-08-22 17:35:25 | INFO | dev_st | epoch 007 | valid on 'dev_st' subset | loss 4.134 | trans_loss 5.39 | nll_loss 2.714 | w2v_ctc_loss 1.471 | task_loss 4.562 | contrastive_loss 0.253 | total 4003.4 | n_correct 2507.9 | ppl 6.56 | accuracy 62.644 | uer 22.026 | wer 23.765 | raw_wer 23.765 | bleu 18.73 | wps 1579.2 | wpb 4003.4 | bsz 141.8 | num_updates 10309 | best_bleu 18.73
2023-08-22 17:35:25 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 7 @ 10309 updates
2023-08-22 17:35:25 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 17:35:31 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 17:35:38 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 7 @ 10309 updates, score 18.73) (writing took 12.482130980002694 seconds)
2023-08-22 17:35:38 | INFO | fairseq_cli.train | end of epoch 7 (average epoch stats below)
2023-08-22 17:35:38 | INFO | train | epoch 007 | loss 2.182 | trans_loss 3.511 | nll_loss 1.724 | w2v_ctc_loss 1.263 | task_loss 0.876 | contrastive_loss 0.157 | total 4138.65 | n_correct 2418.58 | ppl 3.3 | accuracy 58.439 | wps 12901.5 | ups 1.04 | wpb 12355.8 | bsz 458.5 | num_updates 10309 | lr 0.000139286 | gnorm 0.487 | clip 0 | loss_scale 4 | train_wall 1298 | gb_free 12.8 | wall 9292
2023-08-22 17:35:39 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 17:35:39 | INFO | fairseq.trainer | begin training epoch 8
2023-08-22 17:35:39 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 17:37:06 | INFO | train_inner | epoch 008:     91 / 1474 loss=2.119, trans_loss=3.486, nll_loss=1.688, w2v_ctc_loss=1.22, task_loss=0.945, contrastive_loss=0.084, total=4095.89, n_correct=2437.69, ppl=3.22, accuracy=59.516, wps=8581.7, ups=0.7, wpb=12213.1, bsz=435.6, num_updates=10400, lr=0.000138675, gnorm=0.455, clip=0, loss_scale=4, train_wall=88, gb_free=17.5, wall=9380
2023-08-22 17:38:34 | INFO | train_inner | epoch 008:    191 / 1474 loss=2.107, trans_loss=3.472, nll_loss=1.67, w2v_ctc_loss=1.201, task_loss=0.951, contrastive_loss=0.105, total=4040.13, n_correct=2418.04, ppl=3.18, accuracy=59.851, wps=13673.2, ups=1.13, wpb=12049.1, bsz=429, num_updates=10500, lr=0.000138013, gnorm=0.437, clip=0, loss_scale=4, train_wall=88, gb_free=15.7, wall=9468
2023-08-22 17:40:03 | INFO | train_inner | epoch 008:    291 / 1474 loss=2.108, trans_loss=3.467, nll_loss=1.666, w2v_ctc_loss=1.207, task_loss=0.819, contrastive_loss=0.098, total=4216.54, n_correct=2528.3, ppl=3.17, accuracy=59.961, wps=14222.3, ups=1.13, wpb=12583.3, bsz=489.6, num_updates=10600, lr=0.000137361, gnorm=0.439, clip=0, loss_scale=4, train_wall=88, gb_free=15.6, wall=9556
2023-08-22 17:41:33 | INFO | train_inner | epoch 008:    391 / 1474 loss=2.124, trans_loss=3.473, nll_loss=1.673, w2v_ctc_loss=1.218, task_loss=0.918, contrastive_loss=0.128, total=4134.8, n_correct=2469.72, ppl=3.19, accuracy=59.73, wps=13700, ups=1.11, wpb=12337.2, bsz=446.1, num_updates=10700, lr=0.000136717, gnorm=0.477, clip=0, loss_scale=4, train_wall=89, gb_free=16, wall=9646
2023-08-22 17:43:02 | INFO | train_inner | epoch 008:    491 / 1474 loss=2.18, trans_loss=3.47, nll_loss=1.673, w2v_ctc_loss=1.203, task_loss=0.793, contrastive_loss=0.392, total=4193.98, n_correct=2510.21, ppl=3.19, accuracy=59.853, wps=14066.9, ups=1.12, wpb=12521.7, bsz=500.7, num_updates=10800, lr=0.000136083, gnorm=0.503, clip=0, loss_scale=4, train_wall=88, gb_free=17.4, wall=9735
2023-08-22 17:44:31 | INFO | train_inner | epoch 008:    591 / 1474 loss=2.107, trans_loss=3.467, nll_loss=1.67, w2v_ctc_loss=1.221, task_loss=0.962, contrastive_loss=0.063, total=4063.58, n_correct=2430.27, ppl=3.18, accuracy=59.806, wps=13672.1, ups=1.13, wpb=12147.8, bsz=426.8, num_updates=10900, lr=0.000135457, gnorm=0.421, clip=0, loss_scale=4, train_wall=88, gb_free=12, wall=9824
2023-08-22 17:46:00 | INFO | train_inner | epoch 008:    691 / 1474 loss=2.102, trans_loss=3.463, nll_loss=1.662, w2v_ctc_loss=1.215, task_loss=0.898, contrastive_loss=0.073, total=4138.77, n_correct=2487.07, ppl=3.17, accuracy=60.092, wps=13907.9, ups=1.13, wpb=12354.5, bsz=450.4, num_updates=11000, lr=0.00013484, gnorm=0.472, clip=0, loss_scale=4, train_wall=88, gb_free=16, wall=9913
2023-08-22 17:47:28 | INFO | train_inner | epoch 008:    791 / 1474 loss=2.108, trans_loss=3.457, nll_loss=1.658, w2v_ctc_loss=1.201, task_loss=0.896, contrastive_loss=0.159, total=4122.32, n_correct=2480.03, ppl=3.15, accuracy=60.161, wps=13951.6, ups=1.13, wpb=12319.9, bsz=449, num_updates=11100, lr=0.000134231, gnorm=0.426, clip=0, loss_scale=4, train_wall=88, gb_free=17.1, wall=10001
2023-08-22 17:48:57 | INFO | train_inner | epoch 008:    891 / 1474 loss=2.104, trans_loss=3.461, nll_loss=1.661, w2v_ctc_loss=1.184, task_loss=0.833, contrastive_loss=0.166, total=4180.85, n_correct=2521.04, ppl=3.16, accuracy=60.3, wps=14093.9, ups=1.13, wpb=12485.3, bsz=477, num_updates=11200, lr=0.000133631, gnorm=0.434, clip=0, loss_scale=4, train_wall=88, gb_free=15.1, wall=10090
2023-08-22 17:50:24 | INFO | train_inner | epoch 008:    991 / 1474 loss=2.077, trans_loss=3.458, nll_loss=1.657, w2v_ctc_loss=1.187, task_loss=0.849, contrastive_loss=0.067, total=4145.35, n_correct=2506.92, ppl=3.15, accuracy=60.475, wps=14140.2, ups=1.14, wpb=12377.4, bsz=460.4, num_updates=11300, lr=0.000133038, gnorm=0.409, clip=0, loss_scale=4, train_wall=87, gb_free=16.1, wall=10178
2023-08-22 17:51:54 | INFO | train_inner | epoch 008:   1091 / 1474 loss=2.12, trans_loss=3.459, nll_loss=1.658, w2v_ctc_loss=1.183, task_loss=0.873, contrastive_loss=0.294, total=4191.42, n_correct=2527.52, ppl=3.16, accuracy=60.302, wps=13954.3, ups=1.12, wpb=12511.3, bsz=464.9, num_updates=11400, lr=0.000132453, gnorm=0.412, clip=0, loss_scale=4, train_wall=89, gb_free=17.3, wall=10267
2023-08-22 17:53:22 | INFO | train_inner | epoch 008:   1191 / 1474 loss=2.083, trans_loss=3.452, nll_loss=1.65, w2v_ctc_loss=1.19, task_loss=0.83, contrastive_loss=0.079, total=4187.13, n_correct=2531.7, ppl=3.14, accuracy=60.464, wps=14157.8, ups=1.13, wpb=12506.2, bsz=474, num_updates=11500, lr=0.000131876, gnorm=0.422, clip=0, loss_scale=4, train_wall=88, gb_free=12.6, wall=10356
2023-08-22 17:54:50 | INFO | train_inner | epoch 008:   1291 / 1474 loss=2.093, trans_loss=3.456, nll_loss=1.655, w2v_ctc_loss=1.198, task_loss=0.925, contrastive_loss=0.1, total=4055.06, n_correct=2442.98, ppl=3.15, accuracy=60.245, wps=13753.8, ups=1.14, wpb=12112.2, bsz=434.6, num_updates=11600, lr=0.000131306, gnorm=0.416, clip=0, loss_scale=8, train_wall=87, gb_free=16.1, wall=10444
2023-08-22 17:56:19 | INFO | train_inner | epoch 008:   1391 / 1474 loss=2.102, trans_loss=3.456, nll_loss=1.656, w2v_ctc_loss=1.187, task_loss=0.841, contrastive_loss=0.162, total=4166, n_correct=2521.56, ppl=3.15, accuracy=60.527, wps=14049.8, ups=1.13, wpb=12439.6, bsz=471.7, num_updates=11700, lr=0.000130744, gnorm=0.437, clip=0, loss_scale=8, train_wall=88, gb_free=16.4, wall=10532
2023-08-22 17:57:32 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 17:58:06 | INFO | dev_st | epoch 008 | valid on 'dev_st' subset | loss 4.077 | trans_loss 5.315 | nll_loss 2.62 | w2v_ctc_loss 1.465 | task_loss 4.532 | contrastive_loss 0.236 | total 4003.4 | n_correct 2561.8 | ppl 6.15 | accuracy 63.991 | uer 21.578 | wer 23.381 | raw_wer 23.381 | bleu 19.49 | wps 1513.5 | wpb 4003.4 | bsz 141.8 | num_updates 11783 | best_bleu 19.49
2023-08-22 17:58:06 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 8 @ 11783 updates
2023-08-22 17:58:06 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 17:58:14 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 17:58:20 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 8 @ 11783 updates, score 19.49) (writing took 13.198193280026317 seconds)
2023-08-22 17:58:20 | INFO | fairseq_cli.train | end of epoch 8 (average epoch stats below)
2023-08-22 17:58:20 | INFO | train | epoch 008 | loss 2.108 | trans_loss 3.463 | nll_loss 1.663 | w2v_ctc_loss 1.199 | task_loss 0.877 | contrastive_loss 0.146 | total 4138.65 | n_correct 2488.32 | ppl 3.17 | accuracy 60.124 | wps 13372.6 | ups 1.08 | wpb 12355.8 | bsz 458.5 | num_updates 11783 | lr 0.000130283 | gnorm 0.439 | clip 0 | loss_scale 8 | train_wall 1296 | gb_free 16.4 | wall 10654
2023-08-22 17:58:21 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 17:58:21 | INFO | fairseq.trainer | begin training epoch 9
2023-08-22 17:58:21 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 17:58:43 | INFO | train_inner | epoch 009:     17 / 1474 loss=2.098, trans_loss=3.451, nll_loss=1.647, w2v_ctc_loss=1.169, task_loss=0.863, contrastive_loss=0.257, total=4113.19, n_correct=2496.16, ppl=3.13, accuracy=60.687, wps=8516.5, ups=0.69, wpb=12275.6, bsz=463.4, num_updates=11800, lr=0.000130189, gnorm=0.453, clip=0, loss_scale=8, train_wall=88, gb_free=17.4, wall=10676
2023-08-22 18:00:11 | INFO | train_inner | epoch 009:    117 / 1474 loss=2.045, trans_loss=3.427, nll_loss=1.617, w2v_ctc_loss=1.148, task_loss=0.82, contrastive_loss=0.098, total=4192.68, n_correct=2574.39, ppl=3.07, accuracy=61.402, wps=14232.6, ups=1.14, wpb=12520.8, bsz=481.1, num_updates=11900, lr=0.000129641, gnorm=0.418, clip=0, loss_scale=8, train_wall=87, gb_free=15.5, wall=10764
2023-08-22 18:01:40 | INFO | train_inner | epoch 009:    217 / 1474 loss=2.036, trans_loss=3.43, nll_loss=1.62, w2v_ctc_loss=1.146, task_loss=0.951, contrastive_loss=0.058, total=4065.4, n_correct=2491.14, ppl=3.07, accuracy=61.277, wps=13635.1, ups=1.12, wpb=12138.7, bsz=429.9, num_updates=12000, lr=0.000129099, gnorm=0.413, clip=0, loss_scale=8, train_wall=88, gb_free=15.5, wall=10853
2023-08-22 18:01:40 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 18:02:13 | INFO | dev_st | epoch 009 | valid on 'dev_st' subset | loss 4.079 | trans_loss 5.332 | nll_loss 2.638 | w2v_ctc_loss 1.429 | task_loss 4.529 | contrastive_loss 0.239 | total 4003.4 | n_correct 2556 | ppl 6.23 | accuracy 63.846 | uer 21.323 | wer 23.228 | raw_wer 23.228 | bleu 19.57 | wps 1616.4 | wpb 4003.4 | bsz 141.8 | num_updates 12000 | best_bleu 19.57
2023-08-22 18:02:13 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 9 @ 12000 updates
2023-08-22 18:02:13 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_9_12000.pt
2023-08-22 18:02:15 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_9_12000.pt
2023-08-22 18:02:27 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_9_12000.pt (epoch 9 @ 12000 updates, score 19.57) (writing took 13.932309377007186 seconds)
2023-08-22 18:03:55 | INFO | train_inner | epoch 009:    317 / 1474 loss=2.03, trans_loss=3.418, nll_loss=1.607, w2v_ctc_loss=1.13, task_loss=0.818, contrastive_loss=0.103, total=4152.87, n_correct=2560.72, ppl=3.05, accuracy=61.661, wps=9157, ups=0.74, wpb=12408.5, bsz=479.2, num_updates=12100, lr=0.000128565, gnorm=0.411, clip=0, loss_scale=8, train_wall=87, gb_free=16.4, wall=10989
2023-08-22 18:05:25 | INFO | train_inner | epoch 009:    417 / 1474 loss=2.032, trans_loss=3.432, nll_loss=1.623, w2v_ctc_loss=1.138, task_loss=0.868, contrastive_loss=0.07, total=4191.41, n_correct=2567.08, ppl=3.08, accuracy=61.246, wps=14017.9, ups=1.12, wpb=12514.6, bsz=464.1, num_updates=12200, lr=0.000128037, gnorm=0.395, clip=0, loss_scale=8, train_wall=89, gb_free=13.6, wall=11078
2023-08-22 18:06:04 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 18:06:54 | INFO | train_inner | epoch 009:    518 / 1474 loss=2.063, trans_loss=3.432, nll_loss=1.622, w2v_ctc_loss=1.164, task_loss=0.913, contrastive_loss=0.122, total=4118.7, n_correct=2521.38, ppl=3.08, accuracy=61.218, wps=13773.4, ups=1.12, wpb=12292.2, bsz=440.2, num_updates=12300, lr=0.000127515, gnorm=0.411, clip=0, loss_scale=4, train_wall=89, gb_free=17.1, wall=11167
2023-08-22 18:08:23 | INFO | train_inner | epoch 009:    618 / 1474 loss=2.058, trans_loss=3.425, nll_loss=1.618, w2v_ctc_loss=1.144, task_loss=0.88, contrastive_loss=0.177, total=4141.76, n_correct=2540.62, ppl=3.07, accuracy=61.342, wps=13932.1, ups=1.13, wpb=12378.7, bsz=462.3, num_updates=12400, lr=0.000127, gnorm=0.474, clip=0, loss_scale=4, train_wall=88, gb_free=16.6, wall=11256
2023-08-22 18:09:51 | INFO | train_inner | epoch 009:    718 / 1474 loss=2.045, trans_loss=3.43, nll_loss=1.623, w2v_ctc_loss=1.159, task_loss=0.91, contrastive_loss=0.07, total=4075.02, n_correct=2493.32, ppl=3.08, accuracy=61.185, wps=13868.6, ups=1.14, wpb=12176, bsz=443.4, num_updates=12500, lr=0.000126491, gnorm=0.457, clip=0, loss_scale=4, train_wall=87, gb_free=17.2, wall=11344
2023-08-22 18:11:20 | INFO | train_inner | epoch 009:    818 / 1474 loss=2.099, trans_loss=3.423, nll_loss=1.615, w2v_ctc_loss=1.148, task_loss=0.797, contrastive_loss=0.315, total=4214.28, n_correct=2586.65, ppl=3.06, accuracy=61.378, wps=14113.6, ups=1.12, wpb=12593.1, bsz=499.2, num_updates=12600, lr=0.000125988, gnorm=0.442, clip=0, loss_scale=4, train_wall=89, gb_free=16.4, wall=11433
2023-08-22 18:12:50 | INFO | train_inner | epoch 009:    918 / 1474 loss=2.074, trans_loss=3.428, nll_loss=1.616, w2v_ctc_loss=1.143, task_loss=0.901, contrastive_loss=0.291, total=4157.54, n_correct=2554.19, ppl=3.07, accuracy=61.435, wps=13775, ups=1.11, wpb=12400.4, bsz=452, num_updates=12700, lr=0.000125491, gnorm=0.401, clip=0, loss_scale=4, train_wall=89, gb_free=15.8, wall=11523
2023-08-22 18:14:18 | INFO | train_inner | epoch 009:   1018 / 1474 loss=2.038, trans_loss=3.433, nll_loss=1.624, w2v_ctc_loss=1.147, task_loss=0.981, contrastive_loss=0.072, total=4093.77, n_correct=2508.92, ppl=3.08, accuracy=61.286, wps=13787.3, ups=1.13, wpb=12221, bsz=423.7, num_updates=12800, lr=0.000125, gnorm=0.41, clip=0, loss_scale=4, train_wall=88, gb_free=17, wall=11612
2023-08-22 18:15:47 | INFO | train_inner | epoch 009:   1118 / 1474 loss=2.034, trans_loss=3.429, nll_loss=1.616, w2v_ctc_loss=1.138, task_loss=0.835, contrastive_loss=0.09, total=4173.97, n_correct=2572.51, ppl=3.07, accuracy=61.632, wps=14097.5, ups=1.13, wpb=12442.6, bsz=471.4, num_updates=12900, lr=0.000124515, gnorm=0.404, clip=0, loss_scale=4, train_wall=88, gb_free=15.8, wall=11700
2023-08-22 18:17:16 | INFO | train_inner | epoch 009:   1218 / 1474 loss=2.038, trans_loss=3.426, nll_loss=1.616, w2v_ctc_loss=1.151, task_loss=0.92, contrastive_loss=0.075, total=4144.88, n_correct=2546.93, ppl=3.07, accuracy=61.448, wps=13853.8, ups=1.12, wpb=12376.1, bsz=450, num_updates=13000, lr=0.000124035, gnorm=0.407, clip=0, loss_scale=4, train_wall=89, gb_free=16, wall=11789
2023-08-22 18:18:44 | INFO | train_inner | epoch 009:   1318 / 1474 loss=2.064, trans_loss=3.419, nll_loss=1.606, w2v_ctc_loss=1.129, task_loss=0.799, contrastive_loss=0.266, total=4200.61, n_correct=2592.69, ppl=3.04, accuracy=61.722, wps=14241.3, ups=1.14, wpb=12534.4, bsz=490.7, num_updates=13100, lr=0.00012356, gnorm=0.406, clip=0, loss_scale=4, train_wall=87, gb_free=15.1, wall=11877
2023-08-22 18:20:11 | INFO | train_inner | epoch 009:   1418 / 1474 loss=2.035, trans_loss=3.433, nll_loss=1.624, w2v_ctc_loss=1.149, task_loss=0.942, contrastive_loss=0.057, total=4075.96, n_correct=2503.81, ppl=3.08, accuracy=61.429, wps=13916, ups=1.14, wpb=12161.1, bsz=430.6, num_updates=13200, lr=0.000123091, gnorm=0.452, clip=0, loss_scale=4, train_wall=87, gb_free=17.3, wall=11965
2023-08-22 18:21:01 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 18:21:34 | INFO | dev_st | epoch 009 | valid on 'dev_st' subset | loss 4.042 | trans_loss 5.284 | nll_loss 2.585 | w2v_ctc_loss 1.419 | task_loss 4.568 | contrastive_loss 0.23 | total 4003.4 | n_correct 2571.2 | ppl 6 | accuracy 64.225 | uer 20.882 | wer 22.74 | raw_wer 22.74 | bleu 20.29 | wps 1622.7 | wpb 4003.4 | bsz 141.8 | num_updates 13256 | best_bleu 20.29
2023-08-22 18:21:34 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 9 @ 13256 updates
2023-08-22 18:21:34 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 18:21:41 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 18:21:47 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 9 @ 13256 updates, score 20.29) (writing took 13.230425678077154 seconds)
2023-08-22 18:21:47 | INFO | fairseq_cli.train | end of epoch 9 (average epoch stats below)
2023-08-22 18:21:47 | INFO | train | epoch 009 | loss 2.05 | trans_loss 3.427 | nll_loss 1.617 | w2v_ctc_loss 1.146 | task_loss 0.877 | contrastive_loss 0.139 | total 4138.85 | n_correct 2542.1 | ppl 3.07 | accuracy 61.42 | wps 12935.8 | ups 1.05 | wpb 12356.4 | bsz 458.6 | num_updates 13256 | lr 0.000122831 | gnorm 0.427 | clip 0 | loss_scale 4 | train_wall 1296 | gb_free 11.1 | wall 12061
2023-08-22 18:21:48 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 18:21:48 | INFO | fairseq.trainer | begin training epoch 10
2023-08-22 18:21:48 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 18:22:33 | INFO | train_inner | epoch 010:     44 / 1474 loss=2.031, trans_loss=3.415, nll_loss=1.601, w2v_ctc_loss=1.121, task_loss=0.82, contrastive_loss=0.151, total=4112.83, n_correct=2551.99, ppl=3.03, accuracy=62.049, wps=8654.6, ups=0.71, wpb=12275.4, bsz=475.1, num_updates=13300, lr=0.000122628, gnorm=0.459, clip=0, loss_scale=4, train_wall=87, gb_free=15.8, wall=12107
2023-08-22 18:24:01 | INFO | train_inner | epoch 010:    144 / 1474 loss=1.981, trans_loss=3.397, nll_loss=1.579, w2v_ctc_loss=1.088, task_loss=0.846, contrastive_loss=0.07, total=4230.29, n_correct=2646.36, ppl=2.99, accuracy=62.557, wps=14327.9, ups=1.13, wpb=12634.2, bsz=472.7, num_updates=13400, lr=0.000122169, gnorm=0.407, clip=0, loss_scale=4, train_wall=87, gb_free=16.2, wall=12195
2023-08-22 18:25:30 | INFO | train_inner | epoch 010:    244 / 1474 loss=2.012, trans_loss=3.393, nll_loss=1.573, w2v_ctc_loss=1.099, task_loss=0.861, contrastive_loss=0.195, total=4131.59, n_correct=2585.5, ppl=2.97, accuracy=62.579, wps=14000, ups=1.14, wpb=12331.3, bsz=463.6, num_updates=13500, lr=0.000121716, gnorm=0.402, clip=0, loss_scale=4, train_wall=87, gb_free=9.5, wall=12283
2023-08-22 18:26:58 | INFO | train_inner | epoch 010:    344 / 1474 loss=1.991, trans_loss=3.393, nll_loss=1.577, w2v_ctc_loss=1.093, task_loss=0.882, contrastive_loss=0.111, total=4135.23, n_correct=2580.83, ppl=2.98, accuracy=62.411, wps=14000.9, ups=1.13, wpb=12360.3, bsz=454.8, num_updates=13600, lr=0.000121268, gnorm=0.407, clip=0, loss_scale=4, train_wall=88, gb_free=17, wall=12371
2023-08-22 18:28:28 | INFO | train_inner | epoch 010:    444 / 1474 loss=2.019, trans_loss=3.399, nll_loss=1.582, w2v_ctc_loss=1.082, task_loss=0.845, contrastive_loss=0.286, total=4197.95, n_correct=2617.3, ppl=2.99, accuracy=62.347, wps=13975.4, ups=1.12, wpb=12531.8, bsz=481.2, num_updates=13700, lr=0.000120824, gnorm=0.405, clip=0, loss_scale=4, train_wall=89, gb_free=15, wall=12461
2023-08-22 18:29:57 | INFO | train_inner | epoch 010:    544 / 1474 loss=2.002, trans_loss=3.409, nll_loss=1.591, w2v_ctc_loss=1.117, task_loss=0.955, contrastive_loss=0.061, total=4097.61, n_correct=2548.3, ppl=3.01, accuracy=62.19, wps=13667.4, ups=1.12, wpb=12219.2, bsz=434.6, num_updates=13800, lr=0.000120386, gnorm=0.41, clip=0, loss_scale=4, train_wall=89, gb_free=17.5, wall=12550
2023-08-22 18:31:26 | INFO | train_inner | epoch 010:    644 / 1474 loss=2.018, trans_loss=3.404, nll_loss=1.587, w2v_ctc_loss=1.103, task_loss=0.814, contrastive_loss=0.175, total=4187.04, n_correct=2609.61, ppl=3, accuracy=62.326, wps=14069.4, ups=1.13, wpb=12494.9, bsz=483.5, num_updates=13900, lr=0.000119952, gnorm=0.414, clip=0, loss_scale=4, train_wall=88, gb_free=16.1, wall=12639
2023-08-22 18:32:54 | INFO | train_inner | epoch 010:    744 / 1474 loss=2.004, trans_loss=3.402, nll_loss=1.585, w2v_ctc_loss=1.123, task_loss=0.892, contrastive_loss=0.059, total=4112.31, n_correct=2561.97, ppl=3, accuracy=62.3, wps=13985.1, ups=1.14, wpb=12277.4, bsz=448.4, num_updates=14000, lr=0.000119523, gnorm=0.412, clip=0, loss_scale=4, train_wall=87, gb_free=11.8, wall=12727
2023-08-22 18:32:54 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 18:33:26 | INFO | dev_st | epoch 010 | valid on 'dev_st' subset | loss 4.026 | trans_loss 5.268 | nll_loss 2.558 | w2v_ctc_loss 1.403 | task_loss 4.6 | contrastive_loss 0.235 | total 4003.4 | n_correct 2590.2 | ppl 5.89 | accuracy 64.7 | uer 20.598 | wer 22.467 | raw_wer 22.467 | bleu 20.28 | wps 1634.1 | wpb 4003.4 | bsz 141.8 | num_updates 14000 | best_bleu 20.29
2023-08-22 18:33:26 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 10 @ 14000 updates
2023-08-22 18:33:26 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_10_14000.pt
2023-08-22 18:33:29 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_10_14000.pt
2023-08-22 18:33:36 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_10_14000.pt (epoch 10 @ 14000 updates, score 20.28) (writing took 9.962950854911469 seconds)
2023-08-22 18:35:05 | INFO | train_inner | epoch 010:    844 / 1474 loss=1.986, trans_loss=3.401, nll_loss=1.585, w2v_ctc_loss=1.098, task_loss=0.869, contrastive_loss=0.063, total=4135.95, n_correct=2576.85, ppl=3, accuracy=62.304, wps=9385.2, ups=0.76, wpb=12346.8, bsz=456.9, num_updates=14100, lr=0.000119098, gnorm=0.433, clip=0, loss_scale=4, train_wall=88, gb_free=15.5, wall=12859
2023-08-22 18:36:33 | INFO | train_inner | epoch 010:    944 / 1474 loss=1.996, trans_loss=3.397, nll_loss=1.577, w2v_ctc_loss=1.098, task_loss=0.836, contrastive_loss=0.101, total=4169.57, n_correct=2607.9, ppl=2.98, accuracy=62.546, wps=14111.5, ups=1.13, wpb=12439, bsz=473.3, num_updates=14200, lr=0.000118678, gnorm=0.404, clip=0, loss_scale=4, train_wall=88, gb_free=13.1, wall=12947
2023-08-22 18:38:02 | INFO | train_inner | epoch 010:   1044 / 1474 loss=1.99, trans_loss=3.398, nll_loss=1.581, w2v_ctc_loss=1.102, task_loss=0.963, contrastive_loss=0.072, total=4058.1, n_correct=2530.38, ppl=2.99, accuracy=62.354, wps=13619.9, ups=1.12, wpb=12115.2, bsz=430.4, num_updates=14300, lr=0.000118262, gnorm=0.404, clip=0, loss_scale=8, train_wall=88, gb_free=15.6, wall=13036
2023-08-22 18:39:30 | INFO | train_inner | epoch 010:   1144 / 1474 loss=2.003, trans_loss=3.406, nll_loss=1.591, w2v_ctc_loss=1.121, task_loss=0.988, contrastive_loss=0.059, total=4034.12, n_correct=2504.14, ppl=3.01, accuracy=62.074, wps=13708.4, ups=1.14, wpb=12044.8, bsz=418.2, num_updates=14400, lr=0.000117851, gnorm=0.427, clip=0, loss_scale=8, train_wall=87, gb_free=15.2, wall=13124
2023-08-22 18:40:58 | INFO | train_inner | epoch 010:   1244 / 1474 loss=1.99, trans_loss=3.391, nll_loss=1.576, w2v_ctc_loss=1.111, task_loss=0.896, contrastive_loss=0.056, total=4107.11, n_correct=2562.88, ppl=2.98, accuracy=62.401, wps=13944.8, ups=1.14, wpb=12283.5, bsz=446.4, num_updates=14500, lr=0.000117444, gnorm=0.42, clip=0, loss_scale=8, train_wall=87, gb_free=14.7, wall=13212
2023-08-22 18:42:27 | INFO | train_inner | epoch 010:   1344 / 1474 loss=1.992, trans_loss=3.399, nll_loss=1.583, w2v_ctc_loss=1.107, task_loss=0.88, contrastive_loss=0.068, total=4143.63, n_correct=2588.66, ppl=3, accuracy=62.473, wps=13979.4, ups=1.13, wpb=12373.1, bsz=457, num_updates=14600, lr=0.000117041, gnorm=0.432, clip=0, loss_scale=8, train_wall=88, gb_free=16.2, wall=13300
2023-08-22 18:43:56 | INFO | train_inner | epoch 010:   1444 / 1474 loss=2.045, trans_loss=3.407, nll_loss=1.591, w2v_ctc_loss=1.086, task_loss=0.831, contrastive_loss=0.314, total=4183.87, n_correct=2606.29, ppl=3.01, accuracy=62.294, wps=13996.7, ups=1.12, wpb=12480.2, bsz=480.8, num_updates=14700, lr=0.000116642, gnorm=0.427, clip=0, loss_scale=8, train_wall=88, gb_free=12.9, wall=13389
2023-08-22 18:44:22 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 18:44:55 | INFO | dev_st | epoch 010 | valid on 'dev_st' subset | loss 4.008 | trans_loss 5.253 | nll_loss 2.541 | w2v_ctc_loss 1.374 | task_loss 4.582 | contrastive_loss 0.242 | total 4003.4 | n_correct 2598.2 | ppl 5.82 | accuracy 64.9 | uer 19.937 | wer 21.815 | raw_wer 21.815 | bleu 20.5 | wps 1601 | wpb 4003.4 | bsz 141.8 | num_updates 14730 | best_bleu 20.5
2023-08-22 18:44:55 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 10 @ 14730 updates
2023-08-22 18:44:55 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 18:45:02 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 18:45:08 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 10 @ 14730 updates, score 20.5) (writing took 12.924264829023741 seconds)
2023-08-22 18:45:09 | INFO | fairseq_cli.train | end of epoch 10 (average epoch stats below)
2023-08-22 18:45:09 | INFO | train | epoch 010 | loss 2.003 | trans_loss 3.4 | nll_loss 1.583 | w2v_ctc_loss 1.101 | task_loss 0.878 | contrastive_loss 0.132 | total 4138.65 | n_correct 2581.55 | ppl 2.99 | accuracy 62.377 | wps 12995.8 | ups 1.05 | wpb 12355.8 | bsz 458.5 | num_updates 14730 | lr 0.000116524 | gnorm 0.415 | clip 0 | loss_scale 8 | train_wall 1294 | gb_free 16.9 | wall 13462
2023-08-22 18:45:09 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 18:45:09 | INFO | fairseq.trainer | begin training epoch 11
2023-08-22 18:45:09 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 18:46:17 | INFO | train_inner | epoch 011:     70 / 1474 loss=1.972, trans_loss=3.377, nll_loss=1.553, w2v_ctc_loss=1.071, task_loss=0.824, contrastive_loss=0.141, total=4162.14, n_correct=2628.89, ppl=2.93, accuracy=63.162, wps=8784.1, ups=0.71, wpb=12425.4, bsz=474.3, num_updates=14800, lr=0.000116248, gnorm=0.404, clip=0, loss_scale=8, train_wall=87, gb_free=16.1, wall=13531
2023-08-22 18:47:46 | INFO | train_inner | epoch 011:    170 / 1474 loss=1.96, trans_loss=3.378, nll_loss=1.557, w2v_ctc_loss=1.074, task_loss=0.899, contrastive_loss=0.065, total=4103.74, n_correct=2585.54, ppl=2.94, accuracy=63.004, wps=13834.4, ups=1.13, wpb=12261.3, bsz=450.5, num_updates=14900, lr=0.000115857, gnorm=0.457, clip=0, loss_scale=8, train_wall=88, gb_free=16.4, wall=13619
2023-08-22 18:49:14 | INFO | train_inner | epoch 011:    270 / 1474 loss=1.95, trans_loss=3.377, nll_loss=1.554, w2v_ctc_loss=1.067, task_loss=0.91, contrastive_loss=0.053, total=4114.56, n_correct=2593.64, ppl=2.94, accuracy=63.036, wps=13980.3, ups=1.14, wpb=12288.3, bsz=443.1, num_updates=15000, lr=0.00011547, gnorm=0.426, clip=0, loss_scale=8, train_wall=87, gb_free=15.2, wall=13707
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:0')
2023-08-22 18:50:16 | INFO | train_inner | epoch 011:    370 / 1474 loss=2.06, trans_loss=5.02, nll_loss=2.309, w2v_ctc_loss=0.794, task_loss=1.346, contrastive_loss=0.046, total=4094.93, n_correct=2584.11, ppl=4.95, accuracy=63.105, wps=13233.8, ups=1.61, wpb=8223.5, bsz=297, num_updates=15100, lr=0.000115087, gnorm=0.527, clip=0, loss_scale=8, train_wall=62, gb_free=11.6, wall=13769
2023-08-22 18:51:19 | INFO | train_inner | epoch 011:    470 / 1474 loss=2.085, trans_loss=5.055, nll_loss=2.337, w2v_ctc_loss=0.799, task_loss=1.37, contrastive_loss=0.165, total=4113.98, n_correct=2579.91, ppl=5.05, accuracy=62.711, wps=13054.8, ups=1.59, wpb=8228, bsz=302.3, num_updates=15200, lr=0.000114708, gnorm=0.549, clip=0, loss_scale=8, train_wall=62, gb_free=9.5, wall=13832
2023-08-22 18:52:22 | INFO | train_inner | epoch 011:    570 / 1474 loss=2.085, trans_loss=5.051, nll_loss=2.332, w2v_ctc_loss=0.809, task_loss=1.408, contrastive_loss=0.161, total=4074.83, n_correct=2556.01, ppl=5.04, accuracy=62.727, wps=12868.4, ups=1.58, wpb=8149.7, bsz=293.3, num_updates=15300, lr=0.000114332, gnorm=0.564, clip=0, loss_scale=8, train_wall=63, gb_free=14.8, wall=13896
2023-08-22 18:53:25 | INFO | train_inner | epoch 011:    670 / 1474 loss=2.087, trans_loss=5.044, nll_loss=2.323, w2v_ctc_loss=0.806, task_loss=1.281, contrastive_loss=0.221, total=4161.4, n_correct=2616.09, ppl=5, accuracy=62.866, wps=13273.6, ups=1.59, wpb=8322.8, bsz=311.9, num_updates=15400, lr=0.000113961, gnorm=0.568, clip=0, loss_scale=8, train_wall=62, gb_free=16.2, wall=13958
2023-08-22 18:54:28 | INFO | train_inner | epoch 011:    770 / 1474 loss=2.072, trans_loss=5.052, nll_loss=2.333, w2v_ctc_loss=0.808, task_loss=1.353, contrastive_loss=0.043, total=4153.23, n_correct=2612.3, ppl=5.04, accuracy=62.898, wps=13194, ups=1.59, wpb=8306.5, bsz=301.5, num_updates=15500, lr=0.000113592, gnorm=0.518, clip=0, loss_scale=8, train_wall=62, gb_free=14.6, wall=14021
2023-08-22 18:55:30 | INFO | train_inner | epoch 011:    870 / 1474 loss=2.073, trans_loss=5.051, nll_loss=2.333, w2v_ctc_loss=0.81, task_loss=1.377, contrastive_loss=0.037, total=4122.58, n_correct=2591.47, ppl=5.04, accuracy=62.86, wps=13268.1, ups=1.61, wpb=8245.2, bsz=293.8, num_updates=15600, lr=0.000113228, gnorm=0.546, clip=0, loss_scale=8, train_wall=61, gb_free=15.3, wall=14084
2023-08-22 18:56:32 | INFO | train_inner | epoch 011:    970 / 1474 loss=2.071, trans_loss=5.049, nll_loss=2.33, w2v_ctc_loss=0.811, task_loss=1.326, contrastive_loss=0.049, total=4150.11, n_correct=2608.89, ppl=5.03, accuracy=62.863, wps=13322.1, ups=1.61, wpb=8300.2, bsz=304.8, num_updates=15700, lr=0.000112867, gnorm=0.549, clip=0, loss_scale=8, train_wall=62, gb_free=15.2, wall=14146
2023-08-22 18:57:35 | INFO | train_inner | epoch 011:   1070 / 1474 loss=2.068, trans_loss=5.043, nll_loss=2.323, w2v_ctc_loss=0.807, task_loss=1.291, contrastive_loss=0.062, total=4146.14, n_correct=2614.58, ppl=5, accuracy=63.061, wps=13290.5, ups=1.6, wpb=8292.3, bsz=309.8, num_updates=15800, lr=0.000112509, gnorm=0.565, clip=0, loss_scale=8, train_wall=62, gb_free=16.3, wall=14208
2023-08-22 18:58:38 | INFO | train_inner | epoch 011:   1170 / 1474 loss=2.068, trans_loss=5.048, nll_loss=2.328, w2v_ctc_loss=0.803, task_loss=1.3, contrastive_loss=0.061, total=4182.57, n_correct=2633.58, ppl=5.02, accuracy=62.966, wps=13277.3, ups=1.59, wpb=8365.1, bsz=311.4, num_updates=15900, lr=0.000112154, gnorm=0.521, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=14271
2023-08-22 18:59:40 | INFO | train_inner | epoch 011:   1270 / 1474 loss=2.079, trans_loss=5.046, nll_loss=2.327, w2v_ctc_loss=0.813, task_loss=1.299, contrastive_loss=0.109, total=4157.11, n_correct=2615.3, ppl=5.02, accuracy=62.911, wps=13277.2, ups=1.6, wpb=8314.2, bsz=308.6, num_updates=16000, lr=0.000111803, gnorm=0.565, clip=0, loss_scale=8, train_wall=62, gb_free=16.3, wall=14334
2023-08-22 18:59:40 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:6')
2023-08-22 19:00:13 | INFO | dev_st | epoch 011 | valid on 'dev_st' subset | loss 3.997 | trans_loss 5.246 | nll_loss 2.536 | w2v_ctc_loss 1.359 | task_loss 4.602 | contrastive_loss 0.228 | total 4003.4 | n_correct 2608.3 | ppl 5.8 | accuracy 65.152 | uer 19.531 | wer 21.211 | raw_wer 21.211 | bleu 20.45 | wps 1647.5 | wpb 4003.4 | bsz 141.8 | num_updates 16000 | best_bleu 20.5
2023-08-22 19:00:13 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 11 @ 16000 updates
2023-08-22 19:00:13 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_11_16000.pt
2023-08-22 19:00:16 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_11_16000.pt
2023-08-22 19:00:22 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_11_16000.pt (epoch 11 @ 16000 updates, score 20.45) (writing took 8.866287382901646 seconds)
2023-08-22 19:01:26 | INFO | train_inner | epoch 011:   1370 / 1474 loss=2.081, trans_loss=5.04, nll_loss=2.319, w2v_ctc_loss=0.791, task_loss=1.212, contrastive_loss=0.28, total=4192.31, n_correct=2646.24, ppl=4.99, accuracy=63.121, wps=7976.9, ups=0.95, wpb=8384.6, bsz=328.3, num_updates=16100, lr=0.000111456, gnorm=0.51, clip=0, loss_scale=8, train_wall=62, gb_free=16.6, wall=14439
2023-08-22 19:02:28 | INFO | train_inner | epoch 011:   1470 / 1474 loss=2.061, trans_loss=5.041, nll_loss=2.321, w2v_ctc_loss=0.799, task_loss=1.266, contrastive_loss=0.053, total=4162.97, n_correct=2630.4, ppl=5, accuracy=63.186, wps=13283.5, ups=1.6, wpb=8325.9, bsz=313, num_updates=16200, lr=0.000111111, gnorm=0.514, clip=0, loss_scale=8, train_wall=62, gb_free=14.4, wall=14502
2023-08-22 19:02:31 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 19:03:05 | INFO | dev_st | epoch 011 | valid on 'dev_st' subset | loss 3.992 | trans_loss 5.247 | nll_loss 2.532 | w2v_ctc_loss 1.338 | task_loss 4.588 | contrastive_loss 0.229 | total 4003.4 | n_correct 2605.8 | ppl 5.78 | accuracy 65.09 | uer 20.136 | wer 22.016 | raw_wer 22.016 | bleu 20.75 | wps 1533.6 | wpb 4003.4 | bsz 141.8 | num_updates 16204 | best_bleu 20.75
2023-08-22 19:03:05 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 11 @ 16204 updates
2023-08-22 19:03:05 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 19:03:12 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 19:03:19 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 11 @ 16204 updates, score 20.75) (writing took 13.752937045996077 seconds)
2023-08-22 19:03:19 | INFO | fairseq_cli.train | end of epoch 11 (average epoch stats below)
2023-08-22 19:03:19 | INFO | train | epoch 011 | loss 2.044 | trans_loss 4.627 | nll_loss 2.133 | w2v_ctc_loss 0.87 | task_loss 1.207 | contrastive_loss 0.096 | total 4138.65 | n_correct 2606.07 | ppl 4.39 | accuracy 62.969 | wps 12204.9 | ups 1.35 | wpb 9025.9 | bsz 333.5 | num_updates 16204 | lr 0.000111097 | gnorm 0.521 | clip 0 | loss_scale 8 | train_wall 983 | gb_free 16.9 | wall 14552
2023-08-22 19:03:19 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 19:03:19 | INFO | fairseq.trainer | begin training epoch 12
2023-08-22 19:03:19 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 19:04:26 | INFO | train_inner | epoch 012:     96 / 1474 loss=2.043, trans_loss=5.001, nll_loss=2.268, w2v_ctc_loss=0.782, task_loss=1.259, contrastive_loss=0.087, total=4145.21, n_correct=2650.64, ppl=4.82, accuracy=63.945, wps=7040.3, ups=0.85, wpb=8290.4, bsz=313.9, num_updates=16300, lr=0.00011077, gnorm=0.504, clip=0, loss_scale=8, train_wall=62, gb_free=16.6, wall=14619
2023-08-22 19:05:29 | INFO | train_inner | epoch 012:    196 / 1474 loss=2.046, trans_loss=5.009, nll_loss=2.277, w2v_ctc_loss=0.788, task_loss=1.352, contrastive_loss=0.042, total=4124.1, n_correct=2626.07, ppl=4.85, accuracy=63.676, wps=13160.4, ups=1.6, wpb=8248.2, bsz=296.1, num_updates=16400, lr=0.000110432, gnorm=0.527, clip=0, loss_scale=16, train_wall=62, gb_free=15.1, wall=14682
2023-08-22 19:06:31 | INFO | train_inner | epoch 012:    296 / 1474 loss=2.042, trans_loss=5.01, nll_loss=2.28, w2v_ctc_loss=0.774, task_loss=1.229, contrastive_loss=0.068, total=4208.07, n_correct=2684.67, ppl=4.86, accuracy=63.798, wps=13500.4, ups=1.6, wpb=8416.1, bsz=321.7, num_updates=16500, lr=0.000110096, gnorm=0.515, clip=0, loss_scale=16, train_wall=62, gb_free=11.9, wall=14745
2023-08-22 19:07:33 | INFO | train_inner | epoch 012:    396 / 1474 loss=2.051, trans_loss=5.016, nll_loss=2.287, w2v_ctc_loss=0.792, task_loss=1.3, contrastive_loss=0.053, total=4144.42, n_correct=2635.91, ppl=4.88, accuracy=63.601, wps=13303.8, ups=1.61, wpb=8288.8, bsz=305.3, num_updates=16600, lr=0.000109764, gnorm=0.562, clip=0, loss_scale=16, train_wall=62, gb_free=16, wall=14807
2023-08-22 19:08:36 | INFO | train_inner | epoch 012:    496 / 1474 loss=2.057, trans_loss=5.026, nll_loss=2.301, w2v_ctc_loss=0.795, task_loss=1.339, contrastive_loss=0.06, total=4095.26, n_correct=2604.22, ppl=4.93, accuracy=63.591, wps=13143.2, ups=1.6, wpb=8190.5, bsz=299.8, num_updates=16700, lr=0.000109435, gnorm=0.513, clip=0, loss_scale=16, train_wall=62, gb_free=17.3, wall=14869
2023-08-22 19:09:39 | INFO | train_inner | epoch 012:    596 / 1474 loss=2.056, trans_loss=5.015, nll_loss=2.286, w2v_ctc_loss=0.791, task_loss=1.243, contrastive_loss=0.124, total=4204.6, n_correct=2672.29, ppl=4.88, accuracy=63.556, wps=13281, ups=1.58, wpb=8409.2, bsz=319.2, num_updates=16800, lr=0.000109109, gnorm=0.527, clip=0, loss_scale=16, train_wall=63, gb_free=16.1, wall=14932
2023-08-22 19:10:42 | INFO | train_inner | epoch 012:    696 / 1474 loss=2.054, trans_loss=5.01, nll_loss=2.281, w2v_ctc_loss=0.775, task_loss=1.216, contrastive_loss=0.214, total=4197.19, n_correct=2677.74, ppl=4.86, accuracy=63.798, wps=13405.4, ups=1.6, wpb=8394.4, bsz=323.2, num_updates=16900, lr=0.000108786, gnorm=0.522, clip=0, loss_scale=16, train_wall=62, gb_free=16.2, wall=14995
2023-08-22 19:11:44 | INFO | train_inner | epoch 012:    796 / 1474 loss=2.049, trans_loss=5.01, nll_loss=2.279, w2v_ctc_loss=0.796, task_loss=1.336, contrastive_loss=0.049, total=4094.06, n_correct=2610.98, ppl=4.85, accuracy=63.775, wps=13119.3, ups=1.6, wpb=8188.1, bsz=298.2, num_updates=17000, lr=0.000108465, gnorm=0.529, clip=0, loss_scale=16, train_wall=62, gb_free=14.4, wall=15057
2023-08-22 19:12:47 | INFO | train_inner | epoch 012:    896 / 1474 loss=2.054, trans_loss=5.014, nll_loss=2.285, w2v_ctc_loss=0.79, task_loss=1.353, contrastive_loss=0.095, total=4163.5, n_correct=2651.13, ppl=4.88, accuracy=63.676, wps=13268.9, ups=1.59, wpb=8327, bsz=305.1, num_updates=17100, lr=0.000108148, gnorm=0.53, clip=0, loss_scale=16, train_wall=62, gb_free=12.3, wall=15120
2023-08-22 19:13:49 | INFO | train_inner | epoch 012:    996 / 1474 loss=2.055, trans_loss=5.017, nll_loss=2.288, w2v_ctc_loss=0.792, task_loss=1.334, contrastive_loss=0.109, total=4124.99, n_correct=2625.11, ppl=4.89, accuracy=63.639, wps=13240.1, ups=1.6, wpb=8250, bsz=302.7, num_updates=17200, lr=0.000107833, gnorm=0.523, clip=0, loss_scale=16, train_wall=62, gb_free=10.6, wall=15183
2023-08-22 19:14:18 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-22 19:14:52 | INFO | train_inner | epoch 012:   1097 / 1474 loss=2.068, trans_loss=5.022, nll_loss=2.296, w2v_ctc_loss=0.798, task_loss=1.396, contrastive_loss=0.157, total=4045.71, n_correct=2569.61, ppl=4.91, accuracy=63.514, wps=12783.4, ups=1.58, wpb=8091.4, bsz=288.4, num_updates=17300, lr=0.000107521, gnorm=0.543, clip=0, loss_scale=8, train_wall=63, gb_free=11.6, wall=15246
2023-08-22 19:15:43 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 19:15:56 | INFO | train_inner | epoch 012:   1198 / 1474 loss=2.066, trans_loss=5.037, nll_loss=2.315, w2v_ctc_loss=0.814, task_loss=1.298, contrastive_loss=0.062, total=4182.63, n_correct=2645.83, ppl=4.98, accuracy=63.258, wps=13140.8, ups=1.57, wpb=8365.3, bsz=314, num_updates=17400, lr=0.000107211, gnorm=0.541, clip=0, loss_scale=4, train_wall=63, gb_free=13.2, wall=15310
2023-08-22 19:16:59 | INFO | train_inner | epoch 012:   1298 / 1474 loss=2.059, trans_loss=5.021, nll_loss=2.295, w2v_ctc_loss=0.809, task_loss=1.476, contrastive_loss=0.038, total=4070.11, n_correct=2582.42, ppl=4.91, accuracy=63.448, wps=12973.2, ups=1.59, wpb=8140.2, bsz=285.4, num_updates=17500, lr=0.000106904, gnorm=0.603, clip=0, loss_scale=4, train_wall=62, gb_free=13.9, wall=15372
2023-08-22 19:18:01 | INFO | train_inner | epoch 012:   1398 / 1474 loss=2.061, trans_loss=5.028, nll_loss=2.304, w2v_ctc_loss=0.789, task_loss=1.329, contrastive_loss=0.143, total=4135.31, n_correct=2622.51, ppl=4.94, accuracy=63.417, wps=13221.1, ups=1.6, wpb=8270.6, bsz=305.4, num_updates=17600, lr=0.0001066, gnorm=0.555, clip=0, loss_scale=4, train_wall=62, gb_free=15.7, wall=15435
2023-08-22 19:18:49 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 19:19:22 | INFO | dev_st | epoch 012 | valid on 'dev_st' subset | loss 3.994 | trans_loss 5.235 | nll_loss 2.518 | w2v_ctc_loss 1.373 | task_loss 4.649 | contrastive_loss 0.234 | total 4003.4 | n_correct 2613.6 | ppl 5.73 | accuracy 65.285 | uer 19.975 | wer 21.931 | raw_wer 21.931 | bleu 20.72 | wps 1559.2 | wpb 4003.4 | bsz 141.8 | num_updates 17676 | best_bleu 20.75
2023-08-22 19:19:22 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 12 @ 17676 updates
2023-08-22 19:19:22 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_20.7207.pt
2023-08-22 19:19:25 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_20.7207.pt
2023-08-22 19:19:30 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_20.7207.pt (epoch 12 @ 17676 updates, score 20.72) (writing took 7.979471703991294 seconds)
2023-08-22 19:19:31 | INFO | fairseq_cli.train | end of epoch 12 (average epoch stats below)
2023-08-22 19:19:31 | INFO | train | epoch 012 | loss 2.054 | trans_loss 5.017 | nll_loss 2.289 | w2v_ctc_loss 0.793 | task_loss 1.318 | contrastive_loss 0.091 | total 4137.37 | n_correct 2631.85 | ppl 4.89 | accuracy 63.612 | wps 12527.9 | ups 1.51 | wpb 8274.7 | bsz 305.2 | num_updates 17676 | lr 0.000106371 | gnorm 0.538 | clip 0 | loss_scale 4 | train_wall 914 | gb_free 12.3 | wall 15524
2023-08-22 19:19:31 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 19:19:31 | INFO | fairseq.trainer | begin training epoch 13
2023-08-22 19:19:31 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 19:19:53 | INFO | train_inner | epoch 013:     24 / 1474 loss=2.056, trans_loss=5.023, nll_loss=2.296, w2v_ctc_loss=0.807, task_loss=1.352, contrastive_loss=0.046, total=4097.19, n_correct=2603.33, ppl=4.91, accuracy=63.539, wps=7312.1, ups=0.89, wpb=8194.4, bsz=297.7, num_updates=17700, lr=0.000106299, gnorm=0.58, clip=0, loss_scale=4, train_wall=62, gb_free=15.7, wall=15547
2023-08-22 19:20:56 | INFO | train_inner | epoch 013:    124 / 1474 loss=2.036, trans_loss=4.992, nll_loss=2.257, w2v_ctc_loss=0.779, task_loss=1.313, contrastive_loss=0.058, total=4172.67, n_correct=2673.76, ppl=4.78, accuracy=64.078, wps=13347.4, ups=1.6, wpb=8345.3, bsz=303.7, num_updates=17800, lr=0.000106, gnorm=0.52, clip=0, loss_scale=4, train_wall=62, gb_free=15.7, wall=15609
2023-08-22 19:22:00 | INFO | train_inner | epoch 013:    224 / 1474 loss=2.054, trans_loss=4.998, nll_loss=2.265, w2v_ctc_loss=0.771, task_loss=1.236, contrastive_loss=0.272, total=4191.23, n_correct=2685.69, ppl=4.81, accuracy=64.079, wps=13173, ups=1.57, wpb=8382.5, bsz=326.3, num_updates=17900, lr=0.000105703, gnorm=0.514, clip=0, loss_scale=4, train_wall=63, gb_free=16.6, wall=15673
2023-08-22 19:23:02 | INFO | train_inner | epoch 013:    324 / 1474 loss=2.032, trans_loss=4.986, nll_loss=2.249, w2v_ctc_loss=0.776, task_loss=1.377, contrastive_loss=0.043, total=4102.25, n_correct=2637.64, ppl=4.75, accuracy=64.297, wps=13063.6, ups=1.59, wpb=8204.5, bsz=292.6, num_updates=18000, lr=0.000105409, gnorm=0.544, clip=0, loss_scale=4, train_wall=62, gb_free=15.9, wall=15736
2023-08-22 19:23:02 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 19:23:36 | INFO | dev_st | epoch 013 | valid on 'dev_st' subset | loss 3.992 | trans_loss 5.232 | nll_loss 2.515 | w2v_ctc_loss 1.366 | task_loss 4.605 | contrastive_loss 0.241 | total 4003.4 | n_correct 2616.2 | ppl 5.72 | accuracy 65.349 | uer 20.293 | wer 22.251 | raw_wer 22.251 | bleu 20.95 | wps 1547 | wpb 4003.4 | bsz 141.8 | num_updates 18000 | best_bleu 20.95
2023-08-22 19:23:36 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 13 @ 18000 updates
2023-08-22 19:23:36 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_13_18000.pt
2023-08-22 19:23:39 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_13_18000.pt
2023-08-22 19:23:52 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_13_18000.pt (epoch 13 @ 18000 updates, score 20.95) (writing took 15.502160247066058 seconds)
2023-08-22 19:24:55 | INFO | train_inner | epoch 013:    424 / 1474 loss=2.035, trans_loss=4.99, nll_loss=2.255, w2v_ctc_loss=0.778, task_loss=1.215, contrastive_loss=0.089, total=4205.83, n_correct=2704.87, ppl=4.77, accuracy=64.312, wps=7500.5, ups=0.89, wpb=8411.7, bsz=324.4, num_updates=18100, lr=0.000105118, gnorm=0.508, clip=0, loss_scale=4, train_wall=61, gb_free=16, wall=15848
2023-08-22 19:25:57 | INFO | train_inner | epoch 013:    524 / 1474 loss=2.042, trans_loss=4.997, nll_loss=2.262, w2v_ctc_loss=0.779, task_loss=1.274, contrastive_loss=0.12, total=4186.08, n_correct=2679.01, ppl=4.8, accuracy=63.998, wps=13319.7, ups=1.59, wpb=8372.2, bsz=317, num_updates=18200, lr=0.000104828, gnorm=0.528, clip=0, loss_scale=4, train_wall=62, gb_free=16.7, wall=15911
2023-08-22 19:27:00 | INFO | train_inner | epoch 013:    624 / 1474 loss=2.031, trans_loss=4.99, nll_loss=2.254, w2v_ctc_loss=0.781, task_loss=1.305, contrastive_loss=0.039, total=4152.83, n_correct=2667.9, ppl=4.77, accuracy=64.243, wps=13306.7, ups=1.6, wpb=8305.7, bsz=304.5, num_updates=18300, lr=0.000104542, gnorm=0.516, clip=0, loss_scale=4, train_wall=62, gb_free=15.6, wall=15973
2023-08-22 19:28:03 | INFO | train_inner | epoch 013:    724 / 1474 loss=2.043, trans_loss=4.998, nll_loss=2.264, w2v_ctc_loss=0.792, task_loss=1.429, contrastive_loss=0.044, total=4109.56, n_correct=2631.12, ppl=4.8, accuracy=64.024, wps=12966.6, ups=1.58, wpb=8219.1, bsz=289.8, num_updates=18400, lr=0.000104257, gnorm=0.559, clip=0, loss_scale=4, train_wall=63, gb_free=14.5, wall=16037
2023-08-22 19:29:07 | INFO | train_inner | epoch 013:    824 / 1474 loss=2.047, trans_loss=5.001, nll_loss=2.269, w2v_ctc_loss=0.791, task_loss=1.355, contrastive_loss=0.081, total=4114.63, n_correct=2627.73, ppl=4.82, accuracy=63.863, wps=12993.2, ups=1.58, wpb=8229.3, bsz=302.5, num_updates=18500, lr=0.000103975, gnorm=0.544, clip=0, loss_scale=4, train_wall=63, gb_free=16.6, wall=16100
2023-08-22 19:30:09 | INFO | train_inner | epoch 013:    924 / 1474 loss=2.035, trans_loss=4.996, nll_loss=2.262, w2v_ctc_loss=0.777, task_loss=1.334, contrastive_loss=0.048, total=4102.25, n_correct=2630.62, ppl=4.8, accuracy=64.126, wps=13238.3, ups=1.61, wpb=8204.5, bsz=297.5, num_updates=18600, lr=0.000103695, gnorm=0.526, clip=0, loss_scale=4, train_wall=61, gb_free=15.4, wall=16162
2023-08-22 19:31:11 | INFO | train_inner | epoch 013:   1024 / 1474 loss=2.047, trans_loss=5, nll_loss=2.267, w2v_ctc_loss=0.789, task_loss=1.374, contrastive_loss=0.099, total=4097.02, n_correct=2613.53, ppl=4.81, accuracy=63.791, wps=13220.7, ups=1.61, wpb=8194, bsz=297.1, num_updates=18700, lr=0.000103418, gnorm=0.518, clip=0, loss_scale=4, train_wall=61, gb_free=16.4, wall=16224
2023-08-22 19:32:13 | INFO | train_inner | epoch 013:   1124 / 1474 loss=2.033, trans_loss=4.986, nll_loss=2.249, w2v_ctc_loss=0.776, task_loss=1.327, contrastive_loss=0.082, total=4082.89, n_correct=2626.55, ppl=4.75, accuracy=64.331, wps=13059.2, ups=1.6, wpb=8165.8, bsz=300.3, num_updates=18800, lr=0.000103142, gnorm=0.521, clip=0, loss_scale=4, train_wall=62, gb_free=15, wall=16287
2023-08-22 19:33:16 | INFO | train_inner | epoch 013:   1224 / 1474 loss=2.039, trans_loss=4.998, nll_loss=2.265, w2v_ctc_loss=0.788, task_loss=1.391, contrastive_loss=0.04, total=4122.93, n_correct=2641.2, ppl=4.81, accuracy=64.061, wps=13162.9, ups=1.6, wpb=8245.9, bsz=296.7, num_updates=18900, lr=0.000102869, gnorm=0.574, clip=0, loss_scale=4, train_wall=62, gb_free=16.2, wall=16349
2023-08-22 19:34:19 | INFO | train_inner | epoch 013:   1324 / 1474 loss=2.04, trans_loss=4.988, nll_loss=2.252, w2v_ctc_loss=0.78, task_loss=1.294, contrastive_loss=0.139, total=4113.08, n_correct=2647.83, ppl=4.76, accuracy=64.376, wps=13059.6, ups=1.59, wpb=8226.2, bsz=309.2, num_updates=19000, lr=0.000102598, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=16.6, wall=16412
2023-08-22 19:35:21 | INFO | train_inner | epoch 013:   1424 / 1474 loss=2.041, trans_loss=4.994, nll_loss=2.26, w2v_ctc_loss=0.77, task_loss=1.302, contrastive_loss=0.151, total=4174.18, n_correct=2679.86, ppl=4.79, accuracy=64.201, wps=13380.6, ups=1.6, wpb=8348.4, bsz=310.4, num_updates=19100, lr=0.000102329, gnorm=0.518, clip=0, loss_scale=4, train_wall=62, gb_free=16.1, wall=16475
2023-08-22 19:35:52 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 19:36:26 | INFO | dev_st | epoch 013 | valid on 'dev_st' subset | loss 3.973 | trans_loss 5.214 | nll_loss 2.489 | w2v_ctc_loss 1.36 | task_loss 4.597 | contrastive_loss 0.221 | total 4003.4 | n_correct 2626.5 | ppl 5.61 | accuracy 65.607 | uer 19.481 | wer 21.278 | raw_wer 21.278 | bleu 21.06 | wps 1569.9 | wpb 4003.4 | bsz 141.8 | num_updates 19150 | best_bleu 21.06
2023-08-22 19:36:26 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 13 @ 19150 updates
2023-08-22 19:36:26 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 19:36:33 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 19:36:40 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 13 @ 19150 updates, score 21.06) (writing took 13.74013686995022 seconds)
2023-08-22 19:36:40 | INFO | fairseq_cli.train | end of epoch 13 (average epoch stats below)
2023-08-22 19:36:40 | INFO | train | epoch 013 | loss 2.039 | trans_loss 4.993 | nll_loss 2.258 | w2v_ctc_loss 0.78 | task_loss 1.317 | contrastive_loss 0.093 | total 4138.65 | n_correct 2654.82 | ppl 4.78 | accuracy 64.147 | wps 11858.9 | ups 1.43 | wpb 8277.3 | bsz 305.7 | num_updates 19150 | lr 0.000102195 | gnorm 0.529 | clip 0 | loss_scale 4 | train_wall 915 | gb_free 17.3 | wall 16553
2023-08-22 19:36:40 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 19:36:40 | INFO | fairseq.trainer | begin training epoch 14
2023-08-22 19:36:40 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 19:37:18 | INFO | train_inner | epoch 014:     50 / 1474 loss=2.015, trans_loss=4.964, nll_loss=2.222, w2v_ctc_loss=0.765, task_loss=1.211, contrastive_loss=0.05, total=4177.38, n_correct=2708.53, ppl=4.67, accuracy=64.838, wps=7144.2, ups=0.86, wpb=8354.8, bsz=321.6, num_updates=19200, lr=0.000102062, gnorm=0.515, clip=0, loss_scale=4, train_wall=61, gb_free=16.8, wall=16592
2023-08-22 19:38:20 | INFO | train_inner | epoch 014:    150 / 1474 loss=2.011, trans_loss=4.955, nll_loss=2.209, w2v_ctc_loss=0.764, task_loss=1.303, contrastive_loss=0.037, total=4098.74, n_correct=2663, ppl=4.62, accuracy=64.971, wps=13198.4, ups=1.61, wpb=8197.5, bsz=303.4, num_updates=19300, lr=0.000101797, gnorm=0.517, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=16654
2023-08-22 19:39:23 | INFO | train_inner | epoch 014:    250 / 1474 loss=2.029, trans_loss=4.971, nll_loss=2.229, w2v_ctc_loss=0.765, task_loss=1.373, contrastive_loss=0.139, total=4099.27, n_correct=2650.1, ppl=4.69, accuracy=64.648, wps=13117.7, ups=1.6, wpb=8198.5, bsz=294.5, num_updates=19400, lr=0.000101535, gnorm=0.547, clip=0, loss_scale=4, train_wall=62, gb_free=15.9, wall=16716
2023-08-22 19:40:25 | INFO | train_inner | epoch 014:    350 / 1474 loss=2.018, trans_loss=4.972, nll_loss=2.233, w2v_ctc_loss=0.759, task_loss=1.25, contrastive_loss=0.068, total=4161.31, n_correct=2689.67, ppl=4.7, accuracy=64.635, wps=13301.1, ups=1.6, wpb=8322.6, bsz=316.7, num_updates=19500, lr=0.000101274, gnorm=0.516, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=16779
2023-08-22 19:41:28 | INFO | train_inner | epoch 014:    450 / 1474 loss=2.017, trans_loss=4.972, nll_loss=2.231, w2v_ctc_loss=0.759, task_loss=1.296, contrastive_loss=0.052, total=4153.74, n_correct=2687.28, ppl=4.7, accuracy=64.695, wps=13309.4, ups=1.6, wpb=8307.5, bsz=305.8, num_updates=19600, lr=0.000101015, gnorm=0.528, clip=0, loss_scale=8, train_wall=62, gb_free=15.2, wall=16841
2023-08-22 19:42:30 | INFO | train_inner | epoch 014:    550 / 1474 loss=2.032, trans_loss=4.976, nll_loss=2.236, w2v_ctc_loss=0.788, task_loss=1.426, contrastive_loss=0.047, total=4064.6, n_correct=2614.92, ppl=4.71, accuracy=64.334, wps=13007.7, ups=1.6, wpb=8129.2, bsz=288.5, num_updates=19700, lr=0.000100759, gnorm=0.549, clip=0, loss_scale=8, train_wall=62, gb_free=15.6, wall=16904
2023-08-22 19:43:33 | INFO | train_inner | epoch 014:    650 / 1474 loss=2.029, trans_loss=4.977, nll_loss=2.237, w2v_ctc_loss=0.766, task_loss=1.296, contrastive_loss=0.11, total=4170.44, n_correct=2690.17, ppl=4.71, accuracy=64.506, wps=13271.2, ups=1.59, wpb=8340.9, bsz=308.9, num_updates=19800, lr=0.000100504, gnorm=0.527, clip=0, loss_scale=8, train_wall=62, gb_free=14.3, wall=16966
2023-08-22 19:44:36 | INFO | train_inner | epoch 014:    750 / 1474 loss=2.022, trans_loss=4.967, nll_loss=2.225, w2v_ctc_loss=0.778, task_loss=1.299, contrastive_loss=0.045, total=4131.24, n_correct=2670.27, ppl=4.68, accuracy=64.636, wps=13176.7, ups=1.59, wpb=8262.5, bsz=306.7, num_updates=19900, lr=0.000100251, gnorm=0.53, clip=0, loss_scale=8, train_wall=62, gb_free=16.6, wall=17029
2023-08-22 19:45:39 | INFO | train_inner | epoch 014:    850 / 1474 loss=2.027, trans_loss=4.963, nll_loss=2.22, w2v_ctc_loss=0.763, task_loss=1.246, contrastive_loss=0.156, total=4186.83, n_correct=2710.33, ppl=4.66, accuracy=64.735, wps=13275, ups=1.59, wpb=8373.7, bsz=321.3, num_updates=20000, lr=0.0001, gnorm=0.51, clip=0, loss_scale=8, train_wall=62, gb_free=15.8, wall=17092
2023-08-22 19:45:39 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 19:46:12 | INFO | dev_st | epoch 014 | valid on 'dev_st' subset | loss 3.981 | trans_loss 5.207 | nll_loss 2.48 | w2v_ctc_loss 1.4 | task_loss 4.594 | contrastive_loss 0.223 | total 4003.4 | n_correct 2634.9 | ppl 5.58 | accuracy 65.817 | uer 19.521 | wer 21.502 | raw_wer 21.502 | bleu 20.97 | wps 1623.7 | wpb 4003.4 | bsz 141.8 | num_updates 20000 | best_bleu 21.06
2023-08-22 19:46:12 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 14 @ 20000 updates
2023-08-22 19:46:12 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_14_20000.pt
2023-08-22 19:46:14 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_14_20000.pt
2023-08-22 19:46:21 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_14_20000.pt (epoch 14 @ 20000 updates, score 20.97) (writing took 9.011268356931396 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:0')
2023-08-22 19:47:24 | INFO | train_inner | epoch 014:    950 / 1474 loss=2.024, trans_loss=4.972, nll_loss=2.232, w2v_ctc_loss=0.767, task_loss=1.316, contrastive_loss=0.087, total=4166.07, n_correct=2688.64, ppl=4.7, accuracy=64.537, wps=7948.9, ups=0.95, wpb=8332.1, bsz=309.7, num_updates=20100, lr=9.97509e-05, gnorm=0.534, clip=0, loss_scale=8, train_wall=62, gb_free=15.6, wall=17197
2023-08-22 19:48:27 | INFO | train_inner | epoch 014:   1050 / 1474 loss=2.024, trans_loss=4.971, nll_loss=2.231, w2v_ctc_loss=0.769, task_loss=1.342, contrastive_loss=0.066, total=4137.97, n_correct=2673.13, ppl=4.69, accuracy=64.6, wps=13117.9, ups=1.59, wpb=8275.9, bsz=300.3, num_updates=20200, lr=9.95037e-05, gnorm=0.565, clip=0, loss_scale=8, train_wall=62, gb_free=17.3, wall=17260
2023-08-22 19:48:56 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 19:49:31 | INFO | train_inner | epoch 014:   1151 / 1474 loss=2.052, trans_loss=4.975, nll_loss=2.236, w2v_ctc_loss=0.778, task_loss=1.228, contrastive_loss=0.334, total=4238.57, n_correct=2731.37, ppl=4.71, accuracy=64.441, wps=13280.1, ups=1.57, wpb=8477.1, bsz=328.1, num_updates=20300, lr=9.92583e-05, gnorm=0.58, clip=0, loss_scale=4, train_wall=63, gb_free=16.6, wall=17324
2023-08-22 19:50:33 | INFO | train_inner | epoch 014:   1251 / 1474 loss=2.031, trans_loss=4.98, nll_loss=2.242, w2v_ctc_loss=0.781, task_loss=1.526, contrastive_loss=0.032, total=4028.78, n_correct=2596.46, ppl=4.73, accuracy=64.448, wps=12886.7, ups=1.6, wpb=8057.6, bsz=274.5, num_updates=20400, lr=9.90148e-05, gnorm=0.558, clip=0, loss_scale=4, train_wall=62, gb_free=15.4, wall=17387
2023-08-22 19:51:35 | INFO | train_inner | epoch 014:   1351 / 1474 loss=2.014, trans_loss=4.971, nll_loss=2.23, w2v_ctc_loss=0.76, task_loss=1.26, contrastive_loss=0.042, total=4193.2, n_correct=2714.6, ppl=4.69, accuracy=64.738, wps=13459.8, ups=1.6, wpb=8386.4, bsz=315.4, num_updates=20500, lr=9.8773e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=16.6, wall=17449
2023-08-22 19:52:38 | INFO | train_inner | epoch 014:   1451 / 1474 loss=2.024, trans_loss=4.977, nll_loss=2.239, w2v_ctc_loss=0.762, task_loss=1.316, contrastive_loss=0.082, total=4132.58, n_correct=2667.92, ppl=4.72, accuracy=64.558, wps=13292.5, ups=1.61, wpb=8265.2, bsz=304.1, num_updates=20600, lr=9.85329e-05, gnorm=0.54, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=17511
2023-08-22 19:52:52 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:5')
2023-08-22 19:53:26 | INFO | dev_st | epoch 014 | valid on 'dev_st' subset | loss 3.981 | trans_loss 5.211 | nll_loss 2.489 | w2v_ctc_loss 1.387 | task_loss 4.578 | contrastive_loss 0.226 | total 4003.4 | n_correct 2627.9 | ppl 5.61 | accuracy 65.642 | uer 19.651 | wer 21.681 | raw_wer 21.681 | bleu 21.55 | wps 1566.4 | wpb 4003.4 | bsz 141.8 | num_updates 20623 | best_bleu 21.55
2023-08-22 19:53:26 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 14 @ 20623 updates
2023-08-22 19:53:26 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 19:53:33 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 19:53:39 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 14 @ 20623 updates, score 21.55) (writing took 12.958045138977468 seconds)
2023-08-22 19:53:39 | INFO | fairseq_cli.train | end of epoch 14 (average epoch stats below)
2023-08-22 19:53:39 | INFO | train | epoch 014 | loss 2.025 | trans_loss 4.971 | nll_loss 2.231 | w2v_ctc_loss 0.769 | task_loss 1.315 | contrastive_loss 0.092 | total 4139.11 | n_correct 2674.23 | ppl 4.69 | accuracy 64.609 | wps 11962.7 | ups 1.45 | wpb 8278.2 | bsz 305.8 | num_updates 20623 | lr 9.8478e-05 | gnorm 0.536 | clip 0 | loss_scale 4 | train_wall 913 | gb_free 15.9 | wall 17573
2023-08-22 19:53:39 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 19:53:39 | INFO | fairseq.trainer | begin training epoch 15
2023-08-22 19:53:39 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 19:54:34 | INFO | train_inner | epoch 015:     77 / 1474 loss=2.022, trans_loss=4.96, nll_loss=2.216, w2v_ctc_loss=0.762, task_loss=1.31, contrastive_loss=0.134, total=4093.65, n_correct=2656.28, ppl=4.65, accuracy=64.888, wps=7065.5, ups=0.86, wpb=8187.3, bsz=302.1, num_updates=20700, lr=9.82946e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=61, gb_free=16, wall=17627
2023-08-22 19:55:36 | INFO | train_inner | epoch 015:    177 / 1474 loss=2.006, trans_loss=4.948, nll_loss=2.199, w2v_ctc_loss=0.754, task_loss=1.367, contrastive_loss=0.041, total=4112.43, n_correct=2679.97, ppl=4.59, accuracy=65.168, wps=13165.9, ups=1.6, wpb=8224.9, bsz=298, num_updates=20800, lr=9.80581e-05, gnorm=0.514, clip=0, loss_scale=4, train_wall=62, gb_free=15.6, wall=17689
2023-08-22 19:56:38 | INFO | train_inner | epoch 015:    277 / 1474 loss=2.003, trans_loss=4.951, nll_loss=2.204, w2v_ctc_loss=0.752, task_loss=1.283, contrastive_loss=0.036, total=4185.73, n_correct=2728.04, ppl=4.61, accuracy=65.175, wps=13492.3, ups=1.61, wpb=8371.5, bsz=311, num_updates=20900, lr=9.78232e-05, gnorm=0.53, clip=0, loss_scale=4, train_wall=61, gb_free=12.7, wall=17751
2023-08-22 19:57:41 | INFO | train_inner | epoch 015:    377 / 1474 loss=2.003, trans_loss=4.942, nll_loss=2.193, w2v_ctc_loss=0.75, task_loss=1.309, contrastive_loss=0.053, total=4173.44, n_correct=2722.16, ppl=4.57, accuracy=65.226, wps=13281.5, ups=1.59, wpb=8346.9, bsz=307.4, num_updates=21000, lr=9.759e-05, gnorm=0.529, clip=0, loss_scale=4, train_wall=62, gb_free=14.5, wall=17814
2023-08-22 19:58:44 | INFO | train_inner | epoch 015:    477 / 1474 loss=2.015, trans_loss=4.95, nll_loss=2.202, w2v_ctc_loss=0.746, task_loss=1.378, contrastive_loss=0.15, total=4076.89, n_correct=2649.38, ppl=4.6, accuracy=64.985, wps=12972.9, ups=1.59, wpb=8153.8, bsz=294.4, num_updates=21100, lr=9.73585e-05, gnorm=0.529, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=17877
2023-08-22 19:59:46 | INFO | train_inner | epoch 015:    577 / 1474 loss=2.01, trans_loss=4.95, nll_loss=2.204, w2v_ctc_loss=0.759, task_loss=1.356, contrastive_loss=0.059, total=4145.22, n_correct=2694.85, ppl=4.61, accuracy=65.011, wps=13260.2, ups=1.6, wpb=8290.4, bsz=300.4, num_updates=21200, lr=9.71286e-05, gnorm=0.543, clip=0, loss_scale=4, train_wall=62, gb_free=16.5, wall=17940
2023-08-22 20:00:10 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 2.0
2023-08-22 20:00:49 | INFO | train_inner | epoch 015:    678 / 1474 loss=2.013, trans_loss=4.946, nll_loss=2.198, w2v_ctc_loss=0.757, task_loss=1.348, contrastive_loss=0.093, total=4123.22, n_correct=2681.81, ppl=4.59, accuracy=65.042, wps=13117.7, ups=1.59, wpb=8246.4, bsz=303.4, num_updates=21300, lr=9.69003e-05, gnorm=0.533, clip=0, loss_scale=2, train_wall=62, gb_free=16.9, wall=18003
2023-08-22 20:01:52 | INFO | train_inner | epoch 015:    778 / 1474 loss=2.015, trans_loss=4.96, nll_loss=2.216, w2v_ctc_loss=0.767, task_loss=1.331, contrastive_loss=0.046, total=4174.93, n_correct=2706.43, ppl=4.64, accuracy=64.826, wps=13295.8, ups=1.59, wpb=8349.9, bsz=304.2, num_updates=21400, lr=9.66736e-05, gnorm=0.551, clip=0, loss_scale=2, train_wall=62, gb_free=15.2, wall=18065
2023-08-22 20:02:54 | INFO | train_inner | epoch 015:    878 / 1474 loss=2.014, trans_loss=4.955, nll_loss=2.21, w2v_ctc_loss=0.767, task_loss=1.416, contrastive_loss=0.039, total=4050.9, n_correct=2631.15, ppl=4.63, accuracy=64.952, wps=12993.7, ups=1.6, wpb=8101.8, bsz=287.1, num_updates=21500, lr=9.64486e-05, gnorm=0.537, clip=0, loss_scale=2, train_wall=62, gb_free=15.4, wall=18128
2023-08-22 20:03:57 | INFO | train_inner | epoch 015:    978 / 1474 loss=2.016, trans_loss=4.957, nll_loss=2.213, w2v_ctc_loss=0.754, task_loss=1.31, contrastive_loss=0.121, total=4134.92, n_correct=2686.87, ppl=4.64, accuracy=64.98, wps=13257.3, ups=1.6, wpb=8269.8, bsz=304, num_updates=21600, lr=9.6225e-05, gnorm=0.52, clip=0, loss_scale=2, train_wall=62, gb_free=16.1, wall=18190
2023-08-22 20:05:00 | INFO | train_inner | epoch 015:   1078 / 1474 loss=2.03, trans_loss=4.959, nll_loss=2.216, w2v_ctc_loss=0.755, task_loss=1.229, contrastive_loss=0.279, total=4188.51, n_correct=2716.75, ppl=4.64, accuracy=64.862, wps=13273.1, ups=1.58, wpb=8377, bsz=326.1, num_updates=21700, lr=9.60031e-05, gnorm=0.527, clip=0, loss_scale=2, train_wall=62, gb_free=17.2, wall=18253
2023-08-22 20:06:02 | INFO | train_inner | epoch 015:   1178 / 1474 loss=1.999, trans_loss=4.948, nll_loss=2.203, w2v_ctc_loss=0.737, task_loss=1.184, contrastive_loss=0.083, total=4186.08, n_correct=2729.83, ppl=4.6, accuracy=65.212, wps=13504.5, ups=1.61, wpb=8372.2, bsz=328.3, num_updates=21800, lr=9.57826e-05, gnorm=0.515, clip=0, loss_scale=2, train_wall=61, gb_free=16.5, wall=18315
2023-08-22 20:07:04 | INFO | train_inner | epoch 015:   1278 / 1474 loss=2.011, trans_loss=4.948, nll_loss=2.201, w2v_ctc_loss=0.766, task_loss=1.358, contrastive_loss=0.041, total=4137.12, n_correct=2689.39, ppl=4.6, accuracy=65.006, wps=13210.7, ups=1.6, wpb=8274.2, bsz=300.7, num_updates=21900, lr=9.55637e-05, gnorm=0.526, clip=0, loss_scale=2, train_wall=62, gb_free=15.9, wall=18378
2023-08-22 20:08:07 | INFO | train_inner | epoch 015:   1378 / 1474 loss=2.005, trans_loss=4.95, nll_loss=2.204, w2v_ctc_loss=0.756, task_loss=1.354, contrastive_loss=0.031, total=4106.18, n_correct=2669.89, ppl=4.61, accuracy=65.021, wps=13106.4, ups=1.6, wpb=8212.4, bsz=294.9, num_updates=22000, lr=9.53463e-05, gnorm=0.538, clip=0, loss_scale=2, train_wall=62, gb_free=15.7, wall=18441
2023-08-22 20:08:07 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 20:08:40 | INFO | dev_st | epoch 015 | valid on 'dev_st' subset | loss 3.972 | trans_loss 5.203 | nll_loss 2.476 | w2v_ctc_loss 1.379 | task_loss 4.573 | contrastive_loss 0.225 | total 4003.4 | n_correct 2638.4 | ppl 5.56 | accuracy 65.904 | uer 19.6 | wer 21.45 | raw_wer 21.45 | bleu 21 | wps 1634.8 | wpb 4003.4 | bsz 141.8 | num_updates 22000 | best_bleu 21.55
2023-08-22 20:08:40 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 15 @ 22000 updates
2023-08-22 20:08:40 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_15_22000.pt
2023-08-22 20:08:43 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_15_22000.pt
2023-08-22 20:08:48 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_15_22000.pt (epoch 15 @ 22000 updates, score 21.0) (writing took 7.301249118987471 seconds)
2023-08-22 20:09:49 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 20:10:22 | INFO | dev_st | epoch 015 | valid on 'dev_st' subset | loss 3.969 | trans_loss 5.196 | nll_loss 2.472 | w2v_ctc_loss 1.38 | task_loss 4.583 | contrastive_loss 0.229 | total 4003.4 | n_correct 2635.3 | ppl 5.55 | accuracy 65.827 | uer 19.635 | wer 21.513 | raw_wer 21.513 | bleu 21.42 | wps 1609.7 | wpb 4003.4 | bsz 141.8 | num_updates 22096 | best_bleu 21.55
2023-08-22 20:10:22 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 15 @ 22096 updates
2023-08-22 20:10:22 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.4206.pt
2023-08-22 20:10:25 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.4206.pt
2023-08-22 20:10:29 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.4206.pt (epoch 15 @ 22096 updates, score 21.42) (writing took 7.246237920946442 seconds)
2023-08-22 20:10:29 | INFO | fairseq_cli.train | end of epoch 15 (average epoch stats below)
2023-08-22 20:10:29 | INFO | train | epoch 015 | loss 2.012 | trans_loss 4.952 | nll_loss 2.206 | w2v_ctc_loss 0.755 | task_loss 1.317 | contrastive_loss 0.09 | total 4137.93 | n_correct 2690.84 | ppl 4.61 | accuracy 65.029 | wps 12067.3 | ups 1.46 | wpb 8275.9 | bsz 305.5 | num_updates 22096 | lr 9.51389e-05 | gnorm 0.532 | clip 0 | loss_scale 2 | train_wall 912 | gb_free 16.6 | wall 18583
2023-08-22 20:10:30 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 20:10:30 | INFO | fairseq.trainer | begin training epoch 16
2023-08-22 20:10:30 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 20:10:39 | INFO | train_inner | epoch 016:      4 / 1474 loss=2.019, trans_loss=4.961, nll_loss=2.219, w2v_ctc_loss=0.759, task_loss=1.268, contrastive_loss=0.117, total=4144.75, n_correct=2687.9, ppl=4.66, accuracy=64.851, wps=5444.3, ups=0.66, wpb=8289.5, bsz=314.3, num_updates=22100, lr=9.51303e-05, gnorm=0.575, clip=0, loss_scale=2, train_wall=62, gb_free=15.7, wall=18593
2023-08-22 20:11:41 | INFO | train_inner | epoch 016:    104 / 1474 loss=1.992, trans_loss=4.931, nll_loss=2.178, w2v_ctc_loss=0.74, task_loss=1.253, contrastive_loss=0.057, total=4124.91, n_correct=2703.46, ppl=4.53, accuracy=65.54, wps=13376.2, ups=1.62, wpb=8249.8, bsz=315, num_updates=22200, lr=9.49158e-05, gnorm=0.547, clip=0, loss_scale=2, train_wall=61, gb_free=16.2, wall=18654
2023-08-22 20:12:44 | INFO | train_inner | epoch 016:    204 / 1474 loss=1.987, trans_loss=4.923, nll_loss=2.168, w2v_ctc_loss=0.734, task_loss=1.356, contrastive_loss=0.035, total=4109.75, n_correct=2700.25, ppl=4.49, accuracy=65.704, wps=13151.4, ups=1.6, wpb=8219.5, bsz=297.2, num_updates=22300, lr=9.47027e-05, gnorm=0.54, clip=0, loss_scale=2, train_wall=62, gb_free=16.8, wall=18717
2023-08-22 20:13:46 | INFO | train_inner | epoch 016:    304 / 1474 loss=2.004, trans_loss=4.933, nll_loss=2.182, w2v_ctc_loss=0.749, task_loss=1.306, contrastive_loss=0.107, total=4162.83, n_correct=2721.69, ppl=4.54, accuracy=65.381, wps=13298.5, ups=1.6, wpb=8325.7, bsz=308.6, num_updates=22400, lr=9.44911e-05, gnorm=0.524, clip=0, loss_scale=2, train_wall=62, gb_free=15.9, wall=18780
2023-08-22 20:14:49 | INFO | train_inner | epoch 016:    404 / 1474 loss=2.003, trans_loss=4.929, nll_loss=2.176, w2v_ctc_loss=0.744, task_loss=1.413, contrastive_loss=0.121, total=4064.71, n_correct=2659.75, ppl=4.52, accuracy=65.435, wps=12965.8, ups=1.59, wpb=8129.4, bsz=286.5, num_updates=22500, lr=9.42809e-05, gnorm=0.531, clip=0, loss_scale=2, train_wall=62, gb_free=15.1, wall=18842
2023-08-22 20:15:52 | INFO | train_inner | epoch 016:    504 / 1474 loss=1.994, trans_loss=4.934, nll_loss=2.183, w2v_ctc_loss=0.74, task_loss=1.263, contrastive_loss=0.064, total=4170.78, n_correct=2734.82, ppl=4.54, accuracy=65.571, wps=13213.2, ups=1.58, wpb=8341.6, bsz=319.1, num_updates=22600, lr=9.40721e-05, gnorm=0.52, clip=0, loss_scale=2, train_wall=63, gb_free=15.3, wall=18905
2023-08-22 20:16:54 | INFO | train_inner | epoch 016:    604 / 1474 loss=1.995, trans_loss=4.936, nll_loss=2.186, w2v_ctc_loss=0.743, task_loss=1.31, contrastive_loss=0.033, total=4128.84, n_correct=2701.46, ppl=4.55, accuracy=65.429, wps=13342.3, ups=1.62, wpb=8257.7, bsz=300.2, num_updates=22700, lr=9.38647e-05, gnorm=0.525, clip=0, loss_scale=2, train_wall=61, gb_free=11.3, wall=18967
2023-08-22 20:17:56 | INFO | train_inner | epoch 016:    704 / 1474 loss=1.994, trans_loss=4.933, nll_loss=2.181, w2v_ctc_loss=0.747, task_loss=1.333, contrastive_loss=0.033, total=4107.54, n_correct=2687.58, ppl=4.53, accuracy=65.43, wps=13284.1, ups=1.62, wpb=8215.1, bsz=299.6, num_updates=22800, lr=9.36586e-05, gnorm=0.513, clip=0, loss_scale=2, train_wall=61, gb_free=12, wall=19029
2023-08-22 20:18:58 | INFO | train_inner | epoch 016:    804 / 1474 loss=1.999, trans_loss=4.93, nll_loss=2.178, w2v_ctc_loss=0.732, task_loss=1.253, contrastive_loss=0.136, total=4180.18, n_correct=2738.19, ppl=4.52, accuracy=65.504, wps=13398.8, ups=1.6, wpb=8360.4, bsz=313, num_updates=22900, lr=9.34539e-05, gnorm=0.532, clip=0, loss_scale=2, train_wall=62, gb_free=15.9, wall=19092
2023-08-22 20:20:01 | INFO | train_inner | epoch 016:    904 / 1474 loss=1.992, trans_loss=4.932, nll_loss=2.181, w2v_ctc_loss=0.739, task_loss=1.308, contrastive_loss=0.042, total=4142.91, n_correct=2716.01, ppl=4.53, accuracy=65.558, wps=13172.5, ups=1.59, wpb=8285.8, bsz=304.1, num_updates=23000, lr=9.32505e-05, gnorm=0.509, clip=0, loss_scale=2, train_wall=62, gb_free=15.8, wall=19154
2023-08-22 20:21:04 | INFO | train_inner | epoch 016:   1004 / 1474 loss=2.005, trans_loss=4.94, nll_loss=2.19, w2v_ctc_loss=0.755, task_loss=1.349, contrastive_loss=0.081, total=4123.03, n_correct=2690.12, ppl=4.56, accuracy=65.246, wps=13116.1, ups=1.59, wpb=8246.1, bsz=301.2, num_updates=23100, lr=9.30484e-05, gnorm=0.525, clip=0, loss_scale=2, train_wall=62, gb_free=16.9, wall=19217
2023-08-22 20:22:07 | INFO | train_inner | epoch 016:   1104 / 1474 loss=2.005, trans_loss=4.943, nll_loss=2.195, w2v_ctc_loss=0.754, task_loss=1.408, contrastive_loss=0.058, total=4105.71, n_correct=2677.58, ppl=4.58, accuracy=65.216, wps=13047.2, ups=1.59, wpb=8211.4, bsz=294.9, num_updates=23200, lr=9.28477e-05, gnorm=0.52, clip=0, loss_scale=2, train_wall=62, gb_free=16, wall=19280
2023-08-22 20:23:10 | INFO | train_inner | epoch 016:   1204 / 1474 loss=2.009, trans_loss=4.941, nll_loss=2.193, w2v_ctc_loss=0.739, task_loss=1.345, contrastive_loss=0.154, total=4156.32, n_correct=2709.24, ppl=4.57, accuracy=65.184, wps=13146.9, ups=1.58, wpb=8312.6, bsz=305.8, num_updates=23300, lr=9.26482e-05, gnorm=0.521, clip=0, loss_scale=4, train_wall=63, gb_free=16.3, wall=19344
2023-08-22 20:24:13 | INFO | train_inner | epoch 016:   1304 / 1474 loss=2.009, trans_loss=4.938, nll_loss=2.188, w2v_ctc_loss=0.753, task_loss=1.279, contrastive_loss=0.136, total=4162.37, n_correct=2720.5, ppl=4.56, accuracy=65.359, wps=13217.5, ups=1.59, wpb=8324.7, bsz=315.3, num_updates=23400, lr=9.245e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=16.2, wall=19407
2023-08-22 20:25:16 | INFO | train_inner | epoch 016:   1404 / 1474 loss=1.997, trans_loss=4.937, nll_loss=2.187, w2v_ctc_loss=0.747, task_loss=1.25, contrastive_loss=0.059, total=4193.81, n_correct=2744.46, ppl=4.55, accuracy=65.441, wps=13302.1, ups=1.59, wpb=8387.6, bsz=321.2, num_updates=23500, lr=9.22531e-05, gnorm=0.553, clip=0, loss_scale=4, train_wall=62, gb_free=16.4, wall=19470
2023-08-22 20:26:00 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 20:26:33 | INFO | dev_st | epoch 016 | valid on 'dev_st' subset | loss 3.945 | trans_loss 5.191 | nll_loss 2.461 | w2v_ctc_loss 1.313 | task_loss 4.592 | contrastive_loss 0.225 | total 4003.4 | n_correct 2644.2 | ppl 5.51 | accuracy 66.049 | uer 18.703 | wer 20.495 | raw_wer 20.495 | bleu 21.39 | wps 1658.8 | wpb 4003.4 | bsz 141.8 | num_updates 23570 | best_bleu 21.55
2023-08-22 20:26:33 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 16 @ 23570 updates
2023-08-22 20:26:33 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.3906.pt
2023-08-22 20:26:36 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.3906.pt
2023-08-22 20:26:41 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.3906.pt (epoch 16 @ 23570 updates, score 21.39) (writing took 7.973859959980473 seconds)
2023-08-22 20:26:41 | INFO | fairseq_cli.train | end of epoch 16 (average epoch stats below)
2023-08-22 20:26:41 | INFO | train | epoch 016 | loss 2 | trans_loss 4.934 | nll_loss 2.183 | w2v_ctc_loss 0.744 | task_loss 1.316 | contrastive_loss 0.089 | total 4138.65 | n_correct 2707.53 | ppl 4.54 | accuracy 65.421 | wps 12556.4 | ups 1.52 | wpb 8277.3 | bsz 305.7 | num_updates 23570 | lr 9.2116e-05 | gnorm 0.527 | clip 0 | loss_scale 4 | train_wall 914 | gb_free 15 | wall 19555
2023-08-22 20:26:41 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 20:26:41 | INFO | fairseq.trainer | begin training epoch 17
2023-08-22 20:26:41 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 20:27:07 | INFO | train_inner | epoch 017:     30 / 1474 loss=2.002, trans_loss=4.921, nll_loss=2.166, w2v_ctc_loss=0.735, task_loss=1.356, contrastive_loss=0.204, total=4144.21, n_correct=2715.22, ppl=4.49, accuracy=65.518, wps=7455.9, ups=0.9, wpb=8288.4, bsz=301.1, num_updates=23600, lr=9.20575e-05, gnorm=0.523, clip=0, loss_scale=4, train_wall=63, gb_free=15.5, wall=19581
2023-08-22 20:28:10 | INFO | train_inner | epoch 017:    130 / 1474 loss=1.984, trans_loss=4.912, nll_loss=2.154, w2v_ctc_loss=0.736, task_loss=1.347, contrastive_loss=0.037, total=4109.25, n_correct=2706.06, ppl=4.45, accuracy=65.853, wps=13202.3, ups=1.61, wpb=8218.5, bsz=296.9, num_updates=23700, lr=9.1863e-05, gnorm=0.537, clip=0, loss_scale=4, train_wall=62, gb_free=16.5, wall=19643
2023-08-22 20:29:12 | INFO | train_inner | epoch 017:    230 / 1474 loss=1.996, trans_loss=4.91, nll_loss=2.152, w2v_ctc_loss=0.726, task_loss=1.24, contrastive_loss=0.202, total=4175, n_correct=2751.51, ppl=4.44, accuracy=65.904, wps=13372.2, ups=1.6, wpb=8350, bsz=319.3, num_updates=23800, lr=9.16698e-05, gnorm=0.529, clip=0, loss_scale=4, train_wall=62, gb_free=16.9, wall=19705
2023-08-22 20:30:14 | INFO | train_inner | epoch 017:    330 / 1474 loss=1.997, trans_loss=4.916, nll_loss=2.159, w2v_ctc_loss=0.731, task_loss=1.314, contrastive_loss=0.207, total=4159.09, n_correct=2736.39, ppl=4.47, accuracy=65.793, wps=13351.2, ups=1.61, wpb=8318.2, bsz=306, num_updates=23900, lr=9.14779e-05, gnorm=0.533, clip=0, loss_scale=4, train_wall=62, gb_free=16.5, wall=19768
2023-08-22 20:31:17 | INFO | train_inner | epoch 017:    430 / 1474 loss=1.977, trans_loss=4.912, nll_loss=2.154, w2v_ctc_loss=0.726, task_loss=1.317, contrastive_loss=0.035, total=4138.78, n_correct=2732.67, ppl=4.45, accuracy=66.026, wps=13201.6, ups=1.59, wpb=8277.6, bsz=305.3, num_updates=24000, lr=9.12871e-05, gnorm=0.521, clip=0, loss_scale=4, train_wall=62, gb_free=15.8, wall=19830
2023-08-22 20:31:17 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 20:31:50 | INFO | dev_st | epoch 017 | valid on 'dev_st' subset | loss 3.966 | trans_loss 5.2 | nll_loss 2.47 | w2v_ctc_loss 1.361 | task_loss 4.621 | contrastive_loss 0.228 | total 4003.4 | n_correct 2640 | ppl 5.54 | accuracy 65.944 | uer 19.069 | wer 21.039 | raw_wer 21.039 | bleu 21.05 | wps 1614 | wpb 4003.4 | bsz 141.8 | num_updates 24000 | best_bleu 21.55
2023-08-22 20:31:50 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 17 @ 24000 updates
2023-08-22 20:31:50 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_17_24000.pt
2023-08-22 20:31:53 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_17_24000.pt
2023-08-22 20:32:00 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_17_24000.pt (epoch 17 @ 24000 updates, score 21.05) (writing took 10.349574071005918 seconds)
2023-08-22 20:33:04 | INFO | train_inner | epoch 017:    530 / 1474 loss=1.992, trans_loss=4.924, nll_loss=2.169, w2v_ctc_loss=0.738, task_loss=1.363, contrastive_loss=0.079, total=4189.98, n_correct=2750.07, ppl=4.5, accuracy=65.634, wps=7799.7, ups=0.93, wpb=8380, bsz=309.7, num_updates=24100, lr=9.10975e-05, gnorm=0.521, clip=0, loss_scale=4, train_wall=63, gb_free=16.1, wall=19938
2023-08-22 20:34:07 | INFO | train_inner | epoch 017:    630 / 1474 loss=1.982, trans_loss=4.918, nll_loss=2.162, w2v_ctc_loss=0.731, task_loss=1.338, contrastive_loss=0.032, total=4158.81, n_correct=2740.42, ppl=4.47, accuracy=65.894, wps=13339.7, ups=1.6, wpb=8317.6, bsz=300.1, num_updates=24200, lr=9.09091e-05, gnorm=0.506, clip=0, loss_scale=4, train_wall=62, gb_free=14.9, wall=20000
2023-08-22 20:35:09 | INFO | train_inner | epoch 017:    730 / 1474 loss=1.995, trans_loss=4.922, nll_loss=2.167, w2v_ctc_loss=0.746, task_loss=1.289, contrastive_loss=0.073, total=4174.65, n_correct=2743.34, ppl=4.49, accuracy=65.714, wps=13392.7, ups=1.6, wpb=8349.3, bsz=310.5, num_updates=24300, lr=9.07218e-05, gnorm=0.516, clip=0, loss_scale=4, train_wall=62, gb_free=11.3, wall=20063
2023-08-22 20:36:11 | INFO | train_inner | epoch 017:    830 / 1474 loss=1.987, trans_loss=4.919, nll_loss=2.163, w2v_ctc_loss=0.738, task_loss=1.336, contrastive_loss=0.042, total=4083.91, n_correct=2683.88, ppl=4.48, accuracy=65.718, wps=13132.2, ups=1.61, wpb=8167.8, bsz=294.5, num_updates=24400, lr=9.05357e-05, gnorm=0.517, clip=0, loss_scale=4, train_wall=62, gb_free=16.7, wall=20125
2023-08-22 20:37:13 | INFO | train_inner | epoch 017:    930 / 1474 loss=1.982, trans_loss=4.918, nll_loss=2.163, w2v_ctc_loss=0.731, task_loss=1.278, contrastive_loss=0.042, total=4114.87, n_correct=2706.82, ppl=4.48, accuracy=65.781, wps=13328.3, ups=1.62, wpb=8229.7, bsz=307.5, num_updates=24500, lr=9.03508e-05, gnorm=0.51, clip=0, loss_scale=4, train_wall=61, gb_free=17.4, wall=20187
2023-08-22 20:38:16 | INFO | train_inner | epoch 017:   1030 / 1474 loss=1.987, trans_loss=4.92, nll_loss=2.165, w2v_ctc_loss=0.741, task_loss=1.34, contrastive_loss=0.042, total=4091.03, n_correct=2689.07, ppl=4.48, accuracy=65.731, wps=13016.4, ups=1.59, wpb=8182.1, bsz=298.8, num_updates=24600, lr=9.0167e-05, gnorm=0.519, clip=0, loss_scale=4, train_wall=62, gb_free=15.4, wall=20249
2023-08-22 20:39:18 | INFO | train_inner | epoch 017:   1130 / 1474 loss=1.977, trans_loss=4.914, nll_loss=2.157, w2v_ctc_loss=0.72, task_loss=1.327, contrastive_loss=0.037, total=4112.54, n_correct=2712.08, ppl=4.46, accuracy=65.947, wps=13244.3, ups=1.61, wpb=8225.1, bsz=301.7, num_updates=24700, lr=8.99843e-05, gnorm=0.54, clip=0, loss_scale=4, train_wall=62, gb_free=15.2, wall=20312
2023-08-22 20:40:21 | INFO | train_inner | epoch 017:   1230 / 1474 loss=2.017, trans_loss=4.93, nll_loss=2.179, w2v_ctc_loss=0.727, task_loss=1.272, contrastive_loss=0.333, total=4171.58, n_correct=2729.05, ppl=4.53, accuracy=65.42, wps=13236.8, ups=1.59, wpb=8343.2, bsz=325.2, num_updates=24800, lr=8.98027e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=16.1, wall=20375
2023-08-22 20:41:24 | INFO | train_inner | epoch 017:   1330 / 1474 loss=1.982, trans_loss=4.918, nll_loss=2.163, w2v_ctc_loss=0.725, task_loss=1.333, contrastive_loss=0.044, total=4138.5, n_correct=2724.6, ppl=4.48, accuracy=65.835, wps=13204.6, ups=1.6, wpb=8277, bsz=301.4, num_updates=24900, lr=8.96221e-05, gnorm=0.547, clip=0, loss_scale=4, train_wall=62, gb_free=15.5, wall=20437
2023-08-22 20:42:26 | INFO | train_inner | epoch 017:   1430 / 1474 loss=1.982, trans_loss=4.92, nll_loss=2.165, w2v_ctc_loss=0.73, task_loss=1.329, contrastive_loss=0.036, total=4118.28, n_correct=2713.59, ppl=4.49, accuracy=65.891, wps=13145.9, ups=1.6, wpb=8236.6, bsz=303.9, num_updates=25000, lr=8.94427e-05, gnorm=0.537, clip=0, loss_scale=4, train_wall=62, gb_free=15.7, wall=20500
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:0')
2023-08-22 20:42:54 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:1')
2023-08-22 20:43:27 | INFO | dev_st | epoch 017 | valid on 'dev_st' subset | loss 3.942 | trans_loss 5.186 | nll_loss 2.455 | w2v_ctc_loss 1.313 | task_loss 4.597 | contrastive_loss 0.231 | total 4003.4 | n_correct 2647.2 | ppl 5.48 | accuracy 66.124 | uer 18.698 | wer 20.514 | raw_wer 20.514 | bleu 21.51 | wps 1633 | wpb 4003.4 | bsz 141.8 | num_updates 25044 | best_bleu 21.55
2023-08-22 20:43:27 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 17 @ 25044 updates
2023-08-22 20:43:27 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.5109.pt
2023-08-22 20:43:30 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.5109.pt
2023-08-22 20:43:35 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.5109.pt (epoch 17 @ 25044 updates, score 21.51) (writing took 7.898517213994637 seconds)
2023-08-22 20:43:35 | INFO | fairseq_cli.train | end of epoch 17 (average epoch stats below)
2023-08-22 20:43:35 | INFO | train | epoch 017 | loss 1.988 | trans_loss 4.918 | nll_loss 2.162 | w2v_ctc_loss 0.732 | task_loss 1.316 | contrastive_loss 0.088 | total 4138.65 | n_correct 2723.37 | ppl 4.47 | accuracy 65.803 | wps 12031.1 | ups 1.45 | wpb 8277.3 | bsz 305.7 | num_updates 25044 | lr 8.93641e-05 | gnorm 0.525 | clip 0 | loss_scale 4 | train_wall 913 | gb_free 15.9 | wall 20569
2023-08-22 20:43:35 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 20:43:35 | INFO | fairseq.trainer | begin training epoch 18
2023-08-22 20:43:35 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 20:44:18 | INFO | train_inner | epoch 018:     56 / 1474 loss=1.984, trans_loss=4.913, nll_loss=2.156, w2v_ctc_loss=0.74, task_loss=1.351, contrastive_loss=0.044, total=4131.1, n_correct=2721.31, ppl=4.46, accuracy=65.874, wps=7420.6, ups=0.9, wpb=8262.2, bsz=301.5, num_updates=25100, lr=8.92644e-05, gnorm=0.52, clip=0, loss_scale=4, train_wall=62, gb_free=16.5, wall=20611
2023-08-22 20:45:20 | INFO | train_inner | epoch 018:    156 / 1474 loss=1.977, trans_loss=4.889, nll_loss=2.125, w2v_ctc_loss=0.709, task_loss=1.239, contrastive_loss=0.167, total=4161.38, n_correct=2761.74, ppl=4.36, accuracy=66.366, wps=13302.4, ups=1.6, wpb=8322.8, bsz=315, num_updates=25200, lr=8.90871e-05, gnorm=0.529, clip=0, loss_scale=4, train_wall=62, gb_free=16.6, wall=20674
2023-08-22 20:46:23 | INFO | train_inner | epoch 018:    256 / 1474 loss=1.969, trans_loss=4.895, nll_loss=2.132, w2v_ctc_loss=0.721, task_loss=1.284, contrastive_loss=0.038, total=4153.17, n_correct=2753.95, ppl=4.38, accuracy=66.31, wps=13351.1, ups=1.61, wpb=8306.3, bsz=311.2, num_updates=25300, lr=8.89108e-05, gnorm=0.534, clip=0, loss_scale=4, train_wall=62, gb_free=16.5, wall=20736
2023-08-22 20:47:25 | INFO | train_inner | epoch 018:    356 / 1474 loss=1.976, trans_loss=4.904, nll_loss=2.143, w2v_ctc_loss=0.722, task_loss=1.337, contrastive_loss=0.052, total=4179.02, n_correct=2759.96, ppl=4.42, accuracy=66.043, wps=13321.8, ups=1.59, wpb=8358, bsz=302.1, num_updates=25400, lr=8.87357e-05, gnorm=0.54, clip=0, loss_scale=8, train_wall=62, gb_free=16.2, wall=20799
2023-08-22 20:48:28 | INFO | train_inner | epoch 018:    456 / 1474 loss=1.988, trans_loss=4.906, nll_loss=2.147, w2v_ctc_loss=0.725, task_loss=1.42, contrastive_loss=0.144, total=4069.37, n_correct=2684.94, ppl=4.43, accuracy=65.979, wps=12914.3, ups=1.59, wpb=8138.7, bsz=293.6, num_updates=25500, lr=8.85615e-05, gnorm=0.547, clip=0, loss_scale=8, train_wall=62, gb_free=15.2, wall=20862
2023-08-22 20:49:31 | INFO | train_inner | epoch 018:    556 / 1474 loss=1.96, trans_loss=4.888, nll_loss=2.124, w2v_ctc_loss=0.709, task_loss=1.167, contrastive_loss=0.047, total=4224.88, n_correct=2810, ppl=4.36, accuracy=66.511, wps=13499, ups=1.6, wpb=8449.8, bsz=330.4, num_updates=25600, lr=8.83883e-05, gnorm=0.54, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=20924
2023-08-22 20:50:33 | INFO | train_inner | epoch 018:    656 / 1474 loss=1.988, trans_loss=4.911, nll_loss=2.154, w2v_ctc_loss=0.732, task_loss=1.363, contrastive_loss=0.116, total=4087.72, n_correct=2696.76, ppl=4.45, accuracy=65.972, wps=13108.4, ups=1.6, wpb=8175.4, bsz=298.1, num_updates=25700, lr=8.82162e-05, gnorm=0.526, clip=0, loss_scale=8, train_wall=62, gb_free=16.2, wall=20987
2023-08-22 20:51:36 | INFO | train_inner | epoch 018:    756 / 1474 loss=1.991, trans_loss=4.907, nll_loss=2.149, w2v_ctc_loss=0.727, task_loss=1.252, contrastive_loss=0.208, total=4202.56, n_correct=2773.44, ppl=4.44, accuracy=65.994, wps=13431.4, ups=1.6, wpb=8405.1, bsz=322.9, num_updates=25800, lr=8.80451e-05, gnorm=0.562, clip=0, loss_scale=8, train_wall=62, gb_free=17.5, wall=21049
2023-08-22 20:52:38 | INFO | train_inner | epoch 018:    856 / 1474 loss=1.973, trans_loss=4.903, nll_loss=2.142, w2v_ctc_loss=0.724, task_loss=1.314, contrastive_loss=0.036, total=4181.64, n_correct=2766.18, ppl=4.41, accuracy=66.151, wps=13412.5, ups=1.6, wpb=8363.3, bsz=306.1, num_updates=25900, lr=8.7875e-05, gnorm=0.537, clip=0, loss_scale=8, train_wall=62, gb_free=15.2, wall=21112
2023-08-22 20:53:40 | INFO | train_inner | epoch 018:    956 / 1474 loss=1.968, trans_loss=4.898, nll_loss=2.137, w2v_ctc_loss=0.717, task_loss=1.236, contrastive_loss=0.041, total=4133.45, n_correct=2741.65, ppl=4.4, accuracy=66.328, wps=13472.2, ups=1.63, wpb=8266.9, bsz=312.7, num_updates=26000, lr=8.77058e-05, gnorm=0.584, clip=0, loss_scale=8, train_wall=61, gb_free=14.2, wall=21173
2023-08-22 20:53:40 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 20:54:13 | INFO | dev_st | epoch 018 | valid on 'dev_st' subset | loss 3.959 | trans_loss 5.184 | nll_loss 2.451 | w2v_ctc_loss 1.382 | task_loss 4.65 | contrastive_loss 0.22 | total 4003.4 | n_correct 2650.4 | ppl 5.47 | accuracy 66.204 | uer 18.294 | wer 20.048 | raw_wer 20.048 | bleu 21.66 | wps 1626.4 | wpb 4003.4 | bsz 141.8 | num_updates 26000 | best_bleu 21.66
2023-08-22 20:54:13 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 18 @ 26000 updates
2023-08-22 20:54:13 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_18_26000.pt
2023-08-22 20:54:15 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_18_26000.pt
2023-08-22 20:54:26 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_18_26000.pt (epoch 18 @ 26000 updates, score 21.66) (writing took 13.457049262942746 seconds)
2023-08-22 20:55:30 | INFO | train_inner | epoch 018:   1056 / 1474 loss=1.975, trans_loss=4.903, nll_loss=2.143, w2v_ctc_loss=0.725, task_loss=1.389, contrastive_loss=0.038, total=4133.66, n_correct=2732.47, ppl=4.42, accuracy=66.103, wps=7493.7, ups=0.91, wpb=8267.3, bsz=298.3, num_updates=26100, lr=8.75376e-05, gnorm=0.532, clip=0, loss_scale=8, train_wall=63, gb_free=16.5, wall=21283
2023-08-22 20:56:32 | INFO | train_inner | epoch 018:   1156 / 1474 loss=1.982, trans_loss=4.896, nll_loss=2.134, w2v_ctc_loss=0.723, task_loss=1.24, contrastive_loss=0.147, total=4156.35, n_correct=2751.13, ppl=4.39, accuracy=66.191, wps=13329.2, ups=1.6, wpb=8312.7, bsz=315.8, num_updates=26200, lr=8.73704e-05, gnorm=0.535, clip=0, loss_scale=8, train_wall=62, gb_free=13.3, wall=21346
2023-08-22 20:57:34 | INFO | train_inner | epoch 018:   1256 / 1474 loss=1.977, trans_loss=4.91, nll_loss=2.153, w2v_ctc_loss=0.724, task_loss=1.408, contrastive_loss=0.033, total=4093.35, n_correct=2701.22, ppl=4.45, accuracy=65.99, wps=13188.9, ups=1.61, wpb=8186.7, bsz=288, num_updates=26300, lr=8.72041e-05, gnorm=0.518, clip=0, loss_scale=8, train_wall=61, gb_free=15.8, wall=21408
2023-08-22 20:58:36 | INFO | train_inner | epoch 018:   1356 / 1474 loss=1.99, trans_loss=4.913, nll_loss=2.155, w2v_ctc_loss=0.746, task_loss=1.427, contrastive_loss=0.058, total=4056.71, n_correct=2670.1, ppl=4.45, accuracy=65.819, wps=13075.7, ups=1.61, wpb=8113.4, bsz=289.2, num_updates=26400, lr=8.70388e-05, gnorm=0.558, clip=0, loss_scale=8, train_wall=61, gb_free=16.9, wall=21470
2023-08-22 20:59:39 | INFO | train_inner | epoch 018:   1456 / 1474 loss=1.979, trans_loss=4.908, nll_loss=2.15, w2v_ctc_loss=0.73, task_loss=1.383, contrastive_loss=0.042, total=4125.39, n_correct=2725.8, ppl=4.44, accuracy=66.074, wps=13201.9, ups=1.6, wpb=8250.8, bsz=299, num_updates=26500, lr=8.68744e-05, gnorm=0.535, clip=0, loss_scale=8, train_wall=62, gb_free=15.7, wall=21532
2023-08-22 20:59:50 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 21:00:24 | INFO | dev_st | epoch 018 | valid on 'dev_st' subset | loss 3.954 | trans_loss 5.181 | nll_loss 2.448 | w2v_ctc_loss 1.367 | task_loss 4.587 | contrastive_loss 0.224 | total 4003.4 | n_correct 2657.1 | ppl 5.46 | accuracy 66.371 | uer 18.862 | wer 20.775 | raw_wer 20.775 | bleu 21.57 | wps 1563.5 | wpb 4003.4 | bsz 141.8 | num_updates 26518 | best_bleu 21.66
2023-08-22 21:00:24 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 18 @ 26518 updates
2023-08-22 21:00:24 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.5705.pt
2023-08-22 21:00:27 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.5705.pt
2023-08-22 21:00:31 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.5705.pt (epoch 18 @ 26518 updates, score 21.57) (writing took 7.295314138988033 seconds)
2023-08-22 21:00:32 | INFO | fairseq_cli.train | end of epoch 18 (average epoch stats below)
2023-08-22 21:00:32 | INFO | train | epoch 018 | loss 1.979 | trans_loss 4.902 | nll_loss 2.142 | w2v_ctc_loss 0.724 | task_loss 1.316 | contrastive_loss 0.087 | total 4138.65 | n_correct 2736.41 | ppl 4.41 | accuracy 66.119 | wps 11998.5 | ups 1.45 | wpb 8277.3 | bsz 305.7 | num_updates 26518 | lr 8.6845e-05 | gnorm 0.54 | clip 0 | loss_scale 8 | train_wall 911 | gb_free 15.6 | wall 21585
2023-08-22 21:00:32 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 21:00:32 | INFO | fairseq.trainer | begin training epoch 19
2023-08-22 21:00:32 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 21:01:31 | INFO | train_inner | epoch 019:     82 / 1474 loss=1.972, trans_loss=4.886, nll_loss=2.121, w2v_ctc_loss=0.719, task_loss=1.32, contrastive_loss=0.098, total=4098.8, n_correct=2720.47, ppl=4.35, accuracy=66.372, wps=7324.5, ups=0.89, wpb=8197.6, bsz=296.6, num_updates=26600, lr=8.6711e-05, gnorm=0.554, clip=0, loss_scale=8, train_wall=62, gb_free=16.5, wall=21644
2023-08-22 21:02:34 | INFO | train_inner | epoch 019:    182 / 1474 loss=1.966, trans_loss=4.881, nll_loss=2.115, w2v_ctc_loss=0.718, task_loss=1.223, contrastive_loss=0.081, total=4227.47, n_correct=2815.12, ppl=4.33, accuracy=66.591, wps=13494.2, ups=1.6, wpb=8454.9, bsz=325, num_updates=26700, lr=8.65485e-05, gnorm=0.512, clip=0, loss_scale=8, train_wall=62, gb_free=15.9, wall=21707
2023-08-22 21:03:36 | INFO | train_inner | epoch 019:    282 / 1474 loss=1.96, trans_loss=4.88, nll_loss=2.112, w2v_ctc_loss=0.717, task_loss=1.284, contrastive_loss=0.03, total=4188.96, n_correct=2789.6, ppl=4.32, accuracy=66.594, wps=13447.3, ups=1.61, wpb=8377.9, bsz=308.1, num_updates=26800, lr=8.63868e-05, gnorm=0.526, clip=0, loss_scale=8, train_wall=62, gb_free=16.5, wall=21769
2023-08-22 21:04:38 | INFO | train_inner | epoch 019:    382 / 1474 loss=1.973, trans_loss=4.883, nll_loss=2.117, w2v_ctc_loss=0.711, task_loss=1.299, contrastive_loss=0.136, total=4168.76, n_correct=2768.09, ppl=4.34, accuracy=66.401, wps=13407.2, ups=1.61, wpb=8337.5, bsz=310.6, num_updates=26900, lr=8.62261e-05, gnorm=0.558, clip=0, loss_scale=8, train_wall=62, gb_free=14.2, wall=21831
2023-08-22 21:05:40 | INFO | train_inner | epoch 019:    482 / 1474 loss=1.972, trans_loss=4.893, nll_loss=2.13, w2v_ctc_loss=0.728, task_loss=1.358, contrastive_loss=0.04, total=4107.91, n_correct=2721.72, ppl=4.38, accuracy=66.256, wps=13241.9, ups=1.61, wpb=8215.8, bsz=299.6, num_updates=27000, lr=8.60663e-05, gnorm=0.645, clip=0, loss_scale=8, train_wall=61, gb_free=11.4, wall=21894
2023-08-22 21:06:42 | INFO | train_inner | epoch 019:    582 / 1474 loss=1.969, trans_loss=4.885, nll_loss=2.12, w2v_ctc_loss=0.713, task_loss=1.286, contrastive_loss=0.106, total=4133.95, n_correct=2747.55, ppl=4.35, accuracy=66.463, wps=13273.2, ups=1.61, wpb=8267.9, bsz=306.3, num_updates=27100, lr=8.59074e-05, gnorm=0.566, clip=0, loss_scale=8, train_wall=62, gb_free=15.5, wall=21956
2023-08-22 21:07:45 | INFO | train_inner | epoch 019:    682 / 1474 loss=1.954, trans_loss=4.889, nll_loss=2.126, w2v_ctc_loss=0.698, task_loss=1.197, contrastive_loss=0.034, total=4199.37, n_correct=2791.98, ppl=4.36, accuracy=66.486, wps=13409.4, ups=1.6, wpb=8398.7, bsz=321.7, num_updates=27200, lr=8.57493e-05, gnorm=0.545, clip=0, loss_scale=8, train_wall=62, gb_free=16.7, wall=22018
2023-08-22 21:08:48 | INFO | train_inner | epoch 019:    782 / 1474 loss=1.968, trans_loss=4.887, nll_loss=2.123, w2v_ctc_loss=0.723, task_loss=1.322, contrastive_loss=0.047, total=4142.94, n_correct=2747.63, ppl=4.36, accuracy=66.321, wps=13235.6, ups=1.6, wpb=8285.9, bsz=305.4, num_updates=27300, lr=8.55921e-05, gnorm=0.606, clip=0, loss_scale=8, train_wall=62, gb_free=16.2, wall=22081
2023-08-22 21:09:50 | INFO | train_inner | epoch 019:    882 / 1474 loss=1.97, trans_loss=4.894, nll_loss=2.131, w2v_ctc_loss=0.723, task_loss=1.344, contrastive_loss=0.033, total=4153.23, n_correct=2750.64, ppl=4.38, accuracy=66.229, wps=13369.7, ups=1.61, wpb=8306.5, bsz=303.4, num_updates=27400, lr=8.54358e-05, gnorm=0.58, clip=0, loss_scale=16, train_wall=62, gb_free=16.5, wall=22143
2023-08-22 21:10:53 | INFO | train_inner | epoch 019:    982 / 1474 loss=1.988, trans_loss=4.898, nll_loss=2.137, w2v_ctc_loss=0.71, task_loss=1.317, contrastive_loss=0.269, total=4102.27, n_correct=2717.63, ppl=4.4, accuracy=66.247, wps=12934.7, ups=1.58, wpb=8204.5, bsz=308.7, num_updates=27500, lr=8.52803e-05, gnorm=0.554, clip=0, loss_scale=16, train_wall=63, gb_free=15.6, wall=22207
2023-08-22 21:11:56 | INFO | train_inner | epoch 019:   1082 / 1474 loss=1.974, trans_loss=4.899, nll_loss=2.138, w2v_ctc_loss=0.715, task_loss=1.403, contrastive_loss=0.075, total=4036.79, n_correct=2671.82, ppl=4.4, accuracy=66.187, wps=12940.8, ups=1.6, wpb=8073.6, bsz=291.6, num_updates=27600, lr=8.51257e-05, gnorm=0.575, clip=0, loss_scale=16, train_wall=62, gb_free=15.4, wall=22269
2023-08-22 21:12:59 | INFO | train_inner | epoch 019:   1182 / 1474 loss=1.987, trans_loss=4.901, nll_loss=2.14, w2v_ctc_loss=0.725, task_loss=1.348, contrastive_loss=0.159, total=4129.82, n_correct=2726.19, ppl=4.41, accuracy=66.012, wps=13050.3, ups=1.58, wpb=8259.6, bsz=305.9, num_updates=27700, lr=8.49719e-05, gnorm=0.64, clip=0, loss_scale=16, train_wall=63, gb_free=17.4, wall=22332
2023-08-22 21:14:02 | INFO | train_inner | epoch 019:   1282 / 1474 loss=1.968, trans_loss=4.895, nll_loss=2.133, w2v_ctc_loss=0.711, task_loss=1.323, contrastive_loss=0.056, total=4147.96, n_correct=2750.68, ppl=4.39, accuracy=66.314, wps=13247.9, ups=1.6, wpb=8295.9, bsz=301.4, num_updates=27800, lr=8.48189e-05, gnorm=0.538, clip=0, loss_scale=16, train_wall=62, gb_free=15.5, wall=22395
2023-08-22 21:14:03 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-22 21:14:55 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 21:15:05 | INFO | train_inner | epoch 019:   1384 / 1474 loss=1.97, trans_loss=4.894, nll_loss=2.132, w2v_ctc_loss=0.721, task_loss=1.335, contrastive_loss=0.043, total=4127.15, n_correct=2735.82, ppl=4.38, accuracy=66.288, wps=13083.3, ups=1.59, wpb=8254.3, bsz=302.3, num_updates=27900, lr=8.46668e-05, gnorm=0.521, clip=0, loss_scale=4, train_wall=62, gb_free=11.5, wall=22458
2023-08-22 21:16:01 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 21:16:34 | INFO | dev_st | epoch 019 | valid on 'dev_st' subset | loss 3.956 | trans_loss 5.184 | nll_loss 2.452 | w2v_ctc_loss 1.37 | task_loss 4.602 | contrastive_loss 0.22 | total 4003.4 | n_correct 2656.2 | ppl 5.47 | accuracy 66.349 | uer 18.613 | wer 20.309 | raw_wer 20.309 | bleu 21.59 | wps 1608.9 | wpb 4003.4 | bsz 141.8 | num_updates 27990 | best_bleu 21.66
2023-08-22 21:16:34 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 19 @ 27990 updates
2023-08-22 21:16:34 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.5905.pt
2023-08-22 21:16:37 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.5905.pt
2023-08-22 21:16:42 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.5905.pt (epoch 19 @ 27990 updates, score 21.59) (writing took 7.455877625965513 seconds)
2023-08-22 21:16:42 | INFO | fairseq_cli.train | end of epoch 19 (average epoch stats below)
2023-08-22 21:16:42 | INFO | train | epoch 019 | loss 1.97 | trans_loss 4.89 | nll_loss 2.126 | w2v_ctc_loss 0.716 | task_loss 1.315 | contrastive_loss 0.085 | total 4138.17 | n_correct 2745.87 | ppl 4.36 | accuracy 66.355 | wps 12561.4 | ups 1.52 | wpb 8276.3 | bsz 305.6 | num_updates 27990 | lr 8.45305e-05 | gnorm 0.564 | clip 0 | loss_scale 4 | train_wall 912 | gb_free 17 | wall 22555
2023-08-22 21:16:42 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 21:16:42 | INFO | fairseq.trainer | begin training epoch 20
2023-08-22 21:16:42 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 21:16:56 | INFO | train_inner | epoch 020:     10 / 1474 loss=1.967, trans_loss=4.882, nll_loss=2.116, w2v_ctc_loss=0.708, task_loss=1.342, contrastive_loss=0.125, total=4111.13, n_correct=2734.06, ppl=4.33, accuracy=66.504, wps=7406.8, ups=0.9, wpb=8222.3, bsz=300.9, num_updates=28000, lr=8.45154e-05, gnorm=0.526, clip=0, loss_scale=4, train_wall=62, gb_free=16.4, wall=22569
2023-08-22 21:16:56 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 21:17:29 | INFO | dev_st | epoch 020 | valid on 'dev_st' subset | loss 3.944 | trans_loss 5.189 | nll_loss 2.457 | w2v_ctc_loss 1.317 | task_loss 4.614 | contrastive_loss 0.226 | total 4003.4 | n_correct 2655.8 | ppl 5.49 | accuracy 66.339 | uer 18.438 | wer 20.249 | raw_wer 20.249 | bleu 21.76 | wps 1616.1 | wpb 4003.4 | bsz 141.8 | num_updates 28000 | best_bleu 21.76
2023-08-22 21:17:29 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 20 @ 28000 updates
2023-08-22 21:17:29 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_20_28000.pt
2023-08-22 21:17:31 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_20_28000.pt
2023-08-22 21:17:44 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_20_28000.pt (epoch 20 @ 28000 updates, score 21.76) (writing took 14.901939202914946 seconds)
2023-08-22 21:18:47 | INFO | train_inner | epoch 020:    110 / 1474 loss=1.948, trans_loss=4.865, nll_loss=2.094, w2v_ctc_loss=0.696, task_loss=1.263, contrastive_loss=0.047, total=4202.23, n_correct=2812.13, ppl=4.27, accuracy=66.92, wps=7534.9, ups=0.9, wpb=8404.5, bsz=314.4, num_updates=28100, lr=8.43649e-05, gnorm=0.595, clip=0, loss_scale=4, train_wall=62, gb_free=15.7, wall=22681
2023-08-22 21:19:50 | INFO | train_inner | epoch 020:    210 / 1474 loss=1.961, trans_loss=4.874, nll_loss=2.105, w2v_ctc_loss=0.705, task_loss=1.365, contrastive_loss=0.101, total=4155.61, n_correct=2768.83, ppl=4.3, accuracy=66.629, wps=13201.4, ups=1.59, wpb=8311.2, bsz=301.4, num_updates=28200, lr=8.42152e-05, gnorm=0.533, clip=0, loss_scale=4, train_wall=62, gb_free=16.5, wall=22744
2023-08-22 21:20:52 | INFO | train_inner | epoch 020:    310 / 1474 loss=1.946, trans_loss=4.866, nll_loss=2.095, w2v_ctc_loss=0.701, task_loss=1.192, contrastive_loss=0.036, total=4189.88, n_correct=2805.41, ppl=4.27, accuracy=66.957, wps=13473.2, ups=1.61, wpb=8379.8, bsz=324.9, num_updates=28300, lr=8.40663e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=22806
2023-08-22 21:21:55 | INFO | train_inner | epoch 020:    410 / 1474 loss=1.949, trans_loss=4.863, nll_loss=2.091, w2v_ctc_loss=0.697, task_loss=1.34, contrastive_loss=0.037, total=4101.46, n_correct=2748.36, ppl=4.26, accuracy=67.009, wps=13167.1, ups=1.61, wpb=8202.9, bsz=295.5, num_updates=28400, lr=8.39181e-05, gnorm=0.538, clip=0, loss_scale=4, train_wall=62, gb_free=15.4, wall=22868
2023-08-22 21:22:57 | INFO | train_inner | epoch 020:    510 / 1474 loss=1.962, trans_loss=4.877, nll_loss=2.11, w2v_ctc_loss=0.697, task_loss=1.331, contrastive_loss=0.126, total=4127.02, n_correct=2751.65, ppl=4.32, accuracy=66.674, wps=13178.9, ups=1.6, wpb=8254, bsz=303.8, num_updates=28500, lr=8.37708e-05, gnorm=0.51, clip=0, loss_scale=4, train_wall=62, gb_free=15.5, wall=22931
2023-08-22 21:23:59 | INFO | train_inner | epoch 020:    610 / 1474 loss=1.968, trans_loss=4.876, nll_loss=2.108, w2v_ctc_loss=0.707, task_loss=1.402, contrastive_loss=0.125, total=4079.57, n_correct=2719.01, ppl=4.31, accuracy=66.649, wps=13180.9, ups=1.62, wpb=8159.1, bsz=293.6, num_updates=28600, lr=8.36242e-05, gnorm=0.547, clip=0, loss_scale=4, train_wall=61, gb_free=16.6, wall=22993
2023-08-22 21:25:01 | INFO | train_inner | epoch 020:    710 / 1474 loss=1.961, trans_loss=4.879, nll_loss=2.112, w2v_ctc_loss=0.717, task_loss=1.322, contrastive_loss=0.032, total=4134.59, n_correct=2753.55, ppl=4.32, accuracy=66.598, wps=13318, ups=1.61, wpb=8269.2, bsz=299.7, num_updates=28700, lr=8.34784e-05, gnorm=0.525, clip=0, loss_scale=4, train_wall=61, gb_free=11.2, wall=23055
2023-08-22 21:26:04 | INFO | train_inner | epoch 020:    810 / 1474 loss=1.958, trans_loss=4.88, nll_loss=2.114, w2v_ctc_loss=0.711, task_loss=1.283, contrastive_loss=0.035, total=4157.39, n_correct=2767.56, ppl=4.33, accuracy=66.57, wps=13319.7, ups=1.6, wpb=8314.8, bsz=310.2, num_updates=28800, lr=8.33333e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=12.8, wall=23117
2023-08-22 21:27:07 | INFO | train_inner | epoch 020:    910 / 1474 loss=1.987, trans_loss=4.883, nll_loss=2.118, w2v_ctc_loss=0.704, task_loss=1.249, contrastive_loss=0.323, total=4155.35, n_correct=2763.1, ppl=4.34, accuracy=66.495, wps=13152.9, ups=1.58, wpb=8310.7, bsz=322.5, num_updates=28900, lr=8.3189e-05, gnorm=0.52, clip=0, loss_scale=4, train_wall=63, gb_free=16.9, wall=23180
2023-08-22 21:28:10 | INFO | train_inner | epoch 020:   1010 / 1474 loss=1.962, trans_loss=4.88, nll_loss=2.113, w2v_ctc_loss=0.699, task_loss=1.296, contrastive_loss=0.104, total=4185.22, n_correct=2786.26, ppl=4.33, accuracy=66.574, wps=13224, ups=1.58, wpb=8370.4, bsz=311.8, num_updates=29000, lr=8.30455e-05, gnorm=0.515, clip=0, loss_scale=4, train_wall=63, gb_free=15.1, wall=23244
2023-08-22 21:29:12 | INFO | train_inner | epoch 020:   1110 / 1474 loss=1.968, trans_loss=4.878, nll_loss=2.111, w2v_ctc_loss=0.713, task_loss=1.298, contrastive_loss=0.108, total=4143.91, n_correct=2760.28, ppl=4.32, accuracy=66.611, wps=13301.6, ups=1.6, wpb=8287.8, bsz=308.6, num_updates=29100, lr=8.29027e-05, gnorm=0.538, clip=0, loss_scale=4, train_wall=62, gb_free=15.9, wall=23306
2023-08-22 21:30:16 | INFO | train_inner | epoch 020:   1210 / 1474 loss=1.966, trans_loss=4.876, nll_loss=2.108, w2v_ctc_loss=0.727, task_loss=1.468, contrastive_loss=0.03, total=4027.04, n_correct=2677.58, ppl=4.31, accuracy=66.49, wps=12774.7, ups=1.59, wpb=8054.1, bsz=282.7, num_updates=29200, lr=8.27606e-05, gnorm=0.63, clip=0, loss_scale=4, train_wall=62, gb_free=16, wall=23369
2023-08-22 21:31:18 | INFO | train_inner | epoch 020:   1310 / 1474 loss=1.959, trans_loss=4.882, nll_loss=2.116, w2v_ctc_loss=0.709, task_loss=1.367, contrastive_loss=0.034, total=4135.87, n_correct=2755.44, ppl=4.33, accuracy=66.623, wps=13158.1, ups=1.59, wpb=8271.7, bsz=300.8, num_updates=29300, lr=8.26192e-05, gnorm=0.512, clip=0, loss_scale=4, train_wall=62, gb_free=16.2, wall=23432
2023-08-22 21:32:21 | INFO | train_inner | epoch 020:   1410 / 1474 loss=1.96, trans_loss=4.878, nll_loss=2.111, w2v_ctc_loss=0.712, task_loss=1.392, contrastive_loss=0.031, total=4122.3, n_correct=2744.14, ppl=4.32, accuracy=66.568, wps=13179.6, ups=1.6, wpb=8244.6, bsz=294.5, num_updates=29400, lr=8.24786e-05, gnorm=0.537, clip=0, loss_scale=4, train_wall=62, gb_free=15.8, wall=23494
2023-08-22 21:33:00 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 21:33:34 | INFO | dev_st | epoch 020 | valid on 'dev_st' subset | loss 3.948 | trans_loss 5.181 | nll_loss 2.445 | w2v_ctc_loss 1.347 | task_loss 4.625 | contrastive_loss 0.223 | total 4003.4 | n_correct 2652.3 | ppl 5.45 | accuracy 66.251 | uer 18.185 | wer 20.007 | raw_wer 20.007 | bleu 21.91 | wps 1603.4 | wpb 4003.4 | bsz 141.8 | num_updates 29464 | best_bleu 21.91
2023-08-22 21:33:34 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 20 @ 29464 updates
2023-08-22 21:33:34 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 21:33:41 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 21:33:48 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 20 @ 29464 updates, score 21.91) (writing took 14.2111125390511 seconds)
2023-08-22 21:33:48 | INFO | fairseq_cli.train | end of epoch 20 (average epoch stats below)
2023-08-22 21:33:48 | INFO | train | epoch 020 | loss 1.961 | trans_loss 4.876 | nll_loss 2.108 | w2v_ctc_loss 0.706 | task_loss 1.316 | contrastive_loss 0.084 | total 4138.65 | n_correct 2759.09 | ppl 4.31 | accuracy 66.666 | wps 11888.7 | ups 1.44 | wpb 8277.3 | bsz 305.7 | num_updates 29464 | lr 8.2389e-05 | gnorm 0.544 | clip 0 | loss_scale 4 | train_wall 913 | gb_free 15.7 | wall 23582
2023-08-22 21:33:48 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 21:33:48 | INFO | fairseq.trainer | begin training epoch 21
2023-08-22 21:33:48 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 21:34:18 | INFO | train_inner | epoch 021:     36 / 1474 loss=1.966, trans_loss=4.878, nll_loss=2.112, w2v_ctc_loss=0.703, task_loss=1.257, contrastive_loss=0.151, total=4143.81, n_correct=2760.46, ppl=4.32, accuracy=66.616, wps=7066.7, ups=0.85, wpb=8287.6, bsz=315, num_updates=29500, lr=8.23387e-05, gnorm=0.621, clip=0, loss_scale=4, train_wall=62, gb_free=15.2, wall=23612
2023-08-22 21:35:20 | INFO | train_inner | epoch 021:    136 / 1474 loss=1.958, trans_loss=4.859, nll_loss=2.086, w2v_ctc_loss=0.7, task_loss=1.229, contrastive_loss=0.147, total=4195.35, n_correct=2808.3, ppl=4.24, accuracy=66.938, wps=13498.2, ups=1.61, wpb=8390.7, bsz=319.8, num_updates=29600, lr=8.21995e-05, gnorm=0.551, clip=0, loss_scale=4, train_wall=61, gb_free=16.1, wall=23674
2023-08-22 21:36:23 | INFO | train_inner | epoch 021:    236 / 1474 loss=1.947, trans_loss=4.859, nll_loss=2.087, w2v_ctc_loss=0.688, task_loss=1.268, contrastive_loss=0.098, total=4148.29, n_correct=2780.79, ppl=4.25, accuracy=67.035, wps=13320.8, ups=1.61, wpb=8296.6, bsz=311.4, num_updates=29700, lr=8.2061e-05, gnorm=0.539, clip=0, loss_scale=4, train_wall=62, gb_free=12.1, wall=23736
2023-08-22 21:37:26 | INFO | train_inner | epoch 021:    336 / 1474 loss=1.956, trans_loss=4.864, nll_loss=2.092, w2v_ctc_loss=0.705, task_loss=1.295, contrastive_loss=0.102, total=4164.34, n_correct=2786.32, ppl=4.26, accuracy=66.909, wps=13246.3, ups=1.59, wpb=8328.7, bsz=312.6, num_updates=29800, lr=8.19232e-05, gnorm=0.542, clip=0, loss_scale=4, train_wall=62, gb_free=14.6, wall=23799
2023-08-22 21:38:27 | INFO | train_inner | epoch 021:    436 / 1474 loss=1.946, trans_loss=4.861, nll_loss=2.088, w2v_ctc_loss=0.698, task_loss=1.278, contrastive_loss=0.029, total=4170.15, n_correct=2793.38, ppl=4.25, accuracy=66.985, wps=13479.2, ups=1.62, wpb=8340.3, bsz=306.1, num_updates=29900, lr=8.17861e-05, gnorm=0.542, clip=0, loss_scale=4, train_wall=61, gb_free=16.2, wall=23861
2023-08-22 21:39:30 | INFO | train_inner | epoch 021:    536 / 1474 loss=1.952, trans_loss=4.861, nll_loss=2.088, w2v_ctc_loss=0.711, task_loss=1.369, contrastive_loss=0.028, total=4086.43, n_correct=2733.64, ppl=4.25, accuracy=66.896, wps=13109.2, ups=1.6, wpb=8172.9, bsz=295.4, num_updates=30000, lr=8.16497e-05, gnorm=0.745, clip=0, loss_scale=8, train_wall=62, gb_free=12.5, wall=23923
2023-08-22 21:39:30 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 21:40:04 | INFO | dev_st | epoch 021 | valid on 'dev_st' subset | loss 3.956 | trans_loss 5.177 | nll_loss 2.441 | w2v_ctc_loss 1.388 | task_loss 4.612 | contrastive_loss 0.217 | total 4003.4 | n_correct 2664.1 | ppl 5.43 | accuracy 66.546 | uer 18.698 | wer 20.678 | raw_wer 20.678 | bleu 21.76 | wps 1548 | wpb 4003.4 | bsz 141.8 | num_updates 30000 | best_bleu 21.91
2023-08-22 21:40:04 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 21 @ 30000 updates
2023-08-22 21:40:04 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_21_30000.pt
2023-08-22 21:40:07 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_21_30000.pt
2023-08-22 21:40:17 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_21_30000.pt (epoch 21 @ 30000 updates, score 21.76) (writing took 12.745694922050461 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:0')
2023-08-22 21:41:20 | INFO | train_inner | epoch 021:    636 / 1474 loss=1.956, trans_loss=4.857, nll_loss=2.083, w2v_ctc_loss=0.69, task_loss=1.292, contrastive_loss=0.196, total=4214.93, n_correct=2827.06, ppl=4.24, accuracy=67.073, wps=7633, ups=0.91, wpb=8429.9, bsz=317.2, num_updates=30100, lr=8.15139e-05, gnorm=0.538, clip=0, loss_scale=8, train_wall=62, gb_free=16.6, wall=24034
2023-08-22 21:42:23 | INFO | train_inner | epoch 021:    736 / 1474 loss=1.953, trans_loss=4.87, nll_loss=2.1, w2v_ctc_loss=0.699, task_loss=1.316, contrastive_loss=0.056, total=4151.84, n_correct=2776.35, ppl=4.29, accuracy=66.87, wps=13231, ups=1.59, wpb=8303.7, bsz=307.5, num_updates=30200, lr=8.13788e-05, gnorm=0.628, clip=0, loss_scale=8, train_wall=62, gb_free=14.9, wall=24096
2023-08-22 21:43:26 | INFO | train_inner | epoch 021:    836 / 1474 loss=1.964, trans_loss=4.879, nll_loss=2.112, w2v_ctc_loss=0.709, task_loss=1.38, contrastive_loss=0.071, total=4075.02, n_correct=2713.05, ppl=4.32, accuracy=66.578, wps=12927, ups=1.59, wpb=8150, bsz=296.2, num_updates=30300, lr=8.12444e-05, gnorm=0.601, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=24159
2023-08-22 21:44:28 | INFO | train_inner | epoch 021:    936 / 1474 loss=1.952, trans_loss=4.865, nll_loss=2.093, w2v_ctc_loss=0.707, task_loss=1.321, contrastive_loss=0.044, total=4090.62, n_correct=2735.44, ppl=4.27, accuracy=66.871, wps=13226.7, ups=1.62, wpb=8181.2, bsz=300.5, num_updates=30400, lr=8.11107e-05, gnorm=0.608, clip=0, loss_scale=8, train_wall=61, gb_free=15.6, wall=24221
2023-08-22 21:45:30 | INFO | train_inner | epoch 021:   1036 / 1474 loss=1.956, trans_loss=4.874, nll_loss=2.105, w2v_ctc_loss=0.706, task_loss=1.344, contrastive_loss=0.041, total=4109.99, n_correct=2744.82, ppl=4.3, accuracy=66.784, wps=13262.8, ups=1.61, wpb=8220, bsz=298.5, num_updates=30500, lr=8.09776e-05, gnorm=0.576, clip=0, loss_scale=8, train_wall=61, gb_free=15.8, wall=24283
2023-08-22 21:46:32 | INFO | train_inner | epoch 021:   1136 / 1474 loss=1.956, trans_loss=4.865, nll_loss=2.093, w2v_ctc_loss=0.711, task_loss=1.413, contrastive_loss=0.044, total=4112.95, n_correct=2749.25, ppl=4.27, accuracy=66.844, wps=13170.1, ups=1.6, wpb=8225.9, bsz=293.6, num_updates=30600, lr=8.08452e-05, gnorm=0.546, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=24346
2023-08-22 21:47:35 | INFO | train_inner | epoch 021:   1236 / 1474 loss=1.956, trans_loss=4.867, nll_loss=2.097, w2v_ctc_loss=0.702, task_loss=1.251, contrastive_loss=0.094, total=4161.16, n_correct=2782.42, ppl=4.28, accuracy=66.866, wps=13332.7, ups=1.6, wpb=8322.3, bsz=311.6, num_updates=30700, lr=8.07134e-05, gnorm=0.565, clip=0, loss_scale=8, train_wall=62, gb_free=16.2, wall=24408
2023-08-22 21:48:38 | INFO | train_inner | epoch 021:   1336 / 1474 loss=1.948, trans_loss=4.864, nll_loss=2.093, w2v_ctc_loss=0.698, task_loss=1.289, contrastive_loss=0.052, total=4138.28, n_correct=2773.75, ppl=4.27, accuracy=67.027, wps=13194.2, ups=1.59, wpb=8276.6, bsz=309.9, num_updates=30800, lr=8.05823e-05, gnorm=0.543, clip=0, loss_scale=8, train_wall=62, gb_free=16.1, wall=24471
2023-08-22 21:49:40 | INFO | train_inner | epoch 021:   1436 / 1474 loss=1.971, trans_loss=4.877, nll_loss=2.11, w2v_ctc_loss=0.722, task_loss=1.378, contrastive_loss=0.102, total=4136.94, n_correct=2751.49, ppl=4.32, accuracy=66.51, wps=13169.3, ups=1.59, wpb=8273.9, bsz=305, num_updates=30900, lr=8.04518e-05, gnorm=0.588, clip=0, loss_scale=8, train_wall=62, gb_free=16.3, wall=24534
2023-08-22 21:50:04 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:1')
2023-08-22 21:50:37 | INFO | dev_st | epoch 021 | valid on 'dev_st' subset | loss 3.936 | trans_loss 5.177 | nll_loss 2.44 | w2v_ctc_loss 1.323 | task_loss 4.613 | contrastive_loss 0.218 | total 4003.4 | n_correct 2657.3 | ppl 5.43 | accuracy 66.376 | uer 18.3 | wer 20.051 | raw_wer 20.051 | bleu 22 | wps 1606.7 | wpb 4003.4 | bsz 141.8 | num_updates 30938 | best_bleu 22
2023-08-22 21:50:37 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 21 @ 30938 updates
2023-08-22 21:50:37 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 21:50:44 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-22 21:50:50 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 21 @ 30938 updates, score 22.0) (writing took 12.530912833986804 seconds)
2023-08-22 21:50:51 | INFO | fairseq_cli.train | end of epoch 21 (average epoch stats below)
2023-08-22 21:50:51 | INFO | train | epoch 021 | loss 1.956 | trans_loss 4.866 | nll_loss 2.095 | w2v_ctc_loss 0.703 | task_loss 1.317 | contrastive_loss 0.084 | total 4138.65 | n_correct 2767.41 | ppl 4.27 | accuracy 66.867 | wps 11933.7 | ups 1.44 | wpb 8277.3 | bsz 305.7 | num_updates 30938 | lr 8.04024e-05 | gnorm 0.578 | clip 0 | loss_scale 8 | train_wall 911 | gb_free 15.1 | wall 24604
2023-08-22 21:50:51 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 21:50:51 | INFO | fairseq.trainer | begin training epoch 22
2023-08-22 21:50:51 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 21:51:36 | INFO | train_inner | epoch 022:     62 / 1474 loss=1.946, trans_loss=4.854, nll_loss=2.08, w2v_ctc_loss=0.702, task_loss=1.328, contrastive_loss=0.029, total=4137.1, n_correct=2775.56, ppl=4.23, accuracy=67.09, wps=7140.3, ups=0.86, wpb=8274.2, bsz=300.4, num_updates=31000, lr=8.03219e-05, gnorm=0.527, clip=0, loss_scale=8, train_wall=61, gb_free=12.1, wall=24650
2023-08-22 21:52:39 | INFO | train_inner | epoch 022:    162 / 1474 loss=1.949, trans_loss=4.848, nll_loss=2.072, w2v_ctc_loss=0.698, task_loss=1.34, contrastive_loss=0.104, total=4112.98, n_correct=2765.92, ppl=4.2, accuracy=67.249, wps=13113.3, ups=1.59, wpb=8226, bsz=307, num_updates=31100, lr=8.01927e-05, gnorm=0.61, clip=0, loss_scale=8, train_wall=62, gb_free=17.2, wall=24712
2023-08-22 21:53:41 | INFO | train_inner | epoch 022:    262 / 1474 loss=1.931, trans_loss=4.842, nll_loss=2.064, w2v_ctc_loss=0.68, task_loss=1.156, contrastive_loss=0.046, total=4271.21, n_correct=2881.62, ppl=4.18, accuracy=67.466, wps=13674.8, ups=1.6, wpb=8542.4, bsz=330.6, num_updates=31200, lr=8.00641e-05, gnorm=0.521, clip=0, loss_scale=8, train_wall=62, gb_free=13.8, wall=24775
2023-08-22 21:54:45 | INFO | train_inner | epoch 022:    362 / 1474 loss=1.966, trans_loss=4.856, nll_loss=2.082, w2v_ctc_loss=0.702, task_loss=1.339, contrastive_loss=0.203, total=4179.51, n_correct=2797.34, ppl=4.23, accuracy=66.93, wps=13171.2, ups=1.58, wpb=8359, bsz=310.4, num_updates=31300, lr=7.99361e-05, gnorm=0.54, clip=0, loss_scale=8, train_wall=63, gb_free=17.4, wall=24838
2023-08-22 21:55:47 | INFO | train_inner | epoch 022:    462 / 1474 loss=1.952, trans_loss=4.855, nll_loss=2.08, w2v_ctc_loss=0.697, task_loss=1.365, contrastive_loss=0.088, total=4143.46, n_correct=2780.62, ppl=4.23, accuracy=67.109, wps=13248.1, ups=1.6, wpb=8286.9, bsz=300.6, num_updates=31400, lr=7.98087e-05, gnorm=0.54, clip=0, loss_scale=8, train_wall=62, gb_free=15.5, wall=24901
2023-08-22 21:56:50 | INFO | train_inner | epoch 022:    562 / 1474 loss=1.942, trans_loss=4.851, nll_loss=2.075, w2v_ctc_loss=0.694, task_loss=1.338, contrastive_loss=0.034, total=4143.14, n_correct=2781.65, ppl=4.21, accuracy=67.139, wps=13205.3, ups=1.59, wpb=8286.3, bsz=304.4, num_updates=31500, lr=7.96819e-05, gnorm=0.569, clip=0, loss_scale=8, train_wall=62, gb_free=16.1, wall=24964
2023-08-22 21:57:52 | INFO | train_inner | epoch 022:    662 / 1474 loss=1.94, trans_loss=4.843, nll_loss=2.066, w2v_ctc_loss=0.678, task_loss=1.255, contrastive_loss=0.122, total=4146.54, n_correct=2792.8, ppl=4.19, accuracy=67.353, wps=13445, ups=1.62, wpb=8293.1, bsz=311.9, num_updates=31600, lr=7.95557e-05, gnorm=0.543, clip=0, loss_scale=8, train_wall=61, gb_free=12.8, wall=25025
2023-08-22 21:58:55 | INFO | train_inner | epoch 022:    762 / 1474 loss=1.942, trans_loss=4.848, nll_loss=2.072, w2v_ctc_loss=0.694, task_loss=1.356, contrastive_loss=0.036, total=4170.82, n_correct=2803.95, ppl=4.2, accuracy=67.228, wps=13262.2, ups=1.59, wpb=8341.6, bsz=303.9, num_updates=31700, lr=7.94301e-05, gnorm=0.53, clip=0, loss_scale=8, train_wall=62, gb_free=11.4, wall=25088
2023-08-22 21:59:58 | INFO | train_inner | epoch 022:    862 / 1474 loss=1.947, trans_loss=4.859, nll_loss=2.087, w2v_ctc_loss=0.698, task_loss=1.418, contrastive_loss=0.029, total=4077.65, n_correct=2729.59, ppl=4.25, accuracy=66.94, wps=13010.1, ups=1.6, wpb=8155.3, bsz=290.5, num_updates=31800, lr=7.93052e-05, gnorm=0.554, clip=0, loss_scale=8, train_wall=62, gb_free=16.7, wall=25151
2023-08-22 22:01:00 | INFO | train_inner | epoch 022:    962 / 1474 loss=1.94, trans_loss=4.85, nll_loss=2.074, w2v_ctc_loss=0.69, task_loss=1.323, contrastive_loss=0.036, total=4136.66, n_correct=2778.96, ppl=4.21, accuracy=67.179, wps=13237, ups=1.6, wpb=8273.3, bsz=304.7, num_updates=31900, lr=7.91808e-05, gnorm=0.544, clip=0, loss_scale=8, train_wall=62, gb_free=14.3, wall=25213
2023-08-22 22:02:02 | INFO | train_inner | epoch 022:   1062 / 1474 loss=1.943, trans_loss=4.841, nll_loss=2.064, w2v_ctc_loss=0.675, task_loss=1.261, contrastive_loss=0.193, total=4152.13, n_correct=2800.06, ppl=4.18, accuracy=67.437, wps=13353.1, ups=1.61, wpb=8304.3, bsz=313.8, num_updates=32000, lr=7.90569e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=62, gb_free=15.7, wall=25276
2023-08-22 22:02:02 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 22:02:35 | INFO | dev_st | epoch 022 | valid on 'dev_st' subset | loss 3.936 | trans_loss 5.175 | nll_loss 2.442 | w2v_ctc_loss 1.322 | task_loss 4.594 | contrastive_loss 0.219 | total 4003.4 | n_correct 2659.6 | ppl 5.43 | accuracy 66.434 | uer 18.382 | wer 20.413 | raw_wer 20.413 | bleu 22.05 | wps 1620.3 | wpb 4003.4 | bsz 141.8 | num_updates 32000 | best_bleu 22.05
2023-08-22 22:02:35 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 22 @ 32000 updates
2023-08-22 22:02:35 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_22_32000.pt
2023-08-22 22:02:38 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_22_32000.pt
2023-08-22 22:02:53 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_22_32000.pt (epoch 22 @ 32000 updates, score 22.05) (writing took 17.140808768104762 seconds)
2023-08-22 22:03:56 | INFO | train_inner | epoch 022:   1162 / 1474 loss=1.959, trans_loss=4.87, nll_loss=2.1, w2v_ctc_loss=0.705, task_loss=1.36, contrastive_loss=0.083, total=4102.27, n_correct=2742.51, ppl=4.29, accuracy=66.853, wps=7227.2, ups=0.88, wpb=8204.5, bsz=296.1, num_updates=32100, lr=7.89337e-05, gnorm=0.529, clip=0, loss_scale=16, train_wall=62, gb_free=16.4, wall=25389
2023-08-22 22:04:58 | INFO | train_inner | epoch 022:   1262 / 1474 loss=1.947, trans_loss=4.865, nll_loss=2.094, w2v_ctc_loss=0.694, task_loss=1.22, contrastive_loss=0.067, total=4179.1, n_correct=2798.09, ppl=4.27, accuracy=66.954, wps=13382.8, ups=1.6, wpb=8358.2, bsz=321.7, num_updates=32200, lr=7.8811e-05, gnorm=0.534, clip=0, loss_scale=16, train_wall=62, gb_free=16.7, wall=25452
2023-08-22 22:06:00 | INFO | train_inner | epoch 022:   1362 / 1474 loss=1.944, trans_loss=4.85, nll_loss=2.074, w2v_ctc_loss=0.688, task_loss=1.318, contrastive_loss=0.096, total=4061.14, n_correct=2729.55, ppl=4.21, accuracy=67.211, wps=13059.7, ups=1.61, wpb=8122.3, bsz=299.1, num_updates=32300, lr=7.86889e-05, gnorm=0.528, clip=0, loss_scale=16, train_wall=62, gb_free=16.6, wall=25514
2023-08-22 22:07:03 | INFO | train_inner | epoch 022:   1462 / 1474 loss=1.952, trans_loss=4.864, nll_loss=2.092, w2v_ctc_loss=0.706, task_loss=1.41, contrastive_loss=0.042, total=4083.08, n_correct=2733.97, ppl=4.26, accuracy=66.959, wps=13094.7, ups=1.6, wpb=8166.2, bsz=289.3, num_updates=32400, lr=7.85674e-05, gnorm=0.531, clip=0, loss_scale=16, train_wall=62, gb_free=15.8, wall=25576
2023-08-22 22:07:10 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 22:07:44 | INFO | dev_st | epoch 022 | valid on 'dev_st' subset | loss 3.925 | trans_loss 5.169 | nll_loss 2.431 | w2v_ctc_loss 1.304 | task_loss 4.619 | contrastive_loss 0.215 | total 4003.4 | n_correct 2659.7 | ppl 5.39 | accuracy 66.436 | uer 18.297 | wer 20.193 | raw_wer 20.193 | bleu 22.04 | wps 1597.2 | wpb 4003.4 | bsz 141.8 | num_updates 32412 | best_bleu 22.05
2023-08-22 22:07:44 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 22 @ 32412 updates
2023-08-22 22:07:44 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0401.pt
2023-08-22 22:07:46 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0401.pt
2023-08-22 22:07:51 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0401.pt (epoch 22 @ 32412 updates, score 22.04) (writing took 7.503627435071394 seconds)
2023-08-22 22:07:52 | INFO | fairseq_cli.train | end of epoch 22 (average epoch stats below)
2023-08-22 22:07:52 | INFO | train | epoch 022 | loss 1.946 | trans_loss 4.853 | nll_loss 2.078 | w2v_ctc_loss 0.693 | task_loss 1.317 | contrastive_loss 0.082 | total 4138.65 | n_correct 2779.06 | ppl 4.22 | accuracy 67.149 | wps 11943.2 | ups 1.44 | wpb 8277.3 | bsz 305.7 | num_updates 32412 | lr 7.85529e-05 | gnorm 0.542 | clip 0 | loss_scale 16 | train_wall 912 | gb_free 11.2 | wall 25626
2023-08-22 22:07:52 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 22:07:52 | INFO | fairseq.trainer | begin training epoch 23
2023-08-22 22:07:52 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 22:08:16 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-22 22:08:55 | INFO | train_inner | epoch 023:     89 / 1474 loss=1.931, trans_loss=4.834, nll_loss=2.054, w2v_ctc_loss=0.687, task_loss=1.331, contrastive_loss=0.031, total=4096.19, n_correct=2766.29, ppl=4.15, accuracy=67.533, wps=7308.3, ups=0.89, wpb=8192.4, bsz=301, num_updates=32500, lr=7.84465e-05, gnorm=0.525, clip=0, loss_scale=8, train_wall=62, gb_free=15.8, wall=25688
2023-08-22 22:09:57 | INFO | train_inner | epoch 023:    189 / 1474 loss=1.932, trans_loss=4.832, nll_loss=2.051, w2v_ctc_loss=0.684, task_loss=1.397, contrastive_loss=0.035, total=4117.93, n_correct=2780.95, ppl=4.14, accuracy=67.533, wps=13156.4, ups=1.6, wpb=8235.9, bsz=295.9, num_updates=32600, lr=7.8326e-05, gnorm=0.553, clip=0, loss_scale=8, train_wall=62, gb_free=15.4, wall=25751
2023-08-22 22:11:00 | INFO | train_inner | epoch 023:    289 / 1474 loss=1.941, trans_loss=4.844, nll_loss=2.066, w2v_ctc_loss=0.68, task_loss=1.335, contrastive_loss=0.105, total=4142.43, n_correct=2790.01, ppl=4.19, accuracy=67.352, wps=13220.4, ups=1.6, wpb=8284.9, bsz=303.4, num_updates=32700, lr=7.82062e-05, gnorm=0.533, clip=0, loss_scale=8, train_wall=62, gb_free=16.3, wall=25814
2023-08-22 22:12:02 | INFO | train_inner | epoch 023:    389 / 1474 loss=1.927, trans_loss=4.828, nll_loss=2.044, w2v_ctc_loss=0.679, task_loss=1.361, contrastive_loss=0.027, total=4115.12, n_correct=2786.33, ppl=4.12, accuracy=67.71, wps=13238.5, ups=1.61, wpb=8230.2, bsz=294.4, num_updates=32800, lr=7.80869e-05, gnorm=0.522, clip=0, loss_scale=8, train_wall=62, gb_free=12.8, wall=25876
2023-08-22 22:13:05 | INFO | train_inner | epoch 023:    489 / 1474 loss=1.936, trans_loss=4.841, nll_loss=2.063, w2v_ctc_loss=0.68, task_loss=1.286, contrastive_loss=0.079, total=4156.86, n_correct=2802.91, ppl=4.18, accuracy=67.429, wps=13313.5, ups=1.6, wpb=8313.7, bsz=312.1, num_updates=32900, lr=7.79681e-05, gnorm=0.519, clip=0, loss_scale=8, train_wall=62, gb_free=14.8, wall=25938
2023-08-22 22:14:06 | INFO | train_inner | epoch 023:    589 / 1474 loss=1.926, trans_loss=4.831, nll_loss=2.05, w2v_ctc_loss=0.682, task_loss=1.244, contrastive_loss=0.029, total=4172.99, n_correct=2824.11, ppl=4.14, accuracy=67.676, wps=13519.3, ups=1.62, wpb=8346, bsz=316.1, num_updates=33000, lr=7.78499e-05, gnorm=0.516, clip=0, loss_scale=8, train_wall=61, gb_free=15.5, wall=26000
2023-08-22 22:15:09 | INFO | train_inner | epoch 023:    689 / 1474 loss=1.937, trans_loss=4.841, nll_loss=2.064, w2v_ctc_loss=0.682, task_loss=1.32, contrastive_loss=0.067, total=4135.85, n_correct=2787.18, ppl=4.18, accuracy=67.391, wps=13177.8, ups=1.59, wpb=8271.7, bsz=301.9, num_updates=33100, lr=7.77322e-05, gnorm=0.512, clip=0, loss_scale=8, train_wall=62, gb_free=13.7, wall=26063
2023-08-22 22:16:11 | INFO | train_inner | epoch 023:    789 / 1474 loss=1.936, trans_loss=4.842, nll_loss=2.064, w2v_ctc_loss=0.688, task_loss=1.324, contrastive_loss=0.044, total=4155.54, n_correct=2800.26, ppl=4.18, accuracy=67.386, wps=13368.7, ups=1.61, wpb=8311.1, bsz=306.6, num_updates=33200, lr=7.76151e-05, gnorm=0.522, clip=0, loss_scale=8, train_wall=62, gb_free=16.5, wall=26125
2023-08-22 22:16:13 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 22:17:14 | INFO | train_inner | epoch 023:    890 / 1474 loss=1.935, trans_loss=4.834, nll_loss=2.054, w2v_ctc_loss=0.679, task_loss=1.196, contrastive_loss=0.122, total=4187.54, n_correct=2829.72, ppl=4.15, accuracy=67.575, wps=13323.9, ups=1.59, wpb=8375.1, bsz=325.2, num_updates=33300, lr=7.74984e-05, gnorm=0.531, clip=0, loss_scale=4, train_wall=62, gb_free=15.3, wall=26188
2023-08-22 22:18:18 | INFO | train_inner | epoch 023:    990 / 1474 loss=1.958, trans_loss=4.842, nll_loss=2.064, w2v_ctc_loss=0.688, task_loss=1.327, contrastive_loss=0.289, total=4159.37, n_correct=2798.53, ppl=4.18, accuracy=67.283, wps=13161.6, ups=1.58, wpb=8318.7, bsz=308.7, num_updates=33400, lr=7.73823e-05, gnorm=0.521, clip=0, loss_scale=4, train_wall=63, gb_free=13.1, wall=26251
2023-08-22 22:19:21 | INFO | train_inner | epoch 023:   1090 / 1474 loss=1.942, trans_loss=4.847, nll_loss=2.071, w2v_ctc_loss=0.696, task_loss=1.398, contrastive_loss=0.035, total=4093.39, n_correct=2751.49, ppl=4.2, accuracy=67.218, wps=12991.6, ups=1.59, wpb=8186.8, bsz=291.2, num_updates=33500, lr=7.72667e-05, gnorm=0.56, clip=0, loss_scale=4, train_wall=62, gb_free=15.9, wall=26314
2023-08-22 22:20:23 | INFO | train_inner | epoch 023:   1190 / 1474 loss=1.937, trans_loss=4.849, nll_loss=2.073, w2v_ctc_loss=0.692, task_loss=1.314, contrastive_loss=0.029, total=4158.33, n_correct=2796.79, ppl=4.21, accuracy=67.258, wps=13231.8, ups=1.59, wpb=8316.7, bsz=308.3, num_updates=33600, lr=7.71517e-05, gnorm=0.539, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=26377
2023-08-22 22:21:25 | INFO | train_inner | epoch 023:   1290 / 1474 loss=1.929, trans_loss=4.84, nll_loss=2.062, w2v_ctc_loss=0.68, task_loss=1.272, contrastive_loss=0.039, total=4142.25, n_correct=2795.24, ppl=4.17, accuracy=67.481, wps=13385.8, ups=1.62, wpb=8284.5, bsz=310.9, num_updates=33700, lr=7.70371e-05, gnorm=0.514, clip=0, loss_scale=4, train_wall=61, gb_free=16.1, wall=26439
2023-08-22 22:22:28 | INFO | train_inner | epoch 023:   1390 / 1474 loss=1.949, trans_loss=4.854, nll_loss=2.08, w2v_ctc_loss=0.688, task_loss=1.3, contrastive_loss=0.111, total=4164.41, n_correct=2797.67, ppl=4.23, accuracy=67.18, wps=13292.6, ups=1.6, wpb=8328.8, bsz=310.7, num_updates=33800, lr=7.69231e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=17.1, wall=26501
2023-08-22 22:23:21 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 22:23:54 | INFO | dev_st | epoch 023 | valid on 'dev_st' subset | loss 3.934 | trans_loss 5.172 | nll_loss 2.434 | w2v_ctc_loss 1.326 | task_loss 4.633 | contrastive_loss 0.218 | total 4003.4 | n_correct 2667.2 | ppl 5.4 | accuracy 66.623 | uer 17.838 | wer 19.604 | raw_wer 19.604 | bleu 21.59 | wps 1628.5 | wpb 4003.4 | bsz 141.8 | num_updates 33884 | best_bleu 22.05
2023-08-22 22:23:54 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 23 @ 33884 updates
2023-08-22 22:23:54 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.5908.pt
2023-08-22 22:23:57 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.5908.pt
2023-08-22 22:24:01 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.5908.pt (epoch 23 @ 33884 updates, score 21.59) (writing took 7.513946115970612 seconds)
2023-08-22 22:24:02 | INFO | fairseq_cli.train | end of epoch 23 (average epoch stats below)
2023-08-22 22:24:02 | INFO | train | epoch 023 | loss 1.938 | trans_loss 4.841 | nll_loss 2.062 | w2v_ctc_loss 0.684 | task_loss 1.316 | contrastive_loss 0.081 | total 4138.82 | n_correct 2790.23 | ppl 4.18 | accuracy 67.416 | wps 12563.3 | ups 1.52 | wpb 8277.6 | bsz 305.7 | num_updates 33884 | lr 7.68277e-05 | gnorm 0.528 | clip 0 | loss_scale 4 | train_wall 911 | gb_free 13.2 | wall 26595
2023-08-22 22:24:02 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 22:24:02 | INFO | fairseq.trainer | begin training epoch 24
2023-08-22 22:24:02 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 22:24:20 | INFO | train_inner | epoch 024:     16 / 1474 loss=1.954, trans_loss=4.849, nll_loss=2.074, w2v_ctc_loss=0.679, task_loss=1.318, contrastive_loss=0.215, total=4094.92, n_correct=2751.17, ppl=4.21, accuracy=67.185, wps=7329.8, ups=0.89, wpb=8189.8, bsz=305.9, num_updates=33900, lr=7.68095e-05, gnorm=0.542, clip=0, loss_scale=4, train_wall=62, gb_free=15.3, wall=26613
2023-08-22 22:25:22 | INFO | train_inner | epoch 024:    116 / 1474 loss=1.923, trans_loss=4.818, nll_loss=2.032, w2v_ctc_loss=0.663, task_loss=1.232, contrastive_loss=0.129, total=4150.31, n_correct=2819.44, ppl=4.09, accuracy=67.933, wps=13272.8, ups=1.6, wpb=8300.6, bsz=319.2, num_updates=34000, lr=7.66965e-05, gnorm=0.514, clip=0, loss_scale=4, train_wall=62, gb_free=17.2, wall=26676
2023-08-22 22:25:22 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 22:25:55 | INFO | dev_st | epoch 024 | valid on 'dev_st' subset | loss 3.933 | trans_loss 5.177 | nll_loss 2.438 | w2v_ctc_loss 1.307 | task_loss 4.638 | contrastive_loss 0.222 | total 4003.4 | n_correct 2663.9 | ppl 5.42 | accuracy 66.541 | uer 17.854 | wer 19.686 | raw_wer 19.686 | bleu 21.99 | wps 1638.9 | wpb 4003.4 | bsz 141.8 | num_updates 34000 | best_bleu 22.05
2023-08-22 22:25:55 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 24 @ 34000 updates
2023-08-22 22:25:55 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_24_34000.pt
2023-08-22 22:25:58 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_24_34000.pt
2023-08-22 22:26:04 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_24_34000.pt (epoch 24 @ 34000 updates, score 21.99) (writing took 9.135617609019391 seconds)
2023-08-22 22:27:07 | INFO | train_inner | epoch 024:    216 / 1474 loss=1.937, trans_loss=4.825, nll_loss=2.043, w2v_ctc_loss=0.661, task_loss=1.156, contrastive_loss=0.241, total=4242.25, n_correct=2872.66, ppl=4.12, accuracy=67.715, wps=8062.1, ups=0.95, wpb=8484.5, bsz=338.9, num_updates=34100, lr=7.6584e-05, gnorm=0.519, clip=0, loss_scale=4, train_wall=62, gb_free=15.7, wall=26781
2023-08-22 22:28:09 | INFO | train_inner | epoch 024:    316 / 1474 loss=1.921, trans_loss=4.825, nll_loss=2.042, w2v_ctc_loss=0.676, task_loss=1.273, contrastive_loss=0.028, total=4140.3, n_correct=2808.31, ppl=4.12, accuracy=67.829, wps=13401.3, ups=1.62, wpb=8280.6, bsz=308.4, num_updates=34200, lr=7.64719e-05, gnorm=0.556, clip=0, loss_scale=4, train_wall=61, gb_free=15.4, wall=26843
2023-08-22 22:29:12 | INFO | train_inner | epoch 024:    416 / 1474 loss=1.949, trans_loss=4.829, nll_loss=2.047, w2v_ctc_loss=0.691, task_loss=1.4, contrastive_loss=0.163, total=4152.16, n_correct=2802.28, ppl=4.13, accuracy=67.49, wps=13237.4, ups=1.59, wpb=8304.3, bsz=297.4, num_updates=34300, lr=7.63604e-05, gnorm=0.543, clip=0, loss_scale=4, train_wall=62, gb_free=17, wall=26905
2023-08-22 22:30:12 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 2.0
2023-08-22 22:30:16 | INFO | train_inner | epoch 024:    517 / 1474 loss=1.933, trans_loss=4.826, nll_loss=2.043, w2v_ctc_loss=0.677, task_loss=1.315, contrastive_loss=0.11, total=4161.33, n_correct=2816.88, ppl=4.12, accuracy=67.692, wps=12991.3, ups=1.56, wpb=8322.7, bsz=308.4, num_updates=34400, lr=7.62493e-05, gnorm=0.518, clip=0, loss_scale=2, train_wall=63, gb_free=16.3, wall=26969
2023-08-22 22:31:18 | INFO | train_inner | epoch 024:    617 / 1474 loss=1.924, trans_loss=4.827, nll_loss=2.044, w2v_ctc_loss=0.671, task_loss=1.339, contrastive_loss=0.041, total=4148.8, n_correct=2810.18, ppl=4.12, accuracy=67.735, wps=13295.5, ups=1.6, wpb=8297.6, bsz=303.7, num_updates=34500, lr=7.61387e-05, gnorm=0.543, clip=0, loss_scale=2, train_wall=62, gb_free=16.4, wall=27032
2023-08-22 22:32:21 | INFO | train_inner | epoch 024:    717 / 1474 loss=1.934, trans_loss=4.836, nll_loss=2.056, w2v_ctc_loss=0.679, task_loss=1.354, contrastive_loss=0.073, total=4093.83, n_correct=2764.14, ppl=4.16, accuracy=67.52, wps=13058.5, ups=1.59, wpb=8187.7, bsz=295.4, num_updates=34600, lr=7.60286e-05, gnorm=0.53, clip=0, loss_scale=2, train_wall=62, gb_free=16.3, wall=27095
2023-08-22 22:33:24 | INFO | train_inner | epoch 024:    817 / 1474 loss=1.93, trans_loss=4.838, nll_loss=2.06, w2v_ctc_loss=0.68, task_loss=1.331, contrastive_loss=0.042, total=4127.86, n_correct=2787.39, ppl=4.17, accuracy=67.526, wps=13167.6, ups=1.59, wpb=8255.7, bsz=305.5, num_updates=34700, lr=7.5919e-05, gnorm=0.519, clip=0, loss_scale=2, train_wall=62, gb_free=13, wall=27157
2023-08-22 22:34:26 | INFO | train_inner | epoch 024:    917 / 1474 loss=1.934, trans_loss=4.835, nll_loss=2.054, w2v_ctc_loss=0.686, task_loss=1.461, contrastive_loss=0.023, total=4036.65, n_correct=2722.99, ppl=4.15, accuracy=67.457, wps=12980.5, ups=1.61, wpb=8073.3, bsz=279.6, num_updates=34800, lr=7.58098e-05, gnorm=0.552, clip=0, loss_scale=2, train_wall=62, gb_free=14.6, wall=27220
2023-08-22 22:35:29 | INFO | train_inner | epoch 024:   1017 / 1474 loss=1.927, trans_loss=4.835, nll_loss=2.054, w2v_ctc_loss=0.676, task_loss=1.366, contrastive_loss=0.028, total=4121.84, n_correct=2788.86, ppl=4.15, accuracy=67.661, wps=13053.6, ups=1.58, wpb=8243.7, bsz=297, num_updates=34900, lr=7.57011e-05, gnorm=0.535, clip=0, loss_scale=2, train_wall=63, gb_free=16.8, wall=27283
2023-08-22 22:36:32 | INFO | train_inner | epoch 024:   1117 / 1474 loss=1.928, trans_loss=4.821, nll_loss=2.038, w2v_ctc_loss=0.683, task_loss=1.258, contrastive_loss=0.066, total=4138.25, n_correct=2803.31, ppl=4.11, accuracy=67.741, wps=13168.7, ups=1.59, wpb=8276.5, bsz=310.3, num_updates=35000, lr=7.55929e-05, gnorm=0.564, clip=0, loss_scale=2, train_wall=62, gb_free=12.7, wall=27346
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:0')
2023-08-22 22:37:35 | INFO | train_inner | epoch 024:   1217 / 1474 loss=1.928, trans_loss=4.835, nll_loss=2.054, w2v_ctc_loss=0.675, task_loss=1.3, contrastive_loss=0.053, total=4160.84, n_correct=2813.42, ppl=4.15, accuracy=67.617, wps=13216, ups=1.59, wpb=8321.7, bsz=312, num_updates=35100, lr=7.54851e-05, gnorm=0.533, clip=0, loss_scale=2, train_wall=62, gb_free=13.4, wall=27408
2023-08-22 22:38:37 | INFO | train_inner | epoch 024:   1317 / 1474 loss=1.935, trans_loss=4.837, nll_loss=2.058, w2v_ctc_loss=0.692, task_loss=1.398, contrastive_loss=0.032, total=4105.25, n_correct=2769.92, ppl=4.16, accuracy=67.473, wps=13150.5, ups=1.6, wpb=8210.5, bsz=294.5, num_updates=35200, lr=7.53778e-05, gnorm=0.539, clip=0, loss_scale=2, train_wall=62, gb_free=15.4, wall=27471
2023-08-22 22:39:39 | INFO | train_inner | epoch 024:   1417 / 1474 loss=1.934, trans_loss=4.837, nll_loss=2.058, w2v_ctc_loss=0.691, task_loss=1.382, contrastive_loss=0.028, total=4090.3, n_correct=2761.62, ppl=4.16, accuracy=67.516, wps=13209.9, ups=1.61, wpb=8180.6, bsz=290.7, num_updates=35300, lr=7.5271e-05, gnorm=0.615, clip=0, loss_scale=2, train_wall=61, gb_free=16.8, wall=27533
2023-08-22 22:40:15 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:5')
2023-08-22 22:40:48 | INFO | dev_st | epoch 024 | valid on 'dev_st' subset | loss 3.936 | trans_loss 5.163 | nll_loss 2.423 | w2v_ctc_loss 1.355 | task_loss 4.602 | contrastive_loss 0.211 | total 4003.4 | n_correct 2668.6 | ppl 5.36 | accuracy 66.658 | uer 18.438 | wer 20.223 | raw_wer 20.223 | bleu 21.85 | wps 1636.1 | wpb 4003.4 | bsz 141.8 | num_updates 35357 | best_bleu 22.05
2023-08-22 22:40:48 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 24 @ 35357 updates
2023-08-22 22:40:48 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.8504.pt
2023-08-22 22:40:51 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.8504.pt
2023-08-22 22:40:56 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.8504.pt (epoch 24 @ 35357 updates, score 21.85) (writing took 7.596651810919866 seconds)
2023-08-22 22:40:56 | INFO | fairseq_cli.train | end of epoch 24 (average epoch stats below)
2023-08-22 22:40:56 | INFO | train | epoch 024 | loss 1.931 | trans_loss 4.83 | nll_loss 2.049 | w2v_ctc_loss 0.678 | task_loss 1.315 | contrastive_loss 0.08 | total 4138.86 | n_correct 2799.49 | ppl 4.14 | accuracy 67.639 | wps 12025.1 | ups 1.45 | wpb 8277.7 | bsz 305.8 | num_updates 35357 | lr 7.52103e-05 | gnorm 0.541 | clip 0 | loss_scale 2 | train_wall 913 | gb_free 15.7 | wall 27609
2023-08-22 22:40:56 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 22:40:56 | INFO | fairseq.trainer | begin training epoch 25
2023-08-22 22:40:56 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 22:41:30 | INFO | train_inner | epoch 025:     43 / 1474 loss=1.918, trans_loss=4.822, nll_loss=2.039, w2v_ctc_loss=0.667, task_loss=1.271, contrastive_loss=0.035, total=4160.53, n_correct=2825.15, ppl=4.11, accuracy=67.904, wps=7509.9, ups=0.9, wpb=8321.1, bsz=309.9, num_updates=35400, lr=7.51646e-05, gnorm=0.533, clip=0, loss_scale=2, train_wall=62, gb_free=16.1, wall=27644
2023-08-22 22:42:32 | INFO | train_inner | epoch 025:    143 / 1474 loss=1.911, trans_loss=4.808, nll_loss=2.02, w2v_ctc_loss=0.663, task_loss=1.256, contrastive_loss=0.034, total=4141.89, n_correct=2821.83, ppl=4.06, accuracy=68.129, wps=13354.9, ups=1.61, wpb=8283.8, bsz=311.9, num_updates=35500, lr=7.50587e-05, gnorm=0.547, clip=0, loss_scale=2, train_wall=61, gb_free=16.1, wall=27706
2023-08-22 22:43:35 | INFO | train_inner | epoch 025:    243 / 1474 loss=1.919, trans_loss=4.814, nll_loss=2.028, w2v_ctc_loss=0.673, task_loss=1.353, contrastive_loss=0.036, total=4120.99, n_correct=2799.18, ppl=4.08, accuracy=67.925, wps=13039.5, ups=1.58, wpb=8242, bsz=301.5, num_updates=35600, lr=7.49532e-05, gnorm=0.565, clip=0, loss_scale=2, train_wall=63, gb_free=15.3, wall=27769
2023-08-22 22:44:38 | INFO | train_inner | epoch 025:    343 / 1474 loss=1.923, trans_loss=4.816, nll_loss=2.029, w2v_ctc_loss=0.668, task_loss=1.402, contrastive_loss=0.069, total=4136.22, n_correct=2808.69, ppl=4.08, accuracy=67.905, wps=13224.3, ups=1.6, wpb=8272.4, bsz=294.5, num_updates=35700, lr=7.48481e-05, gnorm=0.548, clip=0, loss_scale=2, train_wall=62, gb_free=11.9, wall=27831
2023-08-22 22:45:41 | INFO | train_inner | epoch 025:    443 / 1474 loss=1.942, trans_loss=4.82, nll_loss=2.036, w2v_ctc_loss=0.687, task_loss=1.382, contrastive_loss=0.148, total=4163.26, n_correct=2820.71, ppl=4.1, accuracy=67.752, wps=13259.1, ups=1.59, wpb=8326.5, bsz=296.4, num_updates=35800, lr=7.47435e-05, gnorm=0.565, clip=0, loss_scale=2, train_wall=62, gb_free=15.4, wall=27894
2023-08-22 22:46:43 | INFO | train_inner | epoch 025:    543 / 1474 loss=1.922, trans_loss=4.826, nll_loss=2.044, w2v_ctc_loss=0.672, task_loss=1.27, contrastive_loss=0.037, total=4169.98, n_correct=2826.2, ppl=4.12, accuracy=67.775, wps=13445.2, ups=1.61, wpb=8340, bsz=316.3, num_updates=35900, lr=7.46393e-05, gnorm=0.533, clip=0, loss_scale=2, train_wall=61, gb_free=14.6, wall=27956
2023-08-22 22:47:45 | INFO | train_inner | epoch 025:    643 / 1474 loss=1.922, trans_loss=4.812, nll_loss=2.025, w2v_ctc_loss=0.669, task_loss=1.313, contrastive_loss=0.1, total=4151.24, n_correct=2823.64, ppl=4.07, accuracy=68.019, wps=13263.1, ups=1.6, wpb=8302.5, bsz=308.3, num_updates=36000, lr=7.45356e-05, gnorm=0.513, clip=0, loss_scale=2, train_wall=62, gb_free=15.6, wall=28019
2023-08-22 22:47:45 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 22:48:18 | INFO | dev_st | epoch 025 | valid on 'dev_st' subset | loss 3.933 | trans_loss 5.17 | nll_loss 2.432 | w2v_ctc_loss 1.328 | task_loss 4.611 | contrastive_loss 0.214 | total 4003.4 | n_correct 2673.4 | ppl 5.39 | accuracy 66.778 | uer 18.108 | wer 19.932 | raw_wer 19.932 | bleu 21.99 | wps 1635 | wpb 4003.4 | bsz 141.8 | num_updates 36000 | best_bleu 22.05
2023-08-22 22:48:18 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 25 @ 36000 updates
2023-08-22 22:48:18 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_25_36000.pt
2023-08-22 22:48:21 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_25_36000.pt
2023-08-22 22:48:27 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_25_36000.pt (epoch 25 @ 36000 updates, score 21.99) (writing took 8.606944485916756 seconds)
2023-08-22 22:49:30 | INFO | train_inner | epoch 025:    743 / 1474 loss=1.925, trans_loss=4.814, nll_loss=2.028, w2v_ctc_loss=0.67, task_loss=1.3, contrastive_loss=0.095, total=4147.45, n_correct=2815.28, ppl=4.08, accuracy=67.88, wps=7916.8, ups=0.95, wpb=8294.9, bsz=307.3, num_updates=36100, lr=7.44323e-05, gnorm=0.535, clip=0, loss_scale=2, train_wall=62, gb_free=16.2, wall=28124
2023-08-22 22:50:32 | INFO | train_inner | epoch 025:    843 / 1474 loss=1.918, trans_loss=4.821, nll_loss=2.037, w2v_ctc_loss=0.668, task_loss=1.24, contrastive_loss=0.043, total=4156.98, n_correct=2820.41, ppl=4.1, accuracy=67.848, wps=13399.9, ups=1.61, wpb=8314, bsz=320.5, num_updates=36200, lr=7.43294e-05, gnorm=0.515, clip=0, loss_scale=2, train_wall=61, gb_free=16.8, wall=28186
2023-08-22 22:51:35 | INFO | train_inner | epoch 025:    943 / 1474 loss=1.924, trans_loss=4.821, nll_loss=2.038, w2v_ctc_loss=0.668, task_loss=1.26, contrastive_loss=0.101, total=4156.27, n_correct=2822.89, ppl=4.11, accuracy=67.919, wps=13263.6, ups=1.6, wpb=8312.5, bsz=315.4, num_updates=36300, lr=7.4227e-05, gnorm=0.525, clip=0, loss_scale=2, train_wall=62, gb_free=14.6, wall=28248
2023-08-22 22:52:38 | INFO | train_inner | epoch 025:   1043 / 1474 loss=1.94, trans_loss=4.831, nll_loss=2.05, w2v_ctc_loss=0.67, task_loss=1.293, contrastive_loss=0.214, total=4185.72, n_correct=2830.35, ppl=4.14, accuracy=67.619, wps=13300.4, ups=1.59, wpb=8371.4, bsz=313, num_updates=36400, lr=7.41249e-05, gnorm=0.562, clip=0, loss_scale=2, train_wall=62, gb_free=14.5, wall=28311
2023-08-22 22:53:40 | INFO | train_inner | epoch 025:   1143 / 1474 loss=1.923, trans_loss=4.823, nll_loss=2.039, w2v_ctc_loss=0.675, task_loss=1.43, contrastive_loss=0.023, total=4033.28, n_correct=2733.21, ppl=4.11, accuracy=67.766, wps=12917.3, ups=1.6, wpb=8066.6, bsz=283.5, num_updates=36500, lr=7.40233e-05, gnorm=0.525, clip=0, loss_scale=4, train_wall=61, gb_free=17.3, wall=28374
2023-08-22 22:54:43 | INFO | train_inner | epoch 025:   1243 / 1474 loss=1.921, trans_loss=4.826, nll_loss=2.044, w2v_ctc_loss=0.667, task_loss=1.347, contrastive_loss=0.032, total=4083.07, n_correct=2767.23, ppl=4.12, accuracy=67.773, wps=13089.4, ups=1.6, wpb=8166.1, bsz=294.5, num_updates=36600, lr=7.39221e-05, gnorm=0.538, clip=0, loss_scale=4, train_wall=62, gb_free=16.5, wall=28436
2023-08-22 22:55:46 | INFO | train_inner | epoch 025:   1343 / 1474 loss=1.929, trans_loss=4.821, nll_loss=2.037, w2v_ctc_loss=0.673, task_loss=1.292, contrastive_loss=0.124, total=4168.78, n_correct=2827.93, ppl=4.1, accuracy=67.836, wps=13295.1, ups=1.59, wpb=8337.6, bsz=308.9, num_updates=36700, lr=7.38213e-05, gnorm=0.545, clip=0, loss_scale=4, train_wall=62, gb_free=15.5, wall=28499
2023-08-22 22:56:49 | INFO | train_inner | epoch 025:   1443 / 1474 loss=1.936, trans_loss=4.837, nll_loss=2.058, w2v_ctc_loss=0.679, task_loss=1.309, contrastive_loss=0.088, total=4131.36, n_correct=2785.52, ppl=4.16, accuracy=67.424, wps=13116.6, ups=1.59, wpb=8262.7, bsz=309.3, num_updates=36800, lr=7.3721e-05, gnorm=0.613, clip=0, loss_scale=4, train_wall=62, gb_free=11.7, wall=28562
2023-08-22 22:57:08 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 22:57:42 | INFO | dev_st | epoch 025 | valid on 'dev_st' subset | loss 3.923 | trans_loss 5.163 | nll_loss 2.421 | w2v_ctc_loss 1.311 | task_loss 4.604 | contrastive_loss 0.216 | total 4003.4 | n_correct 2666.8 | ppl 5.36 | accuracy 66.613 | uer 17.947 | wer 19.805 | raw_wer 19.805 | bleu 21.96 | wps 1588.9 | wpb 4003.4 | bsz 141.8 | num_updates 36831 | best_bleu 22.05
2023-08-22 22:57:42 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 25 @ 36831 updates
2023-08-22 22:57:42 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.9609.pt
2023-08-22 22:57:44 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.9609.pt
2023-08-22 22:57:50 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.9609.pt (epoch 25 @ 36831 updates, score 21.96) (writing took 7.908400860032998 seconds)
2023-08-22 22:57:50 | INFO | fairseq_cli.train | end of epoch 25 (average epoch stats below)
2023-08-22 22:57:50 | INFO | train | epoch 025 | loss 1.925 | trans_loss 4.821 | nll_loss 2.036 | w2v_ctc_loss 0.672 | task_loss 1.315 | contrastive_loss 0.08 | total 4138.65 | n_correct 2807.27 | ppl 4.1 | accuracy 67.831 | wps 12031.4 | ups 1.45 | wpb 8277.3 | bsz 305.7 | num_updates 36831 | lr 7.36899e-05 | gnorm 0.544 | clip 0 | loss_scale 4 | train_wall 912 | gb_free 13.9 | wall 28623
2023-08-22 22:57:50 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 22:57:50 | INFO | fairseq.trainer | begin training epoch 26
2023-08-22 22:57:50 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 22:58:41 | INFO | train_inner | epoch 026:     69 / 1474 loss=1.913, trans_loss=4.805, nll_loss=2.016, w2v_ctc_loss=0.664, task_loss=1.26, contrastive_loss=0.051, total=4157.89, n_correct=2832.76, ppl=4.04, accuracy=68.13, wps=7413.6, ups=0.89, wpb=8315.8, bsz=313.7, num_updates=36900, lr=7.3621e-05, gnorm=0.543, clip=0, loss_scale=4, train_wall=62, gb_free=11.5, wall=28674
2023-08-22 22:59:44 | INFO | train_inner | epoch 026:    169 / 1474 loss=1.918, trans_loss=4.802, nll_loss=2.013, w2v_ctc_loss=0.643, task_loss=1.159, contrastive_loss=0.234, total=4269.48, n_correct=2921.44, ppl=4.04, accuracy=68.426, wps=13514.2, ups=1.58, wpb=8539, bsz=338.4, num_updates=37000, lr=7.35215e-05, gnorm=0.532, clip=0, loss_scale=4, train_wall=62, gb_free=16.8, wall=28737
2023-08-22 23:00:47 | INFO | train_inner | epoch 026:    269 / 1474 loss=1.92, trans_loss=4.803, nll_loss=2.013, w2v_ctc_loss=0.667, task_loss=1.305, contrastive_loss=0.116, total=4124.11, n_correct=2809.43, ppl=4.04, accuracy=68.122, wps=13142.8, ups=1.59, wpb=8248.2, bsz=307.4, num_updates=37100, lr=7.34223e-05, gnorm=0.594, clip=0, loss_scale=4, train_wall=62, gb_free=14.6, wall=28800
2023-08-22 23:01:49 | INFO | train_inner | epoch 026:    369 / 1474 loss=1.918, trans_loss=4.809, nll_loss=2.022, w2v_ctc_loss=0.667, task_loss=1.255, contrastive_loss=0.072, total=4165.17, n_correct=2835.51, ppl=4.06, accuracy=68.077, wps=13394, ups=1.61, wpb=8330.3, bsz=314.8, num_updates=37200, lr=7.33236e-05, gnorm=0.614, clip=0, loss_scale=4, train_wall=61, gb_free=15.8, wall=28862
2023-08-22 23:02:51 | INFO | train_inner | epoch 026:    469 / 1474 loss=1.922, trans_loss=4.8, nll_loss=2.011, w2v_ctc_loss=0.674, task_loss=1.272, contrastive_loss=0.125, total=4159.48, n_correct=2836.98, ppl=4.03, accuracy=68.205, wps=13428.3, ups=1.61, wpb=8319, bsz=313, num_updates=37300, lr=7.32252e-05, gnorm=0.519, clip=0, loss_scale=4, train_wall=61, gb_free=12.8, wall=28924
2023-08-22 23:03:54 | INFO | train_inner | epoch 026:    569 / 1474 loss=1.918, trans_loss=4.809, nll_loss=2.021, w2v_ctc_loss=0.676, task_loss=1.305, contrastive_loss=0.041, total=4165.04, n_correct=2832.49, ppl=4.06, accuracy=68.006, wps=13258.7, ups=1.59, wpb=8330.1, bsz=305.4, num_updates=37400, lr=7.31272e-05, gnorm=0.537, clip=0, loss_scale=4, train_wall=62, gb_free=15.3, wall=28987
2023-08-22 23:04:56 | INFO | train_inner | epoch 026:    669 / 1474 loss=1.912, trans_loss=4.81, nll_loss=2.022, w2v_ctc_loss=0.657, task_loss=1.357, contrastive_loss=0.029, total=4129.35, n_correct=2812.59, ppl=4.06, accuracy=68.112, wps=13147.9, ups=1.59, wpb=8258.7, bsz=296.8, num_updates=37500, lr=7.30297e-05, gnorm=0.541, clip=0, loss_scale=4, train_wall=62, gb_free=17.1, wall=29050
2023-08-22 23:05:27 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 2.0
2023-08-22 23:05:59 | INFO | train_inner | epoch 026:    770 / 1474 loss=1.93, trans_loss=4.817, nll_loss=2.031, w2v_ctc_loss=0.667, task_loss=1.339, contrastive_loss=0.144, total=4095.38, n_correct=2779.22, ppl=4.09, accuracy=67.862, wps=13034.8, ups=1.59, wpb=8190.8, bsz=299.2, num_updates=37600, lr=7.29325e-05, gnorm=0.56, clip=0, loss_scale=2, train_wall=62, gb_free=16.6, wall=29113
2023-08-22 23:07:02 | INFO | train_inner | epoch 026:    870 / 1474 loss=1.92, trans_loss=4.812, nll_loss=2.025, w2v_ctc_loss=0.674, task_loss=1.31, contrastive_loss=0.041, total=4177.9, n_correct=2839.6, ppl=4.07, accuracy=67.967, wps=13342.3, ups=1.6, wpb=8355.8, bsz=306.9, num_updates=37700, lr=7.28357e-05, gnorm=0.556, clip=0, loss_scale=2, train_wall=62, gb_free=15.8, wall=29175
2023-08-22 23:08:04 | INFO | train_inner | epoch 026:    970 / 1474 loss=1.918, trans_loss=4.813, nll_loss=2.026, w2v_ctc_loss=0.654, task_loss=1.337, contrastive_loss=0.099, total=4145.98, n_correct=2818.13, ppl=4.07, accuracy=67.973, wps=13267.8, ups=1.6, wpb=8292, bsz=302.5, num_updates=37800, lr=7.27393e-05, gnorm=0.562, clip=0, loss_scale=2, train_wall=62, gb_free=16.1, wall=29238
2023-08-22 23:09:07 | INFO | train_inner | epoch 026:   1070 / 1474 loss=1.917, trans_loss=4.813, nll_loss=2.026, w2v_ctc_loss=0.669, task_loss=1.384, contrastive_loss=0.028, total=4118.58, n_correct=2806.52, ppl=4.07, accuracy=68.143, wps=13126.5, ups=1.59, wpb=8237.2, bsz=293.8, num_updates=37900, lr=7.26433e-05, gnorm=0.569, clip=0, loss_scale=2, train_wall=62, gb_free=16.5, wall=29301
2023-08-22 23:10:10 | INFO | train_inner | epoch 026:   1170 / 1474 loss=1.925, trans_loss=4.822, nll_loss=2.038, w2v_ctc_loss=0.67, task_loss=1.391, contrastive_loss=0.069, total=4113.01, n_correct=2787.9, ppl=4.11, accuracy=67.782, wps=13022.6, ups=1.58, wpb=8226, bsz=298.1, num_updates=38000, lr=7.25476e-05, gnorm=0.53, clip=0, loss_scale=2, train_wall=62, gb_free=12.8, wall=29364
2023-08-22 23:10:10 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 23:10:43 | INFO | dev_st | epoch 026 | valid on 'dev_st' subset | loss 3.93 | trans_loss 5.167 | nll_loss 2.426 | w2v_ctc_loss 1.321 | task_loss 4.594 | contrastive_loss 0.22 | total 4003.4 | n_correct 2674.1 | ppl 5.37 | accuracy 66.796 | uer 18.3 | wer 20.212 | raw_wer 20.212 | bleu 22.47 | wps 1652.4 | wpb 4003.4 | bsz 141.8 | num_updates 38000 | best_bleu 22.47
2023-08-22 23:10:43 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 26 @ 38000 updates
2023-08-22 23:10:43 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_26_38000.pt
2023-08-22 23:10:45 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_26_38000.pt
2023-08-22 23:10:56 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_26_38000.pt (epoch 26 @ 38000 updates, score 22.47) (writing took 13.166292452951893 seconds)
2023-08-22 23:11:59 | INFO | train_inner | epoch 026:   1270 / 1474 loss=1.927, trans_loss=4.827, nll_loss=2.044, w2v_ctc_loss=0.68, task_loss=1.446, contrastive_loss=0.03, total=4007.19, n_correct=2714.35, ppl=4.12, accuracy=67.737, wps=7366.8, ups=0.92, wpb=8014.4, bsz=281.1, num_updates=38100, lr=7.24524e-05, gnorm=0.558, clip=0, loss_scale=2, train_wall=61, gb_free=16.3, wall=29473
2023-08-22 23:13:03 | INFO | train_inner | epoch 026:   1370 / 1474 loss=1.913, trans_loss=4.819, nll_loss=2.034, w2v_ctc_loss=0.657, task_loss=1.309, contrastive_loss=0.039, total=4157.41, n_correct=2825.56, ppl=4.1, accuracy=67.964, wps=13120.4, ups=1.58, wpb=8314.8, bsz=312.4, num_updates=38200, lr=7.23575e-05, gnorm=0.611, clip=0, loss_scale=2, train_wall=63, gb_free=16.1, wall=29536
2023-08-22 23:14:05 | INFO | train_inner | epoch 026:   1470 / 1474 loss=1.91, trans_loss=4.813, nll_loss=2.027, w2v_ctc_loss=0.658, task_loss=1.281, contrastive_loss=0.034, total=4141.4, n_correct=2823.11, ppl=4.08, accuracy=68.168, wps=13349.9, ups=1.61, wpb=8282.8, bsz=311.3, num_updates=38300, lr=7.22629e-05, gnorm=0.521, clip=0, loss_scale=2, train_wall=61, gb_free=16.8, wall=29598
2023-08-22 23:14:07 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 23:14:40 | INFO | dev_st | epoch 026 | valid on 'dev_st' subset | loss 3.916 | trans_loss 5.162 | nll_loss 2.421 | w2v_ctc_loss 1.287 | task_loss 4.607 | contrastive_loss 0.217 | total 4003.4 | n_correct 2671.1 | ppl 5.36 | accuracy 66.721 | uer 17.843 | wer 19.544 | raw_wer 19.544 | bleu 21.9 | wps 1607.2 | wpb 4003.4 | bsz 141.8 | num_updates 38304 | best_bleu 22.47
2023-08-22 23:14:40 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 26 @ 38304 updates
2023-08-22 23:14:40 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.9005.pt
2023-08-22 23:14:43 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.9005.pt
2023-08-22 23:14:48 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.9005.pt (epoch 26 @ 38304 updates, score 21.9) (writing took 8.225371359963901 seconds)
2023-08-22 23:14:49 | INFO | fairseq_cli.train | end of epoch 26 (average epoch stats below)
2023-08-22 23:14:49 | INFO | train | epoch 026 | loss 1.919 | trans_loss 4.811 | nll_loss 2.024 | w2v_ctc_loss 0.665 | task_loss 1.315 | contrastive_loss 0.079 | total 4138.98 | n_correct 2816.7 | ppl 4.07 | accuracy 68.053 | wps 11970 | ups 1.45 | wpb 8278 | bsz 305.7 | num_updates 38304 | lr 7.22592e-05 | gnorm 0.557 | clip 0 | loss_scale 2 | train_wall 913 | gb_free 15.6 | wall 29642
2023-08-22 23:14:49 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 23:14:49 | INFO | fairseq.trainer | begin training epoch 27
2023-08-22 23:14:49 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 23:15:55 | INFO | train_inner | epoch 027:     96 / 1474 loss=1.896, trans_loss=4.778, nll_loss=1.98, w2v_ctc_loss=0.645, task_loss=1.399, contrastive_loss=0.021, total=4078.13, n_correct=2801.71, ppl=3.94, accuracy=68.701, wps=7353.4, ups=0.9, wpb=8156.3, bsz=285.1, num_updates=38400, lr=7.21688e-05, gnorm=0.531, clip=0, loss_scale=2, train_wall=61, gb_free=14.7, wall=29709
2023-08-22 23:16:58 | INFO | train_inner | epoch 027:    196 / 1474 loss=1.896, trans_loss=4.789, nll_loss=1.996, w2v_ctc_loss=0.646, task_loss=1.246, contrastive_loss=0.04, total=4185.69, n_correct=2868.73, ppl=3.99, accuracy=68.537, wps=13360, ups=1.6, wpb=8371.4, bsz=323.7, num_updates=38500, lr=7.2075e-05, gnorm=0.514, clip=0, loss_scale=2, train_wall=62, gb_free=16.8, wall=29772
2023-08-22 23:18:02 | INFO | train_inner | epoch 027:    296 / 1474 loss=1.908, trans_loss=4.798, nll_loss=2.007, w2v_ctc_loss=0.662, task_loss=1.316, contrastive_loss=0.03, total=4164.1, n_correct=2848.23, ppl=4.02, accuracy=68.4, wps=13135.9, ups=1.58, wpb=8328.2, bsz=305.7, num_updates=38600, lr=7.19816e-05, gnorm=0.561, clip=0, loss_scale=2, train_wall=63, gb_free=16.2, wall=29835
2023-08-22 23:19:05 | INFO | train_inner | epoch 027:    396 / 1474 loss=1.931, trans_loss=4.806, nll_loss=2.018, w2v_ctc_loss=0.663, task_loss=1.369, contrastive_loss=0.213, total=4080.38, n_correct=2777.8, ppl=4.05, accuracy=68.077, wps=12810.4, ups=1.57, wpb=8160.8, bsz=298.1, num_updates=38700, lr=7.18885e-05, gnorm=0.553, clip=0, loss_scale=2, train_wall=63, gb_free=15.6, wall=29899
2023-08-22 23:20:08 | INFO | train_inner | epoch 027:    496 / 1474 loss=1.919, trans_loss=4.809, nll_loss=2.021, w2v_ctc_loss=0.658, task_loss=1.213, contrastive_loss=0.143, total=4239.9, n_correct=2888.05, ppl=4.06, accuracy=68.116, wps=13533.8, ups=1.6, wpb=8479.8, bsz=329.3, num_updates=38800, lr=7.17958e-05, gnorm=0.557, clip=0, loss_scale=2, train_wall=62, gb_free=14.5, wall=29961
2023-08-22 23:21:10 | INFO | train_inner | epoch 027:    596 / 1474 loss=1.916, trans_loss=4.8, nll_loss=2.01, w2v_ctc_loss=0.666, task_loss=1.285, contrastive_loss=0.086, total=4144.77, n_correct=2826.62, ppl=4.03, accuracy=68.197, wps=13277, ups=1.6, wpb=8289.5, bsz=313.3, num_updates=38900, lr=7.17035e-05, gnorm=0.569, clip=0, loss_scale=2, train_wall=62, gb_free=17.2, wall=30024
2023-08-22 23:22:13 | INFO | train_inner | epoch 027:    696 / 1474 loss=1.913, trans_loss=4.802, nll_loss=2.012, w2v_ctc_loss=0.663, task_loss=1.306, contrastive_loss=0.064, total=4167.31, n_correct=2844.95, ppl=4.03, accuracy=68.268, wps=13204.9, ups=1.58, wpb=8334.6, bsz=306.9, num_updates=39000, lr=7.16115e-05, gnorm=0.532, clip=0, loss_scale=2, train_wall=62, gb_free=16.2, wall=30087
2023-08-22 23:23:16 | INFO | train_inner | epoch 027:    796 / 1474 loss=1.912, trans_loss=4.802, nll_loss=2.012, w2v_ctc_loss=0.667, task_loss=1.373, contrastive_loss=0.029, total=4106.27, n_correct=2797.82, ppl=4.03, accuracy=68.135, wps=13208.8, ups=1.61, wpb=8212.5, bsz=293.9, num_updates=39100, lr=7.15199e-05, gnorm=0.536, clip=0, loss_scale=2, train_wall=62, gb_free=16.3, wall=30149
2023-08-22 23:24:18 | INFO | train_inner | epoch 027:    896 / 1474 loss=1.913, trans_loss=4.811, nll_loss=2.023, w2v_ctc_loss=0.662, task_loss=1.37, contrastive_loss=0.025, total=4106.26, n_correct=2797.31, ppl=4.06, accuracy=68.123, wps=13179.1, ups=1.6, wpb=8212.5, bsz=293.2, num_updates=39200, lr=7.14286e-05, gnorm=0.668, clip=0, loss_scale=2, train_wall=62, gb_free=16.5, wall=30211
2023-08-22 23:25:21 | INFO | train_inner | epoch 027:    996 / 1474 loss=1.925, trans_loss=4.806, nll_loss=2.018, w2v_ctc_loss=0.659, task_loss=1.292, contrastive_loss=0.208, total=4176.57, n_correct=2847.5, ppl=4.05, accuracy=68.178, wps=13234, ups=1.58, wpb=8353.1, bsz=312.8, num_updates=39300, lr=7.13376e-05, gnorm=0.531, clip=0, loss_scale=2, train_wall=62, gb_free=15.8, wall=30275
2023-08-22 23:26:23 | INFO | train_inner | epoch 027:   1096 / 1474 loss=1.909, trans_loss=4.804, nll_loss=2.016, w2v_ctc_loss=0.657, task_loss=1.295, contrastive_loss=0.042, total=4171.17, n_correct=2843.62, ppl=4.04, accuracy=68.173, wps=13390.3, ups=1.61, wpb=8342.3, bsz=311.2, num_updates=39400, lr=7.1247e-05, gnorm=0.545, clip=0, loss_scale=2, train_wall=62, gb_free=15.7, wall=30337
2023-08-22 23:27:26 | INFO | train_inner | epoch 027:   1196 / 1474 loss=1.916, trans_loss=4.807, nll_loss=2.018, w2v_ctc_loss=0.669, task_loss=1.42, contrastive_loss=0.039, total=4080.64, n_correct=2780.3, ppl=4.05, accuracy=68.134, wps=12970.7, ups=1.59, wpb=8161.3, bsz=290.2, num_updates=39500, lr=7.11568e-05, gnorm=0.568, clip=0, loss_scale=2, train_wall=62, gb_free=11.7, wall=30400
2023-08-22 23:28:29 | INFO | train_inner | epoch 027:   1296 / 1474 loss=1.919, trans_loss=4.808, nll_loss=2.019, w2v_ctc_loss=0.66, task_loss=1.383, contrastive_loss=0.097, total=4070.33, n_correct=2772.92, ppl=4.05, accuracy=68.125, wps=12990.2, ups=1.6, wpb=8140.7, bsz=294.9, num_updates=39600, lr=7.10669e-05, gnorm=0.54, clip=0, loss_scale=4, train_wall=62, gb_free=11.6, wall=30462
2023-08-22 23:29:31 | INFO | train_inner | epoch 027:   1396 / 1474 loss=1.911, trans_loss=4.806, nll_loss=2.017, w2v_ctc_loss=0.657, task_loss=1.237, contrastive_loss=0.077, total=4151.3, n_correct=2833.2, ppl=4.05, accuracy=68.249, wps=13409.8, ups=1.62, wpb=8302.6, bsz=313, num_updates=39700, lr=7.09773e-05, gnorm=0.563, clip=0, loss_scale=4, train_wall=61, gb_free=16.6, wall=30524
2023-08-22 23:30:19 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 23:30:52 | INFO | dev_st | epoch 027 | valid on 'dev_st' subset | loss 3.924 | trans_loss 5.169 | nll_loss 2.43 | w2v_ctc_loss 1.301 | task_loss 4.577 | contrastive_loss 0.214 | total 4003.4 | n_correct 2669.1 | ppl 5.39 | accuracy 66.671 | uer 17.952 | wer 19.697 | raw_wer 19.697 | bleu 22.41 | wps 1650.7 | wpb 4003.4 | bsz 141.8 | num_updates 39778 | best_bleu 22.47
2023-08-22 23:30:52 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 27 @ 39778 updates
2023-08-22 23:30:52 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.4103.pt
2023-08-22 23:30:55 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.4103.pt
2023-08-22 23:31:00 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.4103.pt (epoch 27 @ 39778 updates, score 22.41) (writing took 8.046068288967945 seconds)
2023-08-22 23:31:00 | INFO | fairseq_cli.train | end of epoch 27 (average epoch stats below)
2023-08-22 23:31:00 | INFO | train | epoch 027 | loss 1.913 | trans_loss 4.802 | nll_loss 2.012 | w2v_ctc_loss 0.659 | task_loss 1.314 | contrastive_loss 0.078 | total 4138.65 | n_correct 2824.48 | ppl 4.03 | accuracy 68.246 | wps 12555.3 | ups 1.52 | wpb 8277.3 | bsz 305.7 | num_updates 39778 | lr 7.09077e-05 | gnorm 0.557 | clip 0 | loss_scale 4 | train_wall 913 | gb_free 17.5 | wall 30614
2023-08-22 23:31:01 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 23:31:01 | INFO | fairseq.trainer | begin training epoch 28
2023-08-22 23:31:01 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 23:31:21 | INFO | train_inner | epoch 028:     22 / 1474 loss=1.9, trans_loss=4.797, nll_loss=2.006, w2v_ctc_loss=0.649, task_loss=1.259, contrastive_loss=0.029, total=4119.4, n_correct=2817.67, ppl=4.02, accuracy=68.4, wps=7454.9, ups=0.9, wpb=8238.8, bsz=307.4, num_updates=39800, lr=7.08881e-05, gnorm=0.586, clip=0, loss_scale=4, train_wall=61, gb_free=11, wall=30635
2023-08-22 23:32:23 | INFO | train_inner | epoch 028:    122 / 1474 loss=1.897, trans_loss=4.777, nll_loss=1.979, w2v_ctc_loss=0.654, task_loss=1.363, contrastive_loss=0.026, total=4110.19, n_correct=2826.13, ppl=3.94, accuracy=68.759, wps=13254.8, ups=1.61, wpb=8220.4, bsz=292.9, num_updates=39900, lr=7.07992e-05, gnorm=0.526, clip=0, loss_scale=4, train_wall=61, gb_free=16, wall=30697
2023-08-22 23:33:26 | INFO | train_inner | epoch 028:    222 / 1474 loss=1.896, trans_loss=4.787, nll_loss=1.993, w2v_ctc_loss=0.646, task_loss=1.247, contrastive_loss=0.033, total=4193.38, n_correct=2874.36, ppl=3.98, accuracy=68.545, wps=13437.5, ups=1.6, wpb=8386.8, bsz=315.1, num_updates=40000, lr=7.07107e-05, gnorm=0.529, clip=0, loss_scale=4, train_wall=62, gb_free=12.4, wall=30759
2023-08-22 23:33:26 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 23:33:59 | INFO | dev_st | epoch 028 | valid on 'dev_st' subset | loss 3.937 | trans_loss 5.17 | nll_loss 2.43 | w2v_ctc_loss 1.34 | task_loss 4.597 | contrastive_loss 0.216 | total 4003.4 | n_correct 2669.8 | ppl 5.39 | accuracy 66.688 | uer 18.119 | wer 20.13 | raw_wer 20.13 | bleu 22.54 | wps 1636.4 | wpb 4003.4 | bsz 141.8 | num_updates 40000 | best_bleu 22.54
2023-08-22 23:33:59 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 28 @ 40000 updates
2023-08-22 23:33:59 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_28_40000.pt
2023-08-22 23:34:01 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_28_40000.pt
2023-08-22 23:34:11 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_28_40000.pt (epoch 28 @ 40000 updates, score 22.54) (writing took 12.713346726959571 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:0')
2023-08-22 23:35:15 | INFO | train_inner | epoch 028:    322 / 1474 loss=1.934, trans_loss=4.795, nll_loss=2.002, w2v_ctc_loss=0.647, task_loss=1.314, contrastive_loss=0.363, total=4135.27, n_correct=2821.53, ppl=4.01, accuracy=68.231, wps=7561.3, ups=0.91, wpb=8270.5, bsz=314.1, num_updates=40100, lr=7.06225e-05, gnorm=0.614, clip=0, loss_scale=4, train_wall=63, gb_free=11.4, wall=30869
2023-08-22 23:36:18 | INFO | train_inner | epoch 028:    422 / 1474 loss=1.904, trans_loss=4.787, nll_loss=1.993, w2v_ctc_loss=0.66, task_loss=1.363, contrastive_loss=0.024, total=4085.11, n_correct=2800.21, ppl=3.98, accuracy=68.547, wps=13087.6, ups=1.6, wpb=8170.2, bsz=294.4, num_updates=40200, lr=7.05346e-05, gnorm=0.548, clip=0, loss_scale=4, train_wall=62, gb_free=16, wall=30931
2023-08-22 23:37:20 | INFO | train_inner | epoch 028:    522 / 1474 loss=1.9, trans_loss=4.788, nll_loss=1.995, w2v_ctc_loss=0.648, task_loss=1.335, contrastive_loss=0.038, total=4114.72, n_correct=2820.13, ppl=3.98, accuracy=68.538, wps=13269.4, ups=1.61, wpb=8229.4, bsz=300, num_updates=40300, lr=7.0447e-05, gnorm=0.537, clip=0, loss_scale=4, train_wall=61, gb_free=15.7, wall=30993
2023-08-22 23:38:22 | INFO | train_inner | epoch 028:    622 / 1474 loss=1.904, trans_loss=4.798, nll_loss=2.007, w2v_ctc_loss=0.657, task_loss=1.324, contrastive_loss=0.027, total=4177.38, n_correct=2857.94, ppl=4.02, accuracy=68.415, wps=13427.3, ups=1.61, wpb=8354.8, bsz=304.5, num_updates=40400, lr=7.03598e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=62, gb_free=16.2, wall=31055
2023-08-22 23:39:24 | INFO | train_inner | epoch 028:    722 / 1474 loss=1.909, trans_loss=4.799, nll_loss=2.009, w2v_ctc_loss=0.646, task_loss=1.202, contrastive_loss=0.141, total=4181.01, n_correct=2861.8, ppl=4.02, accuracy=68.448, wps=13407.8, ups=1.6, wpb=8362, bsz=326.7, num_updates=40500, lr=7.02728e-05, gnorm=0.523, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=31118
2023-08-22 23:40:26 | INFO | train_inner | epoch 028:    822 / 1474 loss=1.898, trans_loss=4.791, nll_loss=1.999, w2v_ctc_loss=0.649, task_loss=1.304, contrastive_loss=0.026, total=4084.54, n_correct=2800.5, ppl=4, accuracy=68.563, wps=13172, ups=1.61, wpb=8169.1, bsz=303.9, num_updates=40600, lr=7.01862e-05, gnorm=0.555, clip=0, loss_scale=4, train_wall=61, gb_free=16.4, wall=31180
2023-08-22 23:41:30 | INFO | train_inner | epoch 028:    922 / 1474 loss=1.916, trans_loss=4.802, nll_loss=2.011, w2v_ctc_loss=0.662, task_loss=1.352, contrastive_loss=0.087, total=4123.73, n_correct=2808.63, ppl=4.03, accuracy=68.109, wps=12963.2, ups=1.57, wpb=8247.5, bsz=301.6, num_updates=40700, lr=7.01e-05, gnorm=0.608, clip=0, loss_scale=4, train_wall=63, gb_free=16.3, wall=31243
2023-08-22 23:42:33 | INFO | train_inner | epoch 028:   1022 / 1474 loss=1.919, trans_loss=4.799, nll_loss=2.008, w2v_ctc_loss=0.661, task_loss=1.286, contrastive_loss=0.136, total=4178.85, n_correct=2853.08, ppl=4.02, accuracy=68.274, wps=13342.5, ups=1.6, wpb=8357.7, bsz=309.9, num_updates=40800, lr=7.0014e-05, gnorm=0.571, clip=0, loss_scale=4, train_wall=62, gb_free=16.5, wall=31306
2023-08-22 23:43:35 | INFO | train_inner | epoch 028:   1122 / 1474 loss=1.9, trans_loss=4.79, nll_loss=1.997, w2v_ctc_loss=0.653, task_loss=1.264, contrastive_loss=0.042, total=4213.43, n_correct=2882.78, ppl=3.99, accuracy=68.419, wps=13491.6, ups=1.6, wpb=8426.9, bsz=320.6, num_updates=40900, lr=6.99284e-05, gnorm=0.539, clip=0, loss_scale=4, train_wall=62, gb_free=17.4, wall=31369
2023-08-22 23:44:37 | INFO | train_inner | epoch 028:   1222 / 1474 loss=1.898, trans_loss=4.796, nll_loss=2.004, w2v_ctc_loss=0.644, task_loss=1.286, contrastive_loss=0.033, total=4113.96, n_correct=2815.51, ppl=4.01, accuracy=68.438, wps=13235.3, ups=1.61, wpb=8227.9, bsz=307.1, num_updates=41000, lr=6.9843e-05, gnorm=0.525, clip=0, loss_scale=4, train_wall=61, gb_free=12.2, wall=31431
2023-08-22 23:45:40 | INFO | train_inner | epoch 028:   1322 / 1474 loss=1.912, trans_loss=4.797, nll_loss=2.005, w2v_ctc_loss=0.663, task_loss=1.473, contrastive_loss=0.048, total=4070, n_correct=2780.93, ppl=4.01, accuracy=68.328, wps=12880.3, ups=1.58, wpb=8140, bsz=281.8, num_updates=41100, lr=6.9758e-05, gnorm=0.548, clip=0, loss_scale=4, train_wall=63, gb_free=16.8, wall=31494
2023-08-22 23:46:43 | INFO | train_inner | epoch 028:   1422 / 1474 loss=1.907, trans_loss=4.793, nll_loss=2, w2v_ctc_loss=0.651, task_loss=1.364, contrastive_loss=0.07, total=4154.59, n_correct=2839.72, ppl=4, accuracy=68.351, wps=13267.1, ups=1.6, wpb=8309.2, bsz=300.4, num_updates=41200, lr=6.96733e-05, gnorm=0.526, clip=0, loss_scale=4, train_wall=62, gb_free=15.7, wall=31557
2023-08-22 23:47:15 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:1')
2023-08-22 23:47:48 | INFO | dev_st | epoch 028 | valid on 'dev_st' subset | loss 3.933 | trans_loss 5.168 | nll_loss 2.427 | w2v_ctc_loss 1.329 | task_loss 4.627 | contrastive_loss 0.219 | total 4003.4 | n_correct 2672.7 | ppl 5.38 | accuracy 66.761 | uer 17.968 | wer 19.697 | raw_wer 19.697 | bleu 22.5 | wps 1640.1 | wpb 4003.4 | bsz 141.8 | num_updates 41252 | best_bleu 22.54
2023-08-22 23:47:48 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 28 @ 41252 updates
2023-08-22 23:47:48 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.5005.pt
2023-08-22 23:47:51 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.5005.pt
2023-08-22 23:47:56 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.5005.pt (epoch 28 @ 41252 updates, score 22.5) (writing took 7.730413465993479 seconds)
2023-08-22 23:47:57 | INFO | fairseq_cli.train | end of epoch 28 (average epoch stats below)
2023-08-22 23:47:57 | INFO | train | epoch 028 | loss 1.906 | trans_loss 4.792 | nll_loss 2 | w2v_ctc_loss 0.653 | task_loss 1.314 | contrastive_loss 0.077 | total 4138.65 | n_correct 2832.5 | ppl 4 | accuracy 68.44 | wps 12007.7 | ups 1.45 | wpb 8277.3 | bsz 305.7 | num_updates 41252 | lr 6.96294e-05 | gnorm 0.548 | clip 0 | loss_scale 4 | train_wall 911 | gb_free 16.1 | wall 31630
2023-08-22 23:47:57 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 23:47:57 | INFO | fairseq.trainer | begin training epoch 29
2023-08-22 23:47:57 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 23:48:34 | INFO | train_inner | epoch 029:     48 / 1474 loss=1.897, trans_loss=4.782, nll_loss=1.988, w2v_ctc_loss=0.651, task_loss=1.269, contrastive_loss=0.041, total=4163.69, n_correct=2862.01, ppl=3.97, accuracy=68.737, wps=7507.5, ups=0.9, wpb=8327.4, bsz=315, num_updates=41300, lr=6.95889e-05, gnorm=0.532, clip=0, loss_scale=4, train_wall=62, gb_free=16.6, wall=31667
2023-08-22 23:49:37 | INFO | train_inner | epoch 029:    148 / 1474 loss=1.904, trans_loss=4.786, nll_loss=1.991, w2v_ctc_loss=0.655, task_loss=1.298, contrastive_loss=0.06, total=4123.71, n_correct=2827.73, ppl=3.97, accuracy=68.572, wps=13194.5, ups=1.6, wpb=8247.4, bsz=307.9, num_updates=41400, lr=6.95048e-05, gnorm=0.57, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=31730
2023-08-22 23:50:40 | INFO | train_inner | epoch 029:    248 / 1474 loss=1.899, trans_loss=4.777, nll_loss=1.98, w2v_ctc_loss=0.634, task_loss=1.204, contrastive_loss=0.143, total=4192.44, n_correct=2884.94, ppl=3.94, accuracy=68.813, wps=13280.7, ups=1.58, wpb=8384.9, bsz=328.2, num_updates=41500, lr=6.9421e-05, gnorm=0.537, clip=0, loss_scale=4, train_wall=62, gb_free=16, wall=31793
2023-08-22 23:51:43 | INFO | train_inner | epoch 029:    348 / 1474 loss=1.908, trans_loss=4.793, nll_loss=1.999, w2v_ctc_loss=0.665, task_loss=1.416, contrastive_loss=0.029, total=4095.08, n_correct=2805.79, ppl=4, accuracy=68.516, wps=12995.1, ups=1.59, wpb=8190.2, bsz=291.2, num_updates=41600, lr=6.93375e-05, gnorm=0.553, clip=0, loss_scale=4, train_wall=62, gb_free=16.6, wall=31856
2023-08-22 23:52:45 | INFO | train_inner | epoch 029:    448 / 1474 loss=1.888, trans_loss=4.767, nll_loss=1.967, w2v_ctc_loss=0.644, task_loss=1.269, contrastive_loss=0.024, total=4155.97, n_correct=2867.25, ppl=3.91, accuracy=68.991, wps=13368.3, ups=1.61, wpb=8311.9, bsz=307.7, num_updates=41700, lr=6.92543e-05, gnorm=0.538, clip=0, loss_scale=8, train_wall=61, gb_free=14.4, wall=31918
2023-08-22 23:53:49 | INFO | train_inner | epoch 029:    548 / 1474 loss=1.913, trans_loss=4.79, nll_loss=1.997, w2v_ctc_loss=0.649, task_loss=1.399, contrastive_loss=0.12, total=4159.23, n_correct=2844.37, ppl=3.99, accuracy=68.387, wps=13063.2, ups=1.57, wpb=8318.5, bsz=295.2, num_updates=41800, lr=6.91714e-05, gnorm=0.59, clip=0, loss_scale=8, train_wall=63, gb_free=16.4, wall=31982
2023-08-22 23:54:51 | INFO | train_inner | epoch 029:    648 / 1474 loss=1.909, trans_loss=4.782, nll_loss=1.987, w2v_ctc_loss=0.647, task_loss=1.244, contrastive_loss=0.19, total=4139.5, n_correct=2841.12, ppl=3.96, accuracy=68.634, wps=13321.2, ups=1.61, wpb=8279, bsz=318.8, num_updates=41900, lr=6.90889e-05, gnorm=0.598, clip=0, loss_scale=8, train_wall=61, gb_free=15.8, wall=32044
2023-08-22 23:55:54 | INFO | train_inner | epoch 029:    748 / 1474 loss=1.902, trans_loss=4.782, nll_loss=1.987, w2v_ctc_loss=0.649, task_loss=1.221, contrastive_loss=0.099, total=4241.03, n_correct=2911.34, ppl=3.96, accuracy=68.647, wps=13393.5, ups=1.58, wpb=8482.1, bsz=328.7, num_updates=42000, lr=6.90066e-05, gnorm=0.542, clip=0, loss_scale=8, train_wall=63, gb_free=15.2, wall=32107
2023-08-22 23:55:54 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 23:56:27 | INFO | dev_st | epoch 029 | valid on 'dev_st' subset | loss 3.934 | trans_loss 5.169 | nll_loss 2.428 | w2v_ctc_loss 1.331 | task_loss 4.63 | contrastive_loss 0.217 | total 4003.4 | n_correct 2674.9 | ppl 5.38 | accuracy 66.816 | uer 17.684 | wer 19.585 | raw_wer 19.585 | bleu 22.34 | wps 1593.7 | wpb 4003.4 | bsz 141.8 | num_updates 42000 | best_bleu 22.54
2023-08-22 23:56:27 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 29 @ 42000 updates
2023-08-22 23:56:27 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_29_42000.pt
2023-08-22 23:56:30 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_29_42000.pt
2023-08-22 23:56:36 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_29_42000.pt (epoch 29 @ 42000 updates, score 22.34) (writing took 8.574402155936696 seconds)
2023-08-22 23:57:39 | INFO | train_inner | epoch 029:    848 / 1474 loss=1.901, trans_loss=4.794, nll_loss=2.001, w2v_ctc_loss=0.646, task_loss=1.446, contrastive_loss=0.025, total=4031.53, n_correct=2760.9, ppl=4, accuracy=68.483, wps=7677.1, ups=0.95, wpb=8063.1, bsz=282.9, num_updates=42100, lr=6.89246e-05, gnorm=0.528, clip=0, loss_scale=8, train_wall=61, gb_free=16, wall=32212
2023-08-22 23:58:41 | INFO | train_inner | epoch 029:    948 / 1474 loss=1.902, trans_loss=4.789, nll_loss=1.995, w2v_ctc_loss=0.655, task_loss=1.372, contrastive_loss=0.03, total=4082.22, n_correct=2799.41, ppl=3.99, accuracy=68.576, wps=13132.2, ups=1.61, wpb=8164.4, bsz=293.3, num_updates=42200, lr=6.88428e-05, gnorm=0.535, clip=0, loss_scale=8, train_wall=61, gb_free=15.9, wall=32275
2023-08-22 23:59:44 | INFO | train_inner | epoch 029:   1048 / 1474 loss=1.903, trans_loss=4.785, nll_loss=1.99, w2v_ctc_loss=0.645, task_loss=1.304, contrastive_loss=0.103, total=4134.44, n_correct=2839.18, ppl=3.97, accuracy=68.671, wps=13211.2, ups=1.6, wpb=8268.9, bsz=307.7, num_updates=42300, lr=6.87614e-05, gnorm=0.696, clip=0, loss_scale=8, train_wall=62, gb_free=16.7, wall=32337
2023-08-23 00:00:46 | INFO | train_inner | epoch 029:   1148 / 1474 loss=1.908, trans_loss=4.797, nll_loss=2.006, w2v_ctc_loss=0.661, task_loss=1.436, contrastive_loss=0.023, total=4080.4, n_correct=2789.55, ppl=4.02, accuracy=68.365, wps=13146.8, ups=1.61, wpb=8160.8, bsz=285.2, num_updates=42400, lr=6.86803e-05, gnorm=0.594, clip=0, loss_scale=8, train_wall=62, gb_free=11.7, wall=32399
2023-08-23 00:01:47 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-23 00:01:49 | INFO | train_inner | epoch 029:   1249 / 1474 loss=1.901, trans_loss=4.794, nll_loss=2.001, w2v_ctc_loss=0.653, task_loss=1.337, contrastive_loss=0.025, total=4154.7, n_correct=2842.5, ppl=4, accuracy=68.416, wps=13158.8, ups=1.58, wpb=8309.4, bsz=300.3, num_updates=42500, lr=6.85994e-05, gnorm=0.565, clip=0, loss_scale=4, train_wall=62, gb_free=16.7, wall=32462
2023-08-23 00:02:52 | INFO | train_inner | epoch 029:   1349 / 1474 loss=1.899, trans_loss=4.782, nll_loss=1.986, w2v_ctc_loss=0.641, task_loss=1.306, contrastive_loss=0.086, total=4160.63, n_correct=2856.3, ppl=3.96, accuracy=68.651, wps=13209.7, ups=1.59, wpb=8321.3, bsz=309, num_updates=42600, lr=6.85189e-05, gnorm=0.548, clip=0, loss_scale=4, train_wall=62, gb_free=13.9, wall=32525
2023-08-23 00:03:54 | INFO | train_inner | epoch 029:   1449 / 1474 loss=1.902, trans_loss=4.781, nll_loss=1.985, w2v_ctc_loss=0.646, task_loss=1.273, contrastive_loss=0.118, total=4167.72, n_correct=2862.47, ppl=3.96, accuracy=68.682, wps=13353.7, ups=1.6, wpb=8335.4, bsz=314.2, num_updates=42700, lr=6.84386e-05, gnorm=0.517, clip=0, loss_scale=4, train_wall=62, gb_free=16.7, wall=32588
2023-08-23 00:04:10 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-23 00:04:43 | INFO | dev_st | epoch 029 | valid on 'dev_st' subset | loss 3.924 | trans_loss 5.169 | nll_loss 2.427 | w2v_ctc_loss 1.3 | task_loss 4.594 | contrastive_loss 0.216 | total 4003.4 | n_correct 2674.6 | ppl 5.38 | accuracy 66.808 | uer 17.535 | wer 19.388 | raw_wer 19.388 | bleu 22.04 | wps 1592.7 | wpb 4003.4 | bsz 141.8 | num_updates 42725 | best_bleu 22.54
2023-08-23 00:04:43 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 29 @ 42725 updates
2023-08-23 00:04:43 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0407.pt
2023-08-23 00:04:46 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0407.pt
2023-08-23 00:04:52 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0407.pt (epoch 29 @ 42725 updates, score 22.04) (writing took 8.679465980967507 seconds)
2023-08-23 00:04:52 | INFO | fairseq_cli.train | end of epoch 29 (average epoch stats below)
2023-08-23 00:04:52 | INFO | train | epoch 029 | loss 1.902 | trans_loss 4.785 | nll_loss 1.99 | w2v_ctc_loss 0.649 | task_loss 1.317 | contrastive_loss 0.077 | total 4138.45 | n_correct 2839.47 | ppl 3.97 | accuracy 68.612 | wps 12002.9 | ups 1.45 | wpb 8276.9 | bsz 305.6 | num_updates 42725 | lr 6.84186e-05 | gnorm 0.565 | clip 0 | loss_scale 4 | train_wall 913 | gb_free 15.6 | wall 32646
2023-08-23 00:04:53 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-23 00:04:53 | INFO | fairseq.trainer | begin training epoch 30
2023-08-23 00:04:53 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-23 00:05:47 | INFO | train_inner | epoch 030:     75 / 1474 loss=1.897, trans_loss=4.774, nll_loss=1.975, w2v_ctc_loss=0.635, task_loss=1.258, contrastive_loss=0.133, total=4168.99, n_correct=2870.45, ppl=3.93, accuracy=68.852, wps=7403, ups=0.89, wpb=8338, bsz=316.7, num_updates=42800, lr=6.83586e-05, gnorm=0.559, clip=0, loss_scale=4, train_wall=62, gb_free=16.2, wall=32701
2023-08-23 00:06:49 | INFO | train_inner | epoch 030:    175 / 1474 loss=1.888, trans_loss=4.76, nll_loss=1.957, w2v_ctc_loss=0.642, task_loss=1.216, contrastive_loss=0.064, total=4215.08, n_correct=2914.36, ppl=3.88, accuracy=69.141, wps=13516.9, ups=1.6, wpb=8430.2, bsz=321, num_updates=42900, lr=6.82789e-05, gnorm=0.536, clip=0, loss_scale=4, train_wall=62, gb_free=16.6, wall=32763
2023-08-23 00:07:52 | INFO | train_inner | epoch 030:    275 / 1474 loss=1.896, trans_loss=4.779, nll_loss=1.981, w2v_ctc_loss=0.651, task_loss=1.379, contrastive_loss=0.023, total=4110.97, n_correct=2827.73, ppl=3.95, accuracy=68.785, wps=13206.6, ups=1.61, wpb=8221.9, bsz=292.3, num_updates=43000, lr=6.81994e-05, gnorm=0.526, clip=0, loss_scale=4, train_wall=61, gb_free=15.8, wall=32825
2023-08-23 00:08:55 | INFO | train_inner | epoch 030:    375 / 1474 loss=1.881, trans_loss=4.763, nll_loss=1.962, w2v_ctc_loss=0.632, task_loss=1.287, contrastive_loss=0.025, total=4191.07, n_correct=2896.99, ppl=3.89, accuracy=69.123, wps=13329, ups=1.59, wpb=8382.1, bsz=311, num_updates=43100, lr=6.81203e-05, gnorm=0.523, clip=0, loss_scale=4, train_wall=62, gb_free=16.2, wall=32888
2023-08-23 00:09:57 | INFO | train_inner | epoch 030:    475 / 1474 loss=1.891, trans_loss=4.773, nll_loss=1.974, w2v_ctc_loss=0.632, task_loss=1.273, contrastive_loss=0.086, total=4121.27, n_correct=2840.35, ppl=3.93, accuracy=68.919, wps=13236.4, ups=1.61, wpb=8242.5, bsz=311.3, num_updates=43200, lr=6.80414e-05, gnorm=0.523, clip=0, loss_scale=4, train_wall=61, gb_free=15.2, wall=32950
2023-08-23 00:11:00 | INFO | train_inner | epoch 030:    575 / 1474 loss=1.892, trans_loss=4.775, nll_loss=1.977, w2v_ctc_loss=0.643, task_loss=1.293, contrastive_loss=0.047, total=4157.58, n_correct=2862.12, ppl=3.94, accuracy=68.841, wps=13256.5, ups=1.59, wpb=8315.2, bsz=310, num_updates=43300, lr=6.79628e-05, gnorm=0.544, clip=0, loss_scale=4, train_wall=62, gb_free=15.6, wall=33013
2023-08-23 00:12:02 | INFO | train_inner | epoch 030:    675 / 1474 loss=1.898, trans_loss=4.777, nll_loss=1.98, w2v_ctc_loss=0.651, task_loss=1.294, contrastive_loss=0.058, total=4193.34, n_correct=2878.08, ppl=3.94, accuracy=68.635, wps=13415.7, ups=1.6, wpb=8386.7, bsz=316.4, num_updates=43400, lr=6.78844e-05, gnorm=0.542, clip=0, loss_scale=4, train_wall=62, gb_free=14.5, wall=33076
2023-08-23 00:13:05 | INFO | train_inner | epoch 030:    775 / 1474 loss=1.912, trans_loss=4.783, nll_loss=1.987, w2v_ctc_loss=0.654, task_loss=1.337, contrastive_loss=0.144, total=4101.46, n_correct=2813.97, ppl=3.96, accuracy=68.609, wps=13097.1, ups=1.6, wpb=8202.9, bsz=302.5, num_updates=43500, lr=6.78064e-05, gnorm=0.583, clip=0, loss_scale=4, train_wall=62, gb_free=16.4, wall=33138
2023-08-23 00:14:07 | INFO | train_inner | epoch 030:    875 / 1474 loss=1.897, trans_loss=4.781, nll_loss=1.985, w2v_ctc_loss=0.647, task_loss=1.339, contrastive_loss=0.036, total=4116.1, n_correct=2830.16, ppl=3.96, accuracy=68.758, wps=13203.3, ups=1.6, wpb=8232.2, bsz=298.9, num_updates=43600, lr=6.77285e-05, gnorm=0.548, clip=0, loss_scale=4, train_wall=62, gb_free=15.8, wall=33201
2023-08-23 00:15:10 | INFO | train_inner | epoch 030:    975 / 1474 loss=1.902, trans_loss=4.785, nll_loss=1.99, w2v_ctc_loss=0.655, task_loss=1.365, contrastive_loss=0.036, total=4121.44, n_correct=2826.61, ppl=3.97, accuracy=68.583, wps=13154.6, ups=1.6, wpb=8242.9, bsz=297.4, num_updates=43700, lr=6.7651e-05, gnorm=0.559, clip=0, loss_scale=4, train_wall=62, gb_free=15.6, wall=33263
2023-08-23 00:16:14 | INFO | train_inner | epoch 030:   1075 / 1474 loss=1.908, trans_loss=4.783, nll_loss=1.987, w2v_ctc_loss=0.647, task_loss=1.491, contrastive_loss=0.12, total=4092.65, n_correct=2805.89, ppl=3.96, accuracy=68.559, wps=12850.6, ups=1.57, wpb=8185.3, bsz=280.2, num_updates=43800, lr=6.75737e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=63, gb_free=13.9, wall=33327
2023-08-23 00:17:17 | INFO | train_inner | epoch 030:   1175 / 1474 loss=1.894, trans_loss=4.776, nll_loss=1.978, w2v_ctc_loss=0.635, task_loss=1.257, contrastive_loss=0.093, total=4174.4, n_correct=2875.17, ppl=3.94, accuracy=68.876, wps=13230.2, ups=1.58, wpb=8348.8, bsz=315.6, num_updates=43900, lr=6.74967e-05, gnorm=0.719, clip=1, loss_scale=4, train_wall=63, gb_free=16.6, wall=33390
2023-08-23 00:18:19 | INFO | train_inner | epoch 030:   1275 / 1474 loss=1.9, trans_loss=4.784, nll_loss=1.988, w2v_ctc_loss=0.652, task_loss=1.45, contrastive_loss=0.029, total=4039.35, n_correct=2772.16, ppl=3.97, accuracy=68.629, wps=12900.8, ups=1.6, wpb=8078.7, bsz=284.7, num_updates=44000, lr=6.742e-05, gnorm=0.551, clip=0, loss_scale=4, train_wall=62, gb_free=16.1, wall=33453
2023-08-23 00:18:19 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-23 00:18:53 | INFO | dev_st | epoch 030 | valid on 'dev_st' subset | loss 3.936 | trans_loss 5.169 | nll_loss 2.426 | w2v_ctc_loss 1.336 | task_loss 4.611 | contrastive_loss 0.222 | total 4003.4 | n_correct 2672.9 | ppl 5.38 | accuracy 66.766 | uer 18.353 | wer 20.204 | raw_wer 20.204 | bleu 22.02 | wps 1571.3 | wpb 4003.4 | bsz 141.8 | num_updates 44000 | best_bleu 22.54
2023-08-23 00:18:53 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 30 @ 44000 updates
2023-08-23 00:18:53 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_30_44000.pt
2023-08-23 00:18:55 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_30_44000.pt
2023-08-23 00:19:02 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_30_44000.pt (epoch 30 @ 44000 updates, score 22.02) (writing took 8.754399099037983 seconds)
2023-08-23 00:20:04 | INFO | train_inner | epoch 030:   1375 / 1474 loss=1.888, trans_loss=4.775, nll_loss=1.978, w2v_ctc_loss=0.639, task_loss=1.237, contrastive_loss=0.037, total=4164.49, n_correct=2869.38, ppl=3.94, accuracy=68.901, wps=7915.9, ups=0.95, wpb=8329, bsz=321.7, num_updates=44100, lr=6.73435e-05, gnorm=0.546, clip=0, loss_scale=4, train_wall=61, gb_free=14.9, wall=33558
2023-08-23 00:21:06 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-23 00:21:39 | INFO | dev_st | epoch 030 | valid on 'dev_st' subset | loss 3.918 | trans_loss 5.17 | nll_loss 2.429 | w2v_ctc_loss 1.276 | task_loss 4.626 | contrastive_loss 0.217 | total 4003.4 | n_correct 2672 | ppl 5.39 | accuracy 66.743 | uer 17.639 | wer 19.556 | raw_wer 19.556 | bleu 22.09 | wps 1657.1 | wpb 4003.4 | bsz 141.8 | num_updates 44199 | best_bleu 22.54
2023-08-23 00:21:39 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 30 @ 44199 updates
2023-08-23 00:21:39 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0902.pt
2023-08-23 00:21:41 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0902.pt
2023-08-23 00:21:47 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0902.pt (epoch 30 @ 44199 updates, score 22.09) (writing took 8.691720262053423 seconds)
2023-08-23 00:21:48 | INFO | fairseq_cli.train | end of epoch 30 (average epoch stats below)
2023-08-23 00:21:48 | INFO | train | epoch 030 | loss 1.896 | trans_loss 4.776 | nll_loss 1.979 | w2v_ctc_loss 0.643 | task_loss 1.315 | contrastive_loss 0.076 | total 4138.65 | n_correct 2847.44 | ppl 3.94 | accuracy 68.801 | wps 12011.2 | ups 1.45 | wpb 8277.3 | bsz 305.7 | num_updates 44199 | lr 6.7268e-05 | gnorm 0.554 | clip 0.1 | loss_scale 4 | train_wall 912 | gb_free 16.8 | wall 33662
2023-08-23 00:21:48 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-23 00:21:48 | INFO | fairseq.trainer | begin training epoch 31
2023-08-23 00:21:48 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-23 00:21:56 | INFO | train_inner | epoch 031:      1 / 1474 loss=1.902, trans_loss=4.781, nll_loss=1.985, w2v_ctc_loss=0.632, task_loss=1.229, contrastive_loss=0.19, total=4125.07, n_correct=2837.29, ppl=3.96, accuracy=68.782, wps=7377, ups=0.89, wpb=8250.1, bsz=315.2, num_updates=44200, lr=6.72673e-05, gnorm=0.532, clip=0, loss_scale=4, train_wall=61, gb_free=15, wall=33670
2023-08-23 00:22:59 | INFO | train_inner | epoch 031:    101 / 1474 loss=1.887, trans_loss=4.763, nll_loss=1.961, w2v_ctc_loss=0.642, task_loss=1.394, contrastive_loss=0.029, total=4087.45, n_correct=2824.27, ppl=3.89, accuracy=69.096, wps=13107.6, ups=1.6, wpb=8174.9, bsz=291.9, num_updates=44300, lr=6.71913e-05, gnorm=0.525, clip=0, loss_scale=4, train_wall=62, gb_free=15.7, wall=33732
2023-08-23 00:24:01 | INFO | train_inner | epoch 031:    201 / 1474 loss=1.888, trans_loss=4.765, nll_loss=1.964, w2v_ctc_loss=0.637, task_loss=1.365, contrastive_loss=0.044, total=4137.8, n_correct=2856.38, ppl=3.9, accuracy=69.031, wps=13179, ups=1.59, wpb=8275.6, bsz=298.1, num_updates=44400, lr=6.71156e-05, gnorm=0.534, clip=0, loss_scale=4, train_wall=62, gb_free=14.9, wall=33795
2023-08-23 00:25:04 | INFO | train_inner | epoch 031:    301 / 1474 loss=1.892, trans_loss=4.763, nll_loss=1.96, w2v_ctc_loss=0.635, task_loss=1.355, contrastive_loss=0.092, total=4138.27, n_correct=2858.06, ppl=3.89, accuracy=69.064, wps=13164.5, ups=1.59, wpb=8276.5, bsz=300.1, num_updates=44500, lr=6.70402e-05, gnorm=0.521, clip=0, loss_scale=4, train_wall=62, gb_free=14.9, wall=33858
2023-08-23 00:26:07 | INFO | train_inner | epoch 031:    401 / 1474 loss=1.889, trans_loss=4.773, nll_loss=1.974, w2v_ctc_loss=0.633, task_loss=1.429, contrastive_loss=0.029, total=4098.88, n_correct=2826.82, ppl=3.93, accuracy=68.966, wps=13082.1, ups=1.6, wpb=8197.8, bsz=286.9, num_updates=44600, lr=6.6965e-05, gnorm=0.54, clip=0, loss_scale=8, train_wall=62, gb_free=16.7, wall=33920
2023-08-23 00:27:10 | INFO | train_inner | epoch 031:    501 / 1474 loss=1.887, trans_loss=4.764, nll_loss=1.963, w2v_ctc_loss=0.643, task_loss=1.356, contrastive_loss=0.033, total=4123.26, n_correct=2845, ppl=3.9, accuracy=68.999, wps=13069.9, ups=1.58, wpb=8246.5, bsz=302.9, num_updates=44700, lr=6.689e-05, gnorm=0.528, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=33984
2023-08-23 00:27:53 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-23 00:28:13 | INFO | train_inner | epoch 031:    602 / 1474 loss=1.888, trans_loss=4.767, nll_loss=1.967, w2v_ctc_loss=0.639, task_loss=1.401, contrastive_loss=0.025, total=4065.69, n_correct=2803.47, ppl=3.91, accuracy=68.954, wps=12865.3, ups=1.58, wpb=8131.4, bsz=290.4, num_updates=44800, lr=6.68153e-05, gnorm=0.529, clip=0, loss_scale=4, train_wall=63, gb_free=17.5, wall=34047
2023-08-23 00:29:16 | INFO | train_inner | epoch 031:    702 / 1474 loss=1.88, trans_loss=4.761, nll_loss=1.959, w2v_ctc_loss=0.63, task_loss=1.243, contrastive_loss=0.028, total=4208.23, n_correct=2909.77, ppl=3.89, accuracy=69.145, wps=13492.5, ups=1.6, wpb=8416.5, bsz=315.7, num_updates=44900, lr=6.67409e-05, gnorm=0.525, clip=0, loss_scale=4, train_wall=62, gb_free=16.8, wall=34109
2023-08-23 00:30:18 | INFO | train_inner | epoch 031:    802 / 1474 loss=1.897, trans_loss=4.773, nll_loss=1.974, w2v_ctc_loss=0.635, task_loss=1.366, contrastive_loss=0.096, total=4104.39, n_correct=2821.46, ppl=3.93, accuracy=68.742, wps=13098.5, ups=1.6, wpb=8208.8, bsz=297.1, num_updates=45000, lr=6.66667e-05, gnorm=0.674, clip=0, loss_scale=4, train_wall=62, gb_free=15.9, wall=34172
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:0')
2023-08-23 00:31:21 | INFO | train_inner | epoch 031:    902 / 1474 loss=1.889, trans_loss=4.762, nll_loss=1.959, w2v_ctc_loss=0.642, task_loss=1.404, contrastive_loss=0.042, total=4094.66, n_correct=2827.02, ppl=3.89, accuracy=69.042, wps=13125.5, ups=1.6, wpb=8189.3, bsz=292.5, num_updates=45100, lr=6.65927e-05, gnorm=0.524, clip=0, loss_scale=4, train_wall=62, gb_free=16.7, wall=34234
2023-08-23 00:32:23 | INFO | train_inner | epoch 031:   1002 / 1474 loss=1.893, trans_loss=4.773, nll_loss=1.976, w2v_ctc_loss=0.631, task_loss=1.227, contrastive_loss=0.122, total=4186.13, n_correct=2884.86, ppl=3.93, accuracy=68.915, wps=13414.4, ups=1.6, wpb=8372.3, bsz=320.7, num_updates=45200, lr=6.6519e-05, gnorm=0.508, clip=0, loss_scale=4, train_wall=62, gb_free=15.8, wall=34297
2023-08-23 00:33:25 | INFO | train_inner | epoch 031:   1102 / 1474 loss=1.889, trans_loss=4.77, nll_loss=1.971, w2v_ctc_loss=0.633, task_loss=1.271, contrastive_loss=0.068, total=4159.84, n_correct=2870.52, ppl=3.92, accuracy=69.006, wps=13390.9, ups=1.61, wpb=8319.7, bsz=317.2, num_updates=45300, lr=6.64455e-05, gnorm=0.558, clip=0, loss_scale=4, train_wall=61, gb_free=15.9, wall=34359
2023-08-23 00:34:28 | INFO | train_inner | epoch 031:   1202 / 1474 loss=1.895, trans_loss=4.768, nll_loss=1.969, w2v_ctc_loss=0.628, task_loss=1.223, contrastive_loss=0.186, total=4190.14, n_correct=2892.6, ppl=3.92, accuracy=69.033, wps=13378.8, ups=1.6, wpb=8380.3, bsz=322.8, num_updates=45400, lr=6.63723e-05, gnorm=0.526, clip=0, loss_scale=4, train_wall=62, gb_free=14.8, wall=34421
2023-08-23 00:35:30 | INFO | train_inner | epoch 031:   1302 / 1474 loss=1.888, trans_loss=4.777, nll_loss=1.98, w2v_ctc_loss=0.638, task_loss=1.199, contrastive_loss=0.032, total=4215.02, n_correct=2904.87, ppl=3.94, accuracy=68.917, wps=13614.7, ups=1.62, wpb=8430, bsz=323.5, num_updates=45500, lr=6.62994e-05, gnorm=0.515, clip=0, loss_scale=4, train_wall=61, gb_free=16.5, wall=34483
2023-08-23 00:36:33 | INFO | train_inner | epoch 031:   1402 / 1474 loss=1.908, trans_loss=4.772, nll_loss=1.974, w2v_ctc_loss=0.636, task_loss=1.207, contrastive_loss=0.238, total=4198.66, n_correct=2893.36, ppl=3.93, accuracy=68.912, wps=13328, ups=1.59, wpb=8397.3, bsz=327.4, num_updates=45600, lr=6.62266e-05, gnorm=0.617, clip=0, loss_scale=4, train_wall=62, gb_free=15.2, wall=34546
2023-08-23 00:37:18 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2578, device='cuda:1')
2023-08-23 00:37:51 | INFO | dev_st | epoch 031 | valid on 'dev_st' subset | loss 3.924 | trans_loss 5.169 | nll_loss 2.427 | w2v_ctc_loss 1.298 | task_loss 4.606 | contrastive_loss 0.218 | total 4003.4 | n_correct 2673.7 | ppl 5.38 | accuracy 66.786 | uer 17.66 | wer 19.671 | raw_wer 19.671 | bleu 21.93 | wps 1598.4 | wpb 4003.4 | bsz 141.8 | num_updates 45672 | best_bleu 22.54
2023-08-23 00:37:51 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 31 @ 45672 updates
2023-08-23 00:37:51 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-23 00:38:00 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-23 00:38:00 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt (epoch 31 @ 45672 updates, score 21.93) (writing took 8.8579027679516 seconds)
2023-08-23 00:38:00 | INFO | fairseq_cli.train | end of epoch 31 (average epoch stats below)
2023-08-23 00:38:00 | INFO | train | epoch 031 | loss 1.891 | trans_loss 4.768 | nll_loss 1.968 | w2v_ctc_loss 0.636 | task_loss 1.316 | contrastive_loss 0.076 | total 4138.34 | n_correct 2854.74 | ppl 3.91 | accuracy 68.983 | wps 12545.2 | ups 1.52 | wpb 8276.7 | bsz 305.6 | num_updates 45672 | lr 6.61744e-05 | gnorm 0.545 | clip 0 | loss_scale 4 | train_wall 912 | gb_free 11.5 | wall 34633
2023-08-23 00:38:00 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-23 00:38:00 | INFO | fairseq.trainer | begin training epoch 32
2023-08-23 00:38:00 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-23 00:38:24 | INFO | train_inner | epoch 032:     28 / 1474 loss=1.886, trans_loss=4.765, nll_loss=1.964, w2v_ctc_loss=0.64, task_loss=1.359, contrastive_loss=0.025, total=4057.11, n_correct=2802.83, ppl=3.9, accuracy=69.084, wps=7273.7, ups=0.9, wpb=8114.2, bsz=294.1, num_updates=45700, lr=6.61541e-05, gnorm=0.536, clip=0, loss_scale=4, train_wall=61, gb_free=16.8, wall=34658
2023-08-23 00:39:27 | INFO | train_inner | epoch 032:    128 / 1474 loss=1.87, trans_loss=4.746, nll_loss=1.939, w2v_ctc_loss=0.619, task_loss=1.247, contrastive_loss=0.032, total=4197.14, n_correct=2917.44, ppl=3.83, accuracy=69.51, wps=13475, ups=1.61, wpb=8394.3, bsz=315.9, num_updates=45800, lr=6.60819e-05, gnorm=0.504, clip=0, loss_scale=4, train_wall=62, gb_free=12.8, wall=34720
2023-08-23 00:40:30 | INFO | train_inner | epoch 032:    228 / 1474 loss=1.879, trans_loss=4.761, nll_loss=1.959, w2v_ctc_loss=0.63, task_loss=1.234, contrastive_loss=0.039, total=4167.25, n_correct=2881.35, ppl=3.89, accuracy=69.143, wps=13268.6, ups=1.59, wpb=8334.5, bsz=323.2, num_updates=45900, lr=6.60098e-05, gnorm=0.515, clip=0, loss_scale=4, train_wall=62, gb_free=16, wall=34783
2023-08-23 00:41:32 | INFO | train_inner | epoch 032:    328 / 1474 loss=1.872, trans_loss=4.746, nll_loss=1.939, w2v_ctc_loss=0.622, task_loss=1.266, contrastive_loss=0.035, total=4172.57, n_correct=2899.32, ppl=3.83, accuracy=69.485, wps=13387.3, ups=1.6, wpb=8345.1, bsz=310.5, num_updates=46000, lr=6.5938e-05, gnorm=0.517, clip=0, loss_scale=4, train_wall=62, gb_free=12.2, wall=34845
2023-08-23 00:41:32 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-23 00:42:05 | INFO | dev_st | epoch 032 | valid on 'dev_st' subset | loss 3.937 | trans_loss 5.17 | nll_loss 2.429 | w2v_ctc_loss 1.34 | task_loss 4.59 | contrastive_loss 0.219 | total 4003.4 | n_correct 2674.2 | ppl 5.39 | accuracy 66.798 | uer 17.663 | wer 19.593 | raw_wer 19.593 | bleu 22.04 | wps 1655.7 | wpb 4003.4 | bsz 141.8 | num_updates 46000 | best_bleu 22.54
2023-08-23 00:42:05 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 32 @ 46000 updates
2023-08-23 00:42:05 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_32_46000.pt
2023-08-23 00:42:07 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_32_46000.pt
2023-08-23 00:42:14 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_32_46000.pt (epoch 32 @ 46000 updates, score 22.04) (writing took 8.997744594933465 seconds)
2023-08-23 00:43:17 | INFO | train_inner | epoch 032:    428 / 1474 loss=1.876, trans_loss=4.751, nll_loss=1.946, w2v_ctc_loss=0.628, task_loss=1.264, contrastive_loss=0.032, total=4176.94, n_correct=2898.45, ppl=3.85, accuracy=69.392, wps=7920.7, ups=0.95, wpb=8353.9, bsz=312.9, num_updates=46100, lr=6.58665e-05, gnorm=0.552, clip=0, loss_scale=4, train_wall=62, gb_free=16.4, wall=34951
2023-08-23 00:44:21 | INFO | train_inner | epoch 032:    528 / 1474 loss=1.891, trans_loss=4.763, nll_loss=1.962, w2v_ctc_loss=0.634, task_loss=1.283, contrastive_loss=0.108, total=4198.65, n_correct=2902.44, ppl=3.89, accuracy=69.128, wps=13260.6, ups=1.58, wpb=8397.3, bsz=315.7, num_updates=46200, lr=6.57952e-05, gnorm=0.563, clip=0, loss_scale=4, train_wall=63, gb_free=16.8, wall=35014
2023-08-23 00:45:24 | INFO | train_inner | epoch 032:    628 / 1474 loss=1.888, trans_loss=4.765, nll_loss=1.964, w2v_ctc_loss=0.64, task_loss=1.392, contrastive_loss=0.038, total=4125.24, n_correct=2846.1, ppl=3.9, accuracy=68.992, wps=13065.4, ups=1.58, wpb=8250.5, bsz=296.8, num_updates=46300, lr=6.57241e-05, gnorm=0.531, clip=0, loss_scale=4, train_wall=63, gb_free=16.5, wall=35077
2023-08-23 00:46:27 | INFO | train_inner | epoch 032:    728 / 1474 loss=1.883, trans_loss=4.762, nll_loss=1.96, w2v_ctc_loss=0.638, task_loss=1.325, contrastive_loss=0.025, total=4163.48, n_correct=2881.22, ppl=3.89, accuracy=69.202, wps=13195.2, ups=1.58, wpb=8327, bsz=304.5, num_updates=46400, lr=6.56532e-05, gnorm=0.534, clip=0, loss_scale=4, train_wall=63, gb_free=15.8, wall=35140
2023-08-23 00:47:29 | INFO | train_inner | epoch 032:    828 / 1474 loss=1.882, trans_loss=4.761, nll_loss=1.958, w2v_ctc_loss=0.63, task_loss=1.36, contrastive_loss=0.024, total=4118.04, n_correct=2846.07, ppl=3.89, accuracy=69.112, wps=13208.3, ups=1.6, wpb=8236.1, bsz=294.4, num_updates=46500, lr=6.55826e-05, gnorm=0.548, clip=0, loss_scale=4, train_wall=62, gb_free=12.9, wall=35203
2023-08-23 00:48:32 | INFO | train_inner | epoch 032:    928 / 1474 loss=1.878, trans_loss=4.76, nll_loss=1.957, w2v_ctc_loss=0.626, task_loss=1.36, contrastive_loss=0.023, total=4138.73, n_correct=2860.45, ppl=3.88, accuracy=69.114, wps=13142.3, ups=1.59, wpb=8277.5, bsz=298.6, num_updates=46600, lr=6.55122e-05, gnorm=0.532, clip=0, loss_scale=4, train_wall=62, gb_free=16.1, wall=35266
2023-08-23 00:49:35 | INFO | train_inner | epoch 032:   1028 / 1474 loss=1.894, trans_loss=4.767, nll_loss=1.967, w2v_ctc_loss=0.636, task_loss=1.307, contrastive_loss=0.118, total=4105.63, n_correct=2830.99, ppl=3.91, accuracy=68.954, wps=13076.8, ups=1.59, wpb=8211.3, bsz=303.4, num_updates=46700, lr=6.5442e-05, gnorm=0.526, clip=0, loss_scale=4, train_wall=62, gb_free=10.8, wall=35329
2023-08-23 00:50:38 | INFO | train_inner | epoch 032:   1128 / 1474 loss=1.893, trans_loss=4.764, nll_loss=1.962, w2v_ctc_loss=0.637, task_loss=1.566, contrastive_loss=0.058, total=4018.68, n_correct=2769.36, ppl=3.89, accuracy=68.912, wps=12855, ups=1.6, wpb=8037.4, bsz=270.5, num_updates=46800, lr=6.5372e-05, gnorm=0.569, clip=0, loss_scale=4, train_wall=62, gb_free=11.1, wall=35391
2023-08-23 00:51:40 | INFO | train_inner | epoch 032:   1228 / 1474 loss=1.903, trans_loss=4.774, nll_loss=1.975, w2v_ctc_loss=0.637, task_loss=1.281, contrastive_loss=0.159, total=4165.54, n_correct=2866.54, ppl=3.93, accuracy=68.816, wps=13318.4, ups=1.6, wpb=8331.1, bsz=313.3, num_updates=46900, lr=6.53023e-05, gnorm=0.583, clip=0, loss_scale=8, train_wall=62, gb_free=14.5, wall=35454
2023-08-23 00:52:42 | INFO | train_inner | epoch 032:   1328 / 1474 loss=1.883, trans_loss=4.761, nll_loss=1.958, w2v_ctc_loss=0.637, task_loss=1.338, contrastive_loss=0.024, total=4074.77, n_correct=2815.58, ppl=3.89, accuracy=69.098, wps=13217.8, ups=1.62, wpb=8149.5, bsz=297.6, num_updates=47000, lr=6.52328e-05, gnorm=0.541, clip=0, loss_scale=8, train_wall=61, gb_free=17.4, wall=35515
2023-08-23 00:53:44 | INFO | train_inner | epoch 032:   1428 / 1474 loss=1.915, trans_loss=4.77, nll_loss=1.97, w2v_ctc_loss=0.642, task_loss=1.314, contrastive_loss=0.297, total=4115.52, n_correct=2829.97, ppl=3.92, accuracy=68.763, wps=13186.3, ups=1.6, wpb=8231, bsz=307.8, num_updates=47100, lr=6.51635e-05, gnorm=0.542, clip=0, loss_scale=8, train_wall=62, gb_free=17.2, wall=35578
2023-08-23 00:54:13 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-23 00:54:46 | INFO | dev_st | epoch 032 | valid on 'dev_st' subset | loss 3.924 | trans_loss 5.161 | nll_loss 2.418 | w2v_ctc_loss 1.319 | task_loss 4.61 | contrastive_loss 0.216 | total 4003.4 | n_correct 2676.7 | ppl 5.34 | accuracy 66.861 | uer 17.57 | wer 19.365 | raw_wer 19.365 | bleu 22.24 | wps 1634 | wpb 4003.4 | bsz 141.8 | num_updates 47146 | best_bleu 22.54
2023-08-23 00:54:46 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 32 @ 47146 updates
2023-08-23 00:54:46 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2401.pt
2023-08-23 00:54:49 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2401.pt
2023-08-23 00:54:54 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2401.pt (epoch 32 @ 47146 updates, score 22.24) (writing took 8.058477320009843 seconds)
2023-08-23 00:54:55 | INFO | fairseq_cli.train | end of epoch 32 (average epoch stats below)
2023-08-23 00:54:55 | INFO | train | epoch 032 | loss 1.886 | trans_loss 4.761 | nll_loss 1.958 | w2v_ctc_loss 0.632 | task_loss 1.315 | contrastive_loss 0.074 | total 4138.65 | n_correct 2860.89 | ppl 3.89 | accuracy 69.126 | wps 12018.3 | ups 1.45 | wpb 8277.3 | bsz 305.7 | num_updates 47146 | lr 6.51317e-05 | gnorm 0.541 | clip 0 | loss_scale 8 | train_wall 914 | gb_free 16.1 | wall 35649
2023-08-23 00:54:55 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-23 00:54:55 | INFO | fairseq.trainer | begin training epoch 33
2023-08-23 00:54:55 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-23 00:55:36 | INFO | train_inner | epoch 033:     54 / 1474 loss=1.881, trans_loss=4.756, nll_loss=1.953, w2v_ctc_loss=0.624, task_loss=1.263, contrastive_loss=0.084, total=4143.17, n_correct=2871.79, ppl=3.87, accuracy=69.314, wps=7397.3, ups=0.89, wpb=8286.3, bsz=316.7, num_updates=47200, lr=6.50945e-05, gnorm=0.573, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=35690
2023-08-23 00:56:39 | INFO | train_inner | epoch 033:    154 / 1474 loss=1.87, trans_loss=4.743, nll_loss=1.934, w2v_ctc_loss=0.616, task_loss=1.423, contrastive_loss=0.018, total=4070.66, n_correct=2826.86, ppl=3.82, accuracy=69.445, wps=13043.4, ups=1.6, wpb=8141.3, bsz=283.8, num_updates=47300, lr=6.50256e-05, gnorm=0.539, clip=0, loss_scale=8, train_wall=62, gb_free=16.3, wall=35752
2023-08-23 00:57:42 | INFO | train_inner | epoch 033:    254 / 1474 loss=1.889, trans_loss=4.749, nll_loss=1.944, w2v_ctc_loss=0.624, task_loss=1.118, contrastive_loss=0.182, total=4279.52, n_correct=2969.04, ppl=3.85, accuracy=69.378, wps=13575.9, ups=1.59, wpb=8559, bsz=347.1, num_updates=47400, lr=6.4957e-05, gnorm=0.53, clip=0, loss_scale=8, train_wall=62, gb_free=16.3, wall=35815
2023-08-23 00:58:44 | INFO | train_inner | epoch 033:    354 / 1474 loss=1.88, trans_loss=4.753, nll_loss=1.948, w2v_ctc_loss=0.631, task_loss=1.335, contrastive_loss=0.039, total=4134.4, n_correct=2864.51, ppl=3.86, accuracy=69.285, wps=13261.6, ups=1.6, wpb=8268.8, bsz=303, num_updates=47500, lr=6.48886e-05, gnorm=0.538, clip=0, loss_scale=8, train_wall=62, gb_free=12.2, wall=35878
2023-08-23 00:59:45 | INFO | train_inner | epoch 033:    454 / 1474 loss=1.864, trans_loss=4.739, nll_loss=1.93, w2v_ctc_loss=0.616, task_loss=1.252, contrastive_loss=0.023, total=4131.26, n_correct=2877.83, ppl=3.81, accuracy=69.66, wps=13472.9, ups=1.63, wpb=8262.5, bsz=309.1, num_updates=47600, lr=6.48204e-05, gnorm=0.537, clip=0, loss_scale=8, train_wall=61, gb_free=15.2, wall=35939
2023-08-23 01:00:48 | INFO | train_inner | epoch 033:    554 / 1474 loss=1.884, trans_loss=4.757, nll_loss=1.952, w2v_ctc_loss=0.635, task_loss=1.365, contrastive_loss=0.042, total=4136.29, n_correct=2861.12, ppl=3.87, accuracy=69.171, wps=13211.5, ups=1.6, wpb=8272.6, bsz=294.8, num_updates=47700, lr=6.47524e-05, gnorm=0.555, clip=0, loss_scale=8, train_wall=62, gb_free=14.5, wall=36002
2023-08-23 01:01:51 | INFO | train_inner | epoch 033:    654 / 1474 loss=1.886, trans_loss=4.764, nll_loss=1.961, w2v_ctc_loss=0.627, task_loss=1.355, contrastive_loss=0.075, total=4155.56, n_correct=2870.69, ppl=3.89, accuracy=69.081, wps=13225.3, ups=1.59, wpb=8311.1, bsz=300.4, num_updates=47800, lr=6.46846e-05, gnorm=0.535, clip=0, loss_scale=8, train_wall=62, gb_free=14.8, wall=36064
2023-08-23 01:02:54 | INFO | train_inner | epoch 033:    754 / 1474 loss=1.886, trans_loss=4.758, nll_loss=1.954, w2v_ctc_loss=0.643, task_loss=1.411, contrastive_loss=0.025, total=4076.72, n_correct=2818.06, ppl=3.88, accuracy=69.126, wps=13031.6, ups=1.6, wpb=8153.4, bsz=289.6, num_updates=47900, lr=6.46171e-05, gnorm=0.535, clip=0, loss_scale=8, train_wall=62, gb_free=16.2, wall=36127
2023-08-23 01:03:56 | INFO | train_inner | epoch 033:    854 / 1474 loss=1.873, trans_loss=4.749, nll_loss=1.944, w2v_ctc_loss=0.612, task_loss=1.261, contrastive_loss=0.092, total=4126.23, n_correct=2867.63, ppl=3.85, accuracy=69.498, wps=13240.1, ups=1.6, wpb=8252.5, bsz=314.4, num_updates=48000, lr=6.45497e-05, gnorm=0.528, clip=0, loss_scale=8, train_wall=62, gb_free=15.4, wall=36189
2023-08-23 01:03:56 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-23 01:04:29 | INFO | dev_st | epoch 033 | valid on 'dev_st' subset | loss 3.939 | trans_loss 5.171 | nll_loss 2.428 | w2v_ctc_loss 1.346 | task_loss 4.613 | contrastive_loss 0.215 | total 4003.4 | n_correct 2674.2 | ppl 5.38 | accuracy 66.798 | uer 17.84 | wer 19.578 | raw_wer 19.578 | bleu 21.98 | wps 1619 | wpb 4003.4 | bsz 141.8 | num_updates 48000 | best_bleu 22.54
2023-08-23 01:04:29 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 33 @ 48000 updates
2023-08-23 01:04:29 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_33_48000.pt
2023-08-23 01:04:31 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_33_48000.pt
2023-08-23 01:04:36 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_33_48000.pt (epoch 33 @ 48000 updates, score 21.98) (writing took 7.389999047969468 seconds)
2023-08-23 01:05:39 | INFO | train_inner | epoch 033:    954 / 1474 loss=1.879, trans_loss=4.755, nll_loss=1.951, w2v_ctc_loss=0.633, task_loss=1.296, contrastive_loss=0.034, total=4161.72, n_correct=2884.88, ppl=3.87, accuracy=69.319, wps=8085.4, ups=0.97, wpb=8323.4, bsz=312, num_updates=48100, lr=6.44826e-05, gnorm=0.533, clip=0, loss_scale=8, train_wall=61, gb_free=15.7, wall=36292
2023-08-23 01:06:42 | INFO | train_inner | epoch 033:   1054 / 1474 loss=1.889, trans_loss=4.751, nll_loss=1.945, w2v_ctc_loss=0.628, task_loss=1.334, contrastive_loss=0.136, total=4134.8, n_correct=2863.33, ppl=3.85, accuracy=69.25, wps=13054.6, ups=1.58, wpb=8269.6, bsz=304.7, num_updates=48200, lr=6.44157e-05, gnorm=0.58, clip=0, loss_scale=8, train_wall=63, gb_free=16.4, wall=36356
2023-08-23 01:07:46 | INFO | train_inner | epoch 033:   1154 / 1474 loss=1.889, trans_loss=4.763, nll_loss=1.962, w2v_ctc_loss=0.623, task_loss=1.322, contrastive_loss=0.123, total=4177.62, n_correct=2886.72, ppl=3.9, accuracy=69.1, wps=13175.4, ups=1.58, wpb=8355.2, bsz=309.6, num_updates=48300, lr=6.43489e-05, gnorm=0.529, clip=0, loss_scale=8, train_wall=63, gb_free=16.1, wall=36419
2023-08-23 01:08:49 | INFO | train_inner | epoch 033:   1254 / 1474 loss=1.879, trans_loss=4.753, nll_loss=1.948, w2v_ctc_loss=0.63, task_loss=1.382, contrastive_loss=0.026, total=4115.15, n_correct=2853.9, ppl=3.86, accuracy=69.351, wps=13042.3, ups=1.58, wpb=8230.3, bsz=294.4, num_updates=48400, lr=6.42824e-05, gnorm=0.589, clip=0, loss_scale=8, train_wall=62, gb_free=15.8, wall=36482
2023-08-23 01:09:52 | INFO | train_inner | epoch 033:   1354 / 1474 loss=1.878, trans_loss=4.756, nll_loss=1.953, w2v_ctc_loss=0.63, task_loss=1.296, contrastive_loss=0.041, total=4121.6, n_correct=2855.84, ppl=3.87, accuracy=69.29, wps=13111.5, ups=1.59, wpb=8243.2, bsz=311.7, num_updates=48500, lr=6.42161e-05, gnorm=0.529, clip=0, loss_scale=8, train_wall=62, gb_free=15, wall=36545
2023-08-23 01:10:23 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-23 01:10:55 | INFO | train_inner | epoch 033:   1455 / 1474 loss=1.889, trans_loss=4.755, nll_loss=1.951, w2v_ctc_loss=0.621, task_loss=1.297, contrastive_loss=0.19, total=4138.62, n_correct=2865.63, ppl=3.87, accuracy=69.241, wps=13119, ups=1.58, wpb=8277.2, bsz=311.5, num_updates=48600, lr=6.415e-05, gnorm=0.541, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=36608
2023-08-23 01:11:06 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-23 01:11:41 | INFO | dev_st | epoch 033 | valid on 'dev_st' subset | loss 3.926 | trans_loss 5.161 | nll_loss 2.417 | w2v_ctc_loss 1.323 | task_loss 4.611 | contrastive_loss 0.215 | total 4003.4 | n_correct 2674.2 | ppl 5.34 | accuracy 66.798 | uer 17.376 | wer 19.157 | raw_wer 19.157 | bleu 21.99 | wps 1533 | wpb 4003.4 | bsz 141.8 | num_updates 48619 | best_bleu 22.54
2023-08-23 01:11:41 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 33 @ 48619 updates
2023-08-23 01:11:41 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-23 01:11:48 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-23 01:11:48 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt (epoch 33 @ 48619 updates, score 21.99) (writing took 7.3543027840787545 seconds)
2023-08-23 01:11:48 | INFO | fairseq_cli.train | end of epoch 33 (average epoch stats below)
2023-08-23 01:11:48 | INFO | train | epoch 033 | loss 1.881 | trans_loss 4.753 | nll_loss 1.948 | w2v_ctc_loss 0.626 | task_loss 1.316 | contrastive_loss 0.074 | total 4139 | n_correct 2868.45 | ppl 3.86 | accuracy 69.303 | wps 12039.6 | ups 1.45 | wpb 8278 | bsz 305.8 | num_updates 48619 | lr 6.41375e-05 | gnorm 0.543 | clip 0 | loss_scale 4 | train_wall 913 | gb_free 17.5 | wall 36661
2023-08-23 01:11:48 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-23 01:11:48 | INFO | fairseq.trainer | begin training epoch 34
2023-08-23 01:11:48 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-23 01:12:46 | INFO | train_inner | epoch 034:     81 / 1474 loss=1.873, trans_loss=4.742, nll_loss=1.934, w2v_ctc_loss=0.626, task_loss=1.32, contrastive_loss=0.029, total=4113.07, n_correct=2858.86, ppl=3.82, accuracy=69.507, wps=7387.8, ups=0.9, wpb=8226.1, bsz=298.8, num_updates=48700, lr=6.40841e-05, gnorm=0.56, clip=0, loss_scale=4, train_wall=62, gb_free=16.1, wall=36719
2023-08-23 01:13:49 | INFO | train_inner | epoch 034:    181 / 1474 loss=1.868, trans_loss=4.735, nll_loss=1.924, w2v_ctc_loss=0.621, task_loss=1.375, contrastive_loss=0.03, total=4069.22, n_correct=2837.65, ppl=3.79, accuracy=69.734, wps=13022.8, ups=1.6, wpb=8138.4, bsz=295.5, num_updates=48800, lr=6.40184e-05, gnorm=0.557, clip=0, loss_scale=4, train_wall=62, gb_free=12.2, wall=36782
2023-08-23 01:14:52 | INFO | train_inner | epoch 034:    281 / 1474 loss=1.893, trans_loss=4.753, nll_loss=1.949, w2v_ctc_loss=0.614, task_loss=1.218, contrastive_loss=0.23, total=4252.78, n_correct=2948.48, ppl=3.86, accuracy=69.331, wps=13462.7, ups=1.58, wpb=8505.6, bsz=331.2, num_updates=48900, lr=6.39529e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=63, gb_free=16.4, wall=36845
2023-08-23 01:15:54 | INFO | train_inner | epoch 034:    381 / 1474 loss=1.875, trans_loss=4.736, nll_loss=1.927, w2v_ctc_loss=0.617, task_loss=1.258, contrastive_loss=0.126, total=4151.69, n_correct=2889.64, ppl=3.8, accuracy=69.602, wps=13287.2, ups=1.6, wpb=8303.4, bsz=316.4, num_updates=49000, lr=6.38877e-05, gnorm=0.56, clip=0, loss_scale=4, train_wall=62, gb_free=15.4, wall=36908
2023-08-23 01:16:57 | INFO | train_inner | epoch 034:    481 / 1474 loss=1.878, trans_loss=4.747, nll_loss=1.939, w2v_ctc_loss=0.631, task_loss=1.437, contrastive_loss=0.024, total=4078.14, n_correct=2829, ppl=3.83, accuracy=69.37, wps=13051.2, ups=1.6, wpb=8156.3, bsz=284.7, num_updates=49100, lr=6.38226e-05, gnorm=0.626, clip=0, loss_scale=4, train_wall=62, gb_free=15.9, wall=36970
2023-08-23 01:17:50 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 2.0
2023-08-23 01:17:59 | INFO | train_inner | epoch 034:    582 / 1474 loss=1.865, trans_loss=4.734, nll_loss=1.924, w2v_ctc_loss=0.614, task_loss=1.317, contrastive_loss=0.026, total=4126.59, n_correct=2877.01, ppl=3.79, accuracy=69.719, wps=13193.8, ups=1.6, wpb=8253.2, bsz=302.2, num_updates=49200, lr=6.37577e-05, gnorm=0.532, clip=0, loss_scale=2, train_wall=62, gb_free=16.4, wall=37033
2023-08-23 01:19:02 | INFO | train_inner | epoch 034:    682 / 1474 loss=1.871, trans_loss=4.744, nll_loss=1.936, w2v_ctc_loss=0.623, task_loss=1.37, contrastive_loss=0.021, total=4104.53, n_correct=2853.42, ppl=3.83, accuracy=69.519, wps=13169.1, ups=1.6, wpb=8209.1, bsz=294.9, num_updates=49300, lr=6.3693e-05, gnorm=0.661, clip=0, loss_scale=2, train_wall=62, gb_free=10.9, wall=37095
2023-08-23 01:20:04 | INFO | train_inner | epoch 034:    782 / 1474 loss=1.886, trans_loss=4.763, nll_loss=1.961, w2v_ctc_loss=0.624, task_loss=1.364, contrastive_loss=0.088, total=4072.13, n_correct=2817.06, ppl=3.89, accuracy=69.179, wps=13015.3, ups=1.6, wpb=8144.3, bsz=295.8, num_updates=49400, lr=6.36285e-05, gnorm=0.568, clip=0, loss_scale=2, train_wall=62, gb_free=15.7, wall=37158
2023-08-23 01:21:07 | INFO | train_inner | epoch 034:    882 / 1474 loss=1.879, trans_loss=4.752, nll_loss=1.947, w2v_ctc_loss=0.626, task_loss=1.388, contrastive_loss=0.044, total=4102.1, n_correct=2845.36, ppl=3.85, accuracy=69.363, wps=13058.3, ups=1.59, wpb=8204.2, bsz=296.9, num_updates=49500, lr=6.35642e-05, gnorm=0.571, clip=0, loss_scale=2, train_wall=62, gb_free=16.5, wall=37220
2023-08-23 01:22:09 | INFO | train_inner | epoch 034:    982 / 1474 loss=1.879, trans_loss=4.751, nll_loss=1.946, w2v_ctc_loss=0.632, task_loss=1.286, contrastive_loss=0.04, total=4184.11, n_correct=2898.55, ppl=3.85, accuracy=69.275, wps=13425.1, ups=1.6, wpb=8368.2, bsz=314.2, num_updates=49600, lr=6.35001e-05, gnorm=0.549, clip=0, loss_scale=2, train_wall=62, gb_free=15.8, wall=37283
2023-08-23 01:23:12 | INFO | train_inner | epoch 034:   1082 / 1474 loss=1.871, trans_loss=4.747, nll_loss=1.94, w2v_ctc_loss=0.625, task_loss=1.269, contrastive_loss=0.026, total=4149.32, n_correct=2884.37, ppl=3.84, accuracy=69.514, wps=13338.9, ups=1.61, wpb=8298.6, bsz=309.1, num_updates=49700, lr=6.34361e-05, gnorm=0.554, clip=0, loss_scale=2, train_wall=62, gb_free=14.9, wall=37345
2023-08-23 01:24:14 | INFO | train_inner | epoch 034:   1182 / 1474 loss=1.875, trans_loss=4.749, nll_loss=1.943, w2v_ctc_loss=0.623, task_loss=1.374, contrastive_loss=0.036, total=4094.34, n_correct=2839.66, ppl=3.84, accuracy=69.356, wps=13214.5, ups=1.61, wpb=8188.7, bsz=294.9, num_updates=49800, lr=6.33724e-05, gnorm=0.531, clip=0, loss_scale=2, train_wall=61, gb_free=15.1, wall=37407
2023-08-23 01:25:16 | INFO | train_inner | epoch 034:   1282 / 1474 loss=1.873, trans_loss=4.745, nll_loss=1.938, w2v_ctc_loss=0.627, task_loss=1.308, contrastive_loss=0.024, total=4161.82, n_correct=2889.84, ppl=3.83, accuracy=69.437, wps=13343.1, ups=1.6, wpb=8323.6, bsz=303.8, num_updates=49900, lr=6.33089e-05, gnorm=0.588, clip=0, loss_scale=2, train_wall=62, gb_free=15.8, wall=37469
2023-08-23 01:26:19 | INFO | train_inner | epoch 034:   1382 / 1474 loss=1.886, trans_loss=4.757, nll_loss=1.953, w2v_ctc_loss=0.633, task_loss=1.279, contrastive_loss=0.083, total=4184.94, n_correct=2896.23, ppl=3.87, accuracy=69.206, wps=13222.6, ups=1.58, wpb=8369.9, bsz=318, num_updates=50000, lr=6.32456e-05, gnorm=0.528, clip=0, loss_scale=2, train_wall=63, gb_free=10.9, wall=37533
2023-08-23 01:26:19 | INFO | fairseq_cli.train | Stopping training due to num_updates: 50000 >= max_update: 50000
2023-08-23 01:26:19 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-23 01:26:52 | INFO | dev_st | epoch 034 | valid on 'dev_st' subset | loss 3.921 | trans_loss 5.167 | nll_loss 2.422 | w2v_ctc_loss 1.294 | task_loss 4.616 | contrastive_loss 0.214 | total 4003.4 | n_correct 2680.6 | ppl 5.36 | accuracy 66.958 | uer 17.309 | wer 19.276 | raw_wer 19.276 | bleu 22.27 | wps 1637.9 | wpb 4003.4 | bsz 141.8 | num_updates 50000 | best_bleu 22.54
2023-08-23 01:26:52 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 34 @ 50000 updates
2023-08-23 01:26:52 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_34_50000.pt
2023-08-23 01:26:54 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_34_50000.pt
2023-08-23 01:27:00 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_topCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_34_50000.pt (epoch 34 @ 50000 updates, score 22.27) (writing took 8.359124207985587 seconds)
2023-08-23 01:27:01 | INFO | fairseq_cli.train | end of epoch 34 (average epoch stats below)
2023-08-23 01:27:01 | INFO | train | epoch 034 | loss 1.876 | trans_loss 4.747 | nll_loss 1.94 | w2v_ctc_loss 0.624 | task_loss 1.325 | contrastive_loss 0.061 | total 4132.31 | n_correct 2869.49 | ppl 3.84 | accuracy 69.44 | wps 12495.8 | ups 1.51 | wpb 8264.6 | bsz 304.1 | num_updates 50000 | lr 6.32456e-05 | gnorm 0.565 | clip 0 | loss_scale 2 | train_wall 855 | gb_free 10.9 | wall 37575
2023-08-23 01:27:01 | INFO | fairseq_cli.train | done training in 37530.6 seconds
Exception in thread Thread-6:
Traceback (most recent call last):
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/threading.py", line 932, in _bootstrap_inner
Exception in thread Thread-7:
Traceback (most recent call last):
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/threading.py", line 932, in _bootstrap_inner
Exception in thread Thread-3:
Traceback (most recent call last):
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/tensorboardX/event_file_writer.py", line 202, in run
    data = self._queue.get(True, queue_wait_duration)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/queues.py", line 111, in get
    res = self._recv_bytes()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 216, in recv_bytes
    buf = self._recv_bytes(maxlength)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 414, in _recv_bytes
    self.run()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/tensorboardX/event_file_writer.py", line 202, in run
    data = self._queue.get(True, queue_wait_duration)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/queues.py", line 111, in get
    buf = self._recv(4)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 383, in _recv
    self.run()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/tensorboardX/event_file_writer.py", line 202, in run
    raise EOFError
EOFError
    res = self._recv_bytes()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 216, in recv_bytes
    data = self._queue.get(True, queue_wait_duration)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/queues.py", line 111, in get
    buf = self._recv_bytes(maxlength)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 414, in _recv_bytes
    buf = self._recv(4)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 383, in _recv
    res = self._recv_bytes()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 216, in recv_bytes
    raise EOFError
EOFError
    buf = self._recv_bytes(maxlength)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 414, in _recv_bytes
    buf = self._recv(4)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 383, in _recv
    raise EOFError
EOFError
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/resource_tracker.py:216: UserWarning: resource_tracker: There appear to be 1472 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
