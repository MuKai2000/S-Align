2023-08-22 13:03:57 | INFO | fairseq.distributed.utils | distributed init (rank 5): tcp://localhost:14247
2023-08-22 13:03:57 | INFO | fairseq.distributed.utils | distributed init (rank 3): tcp://localhost:14247
2023-08-22 13:03:57 | INFO | fairseq.distributed.utils | distributed init (rank 0): tcp://localhost:14247
2023-08-22 13:03:57 | INFO | fairseq.distributed.utils | distributed init (rank 6): tcp://localhost:14247
2023-08-22 13:03:57 | INFO | fairseq.distributed.utils | distributed init (rank 7): tcp://localhost:14247
2023-08-22 13:03:57 | INFO | fairseq.distributed.utils | distributed init (rank 2): tcp://localhost:14247
2023-08-22 13:03:57 | INFO | fairseq.distributed.utils | distributed init (rank 4): tcp://localhost:14247
2023-08-22 13:03:57 | INFO | fairseq.distributed.utils | distributed init (rank 1): tcp://localhost:14247
2023-08-22 13:03:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 7
2023-08-22 13:03:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 1
2023-08-22 13:03:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 4
2023-08-22 13:03:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 2
2023-08-22 13:03:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 6
2023-08-22 13:03:58 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 5
2023-08-22 13:03:58 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 0
2023-08-22 13:03:58 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 3
2023-08-22 13:03:58 | INFO | torch.distributed.distributed_c10d | Rank 3: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 13:03:58 | INFO | fairseq.distributed.utils | initialized host capios as rank 3
2023-08-22 13:03:58 | INFO | torch.distributed.distributed_c10d | Rank 0: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 13:03:58 | INFO | fairseq.distributed.utils | initialized host capios as rank 0
2023-08-22 13:03:58 | INFO | torch.distributed.distributed_c10d | Rank 5: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 13:03:58 | INFO | fairseq.distributed.utils | initialized host capios as rank 5
2023-08-22 13:03:58 | INFO | torch.distributed.distributed_c10d | Rank 6: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 13:03:58 | INFO | torch.distributed.distributed_c10d | Rank 2: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 13:03:58 | INFO | torch.distributed.distributed_c10d | Rank 1: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 13:03:58 | INFO | torch.distributed.distributed_c10d | Rank 4: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 13:03:58 | INFO | fairseq.distributed.utils | initialized host capios as rank 6
2023-08-22 13:03:58 | INFO | fairseq.distributed.utils | initialized host capios as rank 2
2023-08-22 13:03:58 | INFO | fairseq.distributed.utils | initialized host capios as rank 1
2023-08-22 13:03:58 | INFO | fairseq.distributed.utils | initialized host capios as rank 4
2023-08-22 13:03:58 | INFO | torch.distributed.distributed_c10d | Rank 7: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-22 13:03:58 | INFO | fairseq.distributed.utils | initialized host capios as rank 7
2023-08-22 13:04:00 | INFO | fairseq_cli.train | {'_name': None, 'common': {'_name': None, 'no_progress_bar': True, 'log_interval': 100, 'log_format': None, 'log_file': None, 'aim_repo': None, 'aim_run_hash': None, 'tensorboard_logdir': './checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5', 'wandb_project': None, 'azureml_logging': False, 'seed': 1, 'cpu': False, 'tpu': False, 'bf16': False, 'memory_efficient_bf16': False, 'fp16': True, 'memory_efficient_fp16': False, 'fp16_no_flatten_grads': False, 'fp16_init_scale': 128, 'fp16_scale_window': None, 'fp16_scale_tolerance': 0.0, 'on_cpu_convert_precision': False, 'min_loss_scale': 0.0001, 'threshold_loss_scale': None, 'amp': False, 'amp_batch_retries': 2, 'amp_init_scale': 128, 'amp_scale_window': None, 'user_dir': None, 'empty_cache_freq': 0, 'all_gather_list_size': 16384, 'model_parallel_size': 1, 'quantization_config_path': None, 'profile': False, 'reset_logging': False, 'suppress_crashes': False, 'use_plasma_view': False, 'plasma_path': '/tmp/plasma'}, 'common_eval': {'_name': None, 'path': None, 'post_process': 'sentencepiece', 'quiet': False, 'model_overrides': '{}', 'results_path': None}, 'distributed_training': {'_name': None, 'distributed_world_size': 8, 'distributed_num_procs': 8, 'distributed_rank': 0, 'distributed_backend': 'nccl', 'distributed_init_method': 'tcp://localhost:14247', 'distributed_port': -1, 'device_id': 0, 'distributed_no_spawn': False, 'ddp_backend': 'no_c10d', 'ddp_comm_hook': 'none', 'bucket_cap_mb': 25, 'fix_batches_to_gpus': False, 'find_unused_parameters': False, 'gradient_as_bucket_view': False, 'fast_stat_sync': False, 'heartbeat_timeout': -1, 'broadcast_buffers': False, 'slowmo_momentum': None, 'slowmo_base_algorithm': 'localsgd', 'localsgd_frequency': 3, 'nprocs_per_node': 8, 'pipeline_model_parallel': False, 'pipeline_balance': None, 'pipeline_devices': None, 'pipeline_chunks': 0, 'pipeline_encoder_balance': None, 'pipeline_encoder_devices': None, 'pipeline_decoder_balance': None, 'pipeline_decoder_devices': None, 'pipeline_checkpoint': 'never', 'zero_sharding': 'none', 'fp16': True, 'memory_efficient_fp16': False, 'tpu': False, 'no_reshard_after_forward': False, 'fp32_reduce_scatter': False, 'cpu_offload': False, 'use_sharded_state': False, 'not_fsdp_flatten_parameters': False}, 'dataset': {'_name': None, 'num_workers': 2, 'skip_invalid_size_inputs_valid_test': True, 'max_tokens': 15000, 'batch_size': None, 'required_batch_size_multiple': 8, 'required_seq_len_multiple': 1, 'dataset_impl': None, 'data_buffer_size': 10, 'train_subset': 'train_st,train_asr', 'valid_subset': 'dev_st', 'combine_valid_subsets': None, 'ignore_unused_valid_subsets': False, 'validate_interval': 1, 'validate_interval_updates': 0, 'validate_after_updates': 0, 'fixed_validation_seed': None, 'disable_validation': False, 'max_tokens_valid': 15000, 'batch_size_valid': None, 'max_valid_steps': None, 'curriculum': 0, 'gen_subset': 'test', 'num_shards': 1, 'shard_id': 0, 'grouped_shuffling': False, 'update_epoch_batch_itr': False, 'update_ordered_indices_seed': False}, 'optimization': {'_name': None, 'max_epoch': 100, 'max_update': 50000, 'stop_time_hours': 0.0, 'clip_norm': 10.0, 'sentence_avg': False, 'update_freq': [1], 'lr': [0.0002], 'stop_min_lr': -1.0, 'use_bmuf': False, 'skip_remainder_batch': False}, 'checkpoint': {'_name': None, 'save_dir': './checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5', 'restore_file': 'checkpoint_last.pt', 'continue_once': None, 'finetune_from_model': None, 'reset_dataloader': False, 'reset_lr_scheduler': False, 'reset_meters': False, 'reset_optimizer': False, 'optimizer_overrides': '{}', 'save_interval': 1, 'save_interval_updates': 2000, 'keep_interval_updates': 5, 'keep_interval_updates_pattern': -1, 'keep_last_epochs': 2, 'keep_best_checkpoints': 10, 'no_save': False, 'no_epoch_checkpoints': True, 'no_last_checkpoints': False, 'no_save_optimizer_state': False, 'best_checkpoint_metric': 'bleu', 'maximize_best_checkpoint_metric': True, 'patience': -1, 'checkpoint_suffix': '', 'checkpoint_shard_count': 1, 'load_checkpoint_on_all_dp_ranks': False, 'write_checkpoints_asynchronously': False, 'model_parallel_size': 1}, 'bmuf': {'_name': None, 'block_lr': 1.0, 'block_momentum': 0.875, 'global_sync_iter': 50, 'warmup_iterations': 500, 'use_nbm': False, 'average_sync': False, 'distributed_world_size': 8}, 'generation': {'_name': None, 'beam': 5, 'beam_mt': 0, 'nbest': 1, 'max_len_a': 0.0, 'max_len_b': 200, 'max_len_a_mt': 0.0, 'max_len_b_mt': 200, 'min_len': 1, 'match_source_len': False, 'unnormalized': False, 'no_early_stop': False, 'no_beamable_mm': False, 'lenpen': 1.0, 'lenpen_mt': 1.0, 'unkpen': 0.0, 'replace_unk': None, 'sacrebleu': False, 'score_reference': False, 'prefix_size': 0, 'no_repeat_ngram_size': 0, 'sampling': False, 'sampling_topk': -1, 'sampling_topp': -1.0, 'constraints': None, 'temperature': 1.0, 'diverse_beam_groups': -1, 'diverse_beam_strength': 0.5, 'diversity_rate': -1.0, 'print_alignment': None, 'print_step': False, 'lm_path': None, 'lm_weight': 0.0, 'iter_decode_eos_penalty': 0.0, 'iter_decode_max_iter': 10, 'iter_decode_force_max_iter': False, 'iter_decode_with_beam': 1, 'iter_decode_with_external_reranker': False, 'retain_iter_history': False, 'retain_dropout': False, 'retain_dropout_modules': None, 'decoding_format': None, 'no_seed_provided': False, 'eos_token': None}, 'eval_lm': {'_name': None, 'output_word_probs': False, 'output_word_stats': False, 'context_window': 0, 'softmax_batch': 9223372036854775807}, 'interactive': {'_name': None, 'buffer_size': 0, 'input': '-'}, 'model': Namespace(_name='s2t_joint', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_low_pos=False, at_nomute=False, at_nopad=True, at_scale=2.5, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=0.0, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_ende_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/workspace/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=15000, max_tokens_valid=15000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=-0.1, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/workspace/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, simul_type=None, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/workspace/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=False, use_two_contrastive=False, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/workspace/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'task': Namespace(_name='joint_triple_pretraining_merge', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_low_pos=False, at_nomute=False, at_nopad=True, at_scale=2.5, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=0.0, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_ende_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/workspace/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=15000, max_tokens_valid=15000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=-0.1, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/workspace/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, simul_type=None, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/workspace/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=False, use_two_contrastive=False, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/workspace/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'criterion': Namespace(_name='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_low_pos=False, at_nomute=False, at_nopad=True, at_scale=2.5, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=0.0, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_ende_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/workspace/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=15000, max_tokens_valid=15000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=-0.1, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/workspace/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, simul_type=None, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/workspace/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=False, use_two_contrastive=False, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/workspace/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'optimizer': {'_name': 'adam', 'adam_betas': '(0.9,0.98)', 'adam_eps': 1e-08, 'weight_decay': 0.0, 'use_old_adam': False, 'fp16_adam_stats': False, 'tpu': False, 'lr': [0.0002]}, 'lr_scheduler': {'_name': 'inverse_sqrt', 'warmup_updates': 5000, 'warmup_init_lr': 1e-07, 'lr': [0.0002]}, 'scoring': {'_name': 'bleu', 'pad': 1, 'eos': 2, 'unk': 3}, 'bpe': None, 'tokenizer': None, 'ema': {'_name': None, 'store_ema': False, 'ema_decay': 0.9999, 'ema_start_update': 0, 'ema_seed_model': None, 'ema_update_freq': 1, 'ema_fp32': False}, 'simul_type': None}
2023-08-22 13:04:00 | INFO | fairseq.tasks.joint_triple_pretraining_merge | dictionary size (dict.wrd.txt): 10,000
2023-08-22 13:04:00 | INFO | fairseq.tasks.joint_triple_pretraining_merge | asr dictionary size (dict.wrd.txt): 10,000
2023-08-22 13:04:00 | INFO | fairseq.tasks.joint_triple_pretraining_merge | cluster dictionary size (kmeans100.convert.txt): 5,224
2023-08-22 13:04:00 | INFO | fairseq.tasks.joint_triple_pretraining_merge | Initial task weight: asr 1.0: mt 0.5
2023-08-22 13:04:00 | INFO | root | load pretrained embeddings: /workspace/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline
2023-08-22 13:04:05 | INFO | fairseq.tasks.hubert_pretraining | current directory is /workspace/fairseq-AT/egs/pretrain-all
2023-08-22 13:04:05 | INFO | fairseq.tasks.hubert_pretraining | HubertPretrainingTask Config {'_name': 'hubert_pretraining', 'data': 'data_all_ende_lcrm', 'fine_tuning': False, 'labels': ['layer6.km500'], 'label_dir': None, 'label_rate': 50.0, 'sample_rate': 16000, 'normalize': False, 'enable_padding': False, 'max_keep_size': None, 'max_sample_size': 250000, 'min_sample_size': 32000, 'single_target': False, 'random_crop': True, 'pad_audio': False}
2023-08-22 13:04:05 | INFO | fairseq.models.hubert.hubert | HubertModel Config: {'_name': 'hubert', 'label_rate': 50.0, 'extractor_mode': default, 'encoder_layers': 12, 'encoder_embed_dim': 768, 'encoder_ffn_embed_dim': 3072, 'encoder_attention_heads': 12, 'activation_fn': gelu, 'layer_type': transformer, 'dropout': 0.1, 'attention_dropout': 0.1, 'activation_dropout': 0.1, 'encoder_layerdrop': 0.0, 'dropout_input': 0.0, 'dropout_features': 0.1, 'final_dim': 256, 'untie_final_proj': False, 'layer_norm_first': False, 'conv_feature_layers': '[(512,10,5)] + [(512,3,2)] * 4 + [(512,2,2)] * 2', 'conv_bias': False, 'logit_temp': 0.1, 'target_glu': False, 'feature_grad_mult': 0.0, 'mask_length': 10, 'mask_prob': 0.5, 'mask_selection': static, 'mask_other': 0.0, 'no_mask_overlap': False, 'mask_min_space': 1, 'mask_channel_length': 6, 'mask_channel_prob': 0.25, 'mask_channel_selection': static, 'mask_channel_other': 0.0, 'no_mask_channel_overlap': False, 'mask_channel_min_space': 1, 'conv_pos': 128, 'conv_pos_groups': 16, 'latent_temp': [2.0, 0.5, 0.999995], 'skip_masked': False, 'skip_nomask': False, 'checkpoint_activations': False, 'required_seq_len_multiple': 2, 'depthwise_conv_kernel_size': 31, 'attn_type': '', 'pos_enc_type': 'abs', 'fp16': True}
2023-08-22 13:04:06 | INFO | root | load pretrained hubert
2023-08-22 13:04:09 | INFO | root | load pretrained embedding as ctc proj: /workspace/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline
2023-08-22 13:04:10 | INFO | root | load pretrained encoder: /workspace/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt
2023-08-22 13:04:11 | INFO | root | load pretrained decoder: /workspace/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt
2023-08-22 13:04:11 | INFO | root | share the sematic adapter and textual encoder
2023-08-22 13:04:11 | INFO | fairseq_cli.train | S2TJoint(
  (acoustic_encoder): AcousticEncoder(
    (compress_ffn): Linear(in_features=768, out_features=512, bias=True)
    (proj): Linear(in_features=512, out_features=10000, bias=False)
    (w2v_model): HubertModel(
      (feature_extractor): ConvFeatureExtractionModel(
        (conv_layers): ModuleList(
          (0): Sequential(
            (0): Conv1d(1, 512, kernel_size=(10,), stride=(5,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): Fp32GroupNorm(512, 512, eps=1e-05, affine=True)
            (3): GELU(approximate='none')
          )
          (1-4): 4 x Sequential(
            (0): Conv1d(512, 512, kernel_size=(3,), stride=(2,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): GELU(approximate='none')
          )
          (5-6): 2 x Sequential(
            (0): Conv1d(512, 512, kernel_size=(2,), stride=(2,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): GELU(approximate='none')
          )
        )
      )
      (post_extract_proj): Linear(in_features=512, out_features=768, bias=True)
      (dropout_input): Dropout(p=0.0, inplace=False)
      (dropout_features): Dropout(p=0.1, inplace=False)
      (encoder): TransformerEncoder(
        (pos_conv): Sequential(
          (0): Conv1d(768, 768, kernel_size=(128,), stride=(1,), padding=(64,), groups=16)
          (1): SamePad()
          (2): GELU(approximate='none')
        )
        (layers): ModuleList(
          (0-11): 12 x TransformerSentenceEncoderLayer(
            (self_attn): MultiheadAttention(
              (dropout_module): FairseqDropout()
              (k_proj): Linear(in_features=768, out_features=768, bias=True)
              (v_proj): Linear(in_features=768, out_features=768, bias=True)
              (q_proj): Linear(in_features=768, out_features=768, bias=True)
              (out_proj): Linear(in_features=768, out_features=768, bias=True)
            )
            (dropout1): Dropout(p=0.1, inplace=False)
            (dropout2): Dropout(p=0.1, inplace=False)
            (dropout3): Dropout(p=0.1, inplace=False)
            (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)
            (fc1): Linear(in_features=768, out_features=3072, bias=True)
            (fc2): Linear(in_features=3072, out_features=768, bias=True)
            (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)
          )
        )
        (layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)
      )
      (layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
      (final_proj): None
    )
    (noad): NormalAdapter(
      (subsample): Conv1dSubsampler(
        (conv_layers): ModuleList(
          (0): Conv1d(512, 512, kernel_size=(5,), stride=(2,), padding=(2,))
          (1): Conv1d(256, 1024, kernel_size=(5,), stride=(2,), padding=(2,))
        )
      )
      (layers): ModuleList()
    )
    (sead): SemanticAdapter(
      (embed_positions): SinusoidalPositionalEmbedding()
      (layers): ModuleList(
        (0-5): 6 x TransformerEncoderLayerBase(
          (self_attn): MultiheadAttention(
            (dropout_module): FairseqDropout()
            (k_proj): Linear(in_features=512, out_features=512, bias=True)
            (v_proj): Linear(in_features=512, out_features=512, bias=True)
            (q_proj): Linear(in_features=512, out_features=512, bias=True)
            (out_proj): Linear(in_features=512, out_features=512, bias=True)
          )
          (self_attn_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
          (dropout_module): FairseqDropout()
          (activation_dropout_module): FairseqDropout()
          (fc1): Linear(in_features=512, out_features=2048, bias=True)
          (fc2): Linear(in_features=2048, out_features=512, bias=True)
          (final_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
        )
      )
      (layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
    )
    (final_dropout): Dropout(p=0.1, inplace=False)
    (shrink_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
  )
  (textual_encoder): MTModelEncoder(
    (dropout_module): FairseqDropout()
    (embed_tokens): Embedding(10000, 512, padding_idx=1)
    (embed_positions): SinusoidalPositionalEmbedding()
    (layers): ModuleList(
      (0-5): 6 x TransformerEncoderLayerBase(
        (self_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (self_attn_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
        (dropout_module): FairseqDropout()
        (activation_dropout_module): FairseqDropout()
        (fc1): Linear(in_features=512, out_features=2048, bias=True)
        (fc2): Linear(in_features=2048, out_features=512, bias=True)
        (final_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
      )
    )
    (layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
  )
  (decoder): TransformerDecoderScriptable(
    (dropout_module): FairseqDropout()
    (embed_tokens): Embedding(10000, 512, padding_idx=1)
    (embed_positions): SinusoidalPositionalEmbedding()
    (layers): ModuleList(
      (0-5): 6 x TransformerDecoderLayerBase(
        (dropout_module): FairseqDropout()
        (self_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (activation_dropout_module): FairseqDropout()
        (self_attn_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
        (encoder_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (encoder_attn_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
        (fc1): Linear(in_features=512, out_features=2048, bias=True)
        (fc2): Linear(in_features=2048, out_features=512, bias=True)
        (final_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
      )
    )
    (layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
    (output_projection): Linear(in_features=512, out_features=10000, bias=False)
  )
  (task_net): TaskNetwork(
    (layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
    (down_proj): Linear(in_features=512, out_features=256, bias=True)
    (up_proj): Linear(in_features=256, out_features=512, bias=True)
    (dropout_module): FairseqDropout()
    (task_proj): Linear(in_features=512, out_features=1, bias=False)
  )
)
2023-08-22 13:04:11 | INFO | fairseq_cli.train | task: JointTriplePretrainingMergeTask
2023-08-22 13:04:11 | INFO | fairseq_cli.train | model: S2TJoint
2023-08-22 13:04:11 | INFO | fairseq_cli.train | criterion: LabelSmoothedCrossEntropywithW2vCtcShrinkJointATMerge
2023-08-22 13:04:11 | INFO | fairseq_cli.train | num. shared model params: 147,044,480 (num. trained: 147,044,480)
2023-08-22 13:04:11 | INFO | fairseq_cli.train | num. expert model params: 0 (num. trained: 0)
2023-08-22 13:04:11 | INFO | fairseq.tasks.speech_to_text | pre-tokenizer: {'tokenizer': None}
2023-08-22 13:04:11 | INFO | fairseq.tasks.speech_to_text | tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/workspace/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-22 13:04:11 | INFO | fairseq.tasks.joint_triple_pretraining_merge | src tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/workspace/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-22 13:04:11 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="dev_st", n_samples=1418, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-22 13:04:16 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:2 to store for rank: 0
2023-08-22 13:04:22 | INFO | torch.distributed.distributed_c10d | Rank 0: Completed store-based barrier for key:store_based_barrier_key:2 with 8 nodes.
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- textual_encoder.embed_tokens.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- decoder.embed_tokens.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- decoder.output_projection.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.0.0.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.1.0.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.2.0.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.3.0.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.4.0.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.5.0.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.6.0.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- decoder.output_projection.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- task_net.task_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.k_proj.weight <- textual_encoder.layers.0.self_attn.k_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.k_proj.bias <- textual_encoder.layers.0.self_attn.k_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.v_proj.weight <- textual_encoder.layers.0.self_attn.v_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.v_proj.bias <- textual_encoder.layers.0.self_attn.v_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.q_proj.weight <- textual_encoder.layers.0.self_attn.q_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.q_proj.bias <- textual_encoder.layers.0.self_attn.q_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.out_proj.weight <- textual_encoder.layers.0.self_attn.out_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.out_proj.bias <- textual_encoder.layers.0.self_attn.out_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn_layer_norm.weight <- textual_encoder.layers.0.self_attn_layer_norm.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn_layer_norm.bias <- textual_encoder.layers.0.self_attn_layer_norm.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc1.weight <- textual_encoder.layers.0.fc1.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc1.bias <- textual_encoder.layers.0.fc1.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc2.weight <- textual_encoder.layers.0.fc2.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc2.bias <- textual_encoder.layers.0.fc2.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.final_layer_norm.weight <- textual_encoder.layers.0.final_layer_norm.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.final_layer_norm.bias <- textual_encoder.layers.0.final_layer_norm.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.k_proj.weight <- textual_encoder.layers.1.self_attn.k_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.k_proj.bias <- textual_encoder.layers.1.self_attn.k_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.v_proj.weight <- textual_encoder.layers.1.self_attn.v_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.v_proj.bias <- textual_encoder.layers.1.self_attn.v_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.q_proj.weight <- textual_encoder.layers.1.self_attn.q_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.q_proj.bias <- textual_encoder.layers.1.self_attn.q_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.out_proj.weight <- textual_encoder.layers.1.self_attn.out_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.out_proj.bias <- textual_encoder.layers.1.self_attn.out_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn_layer_norm.weight <- textual_encoder.layers.1.self_attn_layer_norm.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn_layer_norm.bias <- textual_encoder.layers.1.self_attn_layer_norm.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc1.weight <- textual_encoder.layers.1.fc1.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc1.bias <- textual_encoder.layers.1.fc1.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc2.weight <- textual_encoder.layers.1.fc2.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc2.bias <- textual_encoder.layers.1.fc2.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.final_layer_norm.weight <- textual_encoder.layers.1.final_layer_norm.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.final_layer_norm.bias <- textual_encoder.layers.1.final_layer_norm.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.k_proj.weight <- textual_encoder.layers.2.self_attn.k_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.k_proj.bias <- textual_encoder.layers.2.self_attn.k_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.v_proj.weight <- textual_encoder.layers.2.self_attn.v_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.v_proj.bias <- textual_encoder.layers.2.self_attn.v_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.q_proj.weight <- textual_encoder.layers.2.self_attn.q_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.q_proj.bias <- textual_encoder.layers.2.self_attn.q_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.out_proj.weight <- textual_encoder.layers.2.self_attn.out_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.out_proj.bias <- textual_encoder.layers.2.self_attn.out_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn_layer_norm.weight <- textual_encoder.layers.2.self_attn_layer_norm.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn_layer_norm.bias <- textual_encoder.layers.2.self_attn_layer_norm.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc1.weight <- textual_encoder.layers.2.fc1.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc1.bias <- textual_encoder.layers.2.fc1.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc2.weight <- textual_encoder.layers.2.fc2.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc2.bias <- textual_encoder.layers.2.fc2.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.final_layer_norm.weight <- textual_encoder.layers.2.final_layer_norm.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.final_layer_norm.bias <- textual_encoder.layers.2.final_layer_norm.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.k_proj.weight <- textual_encoder.layers.3.self_attn.k_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.k_proj.bias <- textual_encoder.layers.3.self_attn.k_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.v_proj.weight <- textual_encoder.layers.3.self_attn.v_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.v_proj.bias <- textual_encoder.layers.3.self_attn.v_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.q_proj.weight <- textual_encoder.layers.3.self_attn.q_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.q_proj.bias <- textual_encoder.layers.3.self_attn.q_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.out_proj.weight <- textual_encoder.layers.3.self_attn.out_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.out_proj.bias <- textual_encoder.layers.3.self_attn.out_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn_layer_norm.weight <- textual_encoder.layers.3.self_attn_layer_norm.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn_layer_norm.bias <- textual_encoder.layers.3.self_attn_layer_norm.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc1.weight <- textual_encoder.layers.3.fc1.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc1.bias <- textual_encoder.layers.3.fc1.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc2.weight <- textual_encoder.layers.3.fc2.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc2.bias <- textual_encoder.layers.3.fc2.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.final_layer_norm.weight <- textual_encoder.layers.3.final_layer_norm.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.final_layer_norm.bias <- textual_encoder.layers.3.final_layer_norm.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.k_proj.weight <- textual_encoder.layers.4.self_attn.k_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.k_proj.bias <- textual_encoder.layers.4.self_attn.k_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.v_proj.weight <- textual_encoder.layers.4.self_attn.v_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.v_proj.bias <- textual_encoder.layers.4.self_attn.v_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.q_proj.weight <- textual_encoder.layers.4.self_attn.q_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.q_proj.bias <- textual_encoder.layers.4.self_attn.q_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.out_proj.weight <- textual_encoder.layers.4.self_attn.out_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.out_proj.bias <- textual_encoder.layers.4.self_attn.out_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn_layer_norm.weight <- textual_encoder.layers.4.self_attn_layer_norm.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn_layer_norm.bias <- textual_encoder.layers.4.self_attn_layer_norm.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc1.weight <- textual_encoder.layers.4.fc1.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc1.bias <- textual_encoder.layers.4.fc1.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc2.weight <- textual_encoder.layers.4.fc2.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc2.bias <- textual_encoder.layers.4.fc2.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.final_layer_norm.weight <- textual_encoder.layers.4.final_layer_norm.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.final_layer_norm.bias <- textual_encoder.layers.4.final_layer_norm.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.k_proj.weight <- textual_encoder.layers.5.self_attn.k_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.k_proj.bias <- textual_encoder.layers.5.self_attn.k_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.v_proj.weight <- textual_encoder.layers.5.self_attn.v_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.v_proj.bias <- textual_encoder.layers.5.self_attn.v_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.q_proj.weight <- textual_encoder.layers.5.self_attn.q_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.q_proj.bias <- textual_encoder.layers.5.self_attn.q_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.out_proj.weight <- textual_encoder.layers.5.self_attn.out_proj.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.out_proj.bias <- textual_encoder.layers.5.self_attn.out_proj.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn_layer_norm.weight <- textual_encoder.layers.5.self_attn_layer_norm.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn_layer_norm.bias <- textual_encoder.layers.5.self_attn_layer_norm.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc1.weight <- textual_encoder.layers.5.fc1.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc1.bias <- textual_encoder.layers.5.fc1.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc2.weight <- textual_encoder.layers.5.fc2.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc2.bias <- textual_encoder.layers.5.fc2.bias
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.final_layer_norm.weight <- textual_encoder.layers.5.final_layer_norm.weight
2023-08-22 13:04:22 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.final_layer_norm.bias <- textual_encoder.layers.5.final_layer_norm.bias
2023-08-22 13:04:23 | INFO | fairseq.utils | ***********************CUDA enviroments for all 8 workers***********************
2023-08-22 13:04:23 | INFO | fairseq.utils | rank   0: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 13:04:23 | INFO | fairseq.utils | rank   1: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 13:04:23 | INFO | fairseq.utils | rank   2: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 13:04:23 | INFO | fairseq.utils | rank   3: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 13:04:23 | INFO | fairseq.utils | rank   4: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 13:04:23 | INFO | fairseq.utils | rank   5: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 13:04:23 | INFO | fairseq.utils | rank   6: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 13:04:23 | INFO | fairseq.utils | rank   7: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-22 13:04:23 | INFO | fairseq.utils | ***********************CUDA enviroments for all 8 workers***********************
2023-08-22 13:04:23 | INFO | fairseq_cli.train | training on 8 devices (GPUs/TPUs)
2023-08-22 13:04:23 | INFO | fairseq_cli.train | max tokens per device = 15000 and max sentences per device = None
2023-08-22 13:04:23 | INFO | fairseq.trainer | Preparing to load checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_last.pt
2023-08-22 13:04:23 | INFO | fairseq.trainer | No existing checkpoint found ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_last.pt
2023-08-22 13:04:23 | INFO | fairseq.trainer | loading train data for epoch 1
2023-08-22 13:04:23 | INFO | fairseq.tasks.speech_to_text | pre-tokenizer: {'tokenizer': None}
2023-08-22 13:04:23 | INFO | fairseq.tasks.speech_to_text | tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/workspace/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-22 13:04:23 | INFO | fairseq.tasks.joint_triple_pretraining_merge | src tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/workspace/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-22 13:04:25 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="train_asr", n_samples=225277, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-22 13:04:27 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="train_st", n_samples=225277, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-22 13:05:09 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 13:05:09 | INFO | fairseq.trainer | begin training epoch 1
2023-08-22 13:05:09 | INFO | fairseq_cli.train | Start iterating over samples
True False
None None None
2023-08-22 13:05:18 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 64.0
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
2023-08-22 13:06:05 | INFO | train_inner | epoch 001:    101 / 1474 loss=17.386, trans_loss=5.876, nll_loss=4.685, w2v_ctc_loss=22.309, task_loss=4.266, contrastive_loss=0, total=4212.33, n_correct=124.56, ppl=25.72, accuracy=2.957, wps=26792.1, ups=2.14, wpb=12566.1, bsz=472.9, num_updates=100, lr=4.098e-06, gnorm=2.695, clip=0, loss_scale=64, train_wall=48, gb_free=18.8, wall=102
2023-08-22 13:06:10 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 32.0
2023-08-22 13:06:52 | INFO | train_inner | epoch 001:    202 / 1474 loss=13.506, trans_loss=5.901, nll_loss=4.747, w2v_ctc_loss=16.302, task_loss=4.227, contrastive_loss=0, total=4127.88, n_correct=125.98, ppl=26.85, accuracy=3.052, wps=26207.2, ups=2.13, wpb=12326, bsz=463, num_updates=200, lr=8.096e-06, gnorm=7.325, clip=15, loss_scale=32, train_wall=47, gb_free=18.7, wall=149
2023-08-22 13:07:39 | INFO | train_inner | epoch 001:    302 / 1474 loss=7.294, trans_loss=5.886, nll_loss=4.767, w2v_ctc_loss=6.747, task_loss=4.344, contrastive_loss=0, total=4077.62, n_correct=130.94, ppl=27.22, accuracy=3.211, wps=26002.9, ups=2.13, wpb=12179.5, bsz=437.4, num_updates=300, lr=1.2094e-05, gnorm=1.409, clip=0, loss_scale=32, train_wall=46, gb_free=19.3, wall=196
2023-08-22 13:08:25 | INFO | train_inner | epoch 001:    402 / 1474 loss=6.761, trans_loss=5.807, nll_loss=4.694, w2v_ctc_loss=6.01, task_loss=3.513, contrastive_loss=0, total=4177.45, n_correct=121.51, ppl=25.88, accuracy=2.909, wps=26720.9, ups=2.14, wpb=12474.2, bsz=462.8, num_updates=400, lr=1.6092e-05, gnorm=0.59, clip=0, loss_scale=32, train_wall=46, gb_free=18.7, wall=242
2023-08-22 13:09:12 | INFO | train_inner | epoch 001:    502 / 1474 loss=6.492, trans_loss=5.717, nll_loss=4.589, w2v_ctc_loss=5.688, task_loss=3.116, contrastive_loss=0, total=4202.06, n_correct=106.85, ppl=24.06, accuracy=2.543, wps=26849, ups=2.14, wpb=12556.3, bsz=490.7, num_updates=500, lr=2.009e-05, gnorm=0.418, clip=0, loss_scale=32, train_wall=46, gb_free=14.7, wall=289
2023-08-22 13:09:58 | INFO | train_inner | epoch 001:    602 / 1474 loss=6.338, trans_loss=5.706, nll_loss=4.573, w2v_ctc_loss=5.466, task_loss=3.062, contrastive_loss=0, total=4124.52, n_correct=102.84, ppl=23.8, accuracy=2.493, wps=26641.1, ups=2.17, wpb=12301.1, bsz=471, num_updates=600, lr=2.4088e-05, gnorm=0.402, clip=0, loss_scale=32, train_wall=46, gb_free=18.8, wall=335
2023-08-22 13:10:44 | INFO | train_inner | epoch 001:    702 / 1474 loss=6.165, trans_loss=5.777, nll_loss=4.664, w2v_ctc_loss=5.119, task_loss=3.128, contrastive_loss=0, total=4147.01, n_correct=86.37, ppl=25.36, accuracy=2.083, wps=27042.8, ups=2.18, wpb=12381.3, bsz=455.2, num_updates=700, lr=2.8086e-05, gnorm=0.455, clip=0, loss_scale=32, train_wall=45, gb_free=19.1, wall=381
2023-08-22 13:11:31 | INFO | train_inner | epoch 001:    802 / 1474 loss=6.006, trans_loss=5.977, nll_loss=4.909, w2v_ctc_loss=4.665, task_loss=3.046, contrastive_loss=0, total=4121.11, n_correct=58.24, ppl=30.04, accuracy=1.413, wps=26310.7, ups=2.14, wpb=12298.3, bsz=463.4, num_updates=800, lr=3.2084e-05, gnorm=0.732, clip=0, loss_scale=32, train_wall=46, gb_free=19.1, wall=428
2023-08-22 13:12:17 | INFO | train_inner | epoch 001:    902 / 1474 loss=5.878, trans_loss=6.085, nll_loss=5.039, w2v_ctc_loss=4.354, task_loss=3.09, contrastive_loss=0, total=4167.98, n_correct=68.82, ppl=32.87, accuracy=1.651, wps=27114.8, ups=2.18, wpb=12446.6, bsz=457.5, num_updates=900, lr=3.6082e-05, gnorm=0.841, clip=0, loss_scale=32, train_wall=46, gb_free=19, wall=474
2023-08-22 13:13:03 | INFO | train_inner | epoch 001:   1002 / 1474 loss=5.721, trans_loss=6.093, nll_loss=5.045, w2v_ctc_loss=4.1, task_loss=3.096, contrastive_loss=0, total=4136.38, n_correct=95.4, ppl=33.02, accuracy=2.306, wps=26722.8, ups=2.16, wpb=12354.6, bsz=458.8, num_updates=1000, lr=4.008e-05, gnorm=0.968, clip=0, loss_scale=32, train_wall=46, gb_free=19.2, wall=520
2023-08-22 13:13:49 | INFO | train_inner | epoch 001:   1102 / 1474 loss=5.607, trans_loss=6.098, nll_loss=5.047, w2v_ctc_loss=3.924, task_loss=3.161, contrastive_loss=0, total=4148.31, n_correct=120.2, ppl=33.07, accuracy=2.898, wps=26935.4, ups=2.18, wpb=12371.7, bsz=453.4, num_updates=1100, lr=4.4078e-05, gnorm=1.008, clip=0, loss_scale=32, train_wall=45, gb_free=18.6, wall=566
2023-08-22 13:14:03 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-22 13:14:35 | INFO | train_inner | epoch 001:   1203 / 1474 loss=5.521, trans_loss=6.085, nll_loss=5.034, w2v_ctc_loss=3.797, task_loss=3.376, contrastive_loss=0, total=4116.39, n_correct=130.75, ppl=32.76, accuracy=3.176, wps=26465.9, ups=2.15, wpb=12295.1, bsz=430, num_updates=1200, lr=4.8076e-05, gnorm=1.096, clip=0, loss_scale=16, train_wall=46, gb_free=18.8, wall=612
2023-08-22 13:15:21 | INFO | train_inner | epoch 001:   1303 / 1474 loss=5.414, trans_loss=6.07, nll_loss=5.015, w2v_ctc_loss=3.65, task_loss=3.111, contrastive_loss=0, total=4055.88, n_correct=137.87, ppl=32.33, accuracy=3.399, wps=26638.9, ups=2.2, wpb=12109.1, bsz=443.9, num_updates=1300, lr=5.2074e-05, gnorm=1.039, clip=0, loss_scale=16, train_wall=45, gb_free=19.2, wall=658
2023-08-22 13:16:07 | INFO | train_inner | epoch 001:   1403 / 1474 loss=5.322, trans_loss=6.056, nll_loss=4.999, w2v_ctc_loss=3.528, task_loss=3.155, contrastive_loss=0, total=4127.47, n_correct=148.77, ppl=31.98, accuracy=3.604, wps=26739.8, ups=2.17, wpb=12332.8, bsz=452, num_updates=1400, lr=5.6072e-05, gnorm=1.138, clip=0, loss_scale=16, train_wall=46, gb_free=19.1, wall=704
2023-08-22 13:16:39 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
2023-08-22 13:17:14 | INFO | dev_st | epoch 001 | valid on 'dev_st' subset | loss 10.258 | trans_loss 13.189 | nll_loss 12.778 | w2v_ctc_loss 4.472 | task_loss 18.863 | contrastive_loss 0 | total 4003.4 | n_correct 246.3 | ppl 7024.09 | accuracy 6.152 | uer 59.863 | wer 58.711 | raw_wer 58.711 | bleu 0 | wps 1454 | wpb 4003.4 | bsz 141.8 | num_updates 1471
2023-08-22 13:17:14 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 1 @ 1471 updates
2023-08-22 13:17:14 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 13:17:16 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 13:17:19 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 1 @ 1471 updates, score 0.0) (writing took 5.273786474999724 seconds)
2023-08-22 13:17:19 | INFO | fairseq_cli.train | end of epoch 1 (average epoch stats below)
2023-08-22 13:17:19 | INFO | train | epoch 001 | loss 7.297 | trans_loss 5.943 | nll_loss 4.85 | w2v_ctc_loss 6.69 | task_loss 3.386 | contrastive_loss 0 | total 4138.13 | n_correct 113.32 | ppl 28.84 | accuracy 2.738 | wps 25202.2 | ups 2.04 | wpb 12354.2 | bsz 458.2 | num_updates 1471 | lr 5.89106e-05 | gnorm 1.428 | clip 1 | loss_scale 16 | train_wall 677 | gb_free 18.9 | wall 776
2023-08-22 13:17:19 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 13:17:19 | INFO | fairseq.trainer | begin training epoch 2
2023-08-22 13:17:19 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 13:17:39 | INFO | train_inner | epoch 002:     29 / 1474 loss=5.247, trans_loss=6.055, nll_loss=4.994, w2v_ctc_loss=3.411, task_loss=2.969, contrastive_loss=0, total=4165.52, n_correct=150.22, ppl=31.87, accuracy=3.606, wps=13473.8, ups=1.08, wpb=12425.3, bsz=471.4, num_updates=1500, lr=6.007e-05, gnorm=1.217, clip=0, loss_scale=16, train_wall=46, gb_free=18.7, wall=796
2023-08-22 13:18:25 | INFO | train_inner | epoch 002:    129 / 1474 loss=5.199, trans_loss=6.048, nll_loss=4.985, w2v_ctc_loss=3.341, task_loss=3.165, contrastive_loss=0, total=4149.27, n_correct=150.54, ppl=31.66, accuracy=3.628, wps=27013.6, ups=2.18, wpb=12375.1, bsz=451.7, num_updates=1600, lr=6.4068e-05, gnorm=1.091, clip=0, loss_scale=16, train_wall=45, gb_free=18.7, wall=842
2023-08-22 13:19:11 | INFO | train_inner | epoch 002:    229 / 1474 loss=5.105, trans_loss=6.029, nll_loss=4.965, w2v_ctc_loss=3.222, task_loss=2.71, contrastive_loss=0, total=4199.2, n_correct=153.95, ppl=31.23, accuracy=3.666, wps=27457.1, ups=2.19, wpb=12541.6, bsz=494.4, num_updates=1700, lr=6.8066e-05, gnorm=1.19, clip=0, loss_scale=16, train_wall=45, gb_free=18.8, wall=888
2023-08-22 13:19:57 | INFO | train_inner | epoch 002:    329 / 1474 loss=5.08, trans_loss=6.018, nll_loss=4.949, w2v_ctc_loss=3.185, task_loss=3.217, contrastive_loss=0, total=4130.92, n_correct=156.14, ppl=30.9, accuracy=3.78, wps=26854.4, ups=2.18, wpb=12331.6, bsz=442.3, num_updates=1800, lr=7.2064e-05, gnorm=1.093, clip=0, loss_scale=16, train_wall=46, gb_free=18.6, wall=934
2023-08-22 13:20:42 | INFO | train_inner | epoch 002:    429 / 1474 loss=5.049, trans_loss=6.017, nll_loss=4.951, w2v_ctc_loss=3.137, task_loss=3.474, contrastive_loss=0, total=4036.18, n_correct=148.25, ppl=30.94, accuracy=3.673, wps=26441.1, ups=2.19, wpb=12064.4, bsz=416.3, num_updates=1900, lr=7.6062e-05, gnorm=1.054, clip=0, loss_scale=16, train_wall=45, gb_free=18.9, wall=979
2023-08-22 13:21:28 | INFO | train_inner | epoch 002:    529 / 1474 loss=4.979, trans_loss=6.022, nll_loss=4.953, w2v_ctc_loss=3.031, task_loss=3.009, contrastive_loss=0, total=4185.63, n_correct=147.82, ppl=30.97, accuracy=3.532, wps=27347.1, ups=2.19, wpb=12487.7, bsz=470.3, num_updates=2000, lr=8.006e-05, gnorm=0.917, clip=0, loss_scale=16, train_wall=45, gb_free=18.7, wall=1025
2023-08-22 13:21:28 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 13:22:02 | INFO | dev_st | epoch 002 | valid on 'dev_st' subset | loss 9.991 | trans_loss 13.045 | nll_loss 12.59 | w2v_ctc_loss 3.906 | task_loss 18.863 | contrastive_loss 0 | total 4003.4 | n_correct 240.5 | ppl 6166.32 | accuracy 6.007 | uer 54.272 | wer 53.443 | raw_wer 53.443 | bleu 0 | wps 1458.7 | wpb 4003.4 | bsz 141.8 | num_updates 2000 | best_bleu 0
2023-08-22 13:22:02 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 2 @ 2000 updates
2023-08-22 13:22:02 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_2_2000.pt
2023-08-22 13:22:04 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_2_2000.pt
2023-08-22 13:22:10 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_2_2000.pt (epoch 2 @ 2000 updates, score 0.0) (writing took 8.563456922000114 seconds)
2023-08-22 13:22:56 | INFO | train_inner | epoch 002:    629 / 1474 loss=4.937, trans_loss=6.019, nll_loss=4.95, w2v_ctc_loss=2.967, task_loss=3.142, contrastive_loss=0, total=4116.05, n_correct=147.86, ppl=30.92, accuracy=3.592, wps=13922.9, ups=1.13, wpb=12285, bsz=443.4, num_updates=2100, lr=8.4058e-05, gnorm=1.025, clip=0, loss_scale=16, train_wall=45, gb_free=19.5, wall=1113
2023-08-22 13:23:42 | INFO | train_inner | epoch 002:    729 / 1474 loss=4.911, trans_loss=6.022, nll_loss=4.955, w2v_ctc_loss=2.929, task_loss=3.073, contrastive_loss=0, total=4152.4, n_correct=142.46, ppl=31.02, accuracy=3.431, wps=27264.4, ups=2.2, wpb=12393.8, bsz=463.6, num_updates=2200, lr=8.8056e-05, gnorm=0.953, clip=0, loss_scale=16, train_wall=45, gb_free=18.8, wall=1159
2023-08-22 13:24:27 | INFO | train_inner | epoch 002:    829 / 1474 loss=4.885, trans_loss=6.015, nll_loss=4.949, w2v_ctc_loss=2.894, task_loss=3.147, contrastive_loss=0, total=4168.87, n_correct=141.34, ppl=30.9, accuracy=3.39, wps=27108.4, ups=2.18, wpb=12453.5, bsz=461.2, num_updates=2300, lr=9.2054e-05, gnorm=0.843, clip=0, loss_scale=16, train_wall=46, gb_free=18.6, wall=1205
2023-08-22 13:25:14 | INFO | train_inner | epoch 002:    929 / 1474 loss=4.839, trans_loss=6.007, nll_loss=4.939, w2v_ctc_loss=2.83, task_loss=3.199, contrastive_loss=0, total=4104.79, n_correct=140.83, ppl=30.67, accuracy=3.431, wps=26326.6, ups=2.15, wpb=12254.8, bsz=445.6, num_updates=2400, lr=9.6052e-05, gnorm=0.869, clip=0, loss_scale=16, train_wall=46, gb_free=18.8, wall=1251
2023-08-22 13:26:01 | INFO | train_inner | epoch 002:   1029 / 1474 loss=4.814, trans_loss=6.007, nll_loss=4.939, w2v_ctc_loss=2.79, task_loss=3.136, contrastive_loss=0, total=4100.85, n_correct=134.14, ppl=30.67, accuracy=3.271, wps=26287.1, ups=2.15, wpb=12245.2, bsz=455.2, num_updates=2500, lr=0.00010005, gnorm=0.835, clip=0, loss_scale=16, train_wall=46, gb_free=19.2, wall=1298
2023-08-22 13:26:47 | INFO | train_inner | epoch 002:   1129 / 1474 loss=4.768, trans_loss=6.01, nll_loss=4.943, w2v_ctc_loss=2.724, task_loss=2.806, contrastive_loss=0, total=4195.47, n_correct=128.32, ppl=30.77, accuracy=3.059, wps=27019.9, ups=2.16, wpb=12522.7, bsz=489.6, num_updates=2600, lr=0.000104048, gnorm=0.753, clip=0, loss_scale=16, train_wall=46, gb_free=18.8, wall=1344
2023-08-22 13:27:33 | INFO | train_inner | epoch 002:   1229 / 1474 loss=4.756, trans_loss=6.011, nll_loss=4.942, w2v_ctc_loss=2.705, task_loss=2.858, contrastive_loss=0, total=4220.45, n_correct=133.34, ppl=30.74, accuracy=3.159, wps=27203.7, ups=2.16, wpb=12591.7, bsz=492, num_updates=2700, lr=0.000108046, gnorm=0.744, clip=0, loss_scale=16, train_wall=46, gb_free=19.6, wall=1390
2023-08-22 13:28:19 | INFO | train_inner | epoch 002:   1329 / 1474 loss=4.74, trans_loss=6.001, nll_loss=4.935, w2v_ctc_loss=2.68, task_loss=2.995, contrastive_loss=0, total=4159.97, n_correct=126.29, ppl=30.6, accuracy=3.036, wps=27366.7, ups=2.2, wpb=12433.6, bsz=462.1, num_updates=2800, lr=0.000112044, gnorm=0.675, clip=0, loss_scale=16, train_wall=45, gb_free=19.4, wall=1436
2023-08-22 13:29:05 | INFO | train_inner | epoch 002:   1429 / 1474 loss=4.737, trans_loss=6.018, nll_loss=4.954, w2v_ctc_loss=2.66, task_loss=3.373, contrastive_loss=0, total=4050.6, n_correct=124.77, ppl=30.99, accuracy=3.08, wps=26390.7, ups=2.18, wpb=12095, bsz=438.3, num_updates=2900, lr=0.000116042, gnorm=0.747, clip=0, loss_scale=16, train_wall=45, gb_free=19.5, wall=1482
2023-08-22 13:29:25 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 13:29:59 | INFO | dev_st | epoch 002 | valid on 'dev_st' subset | loss 9.852 | trans_loss 13.062 | nll_loss 12.629 | w2v_ctc_loss 3.404 | task_loss 18.863 | contrastive_loss 0 | total 4003.4 | n_correct 221.8 | ppl 6333.38 | accuracy 5.54 | uer 48.581 | wer 47.511 | raw_wer 47.511 | bleu 0 | wps 1458.9 | wpb 4003.4 | bsz 141.8 | num_updates 2945 | best_bleu 0
2023-08-22 13:29:59 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 2 @ 2945 updates
2023-08-22 13:29:59 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 13:30:03 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 13:30:06 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 2 @ 2945 updates, score 0.0) (writing took 7.708684416000324 seconds)
2023-08-22 13:30:06 | INFO | fairseq_cli.train | end of epoch 2 (average epoch stats below)
2023-08-22 13:30:06 | INFO | train | epoch 002 | loss 4.915 | trans_loss 6.018 | nll_loss 4.952 | w2v_ctc_loss 2.935 | task_loss 3.084 | contrastive_loss 0 | total 4138.65 | n_correct 140.733 | ppl 30.95 | accuracy 3.4 | wps 23726.7 | ups 1.92 | wpb 12355.8 | bsz 458.5 | num_updates 2945 | lr 0.000117841 | gnorm 0.912 | clip 0 | loss_scale 16 | train_wall 671 | gb_free 19 | wall 1544
2023-08-22 13:30:07 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 13:30:07 | INFO | fairseq.trainer | begin training epoch 3
2023-08-22 13:30:07 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 13:30:39 | INFO | train_inner | epoch 003:     55 / 1474 loss=4.702, trans_loss=6.004, nll_loss=4.936, w2v_ctc_loss=2.612, task_loss=3.183, contrastive_loss=0, total=4066.57, n_correct=127.26, ppl=30.62, accuracy=3.129, wps=12865.7, ups=1.06, wpb=12139.2, bsz=441.1, num_updates=3000, lr=0.00012004, gnorm=0.71, clip=0, loss_scale=16, train_wall=46, gb_free=18.7, wall=1576
2023-08-22 13:30:40 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-22 13:30:43 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 13:31:02 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 2.0
2023-08-22 13:31:53 | INFO | train_inner | epoch 003:    158 / 1474 loss=3.899, trans_loss=5.03, nll_loss=3.708, w2v_ctc_loss=2.407, task_loss=2.145, contrastive_loss=0, total=4132.28, n_correct=473.41, ppl=13.07, accuracy=11.456, wps=16602.4, ups=1.35, wpb=12341.4, bsz=454.7, num_updates=3100, lr=0.000124038, gnorm=3.304, clip=3, loss_scale=2, train_wall=74, gb_free=16.3, wall=1650
2023-08-22 13:33:07 | INFO | train_inner | epoch 003:    258 / 1474 loss=3.277, trans_loss=4.226, nll_loss=2.646, w2v_ctc_loss=2.295, task_loss=2.157, contrastive_loss=0, total=4161.13, n_correct=1221.1, ppl=6.26, accuracy=29.345, wps=16847.6, ups=1.36, wpb=12431.5, bsz=467, num_updates=3200, lr=0.000128036, gnorm=2.438, clip=0, loss_scale=2, train_wall=73, gb_free=16.8, wall=1724
2023-08-22 13:34:20 | INFO | train_inner | epoch 003:    358 / 1474 loss=3.171, trans_loss=4.177, nll_loss=2.585, w2v_ctc_loss=2.183, task_loss=2.162, contrastive_loss=0, total=4150.02, n_correct=1288.49, ppl=6, accuracy=31.048, wps=17002.2, ups=1.37, wpb=12384.9, bsz=461.6, num_updates=3300, lr=0.000132034, gnorm=1.991, clip=0, loss_scale=2, train_wall=72, gb_free=16.8, wall=1797
2023-08-22 13:34:50 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 1.0
2023-08-22 13:35:34 | INFO | train_inner | epoch 003:    459 / 1474 loss=3.088, trans_loss=4.154, nll_loss=2.556, w2v_ctc_loss=2.08, task_loss=2.073, contrastive_loss=0, total=4222.81, n_correct=1346.69, ppl=5.88, accuracy=31.891, wps=17030.5, ups=1.35, wpb=12604.9, bsz=480, num_updates=3400, lr=0.000136032, gnorm=1.436, clip=0, loss_scale=1, train_wall=74, gb_free=15.3, wall=1871
2023-08-22 13:36:46 | INFO | train_inner | epoch 003:    559 / 1474 loss=3.027, trans_loss=4.143, nll_loss=2.545, w2v_ctc_loss=1.994, task_loss=2.31, contrastive_loss=0, total=4081.04, n_correct=1316.06, ppl=5.84, accuracy=32.248, wps=16801.9, ups=1.38, wpb=12190.8, bsz=440.1, num_updates=3500, lr=0.00014003, gnorm=1.302, clip=0, loss_scale=1, train_wall=72, gb_free=16.1, wall=1943
2023-08-22 13:38:00 | INFO | train_inner | epoch 003:    659 / 1474 loss=2.962, trans_loss=4.133, nll_loss=2.528, w2v_ctc_loss=1.908, task_loss=2.043, contrastive_loss=0, total=4231.09, n_correct=1389.51, ppl=5.77, accuracy=32.84, wps=17123.3, ups=1.36, wpb=12615.6, bsz=484.4, num_updates=3600, lr=0.000144028, gnorm=1.053, clip=0, loss_scale=1, train_wall=73, gb_free=15.7, wall=2017
2023-08-22 13:39:13 | INFO | train_inner | epoch 003:    759 / 1474 loss=2.933, trans_loss=4.123, nll_loss=2.519, w2v_ctc_loss=1.873, task_loss=2.074, contrastive_loss=0, total=4160.74, n_correct=1372.31, ppl=5.73, accuracy=32.982, wps=17134.3, ups=1.38, wpb=12428.5, bsz=469.2, num_updates=3700, lr=0.000148026, gnorm=1.039, clip=0, loss_scale=1, train_wall=72, gb_free=16.5, wall=2090
2023-08-22 13:40:26 | INFO | train_inner | epoch 003:    859 / 1474 loss=2.893, trans_loss=4.125, nll_loss=2.521, w2v_ctc_loss=1.81, task_loss=2.194, contrastive_loss=0, total=4160.47, n_correct=1372.96, ppl=5.74, accuracy=33, wps=17039.4, ups=1.37, wpb=12423.6, bsz=455.4, num_updates=3800, lr=0.000152024, gnorm=0.924, clip=0, loss_scale=1, train_wall=73, gb_free=16, wall=2163
2023-08-22 13:41:39 | INFO | train_inner | epoch 003:    959 / 1474 loss=2.871, trans_loss=4.12, nll_loss=2.513, w2v_ctc_loss=1.781, task_loss=2.109, contrastive_loss=0, total=4162.26, n_correct=1391.06, ppl=5.71, accuracy=33.421, wps=16985.3, ups=1.37, wpb=12416.1, bsz=467.9, num_updates=3900, lr=0.000156022, gnorm=1.01, clip=0, loss_scale=1, train_wall=73, gb_free=17.6, wall=2236
2023-08-22 13:42:51 | INFO | train_inner | epoch 003:   1059 / 1474 loss=2.853, trans_loss=4.112, nll_loss=2.505, w2v_ctc_loss=1.753, task_loss=2.3, contrastive_loss=0, total=4062.67, n_correct=1358.35, ppl=5.68, accuracy=33.435, wps=16737.6, ups=1.38, wpb=12131.7, bsz=443.2, num_updates=4000, lr=0.00016002, gnorm=0.931, clip=0, loss_scale=1, train_wall=72, gb_free=15.4, wall=2308
2023-08-22 13:42:51 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 13:43:17 | INFO | dev_st | epoch 003 | valid on 'dev_st' subset | loss 5.602 | trans_loss 7.385 | nll_loss 5.323 | w2v_ctc_loss 2.03 | task_loss 10.779 | contrastive_loss 0 | total 4003.4 | n_correct 1365.9 | ppl 40.03 | accuracy 34.118 | uer 30.802 | wer 31.513 | raw_wer 31.513 | bleu 0.19 | wps 1902.7 | wpb 4003.4 | bsz 141.8 | num_updates 4000 | best_bleu 0.19
2023-08-22 13:43:17 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 3 @ 4000 updates
2023-08-22 13:43:17 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_3_4000.pt
2023-08-22 13:43:20 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_3_4000.pt
2023-08-22 13:43:27 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_3_4000.pt (epoch 3 @ 4000 updates, score 0.19) (writing took 9.941904280000017 seconds)
2023-08-22 13:44:39 | INFO | train_inner | epoch 003:   1159 / 1474 loss=2.82, trans_loss=4.115, nll_loss=2.508, w2v_ctc_loss=1.706, task_loss=2.333, contrastive_loss=0, total=4046.76, n_correct=1355.12, ppl=5.69, accuracy=33.487, wps=11156.7, ups=0.92, wpb=12078.6, bsz=433.9, num_updates=4100, lr=0.000164018, gnorm=0.875, clip=0, loss_scale=1, train_wall=72, gb_free=15.8, wall=2416
2023-08-22 13:45:52 | INFO | train_inner | epoch 003:   1259 / 1474 loss=2.793, trans_loss=4.107, nll_loss=2.499, w2v_ctc_loss=1.67, task_loss=2.299, contrastive_loss=0, total=4064.26, n_correct=1365.74, ppl=5.65, accuracy=33.604, wps=16750.9, ups=1.38, wpb=12137.6, bsz=434, num_updates=4200, lr=0.000168016, gnorm=0.88, clip=0, loss_scale=1, train_wall=72, gb_free=16.4, wall=2489
2023-08-22 13:47:05 | INFO | train_inner | epoch 003:   1359 / 1474 loss=2.766, trans_loss=4.099, nll_loss=2.488, w2v_ctc_loss=1.636, task_loss=2.183, contrastive_loss=0, total=4137.36, n_correct=1403.43, ppl=5.61, accuracy=33.921, wps=16872.7, ups=1.37, wpb=12352.2, bsz=461.5, num_updates=4300, lr=0.000172014, gnorm=0.852, clip=0, loss_scale=1, train_wall=73, gb_free=15.8, wall=2562
2023-08-22 13:48:19 | INFO | train_inner | epoch 003:   1459 / 1474 loss=2.749, trans_loss=4.1, nll_loss=2.49, w2v_ctc_loss=1.616, task_loss=2.069, contrastive_loss=0, total=4207.75, n_correct=1430.73, ppl=5.62, accuracy=34.002, wps=17092.2, ups=1.36, wpb=12567.9, bsz=476.7, num_updates=4400, lr=0.000176012, gnorm=0.873, clip=0, loss_scale=1, train_wall=73, gb_free=17.1, wall=2636
2023-08-22 13:48:29 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 13:48:54 | INFO | dev_st | epoch 003 | valid on 'dev_st' subset | loss 5.521 | trans_loss 7.356 | nll_loss 5.29 | w2v_ctc_loss 1.827 | task_loss 10.763 | contrastive_loss 0 | total 4003.4 | n_correct 1381.7 | ppl 39.11 | accuracy 34.513 | uer 28.585 | wer 29.607 | raw_wer 29.607 | bleu 0.15 | wps 2068.3 | wpb 4003.4 | bsz 141.8 | num_updates 4415 | best_bleu 0.19
2023-08-22 13:48:54 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 3 @ 4415 updates
2023-08-22 13:48:54 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_0.1506.pt
2023-08-22 13:48:56 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_0.1506.pt
2023-08-22 13:48:59 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_0.1506.pt (epoch 3 @ 4415 updates, score 0.15) (writing took 5.537979446000463 seconds)
2023-08-22 13:48:59 | INFO | fairseq_cli.train | end of epoch 3 (average epoch stats below)
2023-08-22 13:48:59 | INFO | train | epoch 003 | loss 3.068 | trans_loss 4.264 | nll_loss 2.7 | w2v_ctc_loss 1.931 | task_loss 2.209 | contrastive_loss 0 | total 4138.99 | n_correct 1248.85 | ppl 6.5 | accuracy 30.173 | wps 16033.3 | ups 1.3 | wpb 12357 | bsz 458.7 | num_updates 4415 | lr 0.000176612 | gnorm 1.322 | clip 0.2 | loss_scale 1 | train_wall 1054 | gb_free 16 | wall 2677
2023-08-22 13:49:00 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 13:49:00 | INFO | fairseq.trainer | begin training epoch 4
2023-08-22 13:49:00 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 13:50:08 | INFO | train_inner | epoch 004:     85 / 1474 loss=2.717, trans_loss=4.084, nll_loss=2.467, w2v_ctc_loss=1.571, task_loss=2.265, contrastive_loss=0, total=4095.18, n_correct=1404.75, ppl=5.53, accuracy=34.303, wps=11187.1, ups=0.92, wpb=12222.9, bsz=437.8, num_updates=4500, lr=0.00018001, gnorm=0.854, clip=0, loss_scale=1, train_wall=72, gb_free=12.2, wall=2745
2023-08-22 13:51:20 | INFO | train_inner | epoch 004:    185 / 1474 loss=2.715, trans_loss=4.078, nll_loss=2.461, w2v_ctc_loss=1.575, task_loss=2.065, contrastive_loss=0, total=4178.83, n_correct=1434.19, ppl=5.51, accuracy=34.32, wps=17327, ups=1.39, wpb=12476.1, bsz=469.5, num_updates=4600, lr=0.000184008, gnorm=0.992, clip=0, loss_scale=1, train_wall=72, gb_free=14.4, wall=2817
2023-08-22 13:52:33 | INFO | train_inner | epoch 004:    285 / 1474 loss=2.704, trans_loss=4.077, nll_loss=2.461, w2v_ctc_loss=1.56, task_loss=2.199, contrastive_loss=0, total=4142.3, n_correct=1427.05, ppl=5.51, accuracy=34.451, wps=16962.3, ups=1.37, wpb=12373.8, bsz=460.7, num_updates=4700, lr=0.000188006, gnorm=0.863, clip=0, loss_scale=1, train_wall=73, gb_free=12.9, wall=2890
2023-08-22 13:53:45 | INFO | train_inner | epoch 004:    385 / 1474 loss=2.695, trans_loss=4.082, nll_loss=2.464, w2v_ctc_loss=1.541, task_loss=2.259, contrastive_loss=0, total=4124.92, n_correct=1421.14, ppl=5.52, accuracy=34.453, wps=16958.4, ups=1.38, wpb=12307.7, bsz=444.2, num_updates=4800, lr=0.000192004, gnorm=0.827, clip=0, loss_scale=1, train_wall=72, gb_free=11.9, wall=2962
2023-08-22 13:54:59 | INFO | train_inner | epoch 004:    485 / 1474 loss=2.658, trans_loss=4.065, nll_loss=2.444, w2v_ctc_loss=1.502, task_loss=1.977, contrastive_loss=0, total=4216.09, n_correct=1473.8, ppl=5.44, accuracy=34.957, wps=17192.4, ups=1.37, wpb=12585.8, bsz=497.6, num_updates=4900, lr=0.000196002, gnorm=0.825, clip=0, loss_scale=1, train_wall=73, gb_free=16.5, wall=3036
2023-08-22 13:56:12 | INFO | train_inner | epoch 004:    585 / 1474 loss=2.663, trans_loss=4.063, nll_loss=2.44, w2v_ctc_loss=1.514, task_loss=2.028, contrastive_loss=0, total=4231.12, n_correct=1481.19, ppl=5.43, accuracy=35.007, wps=17300, ups=1.37, wpb=12629.4, bsz=490.1, num_updates=5000, lr=0.0002, gnorm=0.773, clip=0, loss_scale=1, train_wall=73, gb_free=15.8, wall=3109
mt_weight tensor(0.5000)
asr_weight tensor(0.3864, device='cuda:0')
2023-08-22 13:57:26 | INFO | train_inner | epoch 004:    685 / 1474 loss=2.66, trans_loss=4.072, nll_loss=2.448, w2v_ctc_loss=1.499, task_loss=2.252, contrastive_loss=0, total=4176.95, n_correct=1458.58, ppl=5.46, accuracy=34.92, wps=16713.9, ups=1.34, wpb=12451, bsz=455.2, num_updates=5100, lr=0.00019803, gnorm=0.502, clip=0, loss_scale=1, train_wall=74, gb_free=14.7, wall=3183
2023-08-22 13:58:39 | INFO | train_inner | epoch 004:    785 / 1474 loss=2.662, trans_loss=4.067, nll_loss=2.447, w2v_ctc_loss=1.504, task_loss=2.412, contrastive_loss=0, total=4016.91, n_correct=1404.14, ppl=5.45, accuracy=34.956, wps=16492.6, ups=1.37, wpb=11995.1, bsz=418.7, num_updates=5200, lr=0.000196116, gnorm=0.488, clip=0, loss_scale=1, train_wall=72, gb_free=15.8, wall=3256
2023-08-22 13:59:52 | INFO | train_inner | epoch 004:    885 / 1474 loss=2.654, trans_loss=4.056, nll_loss=2.434, w2v_ctc_loss=1.503, task_loss=2.188, contrastive_loss=0, total=4183.4, n_correct=1471.28, ppl=5.4, accuracy=35.169, wps=17054.1, ups=1.37, wpb=12493.2, bsz=465.4, num_updates=5300, lr=0.000194257, gnorm=0.47, clip=0, loss_scale=1, train_wall=73, gb_free=15.2, wall=3329
2023-08-22 14:01:05 | INFO | train_inner | epoch 004:    985 / 1474 loss=2.636, trans_loss=4.051, nll_loss=2.428, w2v_ctc_loss=1.479, task_loss=2.22, contrastive_loss=0, total=4128.78, n_correct=1461.6, ppl=5.38, accuracy=35.4, wps=16832.6, ups=1.36, wpb=12332, bsz=456.8, num_updates=5400, lr=0.00019245, gnorm=0.46, clip=0, loss_scale=2, train_wall=73, gb_free=15.6, wall=3402
2023-08-22 14:02:18 | INFO | train_inner | epoch 004:   1085 / 1474 loss=2.646, trans_loss=4.06, nll_loss=2.437, w2v_ctc_loss=1.488, task_loss=2.342, contrastive_loss=0, total=4080.2, n_correct=1438.05, ppl=5.42, accuracy=35.245, wps=16713.4, ups=1.37, wpb=12179.1, bsz=437.7, num_updates=5500, lr=0.000190693, gnorm=0.451, clip=0, loss_scale=2, train_wall=72, gb_free=15.8, wall=3475
2023-08-22 14:03:31 | INFO | train_inner | epoch 004:   1185 / 1474 loss=2.616, trans_loss=4.047, nll_loss=2.422, w2v_ctc_loss=1.463, task_loss=2.04, contrastive_loss=0, total=4163.45, n_correct=1490.38, ppl=5.36, accuracy=35.797, wps=17116, ups=1.38, wpb=12436, bsz=485.6, num_updates=5600, lr=0.000188982, gnorm=0.412, clip=0, loss_scale=2, train_wall=72, gb_free=14.9, wall=3548
2023-08-22 14:04:43 | INFO | train_inner | epoch 004:   1285 / 1474 loss=2.601, trans_loss=4.038, nll_loss=2.411, w2v_ctc_loss=1.444, task_loss=2.087, contrastive_loss=0, total=4152.41, n_correct=1496.7, ppl=5.32, accuracy=36.044, wps=17151.9, ups=1.38, wpb=12401.3, bsz=471.4, num_updates=5700, lr=0.000187317, gnorm=0.405, clip=0, loss_scale=2, train_wall=72, gb_free=12.5, wall=3620
2023-08-22 14:05:55 | INFO | train_inner | epoch 004:   1385 / 1474 loss=2.599, trans_loss=4.039, nll_loss=2.411, w2v_ctc_loss=1.438, task_loss=2.244, contrastive_loss=0, total=4103.57, n_correct=1476.12, ppl=5.32, accuracy=35.972, wps=17108.8, ups=1.4, wpb=12255.2, bsz=437.9, num_updates=5800, lr=0.000185695, gnorm=0.418, clip=0, loss_scale=2, train_wall=71, gb_free=16.4, wall=3692
2023-08-22 14:06:59 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.3864, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.3864, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.3864, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.3864, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.3864, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.3864, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.3864, device='cuda:3')
2023-08-22 14:07:24 | INFO | dev_st | epoch 004 | valid on 'dev_st' subset | loss 5.329 | trans_loss 7.156 | nll_loss 5.017 | w2v_ctc_loss 1.636 | task_loss 11.19 | contrastive_loss 0 | total 4003.4 | n_correct 1498.6 | ppl 32.37 | accuracy 37.433 | uer 24.768 | wer 26.408 | raw_wer 26.408 | bleu 0.41 | wps 2142 | wpb 4003.4 | bsz 141.8 | num_updates 5889 | best_bleu 0.41
2023-08-22 14:07:24 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 4 @ 5889 updates
2023-08-22 14:07:24 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 14:07:28 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 14:07:33 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 4 @ 5889 updates, score 0.41) (writing took 8.684208533000856 seconds)
2023-08-22 14:07:33 | INFO | fairseq_cli.train | end of epoch 4 (average epoch stats below)
2023-08-22 14:07:33 | INFO | train | epoch 004 | loss 2.654 | trans_loss 4.061 | nll_loss 2.439 | w2v_ctc_loss 1.5 | task_loss 2.183 | contrastive_loss 0 | total 4138.65 | n_correct 1454.74 | ppl 5.42 | accuracy 35.15 | wps 16361.4 | ups 1.32 | wpb 12355.8 | bsz 458.5 | num_updates 5889 | lr 0.000184287 | gnorm 0.61 | clip 0 | loss_scale 2 | train_wall 1066 | gb_free 14.5 | wall 3790
2023-08-22 14:07:33 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 14:07:33 | INFO | fairseq.trainer | begin training epoch 5
2023-08-22 14:07:33 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 14:07:47 | INFO | train_inner | epoch 005:     11 / 1474 loss=2.588, trans_loss=4.034, nll_loss=2.404, w2v_ctc_loss=1.424, task_loss=2.288, contrastive_loss=0, total=4031.51, n_correct=1464.11, ppl=5.29, accuracy=36.317, wps=10718.5, ups=0.89, wpb=12037.5, bsz=436.7, num_updates=5900, lr=0.000184115, gnorm=0.427, clip=0, loss_scale=2, train_wall=72, gb_free=13.9, wall=3804
2023-08-22 14:09:00 | INFO | train_inner | epoch 005:    111 / 1474 loss=2.519, trans_loss=3.998, nll_loss=2.357, w2v_ctc_loss=1.348, task_loss=1.956, contrastive_loss=0, total=4256.63, n_correct=1591.65, ppl=5.12, accuracy=37.392, wps=17349.8, ups=1.37, wpb=12710, bsz=500.1, num_updates=6000, lr=0.000182574, gnorm=0.43, clip=0, loss_scale=2, train_wall=73, gb_free=15.9, wall=3878
2023-08-22 14:09:00 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 14:09:26 | INFO | dev_st | epoch 005 | valid on 'dev_st' subset | loss 5.304 | trans_loss 7.134 | nll_loss 4.988 | w2v_ctc_loss 1.603 | task_loss 11.151 | contrastive_loss 0 | total 4003.4 | n_correct 1516.2 | ppl 31.74 | accuracy 37.873 | uer 24.742 | wer 26.315 | raw_wer 26.315 | bleu 0.56 | wps 1955.4 | wpb 4003.4 | bsz 141.8 | num_updates 6000 | best_bleu 0.56
2023-08-22 14:09:26 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 5 @ 6000 updates
2023-08-22 14:09:26 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_5_6000.pt
2023-08-22 14:09:29 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_5_6000.pt
2023-08-22 14:09:36 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_5_6000.pt (epoch 5 @ 6000 updates, score 0.56) (writing took 9.661770323000383 seconds)
2023-08-22 14:10:48 | INFO | train_inner | epoch 005:    211 / 1474 loss=2.529, trans_loss=4, nll_loss=2.356, w2v_ctc_loss=1.367, task_loss=2.031, contrastive_loss=0, total=4186.83, n_correct=1570.9, ppl=5.12, accuracy=37.52, wps=11605, ups=0.93, wpb=12492.2, bsz=485.3, num_updates=6100, lr=0.000181071, gnorm=0.467, clip=0, loss_scale=2, train_wall=72, gb_free=15.8, wall=3985
2023-08-22 14:12:00 | INFO | train_inner | epoch 005:    311 / 1474 loss=2.537, trans_loss=3.988, nll_loss=2.347, w2v_ctc_loss=1.381, task_loss=2.231, contrastive_loss=0, total=4094.07, n_correct=1538.45, ppl=5.09, accuracy=37.578, wps=16981.8, ups=1.39, wpb=12241.2, bsz=446, num_updates=6200, lr=0.000179605, gnorm=0.454, clip=0, loss_scale=2, train_wall=72, gb_free=15.8, wall=4057
2023-08-22 14:13:13 | INFO | train_inner | epoch 005:    411 / 1474 loss=2.509, trans_loss=3.978, nll_loss=2.333, w2v_ctc_loss=1.348, task_loss=2.141, contrastive_loss=0, total=4140.39, n_correct=1572.27, ppl=5.04, accuracy=37.974, wps=16898.5, ups=1.37, wpb=12372.8, bsz=467.9, num_updates=6300, lr=0.000178174, gnorm=0.454, clip=0, loss_scale=2, train_wall=73, gb_free=15.7, wall=4130
2023-08-22 14:14:26 | INFO | train_inner | epoch 005:    511 / 1474 loss=2.524, trans_loss=3.985, nll_loss=2.341, w2v_ctc_loss=1.364, task_loss=2.451, contrastive_loss=0, total=4026.21, n_correct=1519.73, ppl=5.07, accuracy=37.746, wps=16625.1, ups=1.38, wpb=12028.8, bsz=418.1, num_updates=6400, lr=0.000176777, gnorm=0.474, clip=0, loss_scale=2, train_wall=72, gb_free=16.7, wall=4203
2023-08-22 14:15:39 | INFO | train_inner | epoch 005:    611 / 1474 loss=2.509, trans_loss=3.983, nll_loss=2.334, w2v_ctc_loss=1.349, task_loss=2.26, contrastive_loss=0, total=4109.94, n_correct=1572.66, ppl=5.04, accuracy=38.265, wps=16820, ups=1.37, wpb=12260.2, bsz=449.8, num_updates=6500, lr=0.000175412, gnorm=0.457, clip=0, loss_scale=2, train_wall=72, gb_free=15.1, wall=4276
2023-08-22 14:16:52 | INFO | train_inner | epoch 005:    711 / 1474 loss=2.501, trans_loss=3.97, nll_loss=2.319, w2v_ctc_loss=1.355, task_loss=2.056, contrastive_loss=0, total=4176.83, n_correct=1617.84, ppl=4.99, accuracy=38.734, wps=17113.8, ups=1.37, wpb=12467.5, bsz=483.6, num_updates=6600, lr=0.000174078, gnorm=0.48, clip=0, loss_scale=2, train_wall=72, gb_free=16.7, wall=4349
2023-08-22 14:18:05 | INFO | train_inner | epoch 005:    811 / 1474 loss=2.496, trans_loss=3.963, nll_loss=2.309, w2v_ctc_loss=1.348, task_loss=2.263, contrastive_loss=0, total=4127.9, n_correct=1605.28, ppl=4.95, accuracy=38.889, wps=16789.9, ups=1.36, wpb=12321.2, bsz=447.5, num_updates=6700, lr=0.000172774, gnorm=0.463, clip=0, loss_scale=2, train_wall=73, gb_free=15.4, wall=4422
2023-08-22 14:19:17 | INFO | train_inner | epoch 005:    911 / 1474 loss=2.49, trans_loss=3.954, nll_loss=2.299, w2v_ctc_loss=1.351, task_loss=2.251, contrastive_loss=0, total=4101.19, n_correct=1610.82, ppl=4.92, accuracy=39.277, wps=16873.5, ups=1.38, wpb=12245.9, bsz=447.9, num_updates=6800, lr=0.000171499, gnorm=0.585, clip=0, loss_scale=2, train_wall=72, gb_free=16.9, wall=4495
2023-08-22 14:20:30 | INFO | train_inner | epoch 005:   1011 / 1474 loss=2.485, trans_loss=3.95, nll_loss=2.292, w2v_ctc_loss=1.352, task_loss=2.164, contrastive_loss=0, total=4164.27, n_correct=1645.26, ppl=4.9, accuracy=39.509, wps=17123.3, ups=1.38, wpb=12430.2, bsz=462, num_updates=6900, lr=0.000170251, gnorm=0.474, clip=0, loss_scale=2, train_wall=72, gb_free=14.6, wall=4567
2023-08-22 14:21:44 | INFO | train_inner | epoch 005:   1111 / 1474 loss=2.481, trans_loss=3.938, nll_loss=2.275, w2v_ctc_loss=1.355, task_loss=2.184, contrastive_loss=0, total=4168.94, n_correct=1666.41, ppl=4.84, accuracy=39.972, wps=16812.1, ups=1.35, wpb=12436.1, bsz=464.1, num_updates=7000, lr=0.000169031, gnorm=0.513, clip=0, loss_scale=2, train_wall=74, gb_free=16.3, wall=4641
2023-08-22 14:22:57 | INFO | train_inner | epoch 005:   1211 / 1474 loss=2.467, trans_loss=3.936, nll_loss=2.272, w2v_ctc_loss=1.336, task_loss=2.22, contrastive_loss=0, total=4171.16, n_correct=1677.79, ppl=4.83, accuracy=40.224, wps=16975.1, ups=1.36, wpb=12443.2, bsz=456.3, num_updates=7100, lr=0.000167836, gnorm=0.507, clip=0, loss_scale=2, train_wall=73, gb_free=15.5, wall=4714
2023-08-22 14:24:10 | INFO | train_inner | epoch 005:   1311 / 1474 loss=2.455, trans_loss=3.924, nll_loss=2.259, w2v_ctc_loss=1.327, task_loss=2.231, contrastive_loss=0, total=4126.97, n_correct=1675.42, ppl=4.79, accuracy=40.597, wps=16844.6, ups=1.37, wpb=12317.9, bsz=443.4, num_updates=7200, lr=0.000166667, gnorm=0.506, clip=0, loss_scale=2, train_wall=73, gb_free=15.1, wall=4788
2023-08-22 14:25:23 | INFO | train_inner | epoch 005:   1411 / 1474 loss=2.45, trans_loss=3.915, nll_loss=2.248, w2v_ctc_loss=1.331, task_loss=2.195, contrastive_loss=0, total=4138.54, n_correct=1700.38, ppl=4.75, accuracy=41.086, wps=17029.4, ups=1.38, wpb=12359.3, bsz=459, num_updates=7300, lr=0.000165521, gnorm=0.57, clip=0, loss_scale=2, train_wall=72, gb_free=16.4, wall=4860
2023-08-22 14:26:09 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 14:26:36 | INFO | dev_st | epoch 005 | valid on 'dev_st' subset | loss 4.966 | trans_loss 6.684 | nll_loss 4.395 | w2v_ctc_loss 1.493 | task_loss 11.264 | contrastive_loss 0 | total 4003.4 | n_correct 1767.8 | ppl 21.04 | accuracy 44.157 | uer 23.614 | wer 25.309 | raw_wer 25.309 | bleu 4.04 | wps 1844.9 | wpb 4003.4 | bsz 141.8 | num_updates 7363 | best_bleu 4.04
2023-08-22 14:26:36 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 5 @ 7363 updates
2023-08-22 14:26:36 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 14:26:41 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 14:26:45 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 5 @ 7363 updates, score 4.04) (writing took 8.647994205999566 seconds)
2023-08-22 14:26:45 | INFO | fairseq_cli.train | end of epoch 5 (average epoch stats below)
2023-08-22 14:26:45 | INFO | train | epoch 005 | loss 2.495 | trans_loss 3.961 | nll_loss 2.307 | w2v_ctc_loss 1.352 | task_loss 2.186 | contrastive_loss 0 | total 4138.65 | n_correct 1614.32 | ppl 4.95 | accuracy 39.006 | wps 15801.8 | ups 1.28 | wpb 12355.8 | bsz 458.5 | num_updates 7363 | lr 0.000164812 | gnorm 0.491 | clip 0 | loss_scale 2 | train_wall 1068 | gb_free 15.8 | wall 4942
2023-08-22 14:26:45 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 14:26:45 | INFO | fairseq.trainer | begin training epoch 6
2023-08-22 14:26:45 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 14:27:20 | INFO | train_inner | epoch 006:     37 / 1474 loss=2.441, trans_loss=3.891, nll_loss=2.214, w2v_ctc_loss=1.339, task_loss=2.246, contrastive_loss=0, total=4113.87, n_correct=1717.55, ppl=4.64, accuracy=41.75, wps=10533.7, ups=0.86, wpb=12276.7, bsz=447.4, num_updates=7400, lr=0.000164399, gnorm=0.567, clip=0, loss_scale=2, train_wall=73, gb_free=17.5, wall=4977
2023-08-22 14:28:32 | INFO | train_inner | epoch 006:    137 / 1474 loss=2.396, trans_loss=3.86, nll_loss=2.175, w2v_ctc_loss=1.293, task_loss=2.165, contrastive_loss=0, total=4161.2, n_correct=1772.24, ppl=4.52, accuracy=42.59, wps=17064.9, ups=1.37, wpb=12428.5, bsz=458.1, num_updates=7500, lr=0.000163299, gnorm=0.597, clip=1, loss_scale=4, train_wall=72, gb_free=16.6, wall=5050
2023-08-22 14:29:45 | INFO | train_inner | epoch 006:    237 / 1474 loss=2.401, trans_loss=3.855, nll_loss=2.169, w2v_ctc_loss=1.311, task_loss=2.351, contrastive_loss=0, total=4110.12, n_correct=1766.38, ppl=4.5, accuracy=42.976, wps=16887.2, ups=1.38, wpb=12279.2, bsz=437.3, num_updates=7600, lr=0.000162221, gnorm=0.538, clip=0, loss_scale=4, train_wall=72, gb_free=16.8, wall=5122
2023-08-22 14:30:59 | INFO | train_inner | epoch 006:    337 / 1474 loss=2.359, trans_loss=3.828, nll_loss=2.134, w2v_ctc_loss=1.275, task_loss=2.048, contrastive_loss=0, total=4170.52, n_correct=1832.55, ppl=4.39, accuracy=43.941, wps=16771.2, ups=1.35, wpb=12453.1, bsz=488.4, num_updates=7700, lr=0.000161165, gnorm=0.601, clip=0, loss_scale=4, train_wall=74, gb_free=15.3, wall=5196
2023-08-22 14:32:11 | INFO | train_inner | epoch 006:    437 / 1474 loss=2.362, trans_loss=3.819, nll_loss=2.121, w2v_ctc_loss=1.29, task_loss=2.097, contrastive_loss=0, total=4154.89, n_correct=1854.69, ppl=4.35, accuracy=44.639, wps=17240.4, ups=1.39, wpb=12405.6, bsz=470.4, num_updates=7800, lr=0.000160128, gnorm=0.59, clip=0, loss_scale=4, train_wall=72, gb_free=16, wall=5268
2023-08-22 14:33:24 | INFO | train_inner | epoch 006:    537 / 1474 loss=2.367, trans_loss=3.81, nll_loss=2.109, w2v_ctc_loss=1.309, task_loss=2.178, contrastive_loss=0, total=4174.46, n_correct=1880.74, ppl=4.31, accuracy=45.053, wps=17137.3, ups=1.38, wpb=12460.1, bsz=458.3, num_updates=7900, lr=0.000159111, gnorm=0.61, clip=0, loss_scale=4, train_wall=72, gb_free=16.9, wall=5341
2023-08-22 14:34:36 | INFO | train_inner | epoch 006:    637 / 1474 loss=2.353, trans_loss=3.8, nll_loss=2.096, w2v_ctc_loss=1.299, task_loss=2.075, contrastive_loss=0, total=4145.19, n_correct=1889.67, ppl=4.28, accuracy=45.587, wps=17109.4, ups=1.38, wpb=12372.7, bsz=470.9, num_updates=8000, lr=0.000158114, gnorm=0.63, clip=0, loss_scale=4, train_wall=72, gb_free=15.5, wall=5413
2023-08-22 14:34:36 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 14:35:03 | INFO | dev_st | epoch 006 | valid on 'dev_st' subset | loss 4.775 | trans_loss 6.35 | nll_loss 3.953 | w2v_ctc_loss 1.608 | task_loss 11.305 | contrastive_loss 0 | total 4003.4 | n_correct 1952.8 | ppl 15.49 | accuracy 48.779 | uer 23.516 | wer 25.577 | raw_wer 25.577 | bleu 7.65 | wps 1931 | wpb 4003.4 | bsz 141.8 | num_updates 8000 | best_bleu 7.65
2023-08-22 14:35:03 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 6 @ 8000 updates
2023-08-22 14:35:03 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_6_8000.pt
2023-08-22 14:35:05 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_6_8000.pt
2023-08-22 14:35:13 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_6_8000.pt (epoch 6 @ 8000 updates, score 7.65) (writing took 9.696750578999854 seconds)
2023-08-22 14:36:26 | INFO | train_inner | epoch 006:    737 / 1474 loss=2.345, trans_loss=3.785, nll_loss=2.076, w2v_ctc_loss=1.305, task_loss=2.226, contrastive_loss=0, total=4151.01, n_correct=1918.05, ppl=4.22, accuracy=46.207, wps=11332.4, ups=0.91, wpb=12393.7, bsz=454.2, num_updates=8100, lr=0.000157135, gnorm=0.578, clip=0, loss_scale=4, train_wall=73, gb_free=12.6, wall=5523
2023-08-22 14:37:21 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 2.0
2023-08-22 14:37:39 | INFO | train_inner | epoch 006:    838 / 1474 loss=2.343, trans_loss=3.777, nll_loss=2.067, w2v_ctc_loss=1.309, task_loss=2.298, contrastive_loss=0, total=4113.87, n_correct=1913.57, ppl=4.19, accuracy=46.515, wps=16664.4, ups=1.36, wpb=12282.3, bsz=441.9, num_updates=8200, lr=0.000156174, gnorm=0.635, clip=0, loss_scale=2, train_wall=73, gb_free=17.5, wall=5597
2023-08-22 14:38:52 | INFO | train_inner | epoch 006:    938 / 1474 loss=2.33, trans_loss=3.761, nll_loss=2.045, w2v_ctc_loss=1.307, task_loss=2.315, contrastive_loss=0, total=4082.44, n_correct=1931.81, ppl=4.13, accuracy=47.32, wps=16711.1, ups=1.37, wpb=12184.1, bsz=442.4, num_updates=8300, lr=0.00015523, gnorm=0.575, clip=0, loss_scale=2, train_wall=72, gb_free=15.9, wall=5669
2023-08-22 14:40:05 | INFO | train_inner | epoch 006:   1038 / 1474 loss=2.316, trans_loss=3.74, nll_loss=2.018, w2v_ctc_loss=1.307, task_loss=2.061, contrastive_loss=0, total=4168.55, n_correct=1998.49, ppl=4.05, accuracy=47.942, wps=17115.5, ups=1.38, wpb=12442.3, bsz=478.7, num_updates=8400, lr=0.000154303, gnorm=0.812, clip=1, loss_scale=2, train_wall=72, gb_free=15.3, wall=5742
2023-08-22 14:41:18 | INFO | train_inner | epoch 006:   1138 / 1474 loss=2.33, trans_loss=3.741, nll_loss=2.019, w2v_ctc_loss=1.321, task_loss=2.404, contrastive_loss=0, total=4075.88, n_correct=1951.47, ppl=4.05, accuracy=47.878, wps=16796.5, ups=1.38, wpb=12168.6, bsz=430.6, num_updates=8500, lr=0.000153393, gnorm=0.658, clip=0, loss_scale=2, train_wall=72, gb_free=13.8, wall=5815
2023-08-22 14:42:31 | INFO | train_inner | epoch 006:   1238 / 1474 loss=2.272, trans_loss=3.703, nll_loss=1.972, w2v_ctc_loss=1.274, task_loss=2.149, contrastive_loss=0, total=4136.41, n_correct=2042.84, ppl=3.92, accuracy=49.387, wps=16818.6, ups=1.36, wpb=12356.2, bsz=470.5, num_updates=8600, lr=0.000152499, gnorm=0.497, clip=0, loss_scale=2, train_wall=73, gb_free=15, wall=5888
2023-08-22 14:43:43 | INFO | train_inner | epoch 006:   1338 / 1474 loss=2.265, trans_loss=3.7, nll_loss=1.962, w2v_ctc_loss=1.273, task_loss=2.172, contrastive_loss=0, total=4123.87, n_correct=2057.4, ppl=3.9, accuracy=49.89, wps=17060.8, ups=1.39, wpb=12299.9, bsz=453.6, num_updates=8700, lr=0.00015162, gnorm=0.535, clip=0, loss_scale=2, train_wall=72, gb_free=16, wall=5960
2023-08-22 14:44:56 | INFO | train_inner | epoch 006:   1438 / 1474 loss=2.271, trans_loss=3.687, nll_loss=1.95, w2v_ctc_loss=1.291, task_loss=2.179, contrastive_loss=0, total=4197.44, n_correct=2107.32, ppl=3.86, accuracy=50.205, wps=17126.5, ups=1.37, wpb=12530.9, bsz=462.9, num_updates=8800, lr=0.000150756, gnorm=0.591, clip=0, loss_scale=2, train_wall=73, gb_free=16.1, wall=6033
2023-08-22 14:45:22 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 14:45:48 | INFO | dev_st | epoch 006 | valid on 'dev_st' subset | loss 4.479 | trans_loss 5.946 | nll_loss 3.429 | w2v_ctc_loss 1.531 | task_loss 11.294 | contrastive_loss 0 | total 4003.4 | n_correct 2174.2 | ppl 10.77 | accuracy 54.309 | uer 23.444 | wer 25.227 | raw_wer 25.227 | bleu 11.92 | wps 1961.8 | wpb 4003.4 | bsz 141.8 | num_updates 8836 | best_bleu 11.92
2023-08-22 14:45:48 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 6 @ 8836 updates
2023-08-22 14:45:48 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 14:45:52 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 14:45:57 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 6 @ 8836 updates, score 11.92) (writing took 8.737105673999395 seconds)
2023-08-22 14:45:57 | INFO | fairseq_cli.train | end of epoch 6 (average epoch stats below)
2023-08-22 14:45:57 | INFO | train | epoch 006 | loss 2.336 | trans_loss 3.776 | nll_loss 2.065 | w2v_ctc_loss 1.297 | task_loss 2.188 | contrastive_loss 0 | total 4138.93 | n_correct 1921.77 | ppl 4.19 | accuracy 46.432 | wps 15805.4 | ups 1.28 | wpb 12356.7 | bsz 458.6 | num_updates 8836 | lr 0.000150448 | gnorm 0.606 | clip 0.1 | loss_scale 2 | train_wall 1067 | gb_free 14.8 | wall 6094
2023-08-22 14:45:57 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 14:45:57 | INFO | fairseq.trainer | begin training epoch 7
2023-08-22 14:45:57 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 14:46:51 | INFO | train_inner | epoch 007:     64 / 1474 loss=2.241, trans_loss=3.667, nll_loss=1.923, w2v_ctc_loss=1.268, task_loss=2.143, contrastive_loss=0, total=4105.94, n_correct=2093.9, ppl=3.79, accuracy=50.997, wps=10708, ups=0.87, wpb=12258, bsz=460.8, num_updates=8900, lr=0.000149906, gnorm=0.639, clip=0, loss_scale=2, train_wall=72, gb_free=14.6, wall=6148
2023-08-22 14:48:03 | INFO | train_inner | epoch 007:    164 / 1474 loss=2.226, trans_loss=3.653, nll_loss=1.905, w2v_ctc_loss=1.251, task_loss=2.229, contrastive_loss=0, total=4101.13, n_correct=2109.07, ppl=3.74, accuracy=51.427, wps=16957.5, ups=1.38, wpb=12245.3, bsz=452.9, num_updates=9000, lr=0.000149071, gnorm=0.565, clip=0, loss_scale=2, train_wall=72, gb_free=16.6, wall=6220
2023-08-22 14:49:15 | INFO | train_inner | epoch 007:    264 / 1474 loss=2.214, trans_loss=3.637, nll_loss=1.884, w2v_ctc_loss=1.252, task_loss=2.182, contrastive_loss=0, total=4143.65, n_correct=2154.98, ppl=3.69, accuracy=52.007, wps=17052.5, ups=1.38, wpb=12365.3, bsz=458, num_updates=9100, lr=0.00014825, gnorm=0.566, clip=0, loss_scale=2, train_wall=72, gb_free=15.8, wall=6293
2023-08-22 14:50:29 | INFO | train_inner | epoch 007:    364 / 1474 loss=2.204, trans_loss=3.635, nll_loss=1.882, w2v_ctc_loss=1.242, task_loss=2.122, contrastive_loss=0, total=4190.59, n_correct=2183.47, ppl=3.68, accuracy=52.104, wps=17035.2, ups=1.36, wpb=12506.9, bsz=477.2, num_updates=9200, lr=0.000147442, gnorm=0.573, clip=0, loss_scale=2, train_wall=73, gb_free=16.4, wall=6366
2023-08-22 14:51:41 | INFO | train_inner | epoch 007:    464 / 1474 loss=2.19, trans_loss=3.625, nll_loss=1.869, w2v_ctc_loss=1.23, task_loss=2.176, contrastive_loss=0, total=4154.13, n_correct=2182.48, ppl=3.65, accuracy=52.538, wps=17104.9, ups=1.38, wpb=12405.4, bsz=461.6, num_updates=9300, lr=0.000146647, gnorm=0.506, clip=0, loss_scale=2, train_wall=72, gb_free=16, wall=6439
2023-08-22 14:52:54 | INFO | train_inner | epoch 007:    564 / 1474 loss=2.186, trans_loss=3.614, nll_loss=1.853, w2v_ctc_loss=1.235, task_loss=2.135, contrastive_loss=0, total=4171.52, n_correct=2216.02, ppl=3.61, accuracy=53.123, wps=17230.7, ups=1.38, wpb=12446, bsz=461, num_updates=9400, lr=0.000145865, gnorm=0.511, clip=0, loss_scale=2, train_wall=72, gb_free=16.6, wall=6511
2023-08-22 14:54:07 | INFO | train_inner | epoch 007:    664 / 1474 loss=2.171, trans_loss=3.604, nll_loss=1.841, w2v_ctc_loss=1.223, task_loss=2.187, contrastive_loss=0, total=4151.13, n_correct=2224.03, ppl=3.58, accuracy=53.576, wps=16953.3, ups=1.37, wpb=12385.9, bsz=454, num_updates=9500, lr=0.000145095, gnorm=0.502, clip=0, loss_scale=2, train_wall=73, gb_free=12.3, wall=6584
2023-08-22 14:55:20 | INFO | train_inner | epoch 007:    764 / 1474 loss=2.17, trans_loss=3.592, nll_loss=1.826, w2v_ctc_loss=1.227, task_loss=2.289, contrastive_loss=0, total=4124.23, n_correct=2221.79, ppl=3.55, accuracy=53.872, wps=16902, ups=1.37, wpb=12314.5, bsz=446.8, num_updates=9600, lr=0.000144338, gnorm=0.502, clip=0, loss_scale=2, train_wall=72, gb_free=13.8, wall=6657
2023-08-22 14:56:33 | INFO | train_inner | epoch 007:    864 / 1474 loss=2.171, trans_loss=3.598, nll_loss=1.833, w2v_ctc_loss=1.231, task_loss=2.196, contrastive_loss=0, total=4148.43, n_correct=2232.76, ppl=3.56, accuracy=53.822, wps=16949.4, ups=1.37, wpb=12380.2, bsz=461.8, num_updates=9700, lr=0.000143592, gnorm=0.576, clip=0, loss_scale=2, train_wall=73, gb_free=16.1, wall=6730
2023-08-22 14:57:46 | INFO | train_inner | epoch 007:    964 / 1474 loss=2.14, trans_loss=3.577, nll_loss=1.807, w2v_ctc_loss=1.205, task_loss=2.099, contrastive_loss=0, total=4141.1, n_correct=2264.58, ppl=3.5, accuracy=54.685, wps=16959.4, ups=1.37, wpb=12362.4, bsz=473.7, num_updates=9800, lr=0.000142857, gnorm=0.461, clip=0, loss_scale=2, train_wall=72, gb_free=13.4, wall=6803
2023-08-22 14:58:58 | INFO | train_inner | epoch 007:   1064 / 1474 loss=2.15, trans_loss=3.58, nll_loss=1.811, w2v_ctc_loss=1.218, task_loss=2.293, contrastive_loss=0, total=4100.93, n_correct=2241.96, ppl=3.51, accuracy=54.67, wps=16833.1, ups=1.37, wpb=12243.4, bsz=437.6, num_updates=9900, lr=0.000142134, gnorm=0.457, clip=0, loss_scale=2, train_wall=72, gb_free=14.4, wall=6875
2023-08-22 15:00:11 | INFO | train_inner | epoch 007:   1164 / 1474 loss=2.131, trans_loss=3.558, nll_loss=1.786, w2v_ctc_loss=1.205, task_loss=2.124, contrastive_loss=0, total=4139.88, n_correct=2288.52, ppl=3.45, accuracy=55.28, wps=16996.2, ups=1.37, wpb=12369.6, bsz=471.4, num_updates=10000, lr=0.000141421, gnorm=0.48, clip=0, loss_scale=2, train_wall=72, gb_free=16.3, wall=6948
2023-08-22 15:00:11 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 15:00:35 | INFO | dev_st | epoch 007 | valid on 'dev_st' subset | loss 4.236 | trans_loss 5.627 | nll_loss 3.019 | w2v_ctc_loss 1.439 | task_loss 11.354 | contrastive_loss 0 | total 4003.4 | n_correct 2367.6 | ppl 8.1 | accuracy 59.14 | uer 22.231 | wer 24.149 | raw_wer 24.149 | bleu 15.85 | wps 2318.4 | wpb 4003.4 | bsz 141.8 | num_updates 10000 | best_bleu 15.85
2023-08-22 15:00:35 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 7 @ 10000 updates
2023-08-22 15:00:35 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_7_10000.pt
2023-08-22 15:00:37 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_7_10000.pt
2023-08-22 15:00:45 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_7_10000.pt (epoch 7 @ 10000 updates, score 15.85) (writing took 9.753044314000363 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:0')
2023-08-22 15:01:57 | INFO | train_inner | epoch 007:   1264 / 1474 loss=2.133, trans_loss=3.561, nll_loss=1.788, w2v_ctc_loss=1.208, task_loss=2.232, contrastive_loss=0, total=4129.16, n_correct=2283.04, ppl=3.45, accuracy=55.291, wps=11624.7, ups=0.94, wpb=12331, bsz=448.9, num_updates=10100, lr=0.00014072, gnorm=0.46, clip=0, loss_scale=2, train_wall=72, gb_free=16.5, wall=7054
2023-08-22 15:03:09 | INFO | train_inner | epoch 007:   1364 / 1474 loss=2.135, trans_loss=3.55, nll_loss=1.774, w2v_ctc_loss=1.223, task_loss=2.042, contrastive_loss=0, total=4177.71, n_correct=2330.49, ppl=3.42, accuracy=55.784, wps=17248.1, ups=1.38, wpb=12473.7, bsz=478.6, num_updates=10200, lr=0.000140028, gnorm=0.471, clip=0, loss_scale=2, train_wall=72, gb_free=16.3, wall=7127
2023-08-22 15:04:24 | INFO | train_inner | epoch 007:   1464 / 1474 loss=2.147, trans_loss=3.559, nll_loss=1.787, w2v_ctc_loss=1.23, task_loss=2.361, contrastive_loss=0, total=4107.01, n_correct=2273.67, ppl=3.45, accuracy=55.361, wps=16506.2, ups=1.35, wpb=12270.2, bsz=442.8, num_updates=10300, lr=0.000139347, gnorm=0.529, clip=1, loss_scale=4, train_wall=74, gb_free=12.8, wall=7201
2023-08-22 15:04:31 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:3')
2023-08-22 15:04:54 | INFO | dev_st | epoch 007 | valid on 'dev_st' subset | loss 4.206 | trans_loss 5.573 | nll_loss 2.948 | w2v_ctc_loss 1.461 | task_loss 11.329 | contrastive_loss 0 | total 4003.4 | n_correct 2406.8 | ppl 7.72 | accuracy 60.119 | uer 21.326 | wer 23.049 | raw_wer 23.049 | bleu 16 | wps 2306.6 | wpb 4003.4 | bsz 141.8 | num_updates 10310 | best_bleu 16
2023-08-22 15:04:54 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 7 @ 10310 updates
2023-08-22 15:04:54 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 15:04:59 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 15:05:03 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 7 @ 10310 updates, score 16.0) (writing took 8.96158411200122 seconds)
2023-08-22 15:05:03 | INFO | fairseq_cli.train | end of epoch 7 (average epoch stats below)
2023-08-22 15:05:03 | INFO | train | epoch 007 | loss 2.171 | trans_loss 3.598 | nll_loss 1.835 | w2v_ctc_loss 1.228 | task_loss 2.191 | contrastive_loss 0 | total 4138.65 | n_correct 2223.52 | ppl 3.57 | accuracy 53.726 | wps 15884.2 | ups 1.29 | wpb 12355.8 | bsz 458.5 | num_updates 10310 | lr 0.000139279 | gnorm 0.514 | clip 0.1 | loss_scale 4 | train_wall 1067 | gb_free 12.8 | wall 7240
2023-08-22 15:05:04 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 15:05:04 | INFO | fairseq.trainer | begin training epoch 8
2023-08-22 15:05:04 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 15:06:16 | INFO | train_inner | epoch 008:     90 / 1474 loss=2.103, trans_loss=3.539, nll_loss=1.754, w2v_ctc_loss=1.184, task_loss=2.33, contrastive_loss=0, total=4106.01, n_correct=2317.59, ppl=3.37, accuracy=56.444, wps=10902.3, ups=0.89, wpb=12242.2, bsz=440.9, num_updates=10400, lr=0.000138675, gnorm=0.426, clip=0, loss_scale=4, train_wall=72, gb_free=16.8, wall=7313
2023-08-22 15:07:29 | INFO | train_inner | epoch 008:    190 / 1474 loss=2.093, trans_loss=3.523, nll_loss=1.735, w2v_ctc_loss=1.177, task_loss=2.369, contrastive_loss=0, total=4043.12, n_correct=2295.26, ppl=3.33, accuracy=56.77, wps=16647.2, ups=1.38, wpb=12058.4, bsz=430, num_updates=10500, lr=0.000138013, gnorm=0.413, clip=0, loss_scale=4, train_wall=72, gb_free=12.8, wall=7386
2023-08-22 15:08:41 | INFO | train_inner | epoch 008:    290 / 1474 loss=2.085, trans_loss=3.516, nll_loss=1.728, w2v_ctc_loss=1.177, task_loss=2.057, contrastive_loss=0, total=4207.9, n_correct=2401.98, ppl=3.31, accuracy=57.083, wps=17328.8, ups=1.38, wpb=12558.3, bsz=488.1, num_updates=10600, lr=0.000137361, gnorm=0.403, clip=0, loss_scale=4, train_wall=72, gb_free=13.6, wall=7458
2023-08-22 15:09:55 | INFO | train_inner | epoch 008:    390 / 1474 loss=2.113, trans_loss=3.525, nll_loss=1.739, w2v_ctc_loss=1.209, task_loss=2.3, contrastive_loss=0, total=4134.6, n_correct=2346.44, ppl=3.34, accuracy=56.751, wps=16737.1, ups=1.36, wpb=12337.2, bsz=444.7, num_updates=10700, lr=0.000136717, gnorm=0.568, clip=0, loss_scale=4, train_wall=73, gb_free=17, wall=7532
2023-08-22 15:11:08 | INFO | train_inner | epoch 008:    490 / 1474 loss=2.086, trans_loss=3.515, nll_loss=1.728, w2v_ctc_loss=1.18, task_loss=1.976, contrastive_loss=0, total=4196.6, n_correct=2392.76, ppl=3.31, accuracy=57.017, wps=17128.5, ups=1.37, wpb=12528.1, bsz=501.4, num_updates=10800, lr=0.000136083, gnorm=0.47, clip=0, loss_scale=4, train_wall=73, gb_free=12.4, wall=7605
2023-08-22 15:12:21 | INFO | train_inner | epoch 008:    590 / 1474 loss=2.127, trans_loss=3.522, nll_loss=1.74, w2v_ctc_loss=1.229, task_loss=2.392, contrastive_loss=0, total=4065.55, n_correct=2300.53, ppl=3.34, accuracy=56.586, wps=16638.5, ups=1.37, wpb=12153.4, bsz=428.3, num_updates=10900, lr=0.000135457, gnorm=0.666, clip=0, loss_scale=4, train_wall=73, gb_free=15.8, wall=7678
2023-08-22 15:13:34 | INFO | train_inner | epoch 008:    690 / 1474 loss=2.093, trans_loss=3.505, nll_loss=1.714, w2v_ctc_loss=1.197, task_loss=2.269, contrastive_loss=0, total=4135.41, n_correct=2379.05, ppl=3.28, accuracy=57.529, wps=16855.4, ups=1.37, wpb=12343.8, bsz=447.2, num_updates=11000, lr=0.00013484, gnorm=0.414, clip=0, loss_scale=4, train_wall=73, gb_free=15.6, wall=7751
2023-08-22 15:14:47 | INFO | train_inner | epoch 008:    790 / 1474 loss=2.072, trans_loss=3.495, nll_loss=1.706, w2v_ctc_loss=1.175, task_loss=2.218, contrastive_loss=0, total=4128.86, n_correct=2383.14, ppl=3.26, accuracy=57.719, wps=17011.5, ups=1.38, wpb=12339, bsz=452.1, num_updates=11100, lr=0.000134231, gnorm=0.4, clip=0, loss_scale=4, train_wall=72, gb_free=16, wall=7824
2023-08-22 15:16:00 | INFO | train_inner | epoch 008:    890 / 1474 loss=2.066, trans_loss=3.498, nll_loss=1.708, w2v_ctc_loss=1.167, task_loss=2.111, contrastive_loss=0, total=4166.92, n_correct=2410.54, ppl=3.27, accuracy=57.849, wps=17081.6, ups=1.37, wpb=12446.8, bsz=471.5, num_updates=11200, lr=0.000133631, gnorm=0.415, clip=0, loss_scale=4, train_wall=72, gb_free=14.1, wall=7897
2023-08-22 15:17:12 | INFO | train_inner | epoch 008:    990 / 1474 loss=2.06, trans_loss=3.493, nll_loss=1.7, w2v_ctc_loss=1.164, task_loss=2.113, contrastive_loss=0, total=4150.39, n_correct=2414.32, ppl=3.25, accuracy=58.171, wps=17173.4, ups=1.39, wpb=12390.2, bsz=462.8, num_updates=11300, lr=0.000133038, gnorm=0.391, clip=0, loss_scale=4, train_wall=72, gb_free=16.9, wall=7969
2023-08-22 15:18:25 | INFO | train_inner | epoch 008:   1090 / 1474 loss=2.06, trans_loss=3.494, nll_loss=1.701, w2v_ctc_loss=1.163, task_loss=2.173, contrastive_loss=0, total=4197.39, n_correct=2434.14, ppl=3.25, accuracy=57.992, wps=17071.2, ups=1.36, wpb=12529.5, bsz=466.4, num_updates=11400, lr=0.000132453, gnorm=0.391, clip=0, loss_scale=4, train_wall=73, gb_free=16.5, wall=8042
2023-08-22 15:19:37 | INFO | train_inner | epoch 008:   1190 / 1474 loss=2.059, trans_loss=3.484, nll_loss=1.691, w2v_ctc_loss=1.167, task_loss=2.072, contrastive_loss=0, total=4180.55, n_correct=2438.14, ppl=3.23, accuracy=58.321, wps=17251.6, ups=1.38, wpb=12487.2, bsz=472.7, num_updates=11500, lr=0.000131876, gnorm=0.393, clip=0, loss_scale=4, train_wall=72, gb_free=16.9, wall=8115
2023-08-22 15:20:49 | INFO | train_inner | epoch 008:   1290 / 1474 loss=2.065, trans_loss=3.487, nll_loss=1.694, w2v_ctc_loss=1.175, task_loss=2.293, contrastive_loss=0, total=4062.6, n_correct=2362.07, ppl=3.24, accuracy=58.142, wps=16869.7, ups=1.39, wpb=12135.3, bsz=437.8, num_updates=11600, lr=0.000131306, gnorm=0.395, clip=0, loss_scale=4, train_wall=72, gb_free=12.6, wall=8186
2023-08-22 15:22:02 | INFO | train_inner | epoch 008:   1390 / 1474 loss=2.051, trans_loss=3.484, nll_loss=1.69, w2v_ctc_loss=1.157, task_loss=2.127, contrastive_loss=0, total=4159.11, n_correct=2438.79, ppl=3.23, accuracy=58.637, wps=17167.1, ups=1.38, wpb=12419, bsz=468.7, num_updates=11700, lr=0.000130744, gnorm=0.383, clip=0, loss_scale=4, train_wall=72, gb_free=12.9, wall=8259
2023-08-22 15:23:02 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 15:23:26 | INFO | dev_st | epoch 008 | valid on 'dev_st' subset | loss 4.125 | trans_loss 5.439 | nll_loss 2.78 | w2v_ctc_loss 1.493 | task_loss 11.446 | contrastive_loss 0 | total 4003.4 | n_correct 2491.3 | ppl 6.87 | accuracy 62.23 | uer 21.506 | wer 23.329 | raw_wer 23.329 | bleu 18.1 | wps 2237.6 | wpb 4003.4 | bsz 141.8 | num_updates 11784 | best_bleu 18.1
2023-08-22 15:23:26 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 8 @ 11784 updates
2023-08-22 15:23:26 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 15:23:31 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 15:23:35 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 8 @ 11784 updates, score 18.1) (writing took 9.226851379000436 seconds)
2023-08-22 15:23:36 | INFO | fairseq_cli.train | end of epoch 8 (average epoch stats below)
2023-08-22 15:23:36 | INFO | train | epoch 008 | loss 2.079 | trans_loss 3.504 | nll_loss 1.715 | w2v_ctc_loss 1.178 | task_loss 2.191 | contrastive_loss 0 | total 4138.65 | n_correct 2382.58 | ppl 3.28 | accuracy 57.569 | wps 16372.9 | ups 1.33 | wpb 12355.8 | bsz 458.5 | num_updates 11784 | lr 0.000130277 | gnorm 0.437 | clip 0 | loss_scale 4 | train_wall 1066 | gb_free 16.6 | wall 8353
2023-08-22 15:23:36 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 15:23:36 | INFO | fairseq.trainer | begin training epoch 9
2023-08-22 15:23:36 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 15:23:55 | INFO | train_inner | epoch 009:     16 / 1474 loss=2.042, trans_loss=3.481, nll_loss=1.684, w2v_ctc_loss=1.148, task_loss=2.143, contrastive_loss=0, total=4121.25, n_correct=2417.28, ppl=3.21, accuracy=58.654, wps=10837.9, ups=0.88, wpb=12298.5, bsz=466, num_updates=11800, lr=0.000130189, gnorm=0.425, clip=0, loss_scale=4, train_wall=72, gb_free=17.5, wall=8372
2023-08-22 15:25:08 | INFO | train_inner | epoch 009:    116 / 1474 loss=2.012, trans_loss=3.453, nll_loss=1.649, w2v_ctc_loss=1.124, task_loss=2.064, contrastive_loss=0, total=4191.82, n_correct=2493.99, ppl=3.14, accuracy=59.497, wps=17328.4, ups=1.38, wpb=12518.2, bsz=479.9, num_updates=11900, lr=0.000129641, gnorm=0.385, clip=0, loss_scale=4, train_wall=72, gb_free=15.6, wall=8445
2023-08-22 15:26:20 | INFO | train_inner | epoch 009:    216 / 1474 loss=2.017, trans_loss=3.455, nll_loss=1.652, w2v_ctc_loss=1.124, task_loss=2.363, contrastive_loss=0, total=4061.27, n_correct=2413.86, ppl=3.14, accuracy=59.436, wps=16675.4, ups=1.38, wpb=12126.5, bsz=431.4, num_updates=12000, lr=0.000129099, gnorm=0.387, clip=0, loss_scale=4, train_wall=72, gb_free=17.3, wall=8517
2023-08-22 15:26:20 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 15:26:44 | INFO | dev_st | epoch 009 | valid on 'dev_st' subset | loss 4.096 | trans_loss 5.42 | nll_loss 2.748 | w2v_ctc_loss 1.439 | task_loss 11.375 | contrastive_loss 0 | total 4003.4 | n_correct 2497.4 | ppl 6.72 | accuracy 62.382 | uer 20.71 | wer 22.516 | raw_wer 22.516 | bleu 18.06 | wps 2318.7 | wpb 4003.4 | bsz 141.8 | num_updates 12000 | best_bleu 18.1
2023-08-22 15:26:44 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 9 @ 12000 updates
2023-08-22 15:26:44 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_9_12000.pt
2023-08-22 15:26:46 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_9_12000.pt
2023-08-22 15:26:51 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_9_12000.pt (epoch 9 @ 12000 updates, score 18.06) (writing took 6.650754558000699 seconds)
2023-08-22 15:28:03 | INFO | train_inner | epoch 009:    316 / 1474 loss=1.998, trans_loss=3.441, nll_loss=1.637, w2v_ctc_loss=1.11, task_loss=2.073, contrastive_loss=0, total=4146.43, n_correct=2482.45, ppl=3.11, accuracy=59.87, wps=12016, ups=0.97, wpb=12389.9, bsz=474.6, num_updates=12100, lr=0.000128565, gnorm=0.376, clip=0, loss_scale=4, train_wall=72, gb_free=16, wall=8620
2023-08-22 15:29:17 | INFO | train_inner | epoch 009:    416 / 1474 loss=2.012, trans_loss=3.456, nll_loss=1.653, w2v_ctc_loss=1.122, task_loss=2.146, contrastive_loss=0, total=4194.84, n_correct=2496.12, ppl=3.15, accuracy=59.505, wps=17017.8, ups=1.36, wpb=12524.6, bsz=466.7, num_updates=12200, lr=0.000128037, gnorm=0.39, clip=0, loss_scale=4, train_wall=73, gb_free=15.8, wall=8694
2023-08-22 15:30:29 | INFO | train_inner | epoch 009:    516 / 1474 loss=2.025, trans_loss=3.453, nll_loss=1.648, w2v_ctc_loss=1.141, task_loss=2.298, contrastive_loss=0, total=4124.3, n_correct=2456.62, ppl=3.13, accuracy=59.565, wps=17031.7, ups=1.38, wpb=12310.3, bsz=439.5, num_updates=12300, lr=0.000127515, gnorm=0.379, clip=0, loss_scale=8, train_wall=72, gb_free=11.1, wall=8766
2023-08-22 15:31:42 | INFO | train_inner | epoch 009:    616 / 1474 loss=1.998, trans_loss=3.443, nll_loss=1.639, w2v_ctc_loss=1.112, task_loss=2.249, contrastive_loss=0, total=4120.96, n_correct=2462.17, ppl=3.11, accuracy=59.747, wps=16880.4, ups=1.37, wpb=12316.4, bsz=453.4, num_updates=12400, lr=0.000127, gnorm=0.372, clip=0, loss_scale=8, train_wall=72, gb_free=15.8, wall=8839
2023-08-22 15:32:54 | INFO | train_inner | epoch 009:    716 / 1474 loss=2.015, trans_loss=3.45, nll_loss=1.647, w2v_ctc_loss=1.133, task_loss=2.233, contrastive_loss=0, total=4088.53, n_correct=2440.32, ppl=3.13, accuracy=59.687, wps=16938.6, ups=1.39, wpb=12213.7, bsz=451.4, num_updates=12500, lr=0.000126491, gnorm=0.378, clip=0, loss_scale=8, train_wall=72, gb_free=16.6, wall=8911
2023-08-22 15:34:08 | INFO | train_inner | epoch 009:    816 / 1474 loss=2.004, trans_loss=3.442, nll_loss=1.639, w2v_ctc_loss=1.122, task_loss=1.982, contrastive_loss=0, total=4220.43, n_correct=2530.43, ppl=3.11, accuracy=59.957, wps=17084.9, ups=1.35, wpb=12611.1, bsz=501.1, num_updates=12600, lr=0.000125988, gnorm=0.377, clip=0, loss_scale=8, train_wall=73, gb_free=14, wall=8985
2023-08-22 15:35:22 | INFO | train_inner | epoch 009:    916 / 1474 loss=2.006, trans_loss=3.446, nll_loss=1.639, w2v_ctc_loss=1.122, task_loss=2.268, contrastive_loss=0, total=4146.05, n_correct=2484.1, ppl=3.11, accuracy=59.915, wps=16638.9, ups=1.34, wpb=12371.5, bsz=450.3, num_updates=12700, lr=0.000125491, gnorm=0.381, clip=0, loss_scale=8, train_wall=74, gb_free=17.4, wall=9060
2023-08-22 15:36:35 | INFO | train_inner | epoch 009:   1016 / 1474 loss=2.014, trans_loss=3.451, nll_loss=1.646, w2v_ctc_loss=1.126, task_loss=2.457, contrastive_loss=0, total=4101.48, n_correct=2452.41, ppl=3.13, accuracy=59.793, wps=16798.8, ups=1.37, wpb=12241.7, bsz=424.4, num_updates=12800, lr=0.000125, gnorm=0.372, clip=0, loss_scale=8, train_wall=72, gb_free=15.6, wall=9132
2023-08-22 15:37:48 | INFO | train_inner | epoch 009:   1116 / 1474 loss=2.003, trans_loss=3.447, nll_loss=1.639, w2v_ctc_loss=1.12, task_loss=2.061, contrastive_loss=0, total=4179.09, n_correct=2512.12, ppl=3.11, accuracy=60.112, wps=17085.7, ups=1.37, wpb=12457.7, bsz=474.7, num_updates=12900, lr=0.000124515, gnorm=0.376, clip=0, loss_scale=8, train_wall=72, gb_free=14.8, wall=9205
2023-08-22 15:39:02 | INFO | train_inner | epoch 009:   1216 / 1474 loss=2.01, trans_loss=3.443, nll_loss=1.637, w2v_ctc_loss=1.13, task_loss=2.322, contrastive_loss=0, total=4140.66, n_correct=2484.75, ppl=3.11, accuracy=60.009, wps=16813.7, ups=1.36, wpb=12363.4, bsz=448.1, num_updates=13000, lr=0.000124035, gnorm=0.379, clip=0, loss_scale=8, train_wall=73, gb_free=16.7, wall=9279
2023-08-22 15:40:15 | INFO | train_inner | epoch 009:   1316 / 1474 loss=1.989, trans_loss=3.437, nll_loss=1.628, w2v_ctc_loss=1.108, task_loss=1.99, contrastive_loss=0, total=4204.43, n_correct=2536.45, ppl=3.09, accuracy=60.328, wps=17197.4, ups=1.37, wpb=12544.9, bsz=492.5, num_updates=13100, lr=0.00012356, gnorm=0.389, clip=0, loss_scale=8, train_wall=73, gb_free=17.4, wall=9352
2023-08-22 15:41:27 | INFO | train_inner | epoch 009:   1416 / 1474 loss=2.005, trans_loss=3.446, nll_loss=1.639, w2v_ctc_loss=1.123, task_loss=2.379, contrastive_loss=0, total=4069.19, n_correct=2446.79, ppl=3.12, accuracy=60.13, wps=16799.3, ups=1.38, wpb=12143.2, bsz=427.7, num_updates=13200, lr=0.000123091, gnorm=0.373, clip=0, loss_scale=8, train_wall=72, gb_free=16.3, wall=9424
2023-08-22 15:42:08 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 15:42:32 | INFO | dev_st | epoch 009 | valid on 'dev_st' subset | loss 4.025 | trans_loss 5.347 | nll_loss 2.664 | w2v_ctc_loss 1.368 | task_loss 11.543 | contrastive_loss 0 | total 4003.4 | n_correct 2537.4 | ppl 6.34 | accuracy 63.381 | uer 19.266 | wer 21.148 | raw_wer 21.148 | bleu 19.32 | wps 2331.3 | wpb 4003.4 | bsz 141.8 | num_updates 13258 | best_bleu 19.32
2023-08-22 15:42:32 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 9 @ 13258 updates
2023-08-22 15:42:32 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 15:42:36 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 15:42:41 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 9 @ 13258 updates, score 19.32) (writing took 8.943341533999046 seconds)
2023-08-22 15:42:41 | INFO | fairseq_cli.train | end of epoch 9 (average epoch stats below)
2023-08-22 15:42:41 | INFO | train | epoch 009 | loss 2.007 | trans_loss 3.447 | nll_loss 1.642 | w2v_ctc_loss 1.123 | task_loss 2.195 | contrastive_loss 0 | total 4138.65 | n_correct 2476.82 | ppl 3.12 | accuracy 59.846 | wps 15901 | ups 1.29 | wpb 12355.8 | bsz 458.5 | num_updates 13258 | lr 0.000122822 | gnorm 0.38 | clip 0 | loss_scale 8 | train_wall 1067 | gb_free 11.1 | wall 9498
2023-08-22 15:42:41 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 15:42:41 | INFO | fairseq.trainer | begin training epoch 10
2023-08-22 15:42:41 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 15:43:18 | INFO | train_inner | epoch 010:     42 / 1474 loss=1.977, trans_loss=3.429, nll_loss=1.618, w2v_ctc_loss=1.097, task_loss=2.094, contrastive_loss=0, total=4100.8, n_correct=2490.02, ppl=3.07, accuracy=60.72, wps=10989.1, ups=0.9, wpb=12238.2, bsz=469.4, num_updates=13300, lr=0.000122628, gnorm=0.374, clip=0, loss_scale=8, train_wall=71, gb_free=15.9, wall=9535
2023-08-22 15:44:31 | INFO | train_inner | epoch 010:    142 / 1474 loss=1.952, trans_loss=3.411, nll_loss=1.597, w2v_ctc_loss=1.069, task_loss=2.076, contrastive_loss=0, total=4247.35, n_correct=2602.55, ppl=3.02, accuracy=61.275, wps=17403.5, ups=1.37, wpb=12684.5, bsz=479.6, num_updates=13400, lr=0.000122169, gnorm=0.366, clip=0, loss_scale=8, train_wall=72, gb_free=11.2, wall=9608
2023-08-22 15:45:44 | INFO | train_inner | epoch 010:    242 / 1474 loss=1.957, trans_loss=3.407, nll_loss=1.589, w2v_ctc_loss=1.077, task_loss=2.173, contrastive_loss=0, total=4122.82, n_correct=2526.18, ppl=3.01, accuracy=61.273, wps=17006.7, ups=1.38, wpb=12303.3, bsz=461.4, num_updates=13500, lr=0.000121716, gnorm=0.371, clip=0, loss_scale=8, train_wall=72, gb_free=16, wall=9681
2023-08-22 15:46:57 | INFO | train_inner | epoch 010:    342 / 1474 loss=1.952, trans_loss=3.406, nll_loss=1.593, w2v_ctc_loss=1.073, task_loss=2.218, contrastive_loss=0, total=4138.27, n_correct=2535.33, ppl=3.02, accuracy=61.265, wps=16944.5, ups=1.37, wpb=12371, bsz=453.8, num_updates=13600, lr=0.000121268, gnorm=0.381, clip=0, loss_scale=8, train_wall=73, gb_free=16, wall=9754
2023-08-22 15:48:11 | INFO | train_inner | epoch 010:    442 / 1474 loss=1.946, trans_loss=3.412, nll_loss=1.596, w2v_ctc_loss=1.061, task_loss=2.109, contrastive_loss=0, total=4196.37, n_correct=2564.76, ppl=3.02, accuracy=61.119, wps=16965.5, ups=1.35, wpb=12528, bsz=481.1, num_updates=13700, lr=0.000120824, gnorm=0.374, clip=0, loss_scale=8, train_wall=73, gb_free=15.6, wall=9828
2023-08-22 15:49:24 | INFO | train_inner | epoch 010:    542 / 1474 loss=1.981, trans_loss=3.422, nll_loss=1.607, w2v_ctc_loss=1.104, task_loss=2.365, contrastive_loss=0, total=4102.8, n_correct=2498.96, ppl=3.05, accuracy=60.909, wps=16733.6, ups=1.37, wpb=12234.1, bsz=437.8, num_updates=13800, lr=0.000120386, gnorm=0.464, clip=0, loss_scale=8, train_wall=73, gb_free=16.7, wall=9901
2023-08-22 15:50:37 | INFO | train_inner | epoch 010:    642 / 1474 loss=1.961, trans_loss=3.416, nll_loss=1.601, w2v_ctc_loss=1.081, task_loss=2.088, contrastive_loss=0, total=4176.56, n_correct=2552.95, ppl=3.03, accuracy=61.126, wps=17101.5, ups=1.37, wpb=12464, bsz=477.2, num_updates=13900, lr=0.000119952, gnorm=0.372, clip=0, loss_scale=8, train_wall=72, gb_free=15.8, wall=9974
2023-08-22 15:51:49 | INFO | train_inner | epoch 010:    742 / 1474 loss=1.969, trans_loss=3.411, nll_loss=1.596, w2v_ctc_loss=1.095, task_loss=2.196, contrastive_loss=0, total=4125.87, n_correct=2525.52, ppl=3.02, accuracy=61.212, wps=17070, ups=1.39, wpb=12315.3, bsz=454.4, num_updates=14000, lr=0.000119523, gnorm=0.383, clip=0, loss_scale=8, train_wall=72, gb_free=14, wall=10046
2023-08-22 15:51:49 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 15:52:12 | INFO | dev_st | epoch 010 | valid on 'dev_st' subset | loss 4.02 | trans_loss 5.33 | nll_loss 2.641 | w2v_ctc_loss 1.389 | task_loss 11.46 | contrastive_loss 0 | total 4003.4 | n_correct 2554.3 | ppl 6.24 | accuracy 63.803 | uer 19.794 | wer 21.666 | raw_wer 21.666 | bleu 19.32 | wps 2296.6 | wpb 4003.4 | bsz 141.8 | num_updates 14000 | best_bleu 19.32
2023-08-22 15:52:12 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 10 @ 14000 updates
2023-08-22 15:52:12 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_10_14000.pt
2023-08-22 15:52:14 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_10_14000.pt
2023-08-22 15:52:22 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_10_14000.pt (epoch 10 @ 14000 updates, score 19.32) (writing took 9.8173199569992 seconds)
2023-08-22 15:53:35 | INFO | train_inner | epoch 010:    842 / 1474 loss=1.948, trans_loss=3.407, nll_loss=1.592, w2v_ctc_loss=1.068, task_loss=2.171, contrastive_loss=0, total=4128.44, n_correct=2535.07, ppl=3.01, accuracy=61.405, wps=11573.1, ups=0.94, wpb=12327.8, bsz=456.3, num_updates=14100, lr=0.000119098, gnorm=0.369, clip=0, loss_scale=8, train_wall=72, gb_free=14.4, wall=10152
2023-08-22 15:54:47 | INFO | train_inner | epoch 010:    942 / 1474 loss=1.956, trans_loss=3.408, nll_loss=1.59, w2v_ctc_loss=1.079, task_loss=2.11, contrastive_loss=0, total=4160.94, n_correct=2555.33, ppl=3.01, accuracy=61.412, wps=17199.9, ups=1.39, wpb=12411.1, bsz=468.1, num_updates=14200, lr=0.000118678, gnorm=0.372, clip=0, loss_scale=8, train_wall=72, gb_free=15.1, wall=10224
2023-08-22 15:56:00 | INFO | train_inner | epoch 010:   1042 / 1474 loss=1.96, trans_loss=3.407, nll_loss=1.591, w2v_ctc_loss=1.083, task_loss=2.38, contrastive_loss=0, total=4067.53, n_correct=2494.54, ppl=3.01, accuracy=61.328, wps=16679.1, ups=1.37, wpb=12145, bsz=434.3, num_updates=14300, lr=0.000118262, gnorm=0.381, clip=0, loss_scale=8, train_wall=72, gb_free=16.5, wall=10297
2023-08-22 15:57:13 | INFO | train_inner | epoch 010:   1142 / 1474 loss=1.97, trans_loss=3.414, nll_loss=1.6, w2v_ctc_loss=1.095, task_loss=2.451, contrastive_loss=0, total=4044.03, n_correct=2470.29, ppl=3.03, accuracy=61.085, wps=16642.6, ups=1.38, wpb=12074.4, bsz=422.3, num_updates=14400, lr=0.000117851, gnorm=0.372, clip=0, loss_scale=16, train_wall=72, gb_free=17, wall=10370
2023-08-22 15:58:25 | INFO | train_inner | epoch 010:   1242 / 1474 loss=1.958, trans_loss=3.399, nll_loss=1.585, w2v_ctc_loss=1.087, task_loss=2.248, contrastive_loss=0, total=4110.41, n_correct=2527.26, ppl=3, accuracy=61.484, wps=16901.6, ups=1.38, wpb=12291.6, bsz=445.2, num_updates=14500, lr=0.000117444, gnorm=0.376, clip=0, loss_scale=16, train_wall=72, gb_free=16.2, wall=10443
2023-08-22 15:59:38 | INFO | train_inner | epoch 010:   1342 / 1474 loss=1.959, trans_loss=3.406, nll_loss=1.592, w2v_ctc_loss=1.086, task_loss=2.247, contrastive_loss=0, total=4121.38, n_correct=2535.82, ppl=3.01, accuracy=61.528, wps=16856.7, ups=1.37, wpb=12308.4, bsz=451, num_updates=14600, lr=0.000117041, gnorm=0.397, clip=0, loss_scale=16, train_wall=73, gb_free=13.6, wall=10516
2023-08-22 16:00:52 | INFO | train_inner | epoch 010:   1442 / 1474 loss=1.948, trans_loss=3.414, nll_loss=1.599, w2v_ctc_loss=1.068, task_loss=2.078, contrastive_loss=0, total=4192.39, n_correct=2570.35, ppl=3.03, accuracy=61.31, wps=17055.7, ups=1.36, wpb=12506.1, bsz=482, num_updates=14700, lr=0.000116642, gnorm=0.378, clip=0, loss_scale=16, train_wall=73, gb_free=16.7, wall=10589
2023-08-22 16:01:15 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 16:01:38 | INFO | dev_st | epoch 010 | valid on 'dev_st' subset | loss 4.004 | trans_loss 5.303 | nll_loss 2.605 | w2v_ctc_loss 1.394 | task_loss 11.499 | contrastive_loss 0 | total 4003.4 | n_correct 2570.3 | ppl 6.09 | accuracy 64.203 | uer 19.011 | wer 20.943 | raw_wer 20.943 | bleu 20.01 | wps 2371.1 | wpb 4003.4 | bsz 141.8 | num_updates 14732 | best_bleu 20.01
2023-08-22 16:01:38 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 10 @ 14732 updates
2023-08-22 16:01:38 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 16:01:42 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 16:01:47 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 10 @ 14732 updates, score 20.01) (writing took 8.949594485999114 seconds)
2023-08-22 16:01:47 | INFO | fairseq_cli.train | end of epoch 10 (average epoch stats below)
2023-08-22 16:01:47 | INFO | train | epoch 010 | loss 1.957 | trans_loss 3.41 | nll_loss 1.595 | w2v_ctc_loss 1.079 | task_loss 2.198 | contrastive_loss 0 | total 4138.65 | n_correct 2535.9 | ppl 3.02 | accuracy 61.274 | wps 15890.3 | ups 1.29 | wpb 12355.8 | bsz 458.5 | num_updates 14732 | lr 0.000116516 | gnorm 0.382 | clip 0 | loss_scale 16 | train_wall 1067 | gb_free 17 | wall 10644
2023-08-22 16:01:47 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 16:01:47 | INFO | fairseq.trainer | begin training epoch 11
2023-08-22 16:01:47 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 16:01:56 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-22 16:02:44 | INFO | train_inner | epoch 011:     69 / 1474 loss=1.926, trans_loss=3.384, nll_loss=1.562, w2v_ctc_loss=1.05, task_loss=2.043, contrastive_loss=0, total=4169.99, n_correct=2591.73, ppl=2.95, accuracy=62.152, wps=11132.2, ups=0.89, wpb=12448.3, bsz=477.2, num_updates=14800, lr=0.000116248, gnorm=0.367, clip=0, loss_scale=8, train_wall=72, gb_free=17.6, wall=10701
2023-08-22 16:03:56 | INFO | train_inner | epoch 011:    169 / 1474 loss=1.932, trans_loss=3.387, nll_loss=1.567, w2v_ctc_loss=1.057, task_loss=2.255, contrastive_loss=0, total=4100.74, n_correct=2545.26, ppl=2.96, accuracy=62.068, wps=16834.4, ups=1.37, wpb=12251.1, bsz=450.6, num_updates=14900, lr=0.000115857, gnorm=0.412, clip=0, loss_scale=8, train_wall=72, gb_free=14, wall=10773
2023-08-22 16:05:09 | INFO | train_inner | epoch 011:    269 / 1474 loss=1.92, trans_loss=3.383, nll_loss=1.56, w2v_ctc_loss=1.044, task_loss=2.272, contrastive_loss=0, total=4115.58, n_correct=2562.49, ppl=2.95, accuracy=62.263, wps=16957.4, ups=1.38, wpb=12290.6, bsz=444.2, num_updates=15000, lr=0.00011547, gnorm=0.388, clip=0, loss_scale=8, train_wall=72, gb_free=15.7, wall=10846
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:0')
2023-08-22 16:06:00 | INFO | train_inner | epoch 011:    369 / 1474 loss=2.066, trans_loss=5.029, nll_loss=2.321, w2v_ctc_loss=0.782, task_loss=3.38, contrastive_loss=0, total=4094.16, n_correct=2544.08, ppl=5, accuracy=62.139, wps=16204.6, ups=1.97, wpb=8227.1, bsz=296.5, num_updates=15100, lr=0.000115087, gnorm=0.516, clip=0, loss_scale=8, train_wall=50, gb_free=12.3, wall=10897
2023-08-22 16:06:51 | INFO | train_inner | epoch 011:    469 / 1474 loss=2.076, trans_loss=5.063, nll_loss=2.346, w2v_ctc_loss=0.785, task_loss=3.411, contrastive_loss=0, total=4112.8, n_correct=2543.1, ppl=5.09, accuracy=61.834, wps=15936.5, ups=1.94, wpb=8225.6, bsz=302.2, num_updates=15200, lr=0.000114708, gnorm=0.518, clip=0, loss_scale=8, train_wall=51, gb_free=16.8, wall=10948
2023-08-22 16:07:43 | INFO | train_inner | epoch 011:    569 / 1474 loss=2.074, trans_loss=5.058, nll_loss=2.339, w2v_ctc_loss=0.789, task_loss=3.543, contrastive_loss=0, total=4071.06, n_correct=2524.68, ppl=5.06, accuracy=62.015, wps=15837.3, ups=1.95, wpb=8142.1, bsz=292.6, num_updates=15300, lr=0.000114332, gnorm=0.505, clip=0, loss_scale=8, train_wall=51, gb_free=16, wall=11000
2023-08-22 16:08:34 | INFO | train_inner | epoch 011:    669 / 1474 loss=2.068, trans_loss=5.048, nll_loss=2.327, w2v_ctc_loss=0.784, task_loss=3.226, contrastive_loss=0, total=4156.4, n_correct=2584.99, ppl=5.02, accuracy=62.193, wps=16289.6, ups=1.96, wpb=8312.8, bsz=310.2, num_updates=15400, lr=0.000113961, gnorm=0.513, clip=0, loss_scale=8, train_wall=51, gb_free=16, wall=11051
2023-08-22 16:09:25 | INFO | train_inner | epoch 011:    769 / 1474 loss=2.075, trans_loss=5.058, nll_loss=2.34, w2v_ctc_loss=0.796, task_loss=3.336, contrastive_loss=0, total=4169.17, n_correct=2592.38, ppl=5.06, accuracy=62.18, wps=16248.1, ups=1.95, wpb=8338.3, bsz=304.8, num_updates=15500, lr=0.000113592, gnorm=0.521, clip=0, loss_scale=8, train_wall=51, gb_free=11.7, wall=11102
2023-08-22 16:10:16 | INFO | train_inner | epoch 011:    869 / 1474 loss=2.078, trans_loss=5.063, nll_loss=2.345, w2v_ctc_loss=0.794, task_loss=3.446, contrastive_loss=0, total=4120.01, n_correct=2549.82, ppl=5.08, accuracy=61.889, wps=16168.3, ups=1.96, wpb=8240, bsz=293.5, num_updates=15600, lr=0.000113228, gnorm=0.549, clip=0, loss_scale=8, train_wall=51, gb_free=13, wall=11153
2023-08-22 16:11:07 | INFO | train_inner | epoch 011:    969 / 1474 loss=2.072, trans_loss=5.058, nll_loss=2.339, w2v_ctc_loss=0.794, task_loss=3.327, contrastive_loss=0, total=4145.45, n_correct=2577.26, ppl=5.06, accuracy=62.171, wps=16223.3, ups=1.96, wpb=8290.9, bsz=303.7, num_updates=15700, lr=0.000112867, gnorm=0.53, clip=0, loss_scale=8, train_wall=51, gb_free=16.7, wall=11204
2023-08-22 16:11:58 | INFO | train_inner | epoch 011:   1069 / 1474 loss=2.068, trans_loss=5.052, nll_loss=2.333, w2v_ctc_loss=0.791, task_loss=3.227, contrastive_loss=0, total=4141.18, n_correct=2580.34, ppl=5.04, accuracy=62.309, wps=16213.7, ups=1.96, wpb=8282.4, bsz=309.4, num_updates=15800, lr=0.000112509, gnorm=0.497, clip=0, loss_scale=8, train_wall=51, gb_free=16.3, wall=11255
2023-08-22 16:12:50 | INFO | train_inner | epoch 011:   1169 / 1474 loss=2.074, trans_loss=5.058, nll_loss=2.341, w2v_ctc_loss=0.801, task_loss=3.302, contrastive_loss=0, total=4173.93, n_correct=2591.65, ppl=5.07, accuracy=62.091, wps=16244.9, ups=1.95, wpb=8347.9, bsz=307.2, num_updates=15900, lr=0.000112154, gnorm=0.517, clip=0, loss_scale=8, train_wall=51, gb_free=16.6, wall=11307
2023-08-22 16:13:41 | INFO | train_inner | epoch 011:   1269 / 1474 loss=2.07, trans_loss=5.051, nll_loss=2.332, w2v_ctc_loss=0.796, task_loss=3.162, contrastive_loss=0, total=4174.26, n_correct=2597.02, ppl=5.03, accuracy=62.215, wps=16166.8, ups=1.94, wpb=8348.5, bsz=314.4, num_updates=16000, lr=0.000111803, gnorm=0.53, clip=0, loss_scale=8, train_wall=51, gb_free=17.1, wall=11358
2023-08-22 16:13:41 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:7')
2023-08-22 16:14:04 | INFO | dev_st | epoch 011 | valid on 'dev_st' subset | loss 4.001 | trans_loss 5.288 | nll_loss 2.587 | w2v_ctc_loss 1.42 | task_loss 11.55 | contrastive_loss 0 | total 4003.4 | n_correct 2585 | ppl 6.01 | accuracy 64.57 | uer 19.377 | wer 21.315 | raw_wer 21.315 | bleu 20.15 | wps 2421.8 | wpb 4003.4 | bsz 141.8 | num_updates 16000 | best_bleu 20.15
2023-08-22 16:14:04 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 11 @ 16000 updates
2023-08-22 16:14:04 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_11_16000.pt
2023-08-22 16:14:06 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_11_16000.pt
2023-08-22 16:14:14 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_11_16000.pt (epoch 11 @ 16000 updates, score 20.15) (writing took 9.838937633998285 seconds)
2023-08-22 16:15:06 | INFO | train_inner | epoch 011:   1369 / 1474 loss=2.062, trans_loss=5.048, nll_loss=2.329, w2v_ctc_loss=0.781, task_loss=3.039, contrastive_loss=0, total=4191.56, n_correct=2609.22, ppl=5.02, accuracy=62.249, wps=9863.5, ups=1.18, wpb=8383.1, bsz=327.7, num_updates=16100, lr=0.000111456, gnorm=0.521, clip=0, loss_scale=8, train_wall=52, gb_free=17.2, wall=11443
2023-08-22 16:15:58 | INFO | train_inner | epoch 011:   1469 / 1474 loss=2.063, trans_loss=5.051, nll_loss=2.332, w2v_ctc_loss=0.783, task_loss=3.16, contrastive_loss=0, total=4161.81, n_correct=2593.3, ppl=5.04, accuracy=62.312, wps=16164.9, ups=1.94, wpb=8323.6, bsz=313.2, num_updates=16200, lr=0.000111111, gnorm=0.505, clip=0, loss_scale=8, train_wall=51, gb_free=16.4, wall=11495
2023-08-22 16:16:00 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 16:16:24 | INFO | dev_st | epoch 011 | valid on 'dev_st' subset | loss 3.971 | trans_loss 5.279 | nll_loss 2.573 | w2v_ctc_loss 1.34 | task_loss 11.495 | contrastive_loss 0 | total 4003.4 | n_correct 2588.5 | ppl 5.95 | accuracy 64.658 | uer 18.748 | wer 20.641 | raw_wer 20.641 | bleu 20.36 | wps 2270 | wpb 4003.4 | bsz 141.8 | num_updates 16205 | best_bleu 20.36
2023-08-22 16:16:24 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 11 @ 16205 updates
2023-08-22 16:16:24 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 16:16:28 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 16:16:33 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 11 @ 16205 updates, score 20.36) (writing took 8.81561442200109 seconds)
2023-08-22 16:16:33 | INFO | fairseq_cli.train | end of epoch 11 (average epoch stats below)
2023-08-22 16:16:33 | INFO | train | epoch 011 | loss 2.035 | trans_loss 4.638 | nll_loss 2.143 | w2v_ctc_loss 0.854 | task_loss 3.019 | contrastive_loss 0 | total 4138.61 | n_correct 2571.87 | ppl 4.42 | accuracy 62.143 | wps 15000.9 | ups 1.66 | wpb 9021.3 | bsz 333.4 | num_updates 16205 | lr 0.000111094 | gnorm 0.496 | clip 0 | loss_scale 8 | train_wall 807 | gb_free 16.8 | wall 11530
2023-08-22 16:16:33 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 16:16:33 | INFO | fairseq.trainer | begin training epoch 12
2023-08-22 16:16:33 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 16:17:29 | INFO | train_inner | epoch 012:     95 / 1474 loss=2.044, trans_loss=5.012, nll_loss=2.28, w2v_ctc_loss=0.773, task_loss=3.17, contrastive_loss=0, total=4139.2, n_correct=2610.98, ppl=4.86, accuracy=63.079, wps=9105.6, ups=1.1, wpb=8278.4, bsz=312.5, num_updates=16300, lr=0.00011077, gnorm=0.517, clip=0, loss_scale=8, train_wall=51, gb_free=15.6, wall=11586
2023-08-22 16:18:20 | INFO | train_inner | epoch 012:    195 / 1474 loss=2.05, trans_loss=5.017, nll_loss=2.286, w2v_ctc_loss=0.777, task_loss=3.388, contrastive_loss=0, total=4126.87, n_correct=2595.03, ppl=4.88, accuracy=62.881, wps=16157.2, ups=1.96, wpb=8253.7, bsz=295.9, num_updates=16400, lr=0.000110432, gnorm=0.498, clip=0, loss_scale=8, train_wall=51, gb_free=16.1, wall=11637
2023-08-22 16:19:11 | INFO | train_inner | epoch 012:    295 / 1474 loss=2.042, trans_loss=5.018, nll_loss=2.289, w2v_ctc_loss=0.762, task_loss=3.079, contrastive_loss=0, total=4203.54, n_correct=2646.51, ppl=4.89, accuracy=62.959, wps=16460, ups=1.96, wpb=8407.1, bsz=321.1, num_updates=16500, lr=0.000110096, gnorm=0.532, clip=0, loss_scale=8, train_wall=51, gb_free=14.2, wall=11688
2023-08-22 16:20:02 | INFO | train_inner | epoch 012:    395 / 1474 loss=2.047, trans_loss=5.019, nll_loss=2.289, w2v_ctc_loss=0.771, task_loss=3.236, contrastive_loss=0, total=4149.28, n_correct=2612.08, ppl=4.89, accuracy=62.953, wps=16249.6, ups=1.96, wpb=8298.6, bsz=307.1, num_updates=16600, lr=0.000109764, gnorm=0.508, clip=0, loss_scale=8, train_wall=51, gb_free=14.8, wall=11739
2023-08-22 16:20:53 | INFO | train_inner | epoch 012:    495 / 1474 loss=2.063, trans_loss=5.037, nll_loss=2.313, w2v_ctc_loss=0.796, task_loss=3.315, contrastive_loss=0, total=4106.46, n_correct=2573.2, ppl=4.97, accuracy=62.662, wps=16072.5, ups=1.96, wpb=8212.9, bsz=301.2, num_updates=16700, lr=0.000109435, gnorm=0.612, clip=0, loss_scale=8, train_wall=51, gb_free=17.5, wall=11790
2023-08-22 16:21:45 | INFO | train_inner | epoch 012:    595 / 1474 loss=2.046, trans_loss=5.019, nll_loss=2.29, w2v_ctc_loss=0.775, task_loss=3.142, contrastive_loss=0, total=4190.91, n_correct=2641.41, ppl=4.89, accuracy=63.027, wps=16190.9, ups=1.93, wpb=8381.8, bsz=316.5, num_updates=16800, lr=0.000109109, gnorm=0.525, clip=0, loss_scale=16, train_wall=51, gb_free=15.5, wall=11842
2023-08-22 16:22:36 | INFO | train_inner | epoch 012:    695 / 1474 loss=2.038, trans_loss=5.016, nll_loss=2.287, w2v_ctc_loss=0.761, task_loss=3.024, contrastive_loss=0, total=4203.66, n_correct=2652.9, ppl=4.88, accuracy=63.109, wps=16463.8, ups=1.96, wpb=8407.3, bsz=324.4, num_updates=16900, lr=0.000108786, gnorm=0.511, clip=0, loss_scale=16, train_wall=51, gb_free=17.1, wall=11893
2023-08-22 16:23:27 | INFO | train_inner | epoch 012:    795 / 1474 loss=2.046, trans_loss=5.013, nll_loss=2.283, w2v_ctc_loss=0.776, task_loss=3.335, contrastive_loss=0, total=4095.72, n_correct=2584.41, ppl=4.87, accuracy=63.1, wps=16035.4, ups=1.96, wpb=8191.4, bsz=298.9, num_updates=17000, lr=0.000108465, gnorm=0.502, clip=0, loss_scale=16, train_wall=51, gb_free=16.9, wall=11944
2023-08-22 16:24:18 | INFO | train_inner | epoch 012:    895 / 1474 loss=2.049, trans_loss=5.017, nll_loss=2.288, w2v_ctc_loss=0.777, task_loss=3.381, contrastive_loss=0, total=4162.82, n_correct=2622.6, ppl=4.88, accuracy=63.001, wps=16190.3, ups=1.94, wpb=8325.6, bsz=305.4, num_updates=17100, lr=0.000108148, gnorm=0.503, clip=0, loss_scale=16, train_wall=51, gb_free=15.8, wall=11995
2023-08-22 16:25:09 | INFO | train_inner | epoch 012:    995 / 1474 loss=2.054, trans_loss=5.024, nll_loss=2.297, w2v_ctc_loss=0.783, task_loss=3.351, contrastive_loss=0, total=4117.63, n_correct=2587.58, ppl=4.92, accuracy=62.841, wps=16106.1, ups=1.96, wpb=8235.3, bsz=301.6, num_updates=17200, lr=0.000107833, gnorm=0.55, clip=0, loss_scale=16, train_wall=51, gb_free=16.6, wall=12047
2023-08-22 16:25:44 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-22 16:26:01 | INFO | train_inner | epoch 012:   1096 / 1474 loss=2.056, trans_loss=5.025, nll_loss=2.298, w2v_ctc_loss=0.784, task_loss=3.445, contrastive_loss=0, total=4050.07, n_correct=2546.18, ppl=4.92, accuracy=62.868, wps=15778.5, ups=1.95, wpb=8100.1, bsz=290.7, num_updates=17300, lr=0.000107521, gnorm=0.521, clip=0, loss_scale=8, train_wall=51, gb_free=16.1, wall=12098
2023-08-22 16:26:52 | INFO | train_inner | epoch 012:   1196 / 1474 loss=2.062, trans_loss=5.044, nll_loss=2.323, w2v_ctc_loss=0.797, task_loss=3.203, contrastive_loss=0, total=4196.85, n_correct=2623.35, ppl=5, accuracy=62.508, wps=16343.4, ups=1.95, wpb=8393.7, bsz=319, num_updates=17400, lr=0.000107211, gnorm=0.536, clip=0, loss_scale=8, train_wall=51, gb_free=16.2, wall=12149
2023-08-22 16:27:43 | INFO | train_inner | epoch 012:   1296 / 1474 loss=2.058, trans_loss=5.024, nll_loss=2.297, w2v_ctc_loss=0.793, task_loss=3.688, contrastive_loss=0, total=4067.78, n_correct=2556.8, ppl=4.91, accuracy=62.855, wps=15908.2, ups=1.96, wpb=8135.6, bsz=285.5, num_updates=17500, lr=0.000106904, gnorm=0.516, clip=0, loss_scale=8, train_wall=51, gb_free=14.7, wall=12200
2023-08-22 16:28:34 | INFO | train_inner | epoch 012:   1396 / 1474 loss=2.052, trans_loss=5.032, nll_loss=2.307, w2v_ctc_loss=0.778, task_loss=3.311, contrastive_loss=0, total=4142.88, n_correct=2598.5, ppl=4.95, accuracy=62.722, wps=16225.5, ups=1.96, wpb=8285.8, bsz=306.2, num_updates=17600, lr=0.0001066, gnorm=0.514, clip=0, loss_scale=8, train_wall=51, gb_free=15.2, wall=12251
2023-08-22 16:29:15 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 16:29:37 | INFO | dev_st | epoch 012 | valid on 'dev_st' subset | loss 3.97 | trans_loss 5.257 | nll_loss 2.547 | w2v_ctc_loss 1.387 | task_loss 11.497 | contrastive_loss 0 | total 4003.4 | n_correct 2598.4 | ppl 5.84 | accuracy 64.905 | uer 19.144 | wer 20.998 | raw_wer 20.998 | bleu 20.5 | wps 2418.2 | wpb 4003.4 | bsz 141.8 | num_updates 17678 | best_bleu 20.5
2023-08-22 16:29:37 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 12 @ 17678 updates
2023-08-22 16:29:37 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 16:29:42 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 16:29:46 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 12 @ 17678 updates, score 20.5) (writing took 9.069500670000707 seconds)
2023-08-22 16:29:47 | INFO | fairseq_cli.train | end of epoch 12 (average epoch stats below)
2023-08-22 16:29:47 | INFO | train | epoch 012 | loss 2.051 | trans_loss 5.023 | nll_loss 2.295 | w2v_ctc_loss 0.779 | task_loss 3.29 | contrastive_loss 0 | total 4138.74 | n_correct 2603.05 | ppl 4.91 | accuracy 62.895 | wps 15362.8 | ups 1.86 | wpb 8277.5 | bsz 305.7 | num_updates 17678 | lr 0.000106365 | gnorm 0.524 | clip 0 | loss_scale 8 | train_wall 748 | gb_free 12.4 | wall 12324
2023-08-22 16:29:47 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 16:29:47 | INFO | fairseq.trainer | begin training epoch 13
2023-08-22 16:29:47 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 16:30:05 | INFO | train_inner | epoch 013:     22 / 1474 loss=2.054, trans_loss=5.028, nll_loss=2.302, w2v_ctc_loss=0.787, task_loss=3.39, contrastive_loss=0, total=4097.08, n_correct=2575.89, ppl=4.93, accuracy=62.871, wps=9041.6, ups=1.1, wpb=8194.2, bsz=296.6, num_updates=17700, lr=0.000106299, gnorm=0.507, clip=0, loss_scale=8, train_wall=51, gb_free=16.1, wall=12342
2023-08-22 16:30:56 | INFO | train_inner | epoch 013:    122 / 1474 loss=2.035, trans_loss=4.997, nll_loss=2.262, w2v_ctc_loss=0.762, task_loss=3.315, contrastive_loss=0, total=4164.24, n_correct=2643.19, ppl=4.8, accuracy=63.474, wps=16200.9, ups=1.95, wpb=8328.5, bsz=301.9, num_updates=17800, lr=0.000106, gnorm=0.507, clip=0, loss_scale=8, train_wall=51, gb_free=16.6, wall=12394
2023-08-22 16:31:48 | INFO | train_inner | epoch 013:    222 / 1474 loss=2.031, trans_loss=5.003, nll_loss=2.27, w2v_ctc_loss=0.76, task_loss=3.048, contrastive_loss=0, total=4201.52, n_correct=2661.86, ppl=4.82, accuracy=63.355, wps=16156, ups=1.92, wpb=8403, bsz=328.5, num_updates=17900, lr=0.000105703, gnorm=0.508, clip=0, loss_scale=8, train_wall=52, gb_free=12.7, wall=12446
2023-08-22 16:32:39 | INFO | train_inner | epoch 013:    322 / 1474 loss=2.028, trans_loss=4.986, nll_loss=2.248, w2v_ctc_loss=0.757, task_loss=3.428, contrastive_loss=0, total=4102.53, n_correct=2617.18, ppl=4.75, accuracy=63.794, wps=16101.1, ups=1.96, wpb=8205.1, bsz=293.9, num_updates=18000, lr=0.000105409, gnorm=0.505, clip=0, loss_scale=8, train_wall=51, gb_free=15.6, wall=12496
2023-08-22 16:32:39 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 16:33:02 | INFO | dev_st | epoch 013 | valid on 'dev_st' subset | loss 3.97 | trans_loss 5.259 | nll_loss 2.55 | w2v_ctc_loss 1.382 | task_loss 11.481 | contrastive_loss 0 | total 4003.4 | n_correct 2605.1 | ppl 5.86 | accuracy 65.072 | uer 19.287 | wer 21.278 | raw_wer 21.278 | bleu 20.51 | wps 2421.3 | wpb 4003.4 | bsz 141.8 | num_updates 18000 | best_bleu 20.51
2023-08-22 16:33:02 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 13 @ 18000 updates
2023-08-22 16:33:02 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_13_18000.pt
2023-08-22 16:33:05 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_13_18000.pt
2023-08-22 16:33:12 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_13_18000.pt (epoch 13 @ 18000 updates, score 20.51) (writing took 9.902333347999956 seconds)
2023-08-22 16:34:04 | INFO | train_inner | epoch 013:    422 / 1474 loss=2.027, trans_loss=4.991, nll_loss=2.255, w2v_ctc_loss=0.762, task_loss=3.06, contrastive_loss=0, total=4190.45, n_correct=2671, ppl=4.77, accuracy=63.74, wps=9950, ups=1.19, wpb=8380.9, bsz=320.3, num_updates=18100, lr=0.000105118, gnorm=0.524, clip=0, loss_scale=8, train_wall=51, gb_free=15.4, wall=12581
2023-08-22 16:34:55 | INFO | train_inner | epoch 013:    522 / 1474 loss=2.031, trans_loss=4.997, nll_loss=2.262, w2v_ctc_loss=0.763, task_loss=3.175, contrastive_loss=0, total=4194.45, n_correct=2664.57, ppl=4.8, accuracy=63.526, wps=16312.3, ups=1.94, wpb=8388.9, bsz=319, num_updates=18200, lr=0.000104828, gnorm=0.5, clip=0, loss_scale=8, train_wall=51, gb_free=17, wall=12632
2023-08-22 16:35:46 | INFO | train_inner | epoch 013:    622 / 1474 loss=2.026, trans_loss=4.993, nll_loss=2.257, w2v_ctc_loss=0.757, task_loss=3.222, contrastive_loss=0, total=4158.04, n_correct=2651.46, ppl=4.78, accuracy=63.767, wps=16319.5, ups=1.96, wpb=8316.1, bsz=306.7, num_updates=18300, lr=0.000104542, gnorm=0.514, clip=0, loss_scale=8, train_wall=51, gb_free=13, wall=12683
2023-08-22 16:36:37 | INFO | train_inner | epoch 013:    722 / 1474 loss=2.045, trans_loss=5.002, nll_loss=2.268, w2v_ctc_loss=0.783, task_loss=3.649, contrastive_loss=0, total=4099.91, n_correct=2594.72, ppl=4.82, accuracy=63.287, wps=16034.9, ups=1.96, wpb=8199.8, bsz=285.5, num_updates=18400, lr=0.000104257, gnorm=0.522, clip=0, loss_scale=8, train_wall=51, gb_free=16.4, wall=12734
2023-08-22 16:37:29 | INFO | train_inner | epoch 013:    822 / 1474 loss=2.037, trans_loss=5.002, nll_loss=2.27, w2v_ctc_loss=0.767, task_loss=3.341, contrastive_loss=0, total=4122.78, n_correct=2610.21, ppl=4.82, accuracy=63.312, wps=15928.6, ups=1.93, wpb=8245.6, bsz=306, num_updates=18500, lr=0.000103975, gnorm=0.536, clip=0, loss_scale=8, train_wall=51, gb_free=14.6, wall=12786
2023-08-22 16:38:20 | INFO | train_inner | epoch 013:    922 / 1474 loss=2.032, trans_loss=4.996, nll_loss=2.261, w2v_ctc_loss=0.763, task_loss=3.365, contrastive_loss=0, total=4102.59, n_correct=2610.14, ppl=4.79, accuracy=63.622, wps=16162.5, ups=1.97, wpb=8205.2, bsz=296.6, num_updates=18600, lr=0.000103695, gnorm=0.516, clip=0, loss_scale=8, train_wall=50, gb_free=17, wall=12837
2023-08-22 16:39:11 | INFO | train_inner | epoch 013:   1022 / 1474 loss=2.041, trans_loss=5.003, nll_loss=2.271, w2v_ctc_loss=0.777, task_loss=3.486, contrastive_loss=0, total=4087.8, n_correct=2587.53, ppl=4.82, accuracy=63.299, wps=16022.6, ups=1.96, wpb=8175.6, bsz=293.7, num_updates=18700, lr=0.000103418, gnorm=0.506, clip=0, loss_scale=8, train_wall=51, gb_free=16.4, wall=12888
2023-08-22 16:40:02 | INFO | train_inner | epoch 013:   1122 / 1474 loss=2.024, trans_loss=4.988, nll_loss=2.251, w2v_ctc_loss=0.756, task_loss=3.263, contrastive_loss=0, total=4098.77, n_correct=2614.89, ppl=4.76, accuracy=63.797, wps=16144.6, ups=1.97, wpb=8197.5, bsz=304.8, num_updates=18800, lr=0.000103142, gnorm=0.504, clip=0, loss_scale=8, train_wall=50, gb_free=13.2, wall=12939
2023-08-22 16:40:53 | INFO | train_inner | epoch 013:   1222 / 1474 loss=2.038, trans_loss=5.001, nll_loss=2.267, w2v_ctc_loss=0.773, task_loss=3.498, contrastive_loss=0, total=4115.57, n_correct=2613.57, ppl=4.81, accuracy=63.504, wps=16036.6, ups=1.95, wpb=8231.1, bsz=295.9, num_updates=18900, lr=0.000102869, gnorm=0.508, clip=0, loss_scale=8, train_wall=51, gb_free=14.8, wall=12990
2023-08-22 16:41:44 | INFO | train_inner | epoch 013:   1322 / 1474 loss=2.027, trans_loss=4.989, nll_loss=2.253, w2v_ctc_loss=0.763, task_loss=3.257, contrastive_loss=0, total=4111.02, n_correct=2621.86, ppl=4.77, accuracy=63.776, wps=16030.8, ups=1.95, wpb=8222, bsz=307.8, num_updates=19000, lr=0.000102598, gnorm=0.498, clip=0, loss_scale=8, train_wall=51, gb_free=17.6, wall=13041
2023-08-22 16:42:36 | INFO | train_inner | epoch 013:   1422 / 1474 loss=2.031, trans_loss=4.998, nll_loss=2.265, w2v_ctc_loss=0.761, task_loss=3.238, contrastive_loss=0, total=4179.06, n_correct=2654.63, ppl=4.81, accuracy=63.522, wps=16244.2, ups=1.94, wpb=8358.1, bsz=311.9, num_updates=19100, lr=0.000102329, gnorm=0.514, clip=0, loss_scale=8, train_wall=51, gb_free=15.7, wall=13093
2023-08-22 16:43:02 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 16:43:25 | INFO | dev_st | epoch 013 | valid on 'dev_st' subset | loss 3.945 | trans_loss 5.246 | nll_loss 2.53 | w2v_ctc_loss 1.33 | task_loss 11.514 | contrastive_loss 0 | total 4003.4 | n_correct 2608.5 | ppl 5.78 | accuracy 65.157 | uer 18.568 | wer 20.339 | raw_wer 20.339 | bleu 20.61 | wps 2438.8 | wpb 4003.4 | bsz 141.8 | num_updates 19152 | best_bleu 20.61
2023-08-22 16:43:25 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 13 @ 19152 updates
2023-08-22 16:43:25 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 16:43:29 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 16:43:34 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 13 @ 19152 updates, score 20.61) (writing took 8.933669602000009 seconds)
2023-08-22 16:43:34 | INFO | fairseq_cli.train | end of epoch 13 (average epoch stats below)
2023-08-22 16:43:34 | INFO | train | epoch 013 | loss 2.032 | trans_loss 4.996 | nll_loss 2.261 | w2v_ctc_loss 0.765 | task_loss 3.294 | contrastive_loss 0 | total 4138.65 | n_correct 2630.85 | ppl 4.79 | accuracy 63.568 | wps 14747.5 | ups 1.78 | wpb 8277.3 | bsz 305.7 | num_updates 19152 | lr 0.00010219 | gnorm 0.512 | clip 0 | loss_scale 8 | train_wall 749 | gb_free 17.3 | wall 13151
2023-08-22 16:43:34 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 16:43:34 | INFO | fairseq.trainer | begin training epoch 14
2023-08-22 16:43:34 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 16:44:06 | INFO | train_inner | epoch 014:     48 / 1474 loss=2.013, trans_loss=4.967, nll_loss=2.224, w2v_ctc_loss=0.754, task_loss=3.028, contrastive_loss=0, total=4179.66, n_correct=2682.58, ppl=4.67, accuracy=64.182, wps=9280.9, ups=1.11, wpb=8359.3, bsz=322, num_updates=19200, lr=0.000102062, gnorm=0.509, clip=0, loss_scale=8, train_wall=51, gb_free=10, wall=13183
2023-08-22 16:44:56 | INFO | train_inner | epoch 014:    148 / 1474 loss=2.01, trans_loss=4.957, nll_loss=2.211, w2v_ctc_loss=0.751, task_loss=3.303, contrastive_loss=0, total=4081.01, n_correct=2628.99, ppl=4.63, accuracy=64.42, wps=16103.2, ups=1.97, wpb=8162, bsz=300.6, num_updates=19300, lr=0.000101797, gnorm=0.511, clip=0, loss_scale=8, train_wall=50, gb_free=15.7, wall=13233
2023-08-22 16:45:47 | INFO | train_inner | epoch 014:    248 / 1474 loss=2.018, trans_loss=4.972, nll_loss=2.23, w2v_ctc_loss=0.753, task_loss=3.445, contrastive_loss=0, total=4109.83, n_correct=2634.13, ppl=4.69, accuracy=64.093, wps=16181.2, ups=1.97, wpb=8219.7, bsz=295.2, num_updates=19400, lr=0.000101535, gnorm=0.513, clip=0, loss_scale=16, train_wall=50, gb_free=15.3, wall=13284
2023-08-22 16:46:38 | INFO | train_inner | epoch 014:    348 / 1474 loss=2.012, trans_loss=4.973, nll_loss=2.233, w2v_ctc_loss=0.746, task_loss=3.079, contrastive_loss=0, total=4171.83, n_correct=2674.98, ppl=4.7, accuracy=64.12, wps=16384.9, ups=1.96, wpb=8343.7, bsz=319.7, num_updates=19500, lr=0.000101274, gnorm=0.51, clip=0, loss_scale=16, train_wall=51, gb_free=16.4, wall=13335
2023-08-22 16:47:29 | INFO | train_inner | epoch 014:    448 / 1474 loss=2.015, trans_loss=4.975, nll_loss=2.234, w2v_ctc_loss=0.746, task_loss=3.312, contrastive_loss=0, total=4142.75, n_correct=2653.94, ppl=4.71, accuracy=64.062, wps=16123.4, ups=1.95, wpb=8285.5, bsz=302.2, num_updates=19600, lr=0.000101015, gnorm=0.519, clip=0, loss_scale=16, train_wall=51, gb_free=16.3, wall=13387
2023-08-22 16:48:21 | INFO | train_inner | epoch 014:    548 / 1474 loss=2.029, trans_loss=4.978, nll_loss=2.237, w2v_ctc_loss=0.773, task_loss=3.545, contrastive_loss=0, total=4073.76, n_correct=2600.65, ppl=4.71, accuracy=63.839, wps=15857, ups=1.95, wpb=8147.5, bsz=290.9, num_updates=19700, lr=0.000100759, gnorm=0.522, clip=0, loss_scale=16, train_wall=51, gb_free=15.2, wall=13438
2023-08-22 16:49:12 | INFO | train_inner | epoch 014:    648 / 1474 loss=2.019, trans_loss=4.976, nll_loss=2.236, w2v_ctc_loss=0.755, task_loss=3.289, contrastive_loss=0, total=4158.79, n_correct=2662.72, ppl=4.71, accuracy=64.026, wps=16265.2, ups=1.96, wpb=8317.6, bsz=306.8, num_updates=19800, lr=0.000100504, gnorm=0.497, clip=0, loss_scale=16, train_wall=51, gb_free=16.9, wall=13489
2023-08-22 16:50:03 | INFO | train_inner | epoch 014:    748 / 1474 loss=2.012, trans_loss=4.963, nll_loss=2.219, w2v_ctc_loss=0.752, task_loss=3.205, contrastive_loss=0, total=4145.47, n_correct=2662.94, ppl=4.66, accuracy=64.237, wps=16305, ups=1.97, wpb=8290.9, bsz=309.6, num_updates=19900, lr=0.000100251, gnorm=0.499, clip=0, loss_scale=16, train_wall=50, gb_free=15.9, wall=13540
2023-08-22 16:50:54 | INFO | train_inner | epoch 014:    848 / 1474 loss=2.01, trans_loss=4.964, nll_loss=2.221, w2v_ctc_loss=0.748, task_loss=3.128, contrastive_loss=0, total=4171.1, n_correct=2680.86, ppl=4.66, accuracy=64.272, wps=16286.6, ups=1.95, wpb=8342.2, bsz=319.7, num_updates=20000, lr=0.0001, gnorm=0.508, clip=0, loss_scale=16, train_wall=51, gb_free=16.4, wall=13591
2023-08-22 16:50:54 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 16:51:19 | INFO | dev_st | epoch 014 | valid on 'dev_st' subset | loss 3.968 | trans_loss 5.231 | nll_loss 2.515 | w2v_ctc_loss 1.439 | task_loss 11.539 | contrastive_loss 0 | total 4003.4 | n_correct 2613.2 | ppl 5.72 | accuracy 65.275 | uer 18.865 | wer 20.637 | raw_wer 20.637 | bleu 20.68 | wps 2227.9 | wpb 4003.4 | bsz 141.8 | num_updates 20000 | best_bleu 20.68
2023-08-22 16:51:19 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 14 @ 20000 updates
2023-08-22 16:51:19 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_14_20000.pt
2023-08-22 16:51:21 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_14_20000.pt
2023-08-22 16:51:28 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_14_20000.pt (epoch 14 @ 20000 updates, score 20.68) (writing took 9.86748305799847 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:0')
2023-08-22 16:52:20 | INFO | train_inner | epoch 014:    948 / 1474 loss=2.014, trans_loss=4.971, nll_loss=2.229, w2v_ctc_loss=0.749, task_loss=3.298, contrastive_loss=0, total=4167.75, n_correct=2669.84, ppl=4.69, accuracy=64.06, wps=9677.9, ups=1.16, wpb=8335.5, bsz=310.1, num_updates=20100, lr=9.97509e-05, gnorm=0.498, clip=0, loss_scale=16, train_wall=51, gb_free=16.1, wall=13677
2023-08-22 16:53:12 | INFO | train_inner | epoch 014:   1048 / 1474 loss=2.019, trans_loss=4.975, nll_loss=2.235, w2v_ctc_loss=0.754, task_loss=3.349, contrastive_loss=0, total=4143.92, n_correct=2656.32, ppl=4.71, accuracy=64.102, wps=15978.4, ups=1.93, wpb=8287.8, bsz=300.7, num_updates=20200, lr=9.95037e-05, gnorm=0.542, clip=0, loss_scale=16, train_wall=51, gb_free=15.5, wall=13729
2023-08-22 16:54:04 | INFO | train_inner | epoch 014:   1148 / 1474 loss=2.019, trans_loss=4.974, nll_loss=2.235, w2v_ctc_loss=0.762, task_loss=3.081, contrastive_loss=0, total=4228.69, n_correct=2706.15, ppl=4.71, accuracy=63.995, wps=16340.3, ups=1.93, wpb=8457.4, bsz=327.2, num_updates=20300, lr=9.92583e-05, gnorm=0.51, clip=0, loss_scale=16, train_wall=51, gb_free=15.3, wall=13781
2023-08-22 16:54:55 | INFO | train_inner | epoch 014:   1248 / 1474 loss=2.031, trans_loss=4.979, nll_loss=2.24, w2v_ctc_loss=0.772, task_loss=3.877, contrastive_loss=0, total=4021.19, n_correct=2567.52, ppl=4.72, accuracy=63.85, wps=15762.2, ups=1.96, wpb=8042.4, bsz=271.7, num_updates=20400, lr=9.90148e-05, gnorm=0.538, clip=0, loss_scale=16, train_wall=51, gb_free=16, wall=13832
2023-08-22 16:55:46 | INFO | train_inner | epoch 014:   1348 / 1474 loss=2.012, trans_loss=4.973, nll_loss=2.233, w2v_ctc_loss=0.747, task_loss=3.109, contrastive_loss=0, total=4213.9, n_correct=2704.46, ppl=4.7, accuracy=64.18, wps=16469.1, ups=1.95, wpb=8427.8, bsz=319.4, num_updates=20500, lr=9.8773e-05, gnorm=0.494, clip=0, loss_scale=16, train_wall=51, gb_free=15.8, wall=13883
2023-08-22 16:56:37 | INFO | train_inner | epoch 014:   1448 / 1474 loss=2.017, trans_loss=4.977, nll_loss=2.238, w2v_ctc_loss=0.751, task_loss=3.285, contrastive_loss=0, total=4130.28, n_correct=2646.72, ppl=4.72, accuracy=64.081, wps=16195.7, ups=1.96, wpb=8260.6, bsz=304.1, num_updates=20600, lr=9.85329e-05, gnorm=0.506, clip=0, loss_scale=16, train_wall=51, gb_free=15, wall=13934
2023-08-22 16:56:50 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:4')
2023-08-22 16:57:13 | INFO | dev_st | epoch 014 | valid on 'dev_st' subset | loss 3.936 | trans_loss 5.226 | nll_loss 2.509 | w2v_ctc_loss 1.342 | task_loss 11.492 | contrastive_loss 0 | total 4003.4 | n_correct 2621 | ppl 5.69 | accuracy 65.469 | uer 18.456 | wer 20.428 | raw_wer 20.428 | bleu 21.01 | wps 2478.9 | wpb 4003.4 | bsz 141.8 | num_updates 20626 | best_bleu 21.01
2023-08-22 16:57:13 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 14 @ 20626 updates
2023-08-22 16:57:13 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 16:57:17 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 16:57:22 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 14 @ 20626 updates, score 21.01) (writing took 8.801419366001937 seconds)
2023-08-22 16:57:22 | INFO | fairseq_cli.train | end of epoch 14 (average epoch stats below)
2023-08-22 16:57:22 | INFO | train | epoch 014 | loss 2.017 | trans_loss 4.972 | nll_loss 2.231 | w2v_ctc_loss 0.754 | task_loss 3.296 | contrastive_loss 0 | total 4138.65 | n_correct 2652.64 | ppl 4.69 | accuracy 64.094 | wps 14736.7 | ups 1.78 | wpb 8277.3 | bsz 305.7 | num_updates 20626 | lr 9.84708e-05 | gnorm 0.512 | clip 0 | loss_scale 16 | train_wall 749 | gb_free 16 | wall 13979
2023-08-22 16:57:22 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 16:57:22 | INFO | fairseq.trainer | begin training epoch 15
2023-08-22 16:57:22 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 16:58:06 | INFO | train_inner | epoch 015:     74 / 1474 loss=2.007, trans_loss=4.959, nll_loss=2.213, w2v_ctc_loss=0.74, task_loss=3.317, contrastive_loss=0, total=4083.88, n_correct=2629.7, ppl=4.64, accuracy=64.392, wps=9153.9, ups=1.12, wpb=8167.8, bsz=300.2, num_updates=20700, lr=9.82946e-05, gnorm=0.505, clip=0, loss_scale=16, train_wall=50, gb_free=15.7, wall=14023
2023-08-22 16:58:57 | INFO | train_inner | epoch 015:    174 / 1474 loss=2.005, trans_loss=4.949, nll_loss=2.201, w2v_ctc_loss=0.747, task_loss=3.435, contrastive_loss=0, total=4115.73, n_correct=2659.57, ppl=4.6, accuracy=64.62, wps=16150.3, ups=1.96, wpb=8231.5, bsz=297.8, num_updates=20800, lr=9.80581e-05, gnorm=0.514, clip=0, loss_scale=16, train_wall=51, gb_free=16.5, wall=14074
2023-08-22 16:59:48 | INFO | train_inner | epoch 015:    274 / 1474 loss=1.997, trans_loss=4.95, nll_loss=2.201, w2v_ctc_loss=0.734, task_loss=3.16, contrastive_loss=0, total=4193.15, n_correct=2714.38, ppl=4.6, accuracy=64.734, wps=16524.2, ups=1.97, wpb=8386.3, bsz=312.6, num_updates=20900, lr=9.78232e-05, gnorm=0.492, clip=0, loss_scale=16, train_wall=50, gb_free=12.3, wall=14125
2023-08-22 17:00:39 | INFO | train_inner | epoch 015:    374 / 1474 loss=2.001, trans_loss=4.945, nll_loss=2.196, w2v_ctc_loss=0.737, task_loss=3.325, contrastive_loss=0, total=4167.66, n_correct=2692.67, ppl=4.58, accuracy=64.609, wps=16345.3, ups=1.96, wpb=8335.3, bsz=306, num_updates=21000, lr=9.759e-05, gnorm=0.514, clip=0, loss_scale=16, train_wall=51, gb_free=15.7, wall=14176
2023-08-22 17:01:30 | INFO | train_inner | epoch 015:    474 / 1474 loss=1.999, trans_loss=4.948, nll_loss=2.199, w2v_ctc_loss=0.728, task_loss=3.439, contrastive_loss=0, total=4074.53, n_correct=2630.65, ppl=4.59, accuracy=64.563, wps=15952.9, ups=1.96, wpb=8149.1, bsz=294.2, num_updates=21100, lr=9.73585e-05, gnorm=0.505, clip=0, loss_scale=16, train_wall=51, gb_free=15.5, wall=14227
2023-08-22 17:02:21 | INFO | train_inner | epoch 015:    574 / 1474 loss=2.006, trans_loss=4.949, nll_loss=2.201, w2v_ctc_loss=0.752, task_loss=3.405, contrastive_loss=0, total=4140.59, n_correct=2673.04, ppl=4.6, accuracy=64.557, wps=16184.1, ups=1.95, wpb=8281.2, bsz=298.8, num_updates=21200, lr=9.71286e-05, gnorm=0.556, clip=0, loss_scale=16, train_wall=51, gb_free=11.7, wall=14278
2023-08-22 17:03:13 | INFO | train_inner | epoch 015:    674 / 1474 loss=2.003, trans_loss=4.947, nll_loss=2.199, w2v_ctc_loss=0.741, task_loss=3.327, contrastive_loss=0, total=4134.99, n_correct=2671.07, ppl=4.59, accuracy=64.597, wps=16046.9, ups=1.94, wpb=8270, bsz=307.1, num_updates=21300, lr=9.69003e-05, gnorm=0.494, clip=0, loss_scale=16, train_wall=51, gb_free=10.1, wall=14330
2023-08-22 17:04:04 | INFO | train_inner | epoch 015:    774 / 1474 loss=2.007, trans_loss=4.954, nll_loss=2.207, w2v_ctc_loss=0.748, task_loss=3.325, contrastive_loss=0, total=4173.66, n_correct=2694.98, ppl=4.62, accuracy=64.571, wps=16227.4, ups=1.94, wpb=8347.3, bsz=305, num_updates=21400, lr=9.66736e-05, gnorm=0.507, clip=0, loss_scale=32, train_wall=51, gb_free=16.4, wall=14381
2023-08-22 17:04:25 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-22 17:04:55 | INFO | train_inner | epoch 015:    875 / 1474 loss=2.009, trans_loss=4.956, nll_loss=2.21, w2v_ctc_loss=0.747, task_loss=3.582, contrastive_loss=0, total=4057.13, n_correct=2616.21, ppl=4.63, accuracy=64.484, wps=15895, ups=1.96, wpb=8114.3, bsz=287.4, num_updates=21500, lr=9.64486e-05, gnorm=0.521, clip=0, loss_scale=16, train_wall=51, gb_free=17, wall=14432
2023-08-22 17:05:46 | INFO | train_inner | epoch 015:    975 / 1474 loss=1.999, trans_loss=4.949, nll_loss=2.201, w2v_ctc_loss=0.737, task_loss=3.281, contrastive_loss=0, total=4134.44, n_correct=2673.33, ppl=4.6, accuracy=64.66, wps=16347.7, ups=1.98, wpb=8268.9, bsz=304.8, num_updates=21600, lr=9.6225e-05, gnorm=0.526, clip=0, loss_scale=16, train_wall=50, gb_free=15.8, wall=14483
2023-08-22 17:06:38 | INFO | train_inner | epoch 015:   1075 / 1474 loss=2.003, trans_loss=4.959, nll_loss=2.214, w2v_ctc_loss=0.742, task_loss=3.101, contrastive_loss=0, total=4185.02, n_correct=2694.71, ppl=4.64, accuracy=64.389, wps=16106.2, ups=1.92, wpb=8370, bsz=324.2, num_updates=21700, lr=9.60031e-05, gnorm=0.503, clip=0, loss_scale=16, train_wall=52, gb_free=16.4, wall=14535
2023-08-22 17:07:29 | INFO | train_inner | epoch 015:   1175 / 1474 loss=1.988, trans_loss=4.947, nll_loss=2.2, w2v_ctc_loss=0.723, task_loss=2.938, contrastive_loss=0, total=4187.68, n_correct=2717.3, ppl=4.59, accuracy=64.888, wps=16466.7, ups=1.97, wpb=8375.4, bsz=329.7, num_updates=21800, lr=9.57826e-05, gnorm=0.497, clip=0, loss_scale=16, train_wall=50, gb_free=16.4, wall=14586
2023-08-22 17:08:20 | INFO | train_inner | epoch 015:   1275 / 1474 loss=2.01, trans_loss=4.951, nll_loss=2.203, w2v_ctc_loss=0.758, task_loss=3.395, contrastive_loss=0, total=4141.6, n_correct=2669.1, ppl=4.6, accuracy=64.446, wps=16191.7, ups=1.95, wpb=8283.2, bsz=301.1, num_updates=21900, lr=9.55637e-05, gnorm=0.525, clip=0, loss_scale=16, train_wall=51, gb_free=13, wall=14637
2023-08-22 17:09:11 | INFO | train_inner | epoch 015:   1375 / 1474 loss=2.003, trans_loss=4.949, nll_loss=2.201, w2v_ctc_loss=0.743, task_loss=3.401, contrastive_loss=0, total=4099.6, n_correct=2648.53, ppl=4.6, accuracy=64.605, wps=16136.1, ups=1.97, wpb=8199.2, bsz=293.2, num_updates=22000, lr=9.53463e-05, gnorm=0.512, clip=0, loss_scale=16, train_wall=50, gb_free=13.9, wall=14688
2023-08-22 17:09:11 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 17:09:34 | INFO | dev_st | epoch 015 | valid on 'dev_st' subset | loss 3.927 | trans_loss 5.22 | nll_loss 2.498 | w2v_ctc_loss 1.327 | task_loss 11.518 | contrastive_loss 0 | total 4003.4 | n_correct 2632.5 | ppl 5.65 | accuracy 65.757 | uer 17.933 | wer 19.723 | raw_wer 19.723 | bleu 20.93 | wps 2400.7 | wpb 4003.4 | bsz 141.8 | num_updates 22000 | best_bleu 21.01
2023-08-22 17:09:34 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 15 @ 22000 updates
2023-08-22 17:09:34 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_15_22000.pt
2023-08-22 17:09:36 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_15_22000.pt
2023-08-22 17:09:40 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_15_22000.pt (epoch 15 @ 22000 updates, score 20.93) (writing took 6.554331775001629 seconds)
2023-08-22 17:10:32 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 17:10:55 | INFO | dev_st | epoch 015 | valid on 'dev_st' subset | loss 3.935 | trans_loss 5.217 | nll_loss 2.499 | w2v_ctc_loss 1.36 | task_loss 11.493 | contrastive_loss 0 | total 4003.4 | n_correct 2629.6 | ppl 5.65 | accuracy 65.684 | uer 18.57 | wer 20.316 | raw_wer 20.316 | bleu 20.91 | wps 2493.5 | wpb 4003.4 | bsz 141.8 | num_updates 22099 | best_bleu 21.01
2023-08-22 17:10:55 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 15 @ 22099 updates
2023-08-22 17:10:55 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_20.9100.pt
2023-08-22 17:10:57 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_20.9100.pt
2023-08-22 17:11:01 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_20.9100.pt (epoch 15 @ 22099 updates, score 20.91) (writing took 5.651647097998648 seconds)
2023-08-22 17:11:01 | INFO | fairseq_cli.train | end of epoch 15 (average epoch stats below)
2023-08-22 17:11:01 | INFO | train | epoch 015 | loss 2.002 | trans_loss 4.951 | nll_loss 2.203 | w2v_ctc_loss 0.741 | task_loss 3.295 | contrastive_loss 0 | total 4138.66 | n_correct 2673.23 | ppl 4.6 | accuracy 64.592 | wps 14887.9 | ups 1.8 | wpb 8277.3 | bsz 305.7 | num_updates 22099 | lr 9.51325e-05 | gnorm 0.512 | clip 0 | loss_scale 16 | train_wall 747 | gb_free 16.6 | wall 14798
2023-08-22 17:11:01 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 17:11:01 | INFO | fairseq.trainer | begin training epoch 16
2023-08-22 17:11:01 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 17:11:09 | INFO | train_inner | epoch 016:      1 / 1474 loss=2.003, trans_loss=4.957, nll_loss=2.214, w2v_ctc_loss=0.744, task_loss=3.157, contrastive_loss=0, total=4149.9, n_correct=2676.88, ppl=4.64, accuracy=64.505, wps=7020.5, ups=0.85, wpb=8299.8, bsz=316.3, num_updates=22100, lr=9.51303e-05, gnorm=0.516, clip=0, loss_scale=16, train_wall=52, gb_free=17.1, wall=14806
2023-08-22 17:12:00 | INFO | train_inner | epoch 016:    101 / 1474 loss=1.987, trans_loss=4.931, nll_loss=2.178, w2v_ctc_loss=0.73, task_loss=3.162, contrastive_loss=0, total=4118.73, n_correct=2678.96, ppl=4.53, accuracy=65.043, wps=16284.3, ups=1.98, wpb=8237.5, bsz=314, num_updates=22200, lr=9.49158e-05, gnorm=0.505, clip=0, loss_scale=16, train_wall=50, gb_free=15.9, wall=14857
2023-08-22 17:12:51 | INFO | train_inner | epoch 016:    201 / 1474 loss=1.984, trans_loss=4.922, nll_loss=2.166, w2v_ctc_loss=0.72, task_loss=3.373, contrastive_loss=0, total=4106.45, n_correct=2675.73, ppl=4.49, accuracy=65.159, wps=15948.3, ups=1.94, wpb=8212.9, bsz=297.4, num_updates=22300, lr=9.47027e-05, gnorm=0.506, clip=0, loss_scale=16, train_wall=51, gb_free=16.1, wall=14908
2023-08-22 17:13:42 | INFO | train_inner | epoch 016:    301 / 1474 loss=1.991, trans_loss=4.931, nll_loss=2.178, w2v_ctc_loss=0.733, task_loss=3.252, contrastive_loss=0, total=4169.65, n_correct=2711.69, ppl=4.52, accuracy=65.034, wps=16321.8, ups=1.96, wpb=8339.3, bsz=309.9, num_updates=22400, lr=9.44911e-05, gnorm=0.509, clip=0, loss_scale=16, train_wall=51, gb_free=10.3, wall=14959
2023-08-22 17:14:33 | INFO | train_inner | epoch 016:    401 / 1474 loss=1.995, trans_loss=4.929, nll_loss=2.174, w2v_ctc_loss=0.735, task_loss=3.528, contrastive_loss=0, total=4063.79, n_correct=2641.69, ppl=4.51, accuracy=65.006, wps=16046.5, ups=1.97, wpb=8127.6, bsz=286.5, num_updates=22500, lr=9.42809e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=50, gb_free=12.2, wall=15010
2023-08-22 17:15:24 | INFO | train_inner | epoch 016:    501 / 1474 loss=1.987, trans_loss=4.934, nll_loss=2.182, w2v_ctc_loss=0.728, task_loss=3.165, contrastive_loss=0, total=4179.53, n_correct=2723.92, ppl=4.54, accuracy=65.173, wps=16176.3, ups=1.94, wpb=8359.1, bsz=319.5, num_updates=22600, lr=9.40721e-05, gnorm=0.518, clip=0, loss_scale=16, train_wall=51, gb_free=17.5, wall=15062
2023-08-22 17:16:15 | INFO | train_inner | epoch 016:    601 / 1474 loss=1.996, trans_loss=4.938, nll_loss=2.187, w2v_ctc_loss=0.737, task_loss=3.312, contrastive_loss=0, total=4121.37, n_correct=2675.03, ppl=4.55, accuracy=64.906, wps=16315.5, ups=1.98, wpb=8242.7, bsz=297.5, num_updates=22700, lr=9.38647e-05, gnorm=0.514, clip=0, loss_scale=16, train_wall=50, gb_free=17.5, wall=15112
2023-08-22 17:17:06 | INFO | train_inner | epoch 016:    701 / 1474 loss=1.996, trans_loss=4.936, nll_loss=2.184, w2v_ctc_loss=0.742, task_loss=3.36, contrastive_loss=0, total=4099.17, n_correct=2661.24, ppl=4.55, accuracy=64.921, wps=16210.7, ups=1.98, wpb=8198.3, bsz=297.5, num_updates=22800, lr=9.36586e-05, gnorm=0.618, clip=0, loss_scale=16, train_wall=50, gb_free=16.5, wall=15163
2023-08-22 17:17:22 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-22 17:17:47 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 17:17:58 | INFO | train_inner | epoch 016:    803 / 1474 loss=1.99, trans_loss=4.933, nll_loss=2.181, w2v_ctc_loss=0.73, task_loss=3.13, contrastive_loss=0, total=4177.37, n_correct=2714.73, ppl=4.53, accuracy=64.987, wps=16029.7, ups=1.92, wpb=8354.7, bsz=313.1, num_updates=22900, lr=9.34539e-05, gnorm=0.589, clip=0, loss_scale=4, train_wall=52, gb_free=16.8, wall=15215
2023-08-22 17:18:49 | INFO | train_inner | epoch 016:    903 / 1474 loss=1.992, trans_loss=4.934, nll_loss=2.182, w2v_ctc_loss=0.733, task_loss=3.264, contrastive_loss=0, total=4150.45, n_correct=2697.97, ppl=4.54, accuracy=65.004, wps=16128.7, ups=1.94, wpb=8300.9, bsz=305.8, num_updates=23000, lr=9.32505e-05, gnorm=0.574, clip=0, loss_scale=4, train_wall=51, gb_free=11.3, wall=15266
2023-08-22 17:19:40 | INFO | train_inner | epoch 016:   1003 / 1474 loss=1.996, trans_loss=4.938, nll_loss=2.187, w2v_ctc_loss=0.741, task_loss=3.376, contrastive_loss=0, total=4118.26, n_correct=2669.43, ppl=4.55, accuracy=64.819, wps=16115.7, ups=1.96, wpb=8236.5, bsz=301.7, num_updates=23100, lr=9.30484e-05, gnorm=0.516, clip=0, loss_scale=4, train_wall=51, gb_free=16.1, wall=15317
2023-08-22 17:20:32 | INFO | train_inner | epoch 016:   1103 / 1474 loss=2, trans_loss=4.942, nll_loss=2.192, w2v_ctc_loss=0.744, task_loss=3.494, contrastive_loss=0, total=4113.57, n_correct=2663.41, ppl=4.57, accuracy=64.747, wps=16045.5, ups=1.95, wpb=8227.1, bsz=296.2, num_updates=23200, lr=9.28477e-05, gnorm=0.515, clip=0, loss_scale=4, train_wall=51, gb_free=16.7, wall=15369
2023-08-22 17:21:23 | INFO | train_inner | epoch 016:   1203 / 1474 loss=1.987, trans_loss=4.935, nll_loss=2.185, w2v_ctc_loss=0.718, task_loss=3.355, contrastive_loss=0, total=4157.18, n_correct=2698.63, ppl=4.55, accuracy=64.915, wps=16097.7, ups=1.94, wpb=8314.4, bsz=306.3, num_updates=23300, lr=9.26482e-05, gnorm=0.504, clip=0, loss_scale=4, train_wall=51, gb_free=16.1, wall=15420
2023-08-22 17:22:14 | INFO | train_inner | epoch 016:   1303 / 1474 loss=1.995, trans_loss=4.937, nll_loss=2.186, w2v_ctc_loss=0.742, task_loss=3.223, contrastive_loss=0, total=4150.54, n_correct=2695.62, ppl=4.55, accuracy=64.946, wps=16213.7, ups=1.95, wpb=8301.1, bsz=312.3, num_updates=23400, lr=9.245e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=51, gb_free=12.4, wall=15471
2023-08-22 17:23:06 | INFO | train_inner | epoch 016:   1403 / 1474 loss=1.989, trans_loss=4.934, nll_loss=2.182, w2v_ctc_loss=0.736, task_loss=3.112, contrastive_loss=0, total=4198.78, n_correct=2728.7, ppl=4.54, accuracy=64.988, wps=16366.4, ups=1.95, wpb=8397.6, bsz=322.4, num_updates=23500, lr=9.22531e-05, gnorm=0.536, clip=0, loss_scale=4, train_wall=51, gb_free=17.4, wall=15523
2023-08-22 17:23:42 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 17:24:05 | INFO | dev_st | epoch 016 | valid on 'dev_st' subset | loss 3.924 | trans_loss 5.208 | nll_loss 2.482 | w2v_ctc_loss 1.344 | task_loss 11.597 | contrastive_loss 0 | total 4003.4 | n_correct 2626.5 | ppl 5.59 | accuracy 65.607 | uer 17.901 | wer 19.768 | raw_wer 19.768 | bleu 21.08 | wps 2427.7 | wpb 4003.4 | bsz 141.8 | num_updates 23571 | best_bleu 21.08
2023-08-22 17:24:05 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 16 @ 23571 updates
2023-08-22 17:24:05 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 17:24:09 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 17:24:14 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 16 @ 23571 updates, score 21.08) (writing took 8.757224712000607 seconds)
2023-08-22 17:24:14 | INFO | fairseq_cli.train | end of epoch 16 (average epoch stats below)
2023-08-22 17:24:14 | INFO | train | epoch 016 | loss 1.992 | trans_loss 4.934 | nll_loss 2.181 | w2v_ctc_loss 0.733 | task_loss 3.29 | contrastive_loss 0 | total 4138.43 | n_correct 2689 | ppl 4.54 | accuracy 64.976 | wps 15361.1 | ups 1.86 | wpb 8276.9 | bsz 305.7 | num_updates 23571 | lr 9.21141e-05 | gnorm 0.533 | clip 0 | loss_scale 4 | train_wall 747 | gb_free 15.1 | wall 15591
2023-08-22 17:24:14 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 17:24:14 | INFO | fairseq.trainer | begin training epoch 17
2023-08-22 17:24:14 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 17:24:36 | INFO | train_inner | epoch 017:     29 / 1474 loss=1.984, trans_loss=4.92, nll_loss=2.164, w2v_ctc_loss=0.721, task_loss=3.409, contrastive_loss=0, total=4138.06, n_correct=2695.53, ppl=4.48, accuracy=65.14, wps=9158.5, ups=1.11, wpb=8276.1, bsz=300.4, num_updates=23600, lr=9.20575e-05, gnorm=0.535, clip=0, loss_scale=4, train_wall=51, gb_free=17.4, wall=15613
2023-08-22 17:25:27 | INFO | train_inner | epoch 017:    129 / 1474 loss=1.98, trans_loss=4.909, nll_loss=2.149, w2v_ctc_loss=0.723, task_loss=3.389, contrastive_loss=0, total=4110.37, n_correct=2690.98, ppl=4.43, accuracy=65.468, wps=16162.6, ups=1.97, wpb=8220.7, bsz=295.6, num_updates=23700, lr=9.1863e-05, gnorm=0.558, clip=0, loss_scale=4, train_wall=50, gb_free=16.2, wall=15664
2023-08-22 17:26:18 | INFO | train_inner | epoch 017:    229 / 1474 loss=1.975, trans_loss=4.912, nll_loss=2.153, w2v_ctc_loss=0.715, task_loss=3.065, contrastive_loss=0, total=4181.59, n_correct=2733.06, ppl=4.45, accuracy=65.359, wps=16336.4, ups=1.95, wpb=8363.2, bsz=322.2, num_updates=23800, lr=9.16698e-05, gnorm=0.539, clip=0, loss_scale=4, train_wall=51, gb_free=15.4, wall=15715
2023-08-22 17:27:09 | INFO | train_inner | epoch 017:    329 / 1474 loss=1.98, trans_loss=4.915, nll_loss=2.157, w2v_ctc_loss=0.719, task_loss=3.297, contrastive_loss=0, total=4157.97, n_correct=2717.35, ppl=4.46, accuracy=65.353, wps=16309.9, ups=1.96, wpb=8315.9, bsz=304, num_updates=23900, lr=9.14779e-05, gnorm=0.521, clip=0, loss_scale=4, train_wall=51, gb_free=15.5, wall=15766
2023-08-22 17:28:00 | INFO | train_inner | epoch 017:    429 / 1474 loss=1.981, trans_loss=4.916, nll_loss=2.158, w2v_ctc_loss=0.727, task_loss=3.281, contrastive_loss=0, total=4135.12, n_correct=2704.77, ppl=4.46, accuracy=65.41, wps=16184.3, ups=1.96, wpb=8270.2, bsz=306.1, num_updates=24000, lr=9.12871e-05, gnorm=0.558, clip=0, loss_scale=4, train_wall=51, gb_free=12.2, wall=15817
2023-08-22 17:28:00 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 17:28:23 | INFO | dev_st | epoch 017 | valid on 'dev_st' subset | loss 3.935 | trans_loss 5.21 | nll_loss 2.486 | w2v_ctc_loss 1.375 | task_loss 11.551 | contrastive_loss 0 | total 4003.4 | n_correct 2625.5 | ppl 5.6 | accuracy 65.582 | uer 18.268 | wer 19.917 | raw_wer 19.917 | bleu 21.05 | wps 2417.8 | wpb 4003.4 | bsz 141.8 | num_updates 24000 | best_bleu 21.08
2023-08-22 17:28:23 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 17 @ 24000 updates
2023-08-22 17:28:23 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_17_24000.pt
2023-08-22 17:28:25 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_17_24000.pt
2023-08-22 17:28:30 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_17_24000.pt (epoch 17 @ 24000 updates, score 21.05) (writing took 6.762009175999992 seconds)
2023-08-22 17:29:22 | INFO | train_inner | epoch 017:    529 / 1474 loss=1.982, trans_loss=4.92, nll_loss=2.164, w2v_ctc_loss=0.722, task_loss=3.406, contrastive_loss=0, total=4185.81, n_correct=2731.47, ppl=4.48, accuracy=65.255, wps=10213.4, ups=1.22, wpb=8371.6, bsz=308.6, num_updates=24100, lr=9.10975e-05, gnorm=0.504, clip=0, loss_scale=4, train_wall=52, gb_free=15.8, wall=15899
2023-08-22 17:30:13 | INFO | train_inner | epoch 017:    629 / 1474 loss=1.979, trans_loss=4.916, nll_loss=2.159, w2v_ctc_loss=0.719, task_loss=3.295, contrastive_loss=0, total=4168.62, n_correct=2730.1, ppl=4.47, accuracy=65.492, wps=16309, ups=1.96, wpb=8337.2, bsz=303.2, num_updates=24200, lr=9.09091e-05, gnorm=0.526, clip=0, loss_scale=4, train_wall=51, gb_free=13.9, wall=15950
2023-08-22 17:31:04 | INFO | train_inner | epoch 017:    729 / 1474 loss=1.989, trans_loss=4.922, nll_loss=2.166, w2v_ctc_loss=0.739, task_loss=3.264, contrastive_loss=0, total=4167.34, n_correct=2716.65, ppl=4.49, accuracy=65.189, wps=16306.9, ups=1.96, wpb=8334.7, bsz=307.7, num_updates=24300, lr=9.07218e-05, gnorm=0.515, clip=0, loss_scale=4, train_wall=51, gb_free=9.5, wall=16002
2023-08-22 17:31:55 | INFO | train_inner | epoch 017:    829 / 1474 loss=1.983, trans_loss=4.918, nll_loss=2.161, w2v_ctc_loss=0.726, task_loss=3.32, contrastive_loss=0, total=4092.64, n_correct=2674.16, ppl=4.47, accuracy=65.341, wps=16130.1, ups=1.97, wpb=8185.3, bsz=296.2, num_updates=24400, lr=9.05357e-05, gnorm=0.537, clip=0, loss_scale=4, train_wall=50, gb_free=15.4, wall=16052
2023-08-22 17:32:45 | INFO | train_inner | epoch 017:    929 / 1474 loss=1.979, trans_loss=4.916, nll_loss=2.159, w2v_ctc_loss=0.722, task_loss=3.222, contrastive_loss=0, total=4109.5, n_correct=2684.1, ppl=4.47, accuracy=65.315, wps=16504.4, ups=2.01, wpb=8219, bsz=305.4, num_updates=24500, lr=9.03508e-05, gnorm=0.545, clip=0, loss_scale=4, train_wall=49, gb_free=16.3, wall=16102
2023-08-22 17:33:36 | INFO | train_inner | epoch 017:   1029 / 1474 loss=1.982, trans_loss=4.918, nll_loss=2.162, w2v_ctc_loss=0.729, task_loss=3.317, contrastive_loss=0, total=4098.36, n_correct=2676.05, ppl=4.47, accuracy=65.296, wps=16030.7, ups=1.96, wpb=8196.7, bsz=301.7, num_updates=24600, lr=9.0167e-05, gnorm=0.521, clip=0, loss_scale=4, train_wall=51, gb_free=15.5, wall=16153
2023-08-22 17:34:27 | INFO | train_inner | epoch 017:   1129 / 1474 loss=1.981, trans_loss=4.915, nll_loss=2.158, w2v_ctc_loss=0.723, task_loss=3.346, contrastive_loss=0, total=4100.14, n_correct=2682.69, ppl=4.46, accuracy=65.429, wps=16136.1, ups=1.97, wpb=8200.3, bsz=299.3, num_updates=24700, lr=8.99843e-05, gnorm=0.631, clip=0, loss_scale=4, train_wall=50, gb_free=16.2, wall=16204
2023-08-22 17:35:19 | INFO | train_inner | epoch 017:   1229 / 1474 loss=1.983, trans_loss=4.928, nll_loss=2.175, w2v_ctc_loss=0.718, task_loss=3.161, contrastive_loss=0, total=4173.98, n_correct=2713.38, ppl=4.52, accuracy=65.007, wps=16109.4, ups=1.93, wpb=8348, bsz=325.9, num_updates=24800, lr=8.98027e-05, gnorm=0.517, clip=0, loss_scale=4, train_wall=51, gb_free=15.6, wall=16256
2023-08-22 17:36:10 | INFO | train_inner | epoch 017:   1329 / 1474 loss=1.977, trans_loss=4.917, nll_loss=2.16, w2v_ctc_loss=0.714, task_loss=3.308, contrastive_loss=0, total=4146.07, n_correct=2714.24, ppl=4.47, accuracy=65.465, wps=16328.7, ups=1.97, wpb=8292.1, bsz=303.2, num_updates=24900, lr=8.96221e-05, gnorm=0.516, clip=0, loss_scale=4, train_wall=50, gb_free=16.2, wall=16307
2023-08-22 17:37:01 | INFO | train_inner | epoch 017:   1429 / 1474 loss=1.978, trans_loss=4.918, nll_loss=2.162, w2v_ctc_loss=0.718, task_loss=3.331, contrastive_loss=0, total=4119.23, n_correct=2693.97, ppl=4.48, accuracy=65.4, wps=16088.6, ups=1.95, wpb=8238.5, bsz=303.4, num_updates=25000, lr=8.94427e-05, gnorm=0.516, clip=0, loss_scale=8, train_wall=51, gb_free=12.8, wall=16358
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:0')
2023-08-22 17:37:24 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:2')
2023-08-22 17:37:47 | INFO | dev_st | epoch 017 | valid on 'dev_st' subset | loss 3.912 | trans_loss 5.206 | nll_loss 2.482 | w2v_ctc_loss 1.307 | task_loss 11.574 | contrastive_loss 0 | total 4003.4 | n_correct 2626.4 | ppl 5.59 | accuracy 65.604 | uer 17.766 | wer 19.511 | raw_wer 19.511 | bleu 21.03 | wps 2329.8 | wpb 4003.4 | bsz 141.8 | num_updates 25045 | best_bleu 21.08
2023-08-22 17:37:47 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 17 @ 25045 updates
2023-08-22 17:37:47 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.0303.pt
2023-08-22 17:37:50 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.0303.pt
2023-08-22 17:37:53 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.0303.pt (epoch 17 @ 25045 updates, score 21.03) (writing took 5.5240504589964985 seconds)
2023-08-22 17:37:53 | INFO | fairseq_cli.train | end of epoch 17 (average epoch stats below)
2023-08-22 17:37:53 | INFO | train | epoch 017 | loss 1.98 | trans_loss 4.917 | nll_loss 2.16 | w2v_ctc_loss 0.723 | task_loss 3.289 | contrastive_loss 0 | total 4138.65 | n_correct 2704.56 | ppl 4.47 | accuracy 65.349 | wps 14899.3 | ups 1.8 | wpb 8277.3 | bsz 305.7 | num_updates 25045 | lr 8.93623e-05 | gnorm 0.535 | clip 0 | loss_scale 8 | train_wall 746 | gb_free 16 | wall 16410
2023-08-22 17:37:53 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 17:37:53 | INFO | fairseq.trainer | begin training epoch 18
2023-08-22 17:37:53 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 17:38:29 | INFO | train_inner | epoch 018:     55 / 1474 loss=1.976, trans_loss=4.907, nll_loss=2.147, w2v_ctc_loss=0.727, task_loss=3.374, contrastive_loss=0, total=4128.93, n_correct=2709.93, ppl=4.43, accuracy=65.633, wps=9396, ups=1.14, wpb=8257.9, bsz=301.7, num_updates=25100, lr=8.92644e-05, gnorm=0.532, clip=0, loss_scale=8, train_wall=51, gb_free=16.2, wall=16446
2023-08-22 17:39:20 | INFO | train_inner | epoch 018:    155 / 1474 loss=1.959, trans_loss=4.89, nll_loss=2.126, w2v_ctc_loss=0.696, task_loss=3.117, contrastive_loss=0, total=4158.38, n_correct=2739.18, ppl=4.36, accuracy=65.871, wps=16304.3, ups=1.96, wpb=8316.8, bsz=313.7, num_updates=25200, lr=8.90871e-05, gnorm=0.556, clip=0, loss_scale=8, train_wall=51, gb_free=16.4, wall=16497
2023-08-22 17:40:08 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 17:40:11 | INFO | train_inner | epoch 018:    256 / 1474 loss=1.962, trans_loss=4.891, nll_loss=2.126, w2v_ctc_loss=0.708, task_loss=3.179, contrastive_loss=0, total=4155.24, n_correct=2743.89, ppl=4.37, accuracy=66.034, wps=16119.5, ups=1.94, wpb=8310.5, bsz=312.7, num_updates=25300, lr=8.89108e-05, gnorm=0.563, clip=0, loss_scale=4, train_wall=51, gb_free=16.6, wall=16548
2023-08-22 17:41:02 | INFO | train_inner | epoch 018:    356 / 1474 loss=1.97, trans_loss=4.901, nll_loss=2.139, w2v_ctc_loss=0.711, task_loss=3.344, contrastive_loss=0, total=4179.02, n_correct=2747.37, ppl=4.41, accuracy=65.742, wps=16361.3, ups=1.96, wpb=8358, bsz=302.1, num_updates=25400, lr=8.87357e-05, gnorm=0.528, clip=0, loss_scale=4, train_wall=51, gb_free=16.2, wall=16599
2023-08-22 17:41:54 | INFO | train_inner | epoch 018:    456 / 1474 loss=1.977, trans_loss=4.907, nll_loss=2.146, w2v_ctc_loss=0.717, task_loss=3.551, contrastive_loss=0, total=4069.37, n_correct=2665.5, ppl=4.43, accuracy=65.502, wps=15750.7, ups=1.94, wpb=8138.7, bsz=293.6, num_updates=25500, lr=8.85615e-05, gnorm=0.59, clip=0, loss_scale=4, train_wall=51, gb_free=15.2, wall=16651
2023-08-22 17:42:45 | INFO | train_inner | epoch 018:    556 / 1474 loss=1.956, trans_loss=4.888, nll_loss=2.123, w2v_ctc_loss=0.702, task_loss=2.918, contrastive_loss=0, total=4224.88, n_correct=2790.99, ppl=4.36, accuracy=66.061, wps=16579.8, ups=1.96, wpb=8449.8, bsz=330.4, num_updates=25600, lr=8.83883e-05, gnorm=0.514, clip=0, loss_scale=4, train_wall=51, gb_free=16.5, wall=16702
2023-08-22 17:43:36 | INFO | train_inner | epoch 018:    656 / 1474 loss=1.983, trans_loss=4.913, nll_loss=2.155, w2v_ctc_loss=0.732, task_loss=3.406, contrastive_loss=0, total=4087.72, n_correct=2675.84, ppl=4.45, accuracy=65.46, wps=16146.9, ups=1.98, wpb=8175.4, bsz=298.1, num_updates=25700, lr=8.82162e-05, gnorm=0.615, clip=0, loss_scale=4, train_wall=50, gb_free=16.3, wall=16753
2023-08-22 17:44:27 | INFO | train_inner | epoch 018:    756 / 1474 loss=1.973, trans_loss=4.907, nll_loss=2.148, w2v_ctc_loss=0.717, task_loss=3.134, contrastive_loss=0, total=4202.56, n_correct=2753.17, ppl=4.43, accuracy=65.512, wps=16382.5, ups=1.95, wpb=8405.1, bsz=322.9, num_updates=25800, lr=8.80451e-05, gnorm=0.518, clip=0, loss_scale=4, train_wall=51, gb_free=17.5, wall=16804
2023-08-22 17:45:18 | INFO | train_inner | epoch 018:    856 / 1474 loss=1.972, trans_loss=4.903, nll_loss=2.143, w2v_ctc_loss=0.717, task_loss=3.298, contrastive_loss=0, total=4181.64, n_correct=2746.9, ppl=4.42, accuracy=65.69, wps=16318.8, ups=1.95, wpb=8363.3, bsz=306.1, num_updates=25900, lr=8.7875e-05, gnorm=0.547, clip=0, loss_scale=4, train_wall=51, gb_free=15.3, wall=16855
2023-08-22 17:46:08 | INFO | train_inner | epoch 018:    956 / 1474 loss=1.96, trans_loss=4.894, nll_loss=2.131, w2v_ctc_loss=0.7, task_loss=3.091, contrastive_loss=0, total=4133.45, n_correct=2723.45, ppl=4.38, accuracy=65.888, wps=16445.8, ups=1.99, wpb=8266.9, bsz=312.7, num_updates=26000, lr=8.77058e-05, gnorm=0.525, clip=0, loss_scale=4, train_wall=50, gb_free=14.2, wall=16905
2023-08-22 17:46:08 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 17:46:32 | INFO | dev_st | epoch 018 | valid on 'dev_st' subset | loss 3.902 | trans_loss 5.193 | nll_loss 2.463 | w2v_ctc_loss 1.303 | task_loss 11.513 | contrastive_loss 0 | total 4003.4 | n_correct 2650.2 | ppl 5.51 | accuracy 66.199 | uer 17.798 | wer 19.794 | raw_wer 19.794 | bleu 21.42 | wps 2299.1 | wpb 4003.4 | bsz 141.8 | num_updates 26000 | best_bleu 21.42
2023-08-22 17:46:32 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 18 @ 26000 updates
2023-08-22 17:46:32 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_18_26000.pt
2023-08-22 17:46:34 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_18_26000.pt
2023-08-22 17:46:42 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_18_26000.pt (epoch 18 @ 26000 updates, score 21.42) (writing took 9.721746376002557 seconds)
2023-08-22 17:47:34 | INFO | train_inner | epoch 018:   1056 / 1474 loss=1.972, trans_loss=4.902, nll_loss=2.141, w2v_ctc_loss=0.712, task_loss=3.467, contrastive_loss=0, total=4133.66, n_correct=2716.96, ppl=4.41, accuracy=65.728, wps=9683.7, ups=1.17, wpb=8267.3, bsz=298.3, num_updates=26100, lr=8.75376e-05, gnorm=0.61, clip=0, loss_scale=4, train_wall=51, gb_free=16.6, wall=16991
2023-08-22 17:48:25 | INFO | train_inner | epoch 018:   1156 / 1474 loss=1.968, trans_loss=4.897, nll_loss=2.135, w2v_ctc_loss=0.717, task_loss=3.102, contrastive_loss=0, total=4156.35, n_correct=2732.81, ppl=4.39, accuracy=65.75, wps=16291.9, ups=1.96, wpb=8312.7, bsz=315.8, num_updates=26200, lr=8.73704e-05, gnorm=0.581, clip=0, loss_scale=4, train_wall=51, gb_free=13.4, wall=17042
2023-08-22 17:49:16 | INFO | train_inner | epoch 018:   1256 / 1474 loss=1.972, trans_loss=4.905, nll_loss=2.145, w2v_ctc_loss=0.711, task_loss=3.53, contrastive_loss=0, total=4093.35, n_correct=2690.61, ppl=4.42, accuracy=65.731, wps=16073.5, ups=1.96, wpb=8186.7, bsz=288, num_updates=26300, lr=8.72041e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=51, gb_free=15.8, wall=17093
2023-08-22 17:50:07 | INFO | train_inner | epoch 018:   1356 / 1474 loss=1.985, trans_loss=4.912, nll_loss=2.154, w2v_ctc_loss=0.737, task_loss=3.565, contrastive_loss=0, total=4056.71, n_correct=2653.93, ppl=4.45, accuracy=65.421, wps=15902.2, ups=1.96, wpb=8113.4, bsz=289.2, num_updates=26400, lr=8.70388e-05, gnorm=0.583, clip=0, loss_scale=4, train_wall=51, gb_free=16.9, wall=17144
2023-08-22 17:50:58 | INFO | train_inner | epoch 018:   1456 / 1474 loss=1.98, trans_loss=4.91, nll_loss=2.152, w2v_ctc_loss=0.728, task_loss=3.455, contrastive_loss=0, total=4125.39, n_correct=2702.34, ppl=4.44, accuracy=65.505, wps=16160.2, ups=1.96, wpb=8250.8, bsz=299, num_updates=26500, lr=8.68744e-05, gnorm=0.572, clip=0, loss_scale=4, train_wall=51, gb_free=15.8, wall=17195
2023-08-22 17:51:07 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 17:51:30 | INFO | dev_st | epoch 018 | valid on 'dev_st' subset | loss 3.94 | trans_loss 5.196 | nll_loss 2.468 | w2v_ctc_loss 1.425 | task_loss 11.479 | contrastive_loss 0 | total 4003.4 | n_correct 2644.6 | ppl 5.53 | accuracy 66.059 | uer 18.029 | wer 19.921 | raw_wer 19.921 | bleu 21.26 | wps 2421.7 | wpb 4003.4 | bsz 141.8 | num_updates 26518 | best_bleu 21.42
2023-08-22 17:51:30 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 18 @ 26518 updates
2023-08-22 17:51:30 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.2608.pt
2023-08-22 17:51:33 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.2608.pt
2023-08-22 17:51:36 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.2608.pt (epoch 18 @ 26518 updates, score 21.26) (writing took 5.73108072299874 seconds)
2023-08-22 17:51:36 | INFO | fairseq_cli.train | end of epoch 18 (average epoch stats below)
2023-08-22 17:51:36 | INFO | train | epoch 018 | loss 1.971 | trans_loss 4.901 | nll_loss 2.14 | w2v_ctc_loss 0.715 | task_loss 3.291 | contrastive_loss 0 | total 4138.6 | n_correct 2719.28 | ppl 4.41 | accuracy 65.705 | wps 14809.6 | ups 1.79 | wpb 8277.2 | bsz 305.7 | num_updates 26518 | lr 8.6845e-05 | gnorm 0.559 | clip 0 | loss_scale 4 | train_wall 747 | gb_free 15.6 | wall 17233
2023-08-22 17:51:36 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 17:51:36 | INFO | fairseq.trainer | begin training epoch 19
2023-08-22 17:51:36 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 17:52:26 | INFO | train_inner | epoch 019:     82 / 1474 loss=1.964, trans_loss=4.886, nll_loss=2.12, w2v_ctc_loss=0.709, task_loss=3.295, contrastive_loss=0, total=4098.8, n_correct=2701.81, ppl=4.35, accuracy=65.917, wps=9351.8, ups=1.14, wpb=8197.6, bsz=296.6, num_updates=26600, lr=8.6711e-05, gnorm=0.562, clip=0, loss_scale=4, train_wall=50, gb_free=16.6, wall=17283
2023-08-22 17:53:17 | INFO | train_inner | epoch 019:    182 / 1474 loss=1.962, trans_loss=4.884, nll_loss=2.118, w2v_ctc_loss=0.717, task_loss=3.064, contrastive_loss=0, total=4227.47, n_correct=2792.98, ppl=4.34, accuracy=66.067, wps=16350.4, ups=1.93, wpb=8454.9, bsz=325, num_updates=26700, lr=8.65485e-05, gnorm=0.586, clip=0, loss_scale=4, train_wall=51, gb_free=16, wall=17334
2023-08-22 17:54:08 | INFO | train_inner | epoch 019:    282 / 1474 loss=1.956, trans_loss=4.877, nll_loss=2.108, w2v_ctc_loss=0.704, task_loss=3.222, contrastive_loss=0, total=4188.96, n_correct=2772.73, ppl=4.31, accuracy=66.191, wps=16397.6, ups=1.96, wpb=8377.9, bsz=308.1, num_updates=26800, lr=8.63868e-05, gnorm=0.534, clip=0, loss_scale=4, train_wall=51, gb_free=16.6, wall=17385
2023-08-22 17:54:59 | INFO | train_inner | epoch 019:    382 / 1474 loss=1.956, trans_loss=4.878, nll_loss=2.11, w2v_ctc_loss=0.7, task_loss=3.262, contrastive_loss=0, total=4168.76, n_correct=2756.63, ppl=4.32, accuracy=66.126, wps=16343.6, ups=1.96, wpb=8337.5, bsz=310.6, num_updates=26900, lr=8.62261e-05, gnorm=0.517, clip=0, loss_scale=4, train_wall=51, gb_free=14.2, wall=17436
2023-08-22 17:55:50 | INFO | train_inner | epoch 019:    482 / 1474 loss=1.969, trans_loss=4.89, nll_loss=2.126, w2v_ctc_loss=0.722, task_loss=3.411, contrastive_loss=0, total=4107.91, n_correct=2708.35, ppl=4.36, accuracy=65.93, wps=16127.8, ups=1.96, wpb=8215.8, bsz=299.6, num_updates=27000, lr=8.60663e-05, gnorm=0.581, clip=0, loss_scale=4, train_wall=51, gb_free=11.5, wall=17487
2023-08-22 17:56:41 | INFO | train_inner | epoch 019:    582 / 1474 loss=1.959, trans_loss=4.884, nll_loss=2.117, w2v_ctc_loss=0.703, task_loss=3.227, contrastive_loss=0, total=4133.95, n_correct=2731.39, ppl=4.34, accuracy=66.072, wps=16279.8, ups=1.97, wpb=8267.9, bsz=306.3, num_updates=27100, lr=8.59074e-05, gnorm=0.549, clip=0, loss_scale=4, train_wall=50, gb_free=15.6, wall=17538
2023-08-22 17:57:32 | INFO | train_inner | epoch 019:    682 / 1474 loss=1.953, trans_loss=4.888, nll_loss=2.123, w2v_ctc_loss=0.695, task_loss=2.989, contrastive_loss=0, total=4199.37, n_correct=2779.11, ppl=4.36, accuracy=66.179, wps=16528.8, ups=1.97, wpb=8398.7, bsz=321.7, num_updates=27200, lr=8.57493e-05, gnorm=0.574, clip=0, loss_scale=4, train_wall=50, gb_free=16.7, wall=17589
2023-08-22 17:58:23 | INFO | train_inner | epoch 019:    782 / 1474 loss=1.965, trans_loss=4.887, nll_loss=2.121, w2v_ctc_loss=0.714, task_loss=3.31, contrastive_loss=0, total=4142.94, n_correct=2733.41, ppl=4.35, accuracy=65.978, wps=16089.9, ups=1.94, wpb=8285.9, bsz=305.4, num_updates=27300, lr=8.55921e-05, gnorm=0.605, clip=0, loss_scale=4, train_wall=51, gb_free=16.2, wall=17640
2023-08-22 17:59:14 | INFO | train_inner | epoch 019:    882 / 1474 loss=1.97, trans_loss=4.896, nll_loss=2.133, w2v_ctc_loss=0.717, task_loss=3.36, contrastive_loss=0, total=4153.23, n_correct=2734.27, ppl=4.39, accuracy=65.835, wps=16284.9, ups=1.96, wpb=8306.5, bsz=303.4, num_updates=27400, lr=8.54358e-05, gnorm=0.551, clip=0, loss_scale=8, train_wall=51, gb_free=16.6, wall=17691
2023-08-22 18:00:06 | INFO | train_inner | epoch 019:    982 / 1474 loss=1.965, trans_loss=4.899, nll_loss=2.138, w2v_ctc_loss=0.704, task_loss=3.305, contrastive_loss=0, total=4102.27, n_correct=2699.26, ppl=4.4, accuracy=65.799, wps=15793.9, ups=1.93, wpb=8204.5, bsz=308.7, num_updates=27500, lr=8.52803e-05, gnorm=0.557, clip=0, loss_scale=8, train_wall=52, gb_free=15.6, wall=17743
2023-08-22 18:00:57 | INFO | train_inner | epoch 019:   1082 / 1474 loss=1.967, trans_loss=4.897, nll_loss=2.135, w2v_ctc_loss=0.708, task_loss=3.526, contrastive_loss=0, total=4036.79, n_correct=2656.16, ppl=4.39, accuracy=65.799, wps=15799.8, ups=1.96, wpb=8073.6, bsz=291.6, num_updates=27600, lr=8.51257e-05, gnorm=0.552, clip=0, loss_scale=8, train_wall=51, gb_free=15.5, wall=17795
2023-08-22 18:01:49 | INFO | train_inner | epoch 019:   1182 / 1474 loss=1.969, trans_loss=4.895, nll_loss=2.132, w2v_ctc_loss=0.715, task_loss=3.384, contrastive_loss=0, total=4129.82, n_correct=2714.43, ppl=4.38, accuracy=65.728, wps=15951.5, ups=1.93, wpb=8259.6, bsz=305.9, num_updates=27700, lr=8.49719e-05, gnorm=0.533, clip=0, loss_scale=8, train_wall=51, gb_free=17.4, wall=17846
2023-08-22 18:02:40 | INFO | train_inner | epoch 019:   1282 / 1474 loss=1.966, trans_loss=4.895, nll_loss=2.133, w2v_ctc_loss=0.707, task_loss=3.322, contrastive_loss=0, total=4147.96, n_correct=2729.71, ppl=4.38, accuracy=65.808, wps=16334.3, ups=1.97, wpb=8295.9, bsz=301.4, num_updates=27800, lr=8.48189e-05, gnorm=0.607, clip=0, loss_scale=8, train_wall=50, gb_free=15.6, wall=17897
2023-08-22 18:03:31 | INFO | train_inner | epoch 019:   1382 / 1474 loss=1.966, trans_loss=4.892, nll_loss=2.128, w2v_ctc_loss=0.712, task_loss=3.37, contrastive_loss=0, total=4125.32, n_correct=2717.06, ppl=4.37, accuracy=65.863, wps=16202.5, ups=1.96, wpb=8250.6, bsz=300.4, num_updates=27900, lr=8.46668e-05, gnorm=0.606, clip=0, loss_scale=8, train_wall=51, gb_free=16.2, wall=17948
2023-08-22 18:04:18 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 18:04:42 | INFO | dev_st | epoch 019 | valid on 'dev_st' subset | loss 3.931 | trans_loss 5.207 | nll_loss 2.485 | w2v_ctc_loss 1.369 | task_loss 11.479 | contrastive_loss 0 | total 4003.4 | n_correct 2637.7 | ppl 5.6 | accuracy 65.886 | uer 18.183 | wer 20.092 | raw_wer 20.092 | bleu 21.08 | wps 2318.8 | wpb 4003.4 | bsz 141.8 | num_updates 27992 | best_bleu 21.42
2023-08-22 18:04:42 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 19 @ 27992 updates
2023-08-22 18:04:42 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.0804.pt
2023-08-22 18:04:44 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.0804.pt
2023-08-22 18:04:47 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.0804.pt (epoch 19 @ 27992 updates, score 21.08) (writing took 5.760046363000583 seconds)
2023-08-22 18:04:48 | INFO | fairseq_cli.train | end of epoch 19 (average epoch stats below)
2023-08-22 18:04:48 | INFO | train | epoch 019 | loss 1.963 | trans_loss 4.888 | nll_loss 2.123 | w2v_ctc_loss 0.709 | task_loss 3.296 | contrastive_loss 0 | total 4138.65 | n_correct 2730.08 | ppl 4.36 | accuracy 65.965 | wps 15415.2 | ups 1.86 | wpb 8277.3 | bsz 305.7 | num_updates 27992 | lr 8.45275e-05 | gnorm 0.564 | clip 0 | loss_scale 8 | train_wall 748 | gb_free 17.1 | wall 18025
2023-08-22 18:04:48 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 18:04:48 | INFO | fairseq.trainer | begin training epoch 20
2023-08-22 18:04:48 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 18:04:59 | INFO | train_inner | epoch 020:      8 / 1474 loss=1.957, trans_loss=4.881, nll_loss=2.115, w2v_ctc_loss=0.701, task_loss=3.319, contrastive_loss=0, total=4124.63, n_correct=2727.47, ppl=4.33, accuracy=66.126, wps=9363.4, ups=1.14, wpb=8249.3, bsz=304.8, num_updates=28000, lr=8.45154e-05, gnorm=0.561, clip=0, loss_scale=8, train_wall=51, gb_free=17.1, wall=18036
2023-08-22 18:04:59 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 18:05:23 | INFO | dev_st | epoch 020 | valid on 'dev_st' subset | loss 3.921 | trans_loss 5.197 | nll_loss 2.469 | w2v_ctc_loss 1.358 | task_loss 11.55 | contrastive_loss 0 | total 4003.4 | n_correct 2646.8 | ppl 5.54 | accuracy 66.114 | uer 18.024 | wer 20.037 | raw_wer 20.037 | bleu 21.12 | wps 2256.6 | wpb 4003.4 | bsz 141.8 | num_updates 28000 | best_bleu 21.42
2023-08-22 18:05:23 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 20 @ 28000 updates
2023-08-22 18:05:23 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_20_28000.pt
2023-08-22 18:05:25 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_20_28000.pt
2023-08-22 18:05:30 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_20_28000.pt (epoch 20 @ 28000 updates, score 21.12) (writing took 6.828259665999212 seconds)
2023-08-22 18:06:22 | INFO | train_inner | epoch 020:    108 / 1474 loss=1.945, trans_loss=4.864, nll_loss=2.091, w2v_ctc_loss=0.691, task_loss=3.178, contrastive_loss=0, total=4199.19, n_correct=2794.62, ppl=4.26, accuracy=66.551, wps=10162.3, ups=1.21, wpb=8398.4, bsz=314, num_updates=28100, lr=8.43649e-05, gnorm=0.552, clip=0, loss_scale=8, train_wall=51, gb_free=14.4, wall=18119
2023-08-22 18:07:13 | INFO | train_inner | epoch 020:    208 / 1474 loss=1.954, trans_loss=4.871, nll_loss=2.1, w2v_ctc_loss=0.701, task_loss=3.411, contrastive_loss=0, total=4148.29, n_correct=2752.35, ppl=4.29, accuracy=66.349, wps=16121.4, ups=1.94, wpb=8296.6, bsz=300.5, num_updates=28200, lr=8.42152e-05, gnorm=0.581, clip=0, loss_scale=8, train_wall=51, gb_free=15.3, wall=18170
2023-08-22 18:08:04 | INFO | train_inner | epoch 020:    308 / 1474 loss=1.945, trans_loss=4.867, nll_loss=2.097, w2v_ctc_loss=0.696, task_loss=2.973, contrastive_loss=0, total=4191.34, n_correct=2788.48, ppl=4.28, accuracy=66.53, wps=16498.6, ups=1.97, wpb=8382.7, bsz=326.2, num_updates=28300, lr=8.40663e-05, gnorm=0.563, clip=0, loss_scale=8, train_wall=50, gb_free=15.4, wall=18221
2023-08-22 18:08:55 | INFO | train_inner | epoch 020:    408 / 1474 loss=1.949, trans_loss=4.865, nll_loss=2.092, w2v_ctc_loss=0.694, task_loss=3.337, contrastive_loss=0, total=4114.19, n_correct=2735.12, ppl=4.26, accuracy=66.48, wps=16181.6, ups=1.97, wpb=8228.4, bsz=297.5, num_updates=28400, lr=8.39181e-05, gnorm=0.559, clip=0, loss_scale=8, train_wall=50, gb_free=14.9, wall=18272
2023-08-22 18:09:46 | INFO | train_inner | epoch 020:    508 / 1474 loss=1.95, trans_loss=4.874, nll_loss=2.105, w2v_ctc_loss=0.689, task_loss=3.383, contrastive_loss=0, total=4108.2, n_correct=2726.72, ppl=4.3, accuracy=66.373, wps=15925.8, ups=1.94, wpb=8216.4, bsz=299.5, num_updates=28500, lr=8.37708e-05, gnorm=0.522, clip=0, loss_scale=8, train_wall=51, gb_free=15.3, wall=18324
2023-08-22 18:10:19 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 18:10:38 | INFO | train_inner | epoch 020:    609 / 1474 loss=1.955, trans_loss=4.874, nll_loss=2.105, w2v_ctc_loss=0.699, task_loss=3.438, contrastive_loss=0, total=4095.42, n_correct=2711.44, ppl=4.3, accuracy=66.207, wps=15980.2, ups=1.95, wpb=8190.8, bsz=297.4, num_updates=28600, lr=8.36242e-05, gnorm=0.534, clip=0, loss_scale=4, train_wall=51, gb_free=11.9, wall=18375
2023-08-22 18:11:28 | INFO | train_inner | epoch 020:    709 / 1474 loss=1.959, trans_loss=4.879, nll_loss=2.111, w2v_ctc_loss=0.71, task_loss=3.282, contrastive_loss=0, total=4134.98, n_correct=2736.78, ppl=4.32, accuracy=66.186, wps=16309.4, ups=1.97, wpb=8270, bsz=300.5, num_updates=28700, lr=8.34784e-05, gnorm=0.516, clip=0, loss_scale=4, train_wall=50, gb_free=13.8, wall=18425
2023-08-22 18:12:19 | INFO | train_inner | epoch 020:    809 / 1474 loss=1.954, trans_loss=4.878, nll_loss=2.11, w2v_ctc_loss=0.701, task_loss=3.257, contrastive_loss=0, total=4145.82, n_correct=2745.35, ppl=4.32, accuracy=66.22, wps=16243.8, ups=1.96, wpb=8291.6, bsz=306.6, num_updates=28800, lr=8.33333e-05, gnorm=0.519, clip=0, loss_scale=4, train_wall=51, gb_free=12.1, wall=18477
2023-08-22 18:13:12 | INFO | train_inner | epoch 020:    909 / 1474 loss=1.955, trans_loss=4.883, nll_loss=2.118, w2v_ctc_loss=0.698, task_loss=3.114, contrastive_loss=0, total=4161.77, n_correct=2746.04, ppl=4.34, accuracy=65.983, wps=15935.2, ups=1.91, wpb=8323.5, bsz=324.4, num_updates=28900, lr=8.3189e-05, gnorm=0.523, clip=0, loss_scale=4, train_wall=52, gb_free=16.2, wall=18529
2023-08-22 18:14:03 | INFO | train_inner | epoch 020:   1009 / 1474 loss=1.95, trans_loss=4.875, nll_loss=2.107, w2v_ctc_loss=0.693, task_loss=3.295, contrastive_loss=0, total=4167.85, n_correct=2765.72, ppl=4.31, accuracy=66.358, wps=16171.5, ups=1.94, wpb=8335.7, bsz=306.3, num_updates=29000, lr=8.30455e-05, gnorm=0.528, clip=0, loss_scale=4, train_wall=51, gb_free=16.5, wall=18580
2023-08-22 18:14:54 | INFO | train_inner | epoch 020:   1109 / 1474 loss=1.953, trans_loss=4.877, nll_loss=2.109, w2v_ctc_loss=0.698, task_loss=3.168, contrastive_loss=0, total=4169.06, n_correct=2761.54, ppl=4.31, accuracy=66.239, wps=16338.9, ups=1.96, wpb=8338.1, bsz=315.8, num_updates=29100, lr=8.29027e-05, gnorm=0.544, clip=0, loss_scale=4, train_wall=51, gb_free=16.5, wall=18631
2023-08-22 18:15:45 | INFO | train_inner | epoch 020:   1209 / 1474 loss=1.958, trans_loss=4.869, nll_loss=2.098, w2v_ctc_loss=0.708, task_loss=3.662, contrastive_loss=0, total=4023.64, n_correct=2666.12, ppl=4.28, accuracy=66.261, wps=15812, ups=1.96, wpb=8047.3, bsz=282.8, num_updates=29200, lr=8.27606e-05, gnorm=0.531, clip=0, loss_scale=4, train_wall=50, gb_free=15.6, wall=18682
2023-08-22 18:16:37 | INFO | train_inner | epoch 020:   1309 / 1474 loss=1.956, trans_loss=4.878, nll_loss=2.111, w2v_ctc_loss=0.702, task_loss=3.446, contrastive_loss=0, total=4128.46, n_correct=2736.29, ppl=4.32, accuracy=66.279, wps=16032.2, ups=1.94, wpb=8256.9, bsz=299.2, num_updates=29300, lr=8.26192e-05, gnorm=0.577, clip=0, loss_scale=4, train_wall=51, gb_free=16.2, wall=18734
2023-08-22 18:17:28 | INFO | train_inner | epoch 020:   1409 / 1474 loss=1.958, trans_loss=4.877, nll_loss=2.109, w2v_ctc_loss=0.706, task_loss=3.473, contrastive_loss=0, total=4120.53, n_correct=2728.23, ppl=4.31, accuracy=66.211, wps=16124.2, ups=1.96, wpb=8241.1, bsz=294.2, num_updates=29400, lr=8.24786e-05, gnorm=0.534, clip=0, loss_scale=4, train_wall=51, gb_free=15.3, wall=18785
2023-08-22 18:18:01 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 18:18:24 | INFO | dev_st | epoch 020 | valid on 'dev_st' subset | loss 3.906 | trans_loss 5.193 | nll_loss 2.46 | w2v_ctc_loss 1.317 | task_loss 11.571 | contrastive_loss 0 | total 4003.4 | n_correct 2645.8 | ppl 5.5 | accuracy 66.089 | uer 17.771 | wer 19.753 | raw_wer 19.753 | bleu 21.48 | wps 2460.5 | wpb 4003.4 | bsz 141.8 | num_updates 29465 | best_bleu 21.48
2023-08-22 18:18:24 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 20 @ 29465 updates
2023-08-22 18:18:24 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 18:18:28 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 18:18:33 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 20 @ 29465 updates, score 21.48) (writing took 9.0079401840012 seconds)
2023-08-22 18:18:33 | INFO | fairseq_cli.train | end of epoch 20 (average epoch stats below)
2023-08-22 18:18:33 | INFO | train | epoch 020 | loss 1.953 | trans_loss 4.874 | nll_loss 2.105 | w2v_ctc_loss 0.698 | task_loss 3.29 | contrastive_loss 0 | total 4138.76 | n_correct 2744.24 | ppl 4.3 | accuracy 66.306 | wps 14775.8 | ups 1.79 | wpb 8277.5 | bsz 305.8 | num_updates 29465 | lr 8.23876e-05 | gnorm 0.541 | clip 0 | loss_scale 4 | train_wall 748 | gb_free 15.9 | wall 18850
2023-08-22 18:18:33 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 18:18:33 | INFO | fairseq.trainer | begin training epoch 21
2023-08-22 18:18:33 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 18:18:58 | INFO | train_inner | epoch 021:     35 / 1474 loss=1.947, trans_loss=4.873, nll_loss=2.105, w2v_ctc_loss=0.689, task_loss=3.138, contrastive_loss=0, total=4145.63, n_correct=2752.39, ppl=4.3, accuracy=66.393, wps=9195.7, ups=1.11, wpb=8291.3, bsz=315.4, num_updates=29500, lr=8.23387e-05, gnorm=0.526, clip=0, loss_scale=4, train_wall=50, gb_free=16.5, wall=18875
2023-08-22 18:19:49 | INFO | train_inner | epoch 021:    135 / 1474 loss=1.94, trans_loss=4.854, nll_loss=2.079, w2v_ctc_loss=0.689, task_loss=3.081, contrastive_loss=0, total=4194.57, n_correct=2800.21, ppl=4.22, accuracy=66.758, wps=16383.2, ups=1.95, wpb=8389.1, bsz=319.6, num_updates=29600, lr=8.21995e-05, gnorm=0.549, clip=0, loss_scale=4, train_wall=51, gb_free=16, wall=18926
2023-08-22 18:20:40 | INFO | train_inner | epoch 021:    235 / 1474 loss=1.936, trans_loss=4.855, nll_loss=2.081, w2v_ctc_loss=0.679, task_loss=3.16, contrastive_loss=0, total=4152.42, n_correct=2770.38, ppl=4.23, accuracy=66.717, wps=16355.2, ups=1.97, wpb=8304.8, bsz=312, num_updates=29700, lr=8.2061e-05, gnorm=0.539, clip=0, loss_scale=4, train_wall=50, gb_free=17.1, wall=18977
2023-08-22 18:21:32 | INFO | train_inner | epoch 021:    335 / 1474 loss=1.945, trans_loss=4.86, nll_loss=2.087, w2v_ctc_loss=0.696, task_loss=3.264, contrastive_loss=0, total=4157.2, n_correct=2770.02, ppl=4.25, accuracy=66.632, wps=15999.2, ups=1.92, wpb=8314.4, bsz=311.1, num_updates=29800, lr=8.19232e-05, gnorm=0.525, clip=0, loss_scale=4, train_wall=51, gb_free=14.8, wall=19029
2023-08-22 18:22:23 | INFO | train_inner | epoch 021:    435 / 1474 loss=1.938, trans_loss=4.854, nll_loss=2.079, w2v_ctc_loss=0.681, task_loss=3.164, contrastive_loss=0, total=4181.07, n_correct=2795.47, ppl=4.22, accuracy=66.86, wps=16509.5, ups=1.97, wpb=8362.1, bsz=308.2, num_updates=29900, lr=8.17861e-05, gnorm=0.545, clip=0, loss_scale=4, train_wall=50, gb_free=14.6, wall=19080
2023-08-22 18:23:14 | INFO | train_inner | epoch 021:    535 / 1474 loss=1.94, trans_loss=4.849, nll_loss=2.072, w2v_ctc_loss=0.689, task_loss=3.417, contrastive_loss=0, total=4089.72, n_correct=2734.09, ppl=4.2, accuracy=66.853, wps=16044.9, ups=1.96, wpb=8179.4, bsz=295.7, num_updates=30000, lr=8.16497e-05, gnorm=0.538, clip=0, loss_scale=4, train_wall=51, gb_free=14.1, wall=19131
2023-08-22 18:23:14 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 18:23:36 | INFO | dev_st | epoch 021 | valid on 'dev_st' subset | loss 3.911 | trans_loss 5.19 | nll_loss 2.457 | w2v_ctc_loss 1.342 | task_loss 11.562 | contrastive_loss 0 | total 4003.4 | n_correct 2643.5 | ppl 5.49 | accuracy 66.031 | uer 17.7 | wer 19.585 | raw_wer 19.585 | bleu 21.53 | wps 2421.4 | wpb 4003.4 | bsz 141.8 | num_updates 30000 | best_bleu 21.53
2023-08-22 18:23:36 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 21 @ 30000 updates
2023-08-22 18:23:36 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_21_30000.pt
2023-08-22 18:23:39 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_21_30000.pt
2023-08-22 18:23:46 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_21_30000.pt (epoch 21 @ 30000 updates, score 21.53) (writing took 9.959225292997871 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:0')
2023-08-22 18:24:38 | INFO | train_inner | epoch 021:    635 / 1474 loss=1.943, trans_loss=4.859, nll_loss=2.085, w2v_ctc_loss=0.689, task_loss=3.264, contrastive_loss=0, total=4210.28, n_correct=2803.53, ppl=4.24, accuracy=66.588, wps=9936.1, ups=1.18, wpb=8420.6, bsz=315.7, num_updates=30100, lr=8.15139e-05, gnorm=0.563, clip=0, loss_scale=4, train_wall=51, gb_free=16.3, wall=19215
2023-08-22 18:25:30 | INFO | train_inner | epoch 021:    735 / 1474 loss=1.946, trans_loss=4.866, nll_loss=2.095, w2v_ctc_loss=0.689, task_loss=3.303, contrastive_loss=0, total=4149.01, n_correct=2761.13, ppl=4.27, accuracy=66.549, wps=16115.2, ups=1.94, wpb=8298, bsz=307.4, num_updates=30200, lr=8.13788e-05, gnorm=0.539, clip=0, loss_scale=4, train_wall=51, gb_free=16.2, wall=19267
2023-08-22 18:26:21 | INFO | train_inner | epoch 021:    835 / 1474 loss=1.951, trans_loss=4.871, nll_loss=2.1, w2v_ctc_loss=0.695, task_loss=3.464, contrastive_loss=0, total=4075.99, n_correct=2706.12, ppl=4.29, accuracy=66.392, wps=15871.7, ups=1.95, wpb=8152, bsz=295.7, num_updates=30300, lr=8.12444e-05, gnorm=0.564, clip=0, loss_scale=4, train_wall=51, gb_free=16, wall=19318
2023-08-22 18:27:12 | INFO | train_inner | epoch 021:    935 / 1474 loss=1.942, trans_loss=4.859, nll_loss=2.085, w2v_ctc_loss=0.689, task_loss=3.31, contrastive_loss=0, total=4091.88, n_correct=2725.91, ppl=4.24, accuracy=66.618, wps=16127.1, ups=1.97, wpb=8183.8, bsz=300, num_updates=30400, lr=8.11107e-05, gnorm=0.517, clip=0, loss_scale=4, train_wall=50, gb_free=16.7, wall=19369
2023-08-22 18:28:03 | INFO | train_inner | epoch 021:   1035 / 1474 loss=1.947, trans_loss=4.868, nll_loss=2.096, w2v_ctc_loss=0.691, task_loss=3.343, contrastive_loss=0, total=4107.66, n_correct=2733.45, ppl=4.28, accuracy=66.545, wps=16147.1, ups=1.97, wpb=8215.3, bsz=299.5, num_updates=30500, lr=8.09776e-05, gnorm=0.525, clip=0, loss_scale=4, train_wall=50, gb_free=14.3, wall=19420
2023-08-22 18:28:54 | INFO | train_inner | epoch 021:   1135 / 1474 loss=1.952, trans_loss=4.865, nll_loss=2.093, w2v_ctc_loss=0.7, task_loss=3.527, contrastive_loss=0, total=4118.94, n_correct=2735.75, ppl=4.27, accuracy=66.419, wps=16175.3, ups=1.96, wpb=8237.9, bsz=294.9, num_updates=30600, lr=8.08452e-05, gnorm=0.661, clip=1, loss_scale=4, train_wall=51, gb_free=15.5, wall=19471
2023-08-22 18:29:44 | INFO | train_inner | epoch 021:   1235 / 1474 loss=1.944, trans_loss=4.864, nll_loss=2.092, w2v_ctc_loss=0.69, task_loss=3.151, contrastive_loss=0, total=4151.84, n_correct=2763.16, ppl=4.26, accuracy=66.553, wps=16381.4, ups=1.97, wpb=8303.7, bsz=309.1, num_updates=30700, lr=8.07134e-05, gnorm=0.516, clip=0, loss_scale=8, train_wall=50, gb_free=14.8, wall=19521
2023-08-22 18:30:35 | INFO | train_inner | epoch 021:   1335 / 1474 loss=1.941, trans_loss=4.861, nll_loss=2.089, w2v_ctc_loss=0.686, task_loss=3.184, contrastive_loss=0, total=4145.91, n_correct=2767.82, ppl=4.25, accuracy=66.76, wps=16294.3, ups=1.97, wpb=8291.8, bsz=312.1, num_updates=30800, lr=8.05823e-05, gnorm=0.537, clip=0, loss_scale=8, train_wall=50, gb_free=16, wall=19572
2023-08-22 18:31:27 | INFO | train_inner | epoch 021:   1435 / 1474 loss=1.957, trans_loss=4.871, nll_loss=2.101, w2v_ctc_loss=0.711, task_loss=3.442, contrastive_loss=0, total=4136.27, n_correct=2742.39, ppl=4.29, accuracy=66.301, wps=16029.7, ups=1.94, wpb=8272.5, bsz=304.5, num_updates=30900, lr=8.04518e-05, gnorm=0.522, clip=0, loss_scale=8, train_wall=51, gb_free=16.2, wall=19624
2023-08-22 18:31:47 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:1')
2023-08-22 18:32:10 | INFO | dev_st | epoch 021 | valid on 'dev_st' subset | loss 3.919 | trans_loss 5.195 | nll_loss 2.464 | w2v_ctc_loss 1.358 | task_loss 11.502 | contrastive_loss 0 | total 4003.4 | n_correct 2644.9 | ppl 5.52 | accuracy 66.066 | uer 17.856 | wer 19.731 | raw_wer 19.731 | bleu 21.49 | wps 2418.7 | wpb 4003.4 | bsz 141.8 | num_updates 30939 | best_bleu 21.53
2023-08-22 18:32:10 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 21 @ 30939 updates
2023-08-22 18:32:10 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.4905.pt
2023-08-22 18:32:12 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.4905.pt
2023-08-22 18:32:16 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.4905.pt (epoch 21 @ 30939 updates, score 21.49) (writing took 5.675621506998141 seconds)
2023-08-22 18:32:16 | INFO | fairseq_cli.train | end of epoch 21 (average epoch stats below)
2023-08-22 18:32:16 | INFO | train | epoch 021 | loss 1.944 | trans_loss 4.861 | nll_loss 2.088 | w2v_ctc_loss 0.69 | task_loss 3.294 | contrastive_loss 0 | total 4138.65 | n_correct 2756.88 | ppl 4.25 | accuracy 66.613 | wps 14826.2 | ups 1.79 | wpb 8277.3 | bsz 305.7 | num_updates 30939 | lr 8.04011e-05 | gnorm 0.545 | clip 0.1 | loss_scale 8 | train_wall 747 | gb_free 15.1 | wall 19673
2023-08-22 18:32:16 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 18:32:16 | INFO | fairseq.trainer | begin training epoch 22
2023-08-22 18:32:16 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 18:32:54 | INFO | train_inner | epoch 022:     61 / 1474 loss=1.937, trans_loss=4.845, nll_loss=2.068, w2v_ctc_loss=0.685, task_loss=3.299, contrastive_loss=0, total=4133.81, n_correct=2771.94, ppl=4.19, accuracy=67.055, wps=9510.3, ups=1.15, wpb=8267.6, bsz=300.5, num_updates=31000, lr=8.03219e-05, gnorm=0.543, clip=0, loss_scale=8, train_wall=50, gb_free=16, wall=19711
2023-08-22 18:33:45 | INFO | train_inner | epoch 022:    161 / 1474 loss=1.939, trans_loss=4.849, nll_loss=2.072, w2v_ctc_loss=0.69, task_loss=3.369, contrastive_loss=0, total=4116.11, n_correct=2749.27, ppl=4.2, accuracy=66.793, wps=16010.7, ups=1.94, wpb=8232.2, bsz=306.9, num_updates=31100, lr=8.01927e-05, gnorm=0.548, clip=0, loss_scale=8, train_wall=51, gb_free=16.4, wall=19762
2023-08-22 18:34:36 | INFO | train_inner | epoch 022:    261 / 1474 loss=1.926, trans_loss=4.84, nll_loss=2.061, w2v_ctc_loss=0.675, task_loss=2.883, contrastive_loss=0, total=4272.11, n_correct=2870.05, ppl=4.17, accuracy=67.181, wps=16698.1, ups=1.95, wpb=8544.2, bsz=331.4, num_updates=31200, lr=8.00641e-05, gnorm=0.59, clip=0, loss_scale=8, train_wall=51, gb_free=17.6, wall=19814
2023-08-22 18:35:29 | INFO | train_inner | epoch 022:    361 / 1474 loss=1.941, trans_loss=4.852, nll_loss=2.076, w2v_ctc_loss=0.687, task_loss=3.337, contrastive_loss=0, total=4178.4, n_correct=2787.54, ppl=4.22, accuracy=66.713, wps=15981.7, ups=1.91, wpb=8356.8, bsz=310, num_updates=31300, lr=7.99361e-05, gnorm=0.549, clip=0, loss_scale=8, train_wall=52, gb_free=15.1, wall=19866
2023-08-22 18:36:20 | INFO | train_inner | epoch 022:    461 / 1474 loss=1.942, trans_loss=4.852, nll_loss=2.076, w2v_ctc_loss=0.687, task_loss=3.456, contrastive_loss=0, total=4132.96, n_correct=2759.92, ppl=4.22, accuracy=66.778, wps=16001.4, ups=1.94, wpb=8265.9, bsz=297.5, num_updates=31400, lr=7.98087e-05, gnorm=0.529, clip=0, loss_scale=8, train_wall=51, gb_free=16.7, wall=19917
2023-08-22 18:37:12 | INFO | train_inner | epoch 022:    561 / 1474 loss=1.934, trans_loss=4.844, nll_loss=2.066, w2v_ctc_loss=0.683, task_loss=3.296, contrastive_loss=0, total=4158.17, n_correct=2784.3, ppl=4.19, accuracy=66.96, wps=15987.2, ups=1.92, wpb=8316.3, bsz=307.8, num_updates=31500, lr=7.96819e-05, gnorm=0.584, clip=0, loss_scale=8, train_wall=52, gb_free=16.3, wall=19969
2023-08-22 18:38:03 | INFO | train_inner | epoch 022:    661 / 1474 loss=1.927, trans_loss=4.84, nll_loss=2.061, w2v_ctc_loss=0.67, task_loss=3.148, contrastive_loss=0, total=4139.66, n_correct=2778.65, ppl=4.17, accuracy=67.123, wps=16322.4, ups=1.97, wpb=8279.3, bsz=311.1, num_updates=31600, lr=7.95557e-05, gnorm=0.552, clip=0, loss_scale=8, train_wall=50, gb_free=15.8, wall=20020
2023-08-22 18:38:54 | INFO | train_inner | epoch 022:    761 / 1474 loss=1.937, trans_loss=4.845, nll_loss=2.066, w2v_ctc_loss=0.689, task_loss=3.387, contrastive_loss=0, total=4167.89, n_correct=2791.5, ppl=4.19, accuracy=66.976, wps=16260.4, ups=1.95, wpb=8335.8, bsz=303.9, num_updates=31700, lr=7.94301e-05, gnorm=0.546, clip=0, loss_scale=8, train_wall=51, gb_free=12.4, wall=20071
2023-08-22 18:39:46 | INFO | train_inner | epoch 022:    861 / 1474 loss=1.946, trans_loss=4.858, nll_loss=2.084, w2v_ctc_loss=0.691, task_loss=3.571, contrastive_loss=0, total=4075.79, n_correct=2712.51, ppl=4.24, accuracy=66.552, wps=15893.1, ups=1.95, wpb=8151.6, bsz=289, num_updates=31800, lr=7.93052e-05, gnorm=0.576, clip=0, loss_scale=8, train_wall=51, gb_free=15.9, wall=20123
2023-08-22 18:40:37 | INFO | train_inner | epoch 022:    961 / 1474 loss=1.935, trans_loss=4.846, nll_loss=2.068, w2v_ctc_loss=0.681, task_loss=3.322, contrastive_loss=0, total=4134.72, n_correct=2769.16, ppl=4.19, accuracy=66.973, wps=16126.8, ups=1.95, wpb=8269.4, bsz=303.2, num_updates=31900, lr=7.91808e-05, gnorm=0.585, clip=0, loss_scale=8, train_wall=51, gb_free=13.8, wall=20174
2023-08-22 18:41:28 | INFO | train_inner | epoch 022:   1061 / 1474 loss=1.93, trans_loss=4.844, nll_loss=2.067, w2v_ctc_loss=0.674, task_loss=3.145, contrastive_loss=0, total=4160.57, n_correct=2789.04, ppl=4.19, accuracy=67.035, wps=16327.9, ups=1.96, wpb=8321.1, bsz=315.5, num_updates=32000, lr=7.90569e-05, gnorm=0.522, clip=0, loss_scale=8, train_wall=51, gb_free=17, wall=20225
2023-08-22 18:41:28 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 18:41:51 | INFO | dev_st | epoch 022 | valid on 'dev_st' subset | loss 3.915 | trans_loss 5.191 | nll_loss 2.462 | w2v_ctc_loss 1.352 | task_loss 11.571 | contrastive_loss 0 | total 4003.4 | n_correct 2647.5 | ppl 5.51 | accuracy 66.131 | uer 17.955 | wer 19.831 | raw_wer 19.831 | bleu 21.4 | wps 2473.2 | wpb 4003.4 | bsz 141.8 | num_updates 32000 | best_bleu 21.53
2023-08-22 18:41:51 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 22 @ 32000 updates
2023-08-22 18:41:51 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_22_32000.pt
2023-08-22 18:41:53 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_22_32000.pt
2023-08-22 18:41:57 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_22_32000.pt (epoch 22 @ 32000 updates, score 21.4) (writing took 6.891446020999865 seconds)
2023-08-22 18:42:49 | INFO | train_inner | epoch 022:   1161 / 1474 loss=1.946, trans_loss=4.864, nll_loss=2.092, w2v_ctc_loss=0.691, task_loss=3.394, contrastive_loss=0, total=4099.59, n_correct=2730.45, ppl=4.26, accuracy=66.603, wps=10146.1, ups=1.24, wpb=8199.2, bsz=296.2, num_updates=32100, lr=7.89337e-05, gnorm=0.549, clip=0, loss_scale=8, train_wall=50, gb_free=14.6, wall=20306
2023-08-22 18:43:40 | INFO | train_inner | epoch 022:   1261 / 1474 loss=1.941, trans_loss=4.864, nll_loss=2.093, w2v_ctc_loss=0.689, task_loss=3.049, contrastive_loss=0, total=4182.05, n_correct=2786.36, ppl=4.27, accuracy=66.627, wps=16323.7, ups=1.95, wpb=8364.1, bsz=323, num_updates=32200, lr=7.8811e-05, gnorm=0.552, clip=0, loss_scale=8, train_wall=51, gb_free=15.2, wall=20357
2023-08-22 18:44:31 | INFO | train_inner | epoch 022:   1361 / 1474 loss=1.935, trans_loss=4.847, nll_loss=2.07, w2v_ctc_loss=0.678, task_loss=3.302, contrastive_loss=0, total=4062.31, n_correct=2717.52, ppl=4.2, accuracy=66.896, wps=16068.6, ups=1.98, wpb=8124.6, bsz=299, num_updates=32300, lr=7.86889e-05, gnorm=0.552, clip=0, loss_scale=8, train_wall=50, gb_free=14.7, wall=20408
2023-08-22 18:45:22 | INFO | train_inner | epoch 022:   1461 / 1474 loss=1.947, trans_loss=4.862, nll_loss=2.089, w2v_ctc_loss=0.694, task_loss=3.52, contrastive_loss=0, total=4081.88, n_correct=2717.78, ppl=4.25, accuracy=66.582, wps=16028.8, ups=1.96, wpb=8163.8, bsz=288.9, num_updates=32400, lr=7.85674e-05, gnorm=0.524, clip=0, loss_scale=8, train_wall=51, gb_free=17, wall=20459
2023-08-22 18:45:28 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 18:45:51 | INFO | dev_st | epoch 022 | valid on 'dev_st' subset | loss 3.933 | trans_loss 5.19 | nll_loss 2.458 | w2v_ctc_loss 1.414 | task_loss 11.557 | contrastive_loss 0 | total 4003.4 | n_correct 2651.5 | ppl 5.49 | accuracy 66.231 | uer 18.108 | wer 19.917 | raw_wer 19.917 | bleu 21.49 | wps 2456.9 | wpb 4003.4 | bsz 141.8 | num_updates 32413 | best_bleu 21.53
2023-08-22 18:45:51 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 22 @ 32413 updates
2023-08-22 18:45:51 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.4908.pt
2023-08-22 18:45:54 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.4908.pt
2023-08-22 18:45:57 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.4908.pt (epoch 22 @ 32413 updates, score 21.49) (writing took 5.77520709899909 seconds)
2023-08-22 18:45:57 | INFO | fairseq_cli.train | end of epoch 22 (average epoch stats below)
2023-08-22 18:45:57 | INFO | train | epoch 022 | loss 1.937 | trans_loss 4.85 | nll_loss 2.074 | w2v_ctc_loss 0.685 | task_loss 3.294 | contrastive_loss 0 | total 4138.65 | n_correct 2767.07 | ppl 4.21 | accuracy 66.859 | wps 14851.7 | ups 1.79 | wpb 8277.3 | bsz 305.7 | num_updates 32413 | lr 7.85517e-05 | gnorm 0.554 | clip 0 | loss_scale 8 | train_wall 749 | gb_free 11.3 | wall 20494
2023-08-22 18:45:58 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 18:45:58 | INFO | fairseq.trainer | begin training epoch 23
2023-08-22 18:45:58 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 18:46:49 | INFO | train_inner | epoch 023:     87 / 1474 loss=1.929, trans_loss=4.832, nll_loss=2.05, w2v_ctc_loss=0.683, task_loss=3.37, contrastive_loss=0, total=4096.09, n_correct=2754.44, ppl=4.14, accuracy=67.246, wps=9356.5, ups=1.14, wpb=8192.2, bsz=301.2, num_updates=32500, lr=7.84465e-05, gnorm=0.511, clip=0, loss_scale=8, train_wall=51, gb_free=16, wall=20546
2023-08-22 18:47:40 | INFO | train_inner | epoch 023:    187 / 1474 loss=1.928, trans_loss=4.828, nll_loss=2.045, w2v_ctc_loss=0.674, task_loss=3.51, contrastive_loss=0, total=4107.77, n_correct=2761.11, ppl=4.13, accuracy=67.217, wps=16060.6, ups=1.95, wpb=8215.5, bsz=293.4, num_updates=32600, lr=7.8326e-05, gnorm=0.52, clip=0, loss_scale=8, train_wall=51, gb_free=16.1, wall=20597
2023-08-22 18:48:32 | INFO | train_inner | epoch 023:    287 / 1474 loss=1.927, trans_loss=4.839, nll_loss=2.06, w2v_ctc_loss=0.67, task_loss=3.303, contrastive_loss=0, total=4153.12, n_correct=2787.23, ppl=4.17, accuracy=67.112, wps=16108.9, ups=1.94, wpb=8306.2, bsz=306.4, num_updates=32700, lr=7.82062e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=51, gb_free=16.7, wall=20649
2023-08-22 18:49:22 | INFO | train_inner | epoch 023:    387 / 1474 loss=1.925, trans_loss=4.827, nll_loss=2.044, w2v_ctc_loss=0.672, task_loss=3.429, contrastive_loss=0, total=4116.7, n_correct=2771.4, ppl=4.12, accuracy=67.321, wps=16251.8, ups=1.97, wpb=8233.4, bsz=294, num_updates=32800, lr=7.80869e-05, gnorm=0.517, clip=0, loss_scale=16, train_wall=50, gb_free=15, wall=20700
2023-08-22 18:50:13 | INFO | train_inner | epoch 023:    487 / 1474 loss=1.926, trans_loss=4.837, nll_loss=2.057, w2v_ctc_loss=0.67, task_loss=3.202, contrastive_loss=0, total=4157.6, n_correct=2793.28, ppl=4.16, accuracy=67.185, wps=16309.8, ups=1.96, wpb=8315.2, bsz=313.5, num_updates=32900, lr=7.79681e-05, gnorm=0.538, clip=0, loss_scale=16, train_wall=51, gb_free=17, wall=20751
2023-08-22 18:51:04 | INFO | train_inner | epoch 023:    587 / 1474 loss=1.922, trans_loss=4.829, nll_loss=2.047, w2v_ctc_loss=0.673, task_loss=3.118, contrastive_loss=0, total=4173.42, n_correct=2808.77, ppl=4.13, accuracy=67.301, wps=16447.7, ups=1.97, wpb=8346.8, bsz=316, num_updates=33000, lr=7.78499e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=50, gb_free=12.2, wall=20801
2023-08-22 18:51:55 | INFO | train_inner | epoch 023:    687 / 1474 loss=1.93, trans_loss=4.838, nll_loss=2.059, w2v_ctc_loss=0.676, task_loss=3.291, contrastive_loss=0, total=4137.82, n_correct=2777.42, ppl=4.17, accuracy=67.123, wps=16388.8, ups=1.98, wpb=8275.6, bsz=302.5, num_updates=33100, lr=7.77322e-05, gnorm=0.557, clip=0, loss_scale=16, train_wall=50, gb_free=16.8, wall=20852
2023-08-22 18:52:46 | INFO | train_inner | epoch 023:    787 / 1474 loss=1.932, trans_loss=4.841, nll_loss=2.062, w2v_ctc_loss=0.68, task_loss=3.32, contrastive_loss=0, total=4150.99, n_correct=2786.2, ppl=4.18, accuracy=67.121, wps=16154, ups=1.95, wpb=8302, bsz=305.4, num_updates=33200, lr=7.76151e-05, gnorm=0.523, clip=0, loss_scale=16, train_wall=51, gb_free=16.1, wall=20903
2023-08-22 18:53:37 | INFO | train_inner | epoch 023:    887 / 1474 loss=1.925, trans_loss=4.835, nll_loss=2.055, w2v_ctc_loss=0.674, task_loss=3.008, contrastive_loss=0, total=4181.99, n_correct=2812.05, ppl=4.15, accuracy=67.242, wps=16394.2, ups=1.96, wpb=8364, bsz=324.7, num_updates=33300, lr=7.74984e-05, gnorm=0.544, clip=0, loss_scale=16, train_wall=51, gb_free=16.1, wall=20954
2023-08-22 18:53:52 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-22 18:54:29 | INFO | train_inner | epoch 023:    988 / 1474 loss=1.927, trans_loss=4.836, nll_loss=2.056, w2v_ctc_loss=0.67, task_loss=3.301, contrastive_loss=0, total=4158.51, n_correct=2790.56, ppl=4.16, accuracy=67.105, wps=16009, ups=1.92, wpb=8317, bsz=308.8, num_updates=33400, lr=7.73823e-05, gnorm=0.542, clip=0, loss_scale=8, train_wall=52, gb_free=17.4, wall=21006
2023-08-22 18:55:20 | INFO | train_inner | epoch 023:   1088 / 1474 loss=1.939, trans_loss=4.846, nll_loss=2.068, w2v_ctc_loss=0.689, task_loss=3.497, contrastive_loss=0, total=4092.37, n_correct=2735.78, ppl=4.19, accuracy=66.851, wps=15929, ups=1.95, wpb=8184.7, bsz=290.8, num_updates=33500, lr=7.72667e-05, gnorm=0.561, clip=0, loss_scale=8, train_wall=51, gb_free=17, wall=21058
2023-08-22 18:56:12 | INFO | train_inner | epoch 023:   1188 / 1474 loss=1.934, trans_loss=4.845, nll_loss=2.068, w2v_ctc_loss=0.686, task_loss=3.281, contrastive_loss=0, total=4164.9, n_correct=2788.73, ppl=4.19, accuracy=66.958, wps=16149.1, ups=1.94, wpb=8329.8, bsz=309.2, num_updates=33600, lr=7.71517e-05, gnorm=0.565, clip=0, loss_scale=8, train_wall=51, gb_free=13.3, wall=21109
2023-08-22 18:57:03 | INFO | train_inner | epoch 023:   1288 / 1474 loss=1.928, trans_loss=4.84, nll_loss=2.062, w2v_ctc_loss=0.677, task_loss=3.202, contrastive_loss=0, total=4136.96, n_correct=2775.14, ppl=4.17, accuracy=67.082, wps=16295.8, ups=1.97, wpb=8273.9, bsz=309.8, num_updates=33700, lr=7.70371e-05, gnorm=0.639, clip=0, loss_scale=8, train_wall=50, gb_free=16.3, wall=21160
2023-08-22 18:57:54 | INFO | train_inner | epoch 023:   1388 / 1474 loss=1.936, trans_loss=4.851, nll_loss=2.076, w2v_ctc_loss=0.679, task_loss=3.323, contrastive_loss=0, total=4142.84, n_correct=2769.88, ppl=4.22, accuracy=66.859, wps=16151.3, ups=1.95, wpb=8285.7, bsz=304.8, num_updates=33800, lr=7.69231e-05, gnorm=0.547, clip=0, loss_scale=8, train_wall=51, gb_free=15.7, wall=21211
2023-08-22 18:58:38 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 18:59:01 | INFO | dev_st | epoch 023 | valid on 'dev_st' subset | loss 3.911 | trans_loss 5.18 | nll_loss 2.445 | w2v_ctc_loss 1.364 | task_loss 11.631 | contrastive_loss 0 | total 4003.4 | n_correct 2665.5 | ppl 5.45 | accuracy 66.581 | uer 17.7 | wer 19.474 | raw_wer 19.474 | bleu 21.82 | wps 2355.3 | wpb 4003.4 | bsz 141.8 | num_updates 33886 | best_bleu 21.82
2023-08-22 18:59:01 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 23 @ 33886 updates
2023-08-22 18:59:01 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 18:59:06 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 18:59:10 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 23 @ 33886 updates, score 21.82) (writing took 8.99238205200163 seconds)
2023-08-22 18:59:11 | INFO | fairseq_cli.train | end of epoch 23 (average epoch stats below)
2023-08-22 18:59:11 | INFO | train | epoch 023 | loss 1.929 | trans_loss 4.838 | nll_loss 2.059 | w2v_ctc_loss 0.676 | task_loss 3.295 | contrastive_loss 0 | total 4138.35 | n_correct 2777.2 | ppl 4.17 | accuracy 67.109 | wps 15369.4 | ups 1.86 | wpb 8276.7 | bsz 305.6 | num_updates 33886 | lr 7.68254e-05 | gnorm 0.542 | clip 0 | loss_scale 8 | train_wall 747 | gb_free 13.3 | wall 21288
2023-08-22 18:59:11 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 18:59:11 | INFO | fairseq.trainer | begin training epoch 24
2023-08-22 18:59:11 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 18:59:25 | INFO | train_inner | epoch 024:     14 / 1474 loss=1.933, trans_loss=4.847, nll_loss=2.07, w2v_ctc_loss=0.674, task_loss=3.334, contrastive_loss=0, total=4084.21, n_correct=2732.97, ppl=4.2, accuracy=66.916, wps=9000.5, ups=1.1, wpb=8168.4, bsz=303.7, num_updates=33900, lr=7.68095e-05, gnorm=0.52, clip=0, loss_scale=8, train_wall=51, gb_free=15.1, wall=21302
2023-08-22 19:00:16 | INFO | train_inner | epoch 024:    114 / 1474 loss=1.913, trans_loss=4.819, nll_loss=2.033, w2v_ctc_loss=0.659, task_loss=3.038, contrastive_loss=0, total=4168.61, n_correct=2814.39, ppl=4.09, accuracy=67.514, wps=16244, ups=1.95, wpb=8337.2, bsz=324.6, num_updates=34000, lr=7.66965e-05, gnorm=0.554, clip=0, loss_scale=8, train_wall=51, gb_free=10.9, wall=21353
2023-08-22 19:00:16 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 19:00:39 | INFO | dev_st | epoch 024 | valid on 'dev_st' subset | loss 3.91 | trans_loss 5.189 | nll_loss 2.454 | w2v_ctc_loss 1.34 | task_loss 11.594 | contrastive_loss 0 | total 4003.4 | n_correct 2655 | ppl 5.48 | accuracy 66.319 | uer 17.612 | wer 19.477 | raw_wer 19.477 | bleu 21.49 | wps 2429.3 | wpb 4003.4 | bsz 141.8 | num_updates 34000 | best_bleu 21.82
2023-08-22 19:00:39 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 24 @ 34000 updates
2023-08-22 19:00:39 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_24_34000.pt
2023-08-22 19:00:42 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_24_34000.pt
2023-08-22 19:00:46 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_24_34000.pt (epoch 24 @ 34000 updates, score 21.49) (writing took 6.790341420000914 seconds)
2023-08-22 19:01:38 | INFO | train_inner | epoch 024:    214 / 1474 loss=1.913, trans_loss=4.824, nll_loss=2.042, w2v_ctc_loss=0.656, task_loss=2.863, contrastive_loss=0, total=4252.53, n_correct=2868.15, ppl=4.12, accuracy=67.446, wps=10373.4, ups=1.22, wpb=8505.1, bsz=341.3, num_updates=34100, lr=7.6584e-05, gnorm=0.501, clip=0, loss_scale=8, train_wall=51, gb_free=16.5, wall=21435
2023-08-22 19:02:29 | INFO | train_inner | epoch 024:    314 / 1474 loss=1.919, trans_loss=4.823, nll_loss=2.038, w2v_ctc_loss=0.667, task_loss=3.203, contrastive_loss=0, total=4138.44, n_correct=2790.22, ppl=4.11, accuracy=67.422, wps=16245.6, ups=1.96, wpb=8276.9, bsz=307.1, num_updates=34200, lr=7.64719e-05, gnorm=0.504, clip=0, loss_scale=8, train_wall=51, gb_free=15.2, wall=21486
2023-08-22 19:03:21 | INFO | train_inner | epoch 024:    414 / 1474 loss=1.93, trans_loss=4.826, nll_loss=2.042, w2v_ctc_loss=0.678, task_loss=3.488, contrastive_loss=0, total=4153.83, n_correct=2791.79, ppl=4.12, accuracy=67.21, wps=16114.1, ups=1.94, wpb=8307.7, bsz=298.4, num_updates=34300, lr=7.63604e-05, gnorm=0.551, clip=0, loss_scale=8, train_wall=51, gb_free=15.8, wall=21538
2023-08-22 19:04:12 | INFO | train_inner | epoch 024:    514 / 1474 loss=1.926, trans_loss=4.827, nll_loss=2.044, w2v_ctc_loss=0.675, task_loss=3.368, contrastive_loss=0, total=4141.88, n_correct=2788.1, ppl=4.12, accuracy=67.315, wps=16179.5, ups=1.95, wpb=8283.8, bsz=302.6, num_updates=34400, lr=7.62493e-05, gnorm=0.617, clip=0, loss_scale=8, train_wall=51, gb_free=14.8, wall=21589
2023-08-22 19:05:03 | INFO | train_inner | epoch 024:    614 / 1474 loss=1.927, trans_loss=4.833, nll_loss=2.052, w2v_ctc_loss=0.671, task_loss=3.316, contrastive_loss=0, total=4162.06, n_correct=2792.25, ppl=4.15, accuracy=67.088, wps=16269.7, ups=1.95, wpb=8324.1, bsz=308.1, num_updates=34500, lr=7.61387e-05, gnorm=0.784, clip=0, loss_scale=8, train_wall=51, gb_free=16.5, wall=21640
2023-08-22 19:05:54 | INFO | train_inner | epoch 024:    714 / 1474 loss=1.93, trans_loss=4.836, nll_loss=2.054, w2v_ctc_loss=0.676, task_loss=3.408, contrastive_loss=0, total=4097.35, n_correct=2749.56, ppl=4.15, accuracy=67.106, wps=16076.1, ups=1.96, wpb=8194.7, bsz=293.8, num_updates=34600, lr=7.60286e-05, gnorm=0.6, clip=0, loss_scale=8, train_wall=51, gb_free=17, wall=21691
2023-08-22 19:06:45 | INFO | train_inner | epoch 024:    814 / 1474 loss=1.927, trans_loss=4.838, nll_loss=2.059, w2v_ctc_loss=0.675, task_loss=3.28, contrastive_loss=0, total=4124.25, n_correct=2769.37, ppl=4.17, accuracy=67.148, wps=16054.6, ups=1.95, wpb=8248.5, bsz=308.2, num_updates=34700, lr=7.5919e-05, gnorm=0.601, clip=0, loss_scale=8, train_wall=51, gb_free=15.8, wall=21743
2023-08-22 19:07:36 | INFO | train_inner | epoch 024:    914 / 1474 loss=1.934, trans_loss=4.833, nll_loss=2.051, w2v_ctc_loss=0.683, task_loss=3.661, contrastive_loss=0, total=4041.44, n_correct=2709.76, ppl=4.14, accuracy=67.049, wps=15977.8, ups=1.98, wpb=8082.9, bsz=280.5, num_updates=34800, lr=7.58098e-05, gnorm=0.596, clip=0, loss_scale=8, train_wall=50, gb_free=15.9, wall=21793
2023-08-22 19:08:28 | INFO | train_inner | epoch 024:   1014 / 1474 loss=1.926, trans_loss=4.833, nll_loss=2.052, w2v_ctc_loss=0.67, task_loss=3.437, contrastive_loss=0, total=4128.8, n_correct=2778.92, ppl=4.15, accuracy=67.306, wps=16017.1, ups=1.94, wpb=8257.6, bsz=296.5, num_updates=34900, lr=7.57011e-05, gnorm=0.553, clip=0, loss_scale=8, train_wall=51, gb_free=14.7, wall=21845
2023-08-22 19:09:19 | INFO | train_inner | epoch 024:   1114 / 1474 loss=1.922, trans_loss=4.821, nll_loss=2.038, w2v_ctc_loss=0.678, task_loss=3.195, contrastive_loss=0, total=4130.49, n_correct=2785.22, ppl=4.11, accuracy=67.431, wps=16123.1, ups=1.95, wpb=8261, bsz=308.9, num_updates=35000, lr=7.55929e-05, gnorm=0.593, clip=0, loss_scale=8, train_wall=51, gb_free=15.7, wall=21896
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:0')
2023-08-22 19:10:10 | INFO | train_inner | epoch 024:   1214 / 1474 loss=1.923, trans_loss=4.832, nll_loss=2.05, w2v_ctc_loss=0.67, task_loss=3.267, contrastive_loss=0, total=4157.47, n_correct=2796.54, ppl=4.14, accuracy=67.265, wps=16185.4, ups=1.95, wpb=8314.9, bsz=311.2, num_updates=35100, lr=7.54851e-05, gnorm=0.553, clip=0, loss_scale=8, train_wall=51, gb_free=12.3, wall=21947
2023-08-22 19:11:02 | INFO | train_inner | epoch 024:   1314 / 1474 loss=1.932, trans_loss=4.835, nll_loss=2.054, w2v_ctc_loss=0.683, task_loss=3.499, contrastive_loss=0, total=4107.23, n_correct=2758.16, ppl=4.15, accuracy=67.154, wps=15978.5, ups=1.95, wpb=8214.5, bsz=294.3, num_updates=35200, lr=7.53778e-05, gnorm=0.565, clip=0, loss_scale=8, train_wall=51, gb_free=17.2, wall=21999
2023-08-22 19:11:52 | INFO | train_inner | epoch 024:   1414 / 1474 loss=1.932, trans_loss=4.835, nll_loss=2.056, w2v_ctc_loss=0.684, task_loss=3.446, contrastive_loss=0, total=4094.39, n_correct=2750.83, ppl=4.16, accuracy=67.185, wps=16183.9, ups=1.98, wpb=8188.8, bsz=292.9, num_updates=35300, lr=7.5271e-05, gnorm=0.588, clip=0, loss_scale=8, train_wall=50, gb_free=15.8, wall=22049
2023-08-22 19:12:23 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:4')
2023-08-22 19:12:45 | INFO | dev_st | epoch 024 | valid on 'dev_st' subset | loss 3.898 | trans_loss 5.176 | nll_loss 2.44 | w2v_ctc_loss 1.329 | task_loss 11.698 | contrastive_loss 0 | total 4003.4 | n_correct 2659.3 | ppl 5.43 | accuracy 66.426 | uer 17.54 | wer 19.511 | raw_wer 19.511 | bleu 21.69 | wps 2462.1 | wpb 4003.4 | bsz 141.8 | num_updates 35360 | best_bleu 21.82
2023-08-22 19:12:45 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 24 @ 35360 updates
2023-08-22 19:12:45 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.6900.pt
2023-08-22 19:12:48 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.6900.pt
2023-08-22 19:12:51 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.6900.pt (epoch 24 @ 35360 updates, score 21.69) (writing took 5.835166106000543 seconds)
2023-08-22 19:12:52 | INFO | fairseq_cli.train | end of epoch 24 (average epoch stats below)
2023-08-22 19:12:52 | INFO | train | epoch 024 | loss 1.925 | trans_loss 4.829 | nll_loss 2.047 | w2v_ctc_loss 0.672 | task_loss 3.297 | contrastive_loss 0 | total 4138.65 | n_correct 2784.1 | ppl 4.13 | accuracy 67.271 | wps 14861.2 | ups 1.8 | wpb 8277.3 | bsz 305.7 | num_updates 35360 | lr 7.52071e-05 | gnorm 0.581 | clip 0 | loss_scale 8 | train_wall 749 | gb_free 15.7 | wall 22109
2023-08-22 19:12:52 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 19:12:52 | INFO | fairseq.trainer | begin training epoch 25
2023-08-22 19:12:52 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 19:13:15 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-22 19:13:20 | INFO | train_inner | epoch 025:     41 / 1474 loss=1.917, trans_loss=4.821, nll_loss=2.037, w2v_ctc_loss=0.666, task_loss=3.178, contrastive_loss=0, total=4162.11, n_correct=2810.63, ppl=4.1, accuracy=67.529, wps=9522.7, ups=1.14, wpb=8324.2, bsz=310.7, num_updates=35400, lr=7.51646e-05, gnorm=0.588, clip=0, loss_scale=8, train_wall=51, gb_free=16.3, wall=22137
2023-08-22 19:13:32 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 19:14:11 | INFO | train_inner | epoch 025:    142 / 1474 loss=1.909, trans_loss=4.808, nll_loss=2.02, w2v_ctc_loss=0.657, task_loss=3.207, contrastive_loss=0, total=4137.77, n_correct=2805.18, ppl=4.06, accuracy=67.794, wps=16120.3, ups=1.95, wpb=8275.5, bsz=309.5, num_updates=35500, lr=7.50587e-05, gnorm=0.569, clip=0, loss_scale=4, train_wall=51, gb_free=16.9, wall=22188
2023-08-22 19:15:03 | INFO | train_inner | epoch 025:    242 / 1474 loss=1.917, trans_loss=4.814, nll_loss=2.027, w2v_ctc_loss=0.669, task_loss=3.381, contrastive_loss=0, total=4122.7, n_correct=2783.84, ppl=4.08, accuracy=67.525, wps=15934.6, ups=1.93, wpb=8245.4, bsz=302.9, num_updates=35600, lr=7.49532e-05, gnorm=0.645, clip=0, loss_scale=4, train_wall=51, gb_free=16.4, wall=22240
2023-08-22 19:15:54 | INFO | train_inner | epoch 025:    342 / 1474 loss=1.918, trans_loss=4.815, nll_loss=2.027, w2v_ctc_loss=0.663, task_loss=3.506, contrastive_loss=0, total=4132.6, n_correct=2790.51, ppl=4.08, accuracy=67.524, wps=16001.1, ups=1.94, wpb=8265.2, bsz=294.3, num_updates=35700, lr=7.48481e-05, gnorm=0.555, clip=0, loss_scale=4, train_wall=51, gb_free=16.7, wall=22291
2023-08-22 19:16:46 | INFO | train_inner | epoch 025:    442 / 1474 loss=1.926, trans_loss=4.817, nll_loss=2.03, w2v_ctc_loss=0.68, task_loss=3.474, contrastive_loss=0, total=4169.31, n_correct=2813.12, ppl=4.09, accuracy=67.472, wps=16179.1, ups=1.94, wpb=8338.6, bsz=296.4, num_updates=35800, lr=7.47435e-05, gnorm=0.549, clip=0, loss_scale=4, train_wall=51, gb_free=14.9, wall=22343
2023-08-22 19:17:37 | INFO | train_inner | epoch 025:    542 / 1474 loss=1.918, trans_loss=4.824, nll_loss=2.04, w2v_ctc_loss=0.666, task_loss=3.19, contrastive_loss=0, total=4157.91, n_correct=2806.51, ppl=4.11, accuracy=67.498, wps=16333.8, ups=1.96, wpb=8315.8, bsz=314.5, num_updates=35900, lr=7.46393e-05, gnorm=0.555, clip=0, loss_scale=4, train_wall=50, gb_free=15.1, wall=22394
2023-08-22 19:18:28 | INFO | train_inner | epoch 025:    642 / 1474 loss=1.916, trans_loss=4.812, nll_loss=2.026, w2v_ctc_loss=0.666, task_loss=3.271, contrastive_loss=0, total=4158.52, n_correct=2810.18, ppl=4.07, accuracy=67.576, wps=16352.9, ups=1.97, wpb=8317, bsz=309.9, num_updates=36000, lr=7.45356e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=50, gb_free=16, wall=22445
2023-08-22 19:18:28 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 19:18:50 | INFO | dev_st | epoch 025 | valid on 'dev_st' subset | loss 3.918 | trans_loss 5.188 | nll_loss 2.454 | w2v_ctc_loss 1.367 | task_loss 11.573 | contrastive_loss 0 | total 4003.4 | n_correct 2649.9 | ppl 5.48 | accuracy 66.191 | uer 17.809 | wer 19.914 | raw_wer 19.914 | bleu 21.63 | wps 2504.5 | wpb 4003.4 | bsz 141.8 | num_updates 36000 | best_bleu 21.82
2023-08-22 19:18:50 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 25 @ 36000 updates
2023-08-22 19:18:50 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_25_36000.pt
2023-08-22 19:18:52 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_25_36000.pt
2023-08-22 19:18:57 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_25_36000.pt (epoch 25 @ 36000 updates, score 21.63) (writing took 6.86103414900208 seconds)
2023-08-22 19:19:49 | INFO | train_inner | epoch 025:    742 / 1474 loss=1.915, trans_loss=4.812, nll_loss=2.025, w2v_ctc_loss=0.664, task_loss=3.315, contrastive_loss=0, total=4138.4, n_correct=2798.32, ppl=4.07, accuracy=67.618, wps=10243.6, ups=1.24, wpb=8276.8, bsz=304.5, num_updates=36100, lr=7.44323e-05, gnorm=0.534, clip=0, loss_scale=4, train_wall=51, gb_free=16.1, wall=22526
2023-08-22 19:20:40 | INFO | train_inner | epoch 025:    842 / 1474 loss=1.914, trans_loss=4.818, nll_loss=2.032, w2v_ctc_loss=0.665, task_loss=3.047, contrastive_loss=0, total=4171.94, n_correct=2819.15, ppl=4.09, accuracy=67.574, wps=16357, ups=1.96, wpb=8343.9, bsz=324, num_updates=36200, lr=7.43294e-05, gnorm=0.535, clip=0, loss_scale=4, train_wall=51, gb_free=15.3, wall=22577
2023-08-22 19:21:31 | INFO | train_inner | epoch 025:    942 / 1474 loss=1.917, trans_loss=4.821, nll_loss=2.037, w2v_ctc_loss=0.67, task_loss=3.175, contrastive_loss=0, total=4148.78, n_correct=2801.19, ppl=4.1, accuracy=67.518, wps=16142.5, ups=1.95, wpb=8297.6, bsz=314.3, num_updates=36300, lr=7.4227e-05, gnorm=0.58, clip=0, loss_scale=4, train_wall=51, gb_free=12, wall=22628
2023-08-22 19:22:22 | INFO | train_inner | epoch 025:   1042 / 1474 loss=1.918, trans_loss=4.825, nll_loss=2.041, w2v_ctc_loss=0.661, task_loss=3.274, contrastive_loss=0, total=4176.78, n_correct=2812.79, ppl=4.12, accuracy=67.344, wps=16249.7, ups=1.95, wpb=8353.6, bsz=310.2, num_updates=36400, lr=7.41249e-05, gnorm=0.523, clip=0, loss_scale=4, train_wall=51, gb_free=16.4, wall=22679
2023-08-22 19:23:13 | INFO | train_inner | epoch 025:   1142 / 1474 loss=1.918, trans_loss=4.819, nll_loss=2.034, w2v_ctc_loss=0.662, task_loss=3.531, contrastive_loss=0, total=4046.83, n_correct=2732.26, ppl=4.09, accuracy=67.516, wps=15990.6, ups=1.98, wpb=8093.7, bsz=287, num_updates=36500, lr=7.40233e-05, gnorm=0.519, clip=0, loss_scale=4, train_wall=50, gb_free=14.7, wall=22730
2023-08-22 19:24:04 | INFO | train_inner | epoch 025:   1242 / 1474 loss=1.918, trans_loss=4.824, nll_loss=2.04, w2v_ctc_loss=0.661, task_loss=3.363, contrastive_loss=0, total=4088.37, n_correct=2758.89, ppl=4.11, accuracy=67.481, wps=16156.7, ups=1.98, wpb=8176.7, bsz=295.1, num_updates=36600, lr=7.39221e-05, gnorm=0.534, clip=0, loss_scale=4, train_wall=50, gb_free=15.8, wall=22781
2023-08-22 19:24:55 | INFO | train_inner | epoch 025:   1342 / 1474 loss=1.918, trans_loss=4.82, nll_loss=2.035, w2v_ctc_loss=0.667, task_loss=3.263, contrastive_loss=0, total=4161.94, n_correct=2813.11, ppl=4.1, accuracy=67.591, wps=16246.3, ups=1.95, wpb=8323.9, bsz=307.5, num_updates=36700, lr=7.38213e-05, gnorm=0.569, clip=0, loss_scale=4, train_wall=51, gb_free=12.3, wall=22832
2023-08-22 19:25:47 | INFO | train_inner | epoch 025:   1442 / 1474 loss=1.925, trans_loss=4.835, nll_loss=2.055, w2v_ctc_loss=0.669, task_loss=3.301, contrastive_loss=0, total=4121.76, n_correct=2769.44, ppl=4.15, accuracy=67.191, wps=15862.3, ups=1.92, wpb=8243.5, bsz=308.1, num_updates=36800, lr=7.3721e-05, gnorm=0.53, clip=0, loss_scale=4, train_wall=52, gb_free=16.5, wall=22884
2023-08-22 19:26:03 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 19:26:26 | INFO | dev_st | epoch 025 | valid on 'dev_st' subset | loss 3.896 | trans_loss 5.177 | nll_loss 2.443 | w2v_ctc_loss 1.322 | task_loss 11.604 | contrastive_loss 0 | total 4003.4 | n_correct 2661.1 | ppl 5.44 | accuracy 66.471 | uer 17.328 | wer 19.421 | raw_wer 19.421 | bleu 22.33 | wps 2495.4 | wpb 4003.4 | bsz 141.8 | num_updates 36832 | best_bleu 22.33
2023-08-22 19:26:26 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 25 @ 36832 updates
2023-08-22 19:26:26 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 19:26:30 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt
2023-08-22 19:26:35 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_best.pt (epoch 25 @ 36832 updates, score 22.33) (writing took 8.874854885998502 seconds)
2023-08-22 19:26:35 | INFO | fairseq_cli.train | end of epoch 25 (average epoch stats below)
2023-08-22 19:26:35 | INFO | train | epoch 025 | loss 1.918 | trans_loss 4.819 | nll_loss 2.034 | w2v_ctc_loss 0.666 | task_loss 3.298 | contrastive_loss 0 | total 4138.59 | n_correct 2794.27 | ppl 4.09 | accuracy 67.517 | wps 14799.3 | ups 1.79 | wpb 8277.2 | bsz 305.7 | num_updates 36832 | lr 7.36889e-05 | gnorm 0.553 | clip 0 | loss_scale 4 | train_wall 749 | gb_free 13.9 | wall 22932
2023-08-22 19:26:35 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 19:26:35 | INFO | fairseq.trainer | begin training epoch 26
2023-08-22 19:26:35 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 19:27:16 | INFO | train_inner | epoch 026:     68 / 1474 loss=1.905, trans_loss=4.803, nll_loss=2.013, w2v_ctc_loss=0.652, task_loss=3.121, contrastive_loss=0, total=4167.28, n_correct=2828.66, ppl=4.04, accuracy=67.878, wps=9295.2, ups=1.12, wpb=8334.6, bsz=315.4, num_updates=36900, lr=7.3621e-05, gnorm=0.545, clip=0, loss_scale=4, train_wall=51, gb_free=16.3, wall=22974
2023-08-22 19:28:08 | INFO | train_inner | epoch 026:    168 / 1474 loss=1.898, trans_loss=4.802, nll_loss=2.013, w2v_ctc_loss=0.64, task_loss=2.9, contrastive_loss=0, total=4268.44, n_correct=2903.2, ppl=4.04, accuracy=68.015, wps=16637.1, ups=1.95, wpb=8536.9, bsz=338.3, num_updates=37000, lr=7.35215e-05, gnorm=0.491, clip=0, loss_scale=4, train_wall=51, gb_free=15.9, wall=23025
2023-08-22 19:28:59 | INFO | train_inner | epoch 026:    268 / 1474 loss=1.911, trans_loss=4.802, nll_loss=2.012, w2v_ctc_loss=0.664, task_loss=3.25, contrastive_loss=0, total=4127.46, n_correct=2798.47, ppl=4.03, accuracy=67.801, wps=16136, ups=1.95, wpb=8254.9, bsz=308, num_updates=37100, lr=7.34223e-05, gnorm=0.534, clip=0, loss_scale=4, train_wall=51, gb_free=15.7, wall=23076
2023-08-22 19:29:50 | INFO | train_inner | epoch 026:    368 / 1474 loss=1.91, trans_loss=4.807, nll_loss=2.019, w2v_ctc_loss=0.66, task_loss=3.165, contrastive_loss=0, total=4159.09, n_correct=2818.71, ppl=4.05, accuracy=67.772, wps=16422.7, ups=1.97, wpb=8318.2, bsz=313.5, num_updates=37200, lr=7.33236e-05, gnorm=0.567, clip=0, loss_scale=4, train_wall=50, gb_free=15.8, wall=23127
2023-08-22 19:30:41 | INFO | train_inner | epoch 026:    468 / 1474 loss=1.904, trans_loss=4.795, nll_loss=2.003, w2v_ctc_loss=0.656, task_loss=3.166, contrastive_loss=0, total=4167.54, n_correct=2836.34, ppl=4.01, accuracy=68.058, wps=16264.2, ups=1.95, wpb=8335.1, bsz=314.7, num_updates=37300, lr=7.32252e-05, gnorm=0.539, clip=0, loss_scale=4, train_wall=51, gb_free=17.4, wall=23178
2023-08-22 19:31:32 | INFO | train_inner | epoch 026:    568 / 1474 loss=1.914, trans_loss=4.807, nll_loss=2.018, w2v_ctc_loss=0.669, task_loss=3.295, contrastive_loss=0, total=4158.38, n_correct=2818.61, ppl=4.05, accuracy=67.781, wps=16249.9, ups=1.95, wpb=8316.8, bsz=303.9, num_updates=37400, lr=7.31272e-05, gnorm=0.574, clip=0, loss_scale=4, train_wall=51, gb_free=16.1, wall=23229
2023-08-22 19:32:23 | INFO | train_inner | epoch 026:    668 / 1474 loss=1.909, trans_loss=4.807, nll_loss=2.018, w2v_ctc_loss=0.652, task_loss=3.381, contrastive_loss=0, total=4132.34, n_correct=2799.27, ppl=4.05, accuracy=67.741, wps=16187.9, ups=1.96, wpb=8264.7, bsz=297.7, num_updates=37500, lr=7.30297e-05, gnorm=0.54, clip=0, loss_scale=8, train_wall=51, gb_free=16, wall=23280
2023-08-22 19:33:14 | INFO | train_inner | epoch 026:    768 / 1474 loss=1.914, trans_loss=4.812, nll_loss=2.025, w2v_ctc_loss=0.661, task_loss=3.338, contrastive_loss=0, total=4092.35, n_correct=2767.31, ppl=4.07, accuracy=67.622, wps=16064.6, ups=1.96, wpb=8184.7, bsz=300.1, num_updates=37600, lr=7.29325e-05, gnorm=0.602, clip=0, loss_scale=8, train_wall=51, gb_free=16.1, wall=23331
2023-08-22 19:34:05 | INFO | train_inner | epoch 026:    868 / 1474 loss=1.915, trans_loss=4.809, nll_loss=2.02, w2v_ctc_loss=0.668, task_loss=3.309, contrastive_loss=0, total=4176.13, n_correct=2824.75, ppl=4.06, accuracy=67.64, wps=16325.3, ups=1.95, wpb=8352.3, bsz=305.9, num_updates=37700, lr=7.28357e-05, gnorm=0.575, clip=0, loss_scale=8, train_wall=51, gb_free=16.5, wall=23382
2023-08-22 19:34:57 | INFO | train_inner | epoch 026:    968 / 1474 loss=1.913, trans_loss=4.814, nll_loss=2.027, w2v_ctc_loss=0.654, task_loss=3.393, contrastive_loss=0, total=4142.72, n_correct=2799.11, ppl=4.08, accuracy=67.567, wps=16035.6, ups=1.94, wpb=8285.4, bsz=300, num_updates=37800, lr=7.27393e-05, gnorm=0.603, clip=0, loss_scale=8, train_wall=51, gb_free=17.3, wall=23434
2023-08-22 19:35:48 | INFO | train_inner | epoch 026:   1068 / 1474 loss=1.913, trans_loss=4.81, nll_loss=2.022, w2v_ctc_loss=0.66, task_loss=3.474, contrastive_loss=0, total=4116.69, n_correct=2792.81, ppl=4.06, accuracy=67.841, wps=16061.5, ups=1.95, wpb=8233.4, bsz=294.1, num_updates=37900, lr=7.26433e-05, gnorm=0.542, clip=0, loss_scale=8, train_wall=51, gb_free=16, wall=23485
2023-08-22 19:36:40 | INFO | train_inner | epoch 026:   1168 / 1474 loss=1.917, trans_loss=4.819, nll_loss=2.034, w2v_ctc_loss=0.663, task_loss=3.439, contrastive_loss=0, total=4112.79, n_correct=2777.37, ppl=4.09, accuracy=67.53, wps=15943.3, ups=1.94, wpb=8225.6, bsz=299, num_updates=38000, lr=7.25476e-05, gnorm=0.712, clip=0, loss_scale=8, train_wall=51, gb_free=16.5, wall=23537
2023-08-22 19:36:40 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 19:37:03 | INFO | dev_st | epoch 026 | valid on 'dev_st' subset | loss 3.913 | trans_loss 5.191 | nll_loss 2.457 | w2v_ctc_loss 1.345 | task_loss 11.585 | contrastive_loss 0 | total 4003.4 | n_correct 2652.4 | ppl 5.49 | accuracy 66.254 | uer 17.84 | wer 19.705 | raw_wer 19.705 | bleu 21.64 | wps 2431.5 | wpb 4003.4 | bsz 141.8 | num_updates 38000 | best_bleu 22.33
2023-08-22 19:37:03 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 26 @ 38000 updates
2023-08-22 19:37:03 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_26_38000.pt
2023-08-22 19:37:05 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_26_38000.pt
2023-08-22 19:37:10 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_26_38000.pt (epoch 26 @ 38000 updates, score 21.64) (writing took 6.708522162996815 seconds)
2023-08-22 19:38:01 | INFO | train_inner | epoch 026:   1268 / 1474 loss=1.93, trans_loss=4.829, nll_loss=2.046, w2v_ctc_loss=0.683, task_loss=3.654, contrastive_loss=0, total=4005.82, n_correct=2695.87, ppl=4.13, accuracy=67.299, wps=9835.6, ups=1.23, wpb=8011.6, bsz=280.5, num_updates=38100, lr=7.24524e-05, gnorm=0.571, clip=0, loss_scale=8, train_wall=51, gb_free=16.6, wall=23618
2023-08-22 19:38:53 | INFO | train_inner | epoch 026:   1368 / 1474 loss=1.91, trans_loss=4.817, nll_loss=2.032, w2v_ctc_loss=0.651, task_loss=3.287, contrastive_loss=0, total=4158.84, n_correct=2815.41, ppl=4.09, accuracy=67.697, wps=16093.1, ups=1.93, wpb=8317.7, bsz=311.2, num_updates=38200, lr=7.23575e-05, gnorm=0.546, clip=0, loss_scale=8, train_wall=51, gb_free=13.3, wall=23670
2023-08-22 19:39:44 | INFO | train_inner | epoch 026:   1468 / 1474 loss=1.905, trans_loss=4.808, nll_loss=2.021, w2v_ctc_loss=0.651, task_loss=3.143, contrastive_loss=0, total=4151.66, n_correct=2816.01, ppl=4.06, accuracy=67.829, wps=16305.9, ups=1.96, wpb=8303.3, bsz=315.5, num_updates=38300, lr=7.22629e-05, gnorm=0.529, clip=0, loss_scale=8, train_wall=51, gb_free=17.2, wall=23721
2023-08-22 19:39:47 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 19:40:10 | INFO | dev_st | epoch 026 | valid on 'dev_st' subset | loss 3.898 | trans_loss 5.178 | nll_loss 2.443 | w2v_ctc_loss 1.323 | task_loss 11.622 | contrastive_loss 0 | total 4003.4 | n_correct 2659.4 | ppl 5.44 | accuracy 66.429 | uer 17.315 | wer 19.112 | raw_wer 19.112 | bleu 21.73 | wps 2488 | wpb 4003.4 | bsz 141.8 | num_updates 38306 | best_bleu 22.33
2023-08-22 19:40:10 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 26 @ 38306 updates
2023-08-22 19:40:10 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.7303.pt
2023-08-22 19:40:12 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.7303.pt
2023-08-22 19:40:15 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.7303.pt (epoch 26 @ 38306 updates, score 21.73) (writing took 5.650532733998261 seconds)
2023-08-22 19:40:15 | INFO | fairseq_cli.train | end of epoch 26 (average epoch stats below)
2023-08-22 19:40:15 | INFO | train | epoch 026 | loss 1.911 | trans_loss 4.809 | nll_loss 2.021 | w2v_ctc_loss 0.659 | task_loss 3.293 | contrastive_loss 0 | total 4138.65 | n_correct 2803.72 | ppl 4.06 | accuracy 67.745 | wps 14868 | ups 1.8 | wpb 8277.3 | bsz 305.7 | num_updates 38306 | lr 7.22573e-05 | gnorm 0.566 | clip 0 | loss_scale 8 | train_wall 749 | gb_free 15.6 | wall 23752
2023-08-22 19:40:16 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 19:40:16 | INFO | fairseq.trainer | begin training epoch 27
2023-08-22 19:40:16 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 19:41:10 | INFO | train_inner | epoch 027:     94 / 1474 loss=1.895, trans_loss=4.775, nll_loss=1.976, w2v_ctc_loss=0.64, task_loss=3.518, contrastive_loss=0, total=4072.63, n_correct=2789.26, ppl=3.93, accuracy=68.488, wps=9429.6, ups=1.16, wpb=8145.3, bsz=284.2, num_updates=38400, lr=7.21688e-05, gnorm=0.528, clip=0, loss_scale=8, train_wall=50, gb_free=16, wall=23807
2023-08-22 19:42:01 | INFO | train_inner | epoch 027:    194 / 1474 loss=1.896, trans_loss=4.789, nll_loss=1.995, w2v_ctc_loss=0.649, task_loss=3.149, contrastive_loss=0, total=4179.66, n_correct=2850.09, ppl=3.99, accuracy=68.19, wps=16373.7, ups=1.96, wpb=8359.3, bsz=321.7, num_updates=38500, lr=7.2075e-05, gnorm=0.533, clip=0, loss_scale=8, train_wall=51, gb_free=16.2, wall=23858
2023-08-22 19:42:53 | INFO | train_inner | epoch 027:    294 / 1474 loss=1.902, trans_loss=4.794, nll_loss=2.002, w2v_ctc_loss=0.652, task_loss=3.278, contrastive_loss=0, total=4173.27, n_correct=2844.42, ppl=4, accuracy=68.158, wps=16278, ups=1.95, wpb=8346.5, bsz=307, num_updates=38600, lr=7.19816e-05, gnorm=0.518, clip=0, loss_scale=8, train_wall=51, gb_free=16.6, wall=23910
2023-08-22 19:43:44 | INFO | train_inner | epoch 027:    394 / 1474 loss=1.909, trans_loss=4.802, nll_loss=2.011, w2v_ctc_loss=0.653, task_loss=3.433, contrastive_loss=0, total=4078.73, n_correct=2767.12, ppl=4.03, accuracy=67.843, wps=15734.6, ups=1.93, wpb=8157.5, bsz=297.5, num_updates=38700, lr=7.18885e-05, gnorm=0.559, clip=0, loss_scale=8, train_wall=51, gb_free=16, wall=23961
2023-08-22 19:44:36 | INFO | train_inner | epoch 027:    494 / 1474 loss=1.904, trans_loss=4.806, nll_loss=2.018, w2v_ctc_loss=0.651, task_loss=3.009, contrastive_loss=0, total=4245.37, n_correct=2883.3, ppl=4.05, accuracy=67.916, wps=16388.7, ups=1.93, wpb=8490.7, bsz=331.5, num_updates=38800, lr=7.17958e-05, gnorm=0.551, clip=0, loss_scale=8, train_wall=51, gb_free=16.6, wall=24013
2023-08-22 19:45:27 | INFO | train_inner | epoch 027:    594 / 1474 loss=1.905, trans_loss=4.797, nll_loss=2.005, w2v_ctc_loss=0.657, task_loss=3.226, contrastive_loss=0, total=4134.93, n_correct=2809.85, ppl=4.01, accuracy=67.954, wps=16236.6, ups=1.96, wpb=8269.9, bsz=312, num_updates=38900, lr=7.17035e-05, gnorm=0.547, clip=0, loss_scale=8, train_wall=51, gb_free=17.3, wall=24064
2023-08-22 19:46:18 | INFO | train_inner | epoch 027:    694 / 1474 loss=1.906, trans_loss=4.8, nll_loss=2.009, w2v_ctc_loss=0.655, task_loss=3.286, contrastive_loss=0, total=4162.17, n_correct=2827.46, ppl=4.03, accuracy=67.932, wps=16217.9, ups=1.95, wpb=8324.3, bsz=305.1, num_updates=39000, lr=7.16115e-05, gnorm=0.535, clip=0, loss_scale=8, train_wall=51, gb_free=15.1, wall=24116
2023-08-22 19:47:09 | INFO | train_inner | epoch 027:    794 / 1474 loss=1.91, trans_loss=4.801, nll_loss=2.01, w2v_ctc_loss=0.661, task_loss=3.453, contrastive_loss=0, total=4107.17, n_correct=2789.17, ppl=4.03, accuracy=67.91, wps=16167.7, ups=1.97, wpb=8214.3, bsz=294.3, num_updates=39100, lr=7.15199e-05, gnorm=0.567, clip=0, loss_scale=8, train_wall=50, gb_free=11.2, wall=24166
2023-08-22 19:48:00 | INFO | train_inner | epoch 027:    894 / 1474 loss=1.908, trans_loss=4.806, nll_loss=2.016, w2v_ctc_loss=0.65, task_loss=3.414, contrastive_loss=0, total=4101.4, n_correct=2787.42, ppl=4.05, accuracy=67.963, wps=16166.6, ups=1.97, wpb=8202.8, bsz=292.8, num_updates=39200, lr=7.14286e-05, gnorm=0.531, clip=0, loss_scale=8, train_wall=50, gb_free=16.1, wall=24217
2023-08-22 19:48:52 | INFO | train_inner | epoch 027:    994 / 1474 loss=1.903, trans_loss=4.801, nll_loss=2.011, w2v_ctc_loss=0.649, task_loss=3.188, contrastive_loss=0, total=4195.5, n_correct=2849.59, ppl=4.03, accuracy=67.92, wps=16223.6, ups=1.93, wpb=8391, bsz=315.9, num_updates=39300, lr=7.13376e-05, gnorm=0.505, clip=0, loss_scale=8, train_wall=51, gb_free=16.5, wall=24269
2023-08-22 19:49:43 | INFO | train_inner | epoch 027:   1094 / 1474 loss=1.903, trans_loss=4.798, nll_loss=2.007, w2v_ctc_loss=0.65, task_loss=3.314, contrastive_loss=0, total=4147.99, n_correct=2818.75, ppl=4.02, accuracy=67.955, wps=16135.4, ups=1.94, wpb=8296, bsz=304.7, num_updates=39400, lr=7.1247e-05, gnorm=0.543, clip=0, loss_scale=8, train_wall=51, gb_free=15.8, wall=24320
2023-08-22 19:50:34 | INFO | train_inner | epoch 027:   1194 / 1474 loss=1.913, trans_loss=4.806, nll_loss=2.017, w2v_ctc_loss=0.664, task_loss=3.451, contrastive_loss=0, total=4104.84, n_correct=2782.89, ppl=4.05, accuracy=67.795, wps=15994.8, ups=1.95, wpb=8209.7, bsz=297.2, num_updates=39500, lr=7.11568e-05, gnorm=0.558, clip=0, loss_scale=8, train_wall=51, gb_free=11.8, wall=24372
2023-08-22 19:51:25 | INFO | train_inner | epoch 027:   1294 / 1474 loss=1.909, trans_loss=4.805, nll_loss=2.016, w2v_ctc_loss=0.654, task_loss=3.488, contrastive_loss=0, total=4062.86, n_correct=2755.69, ppl=4.04, accuracy=67.826, wps=15946.1, ups=1.96, wpb=8125.7, bsz=293.6, num_updates=39600, lr=7.10669e-05, gnorm=0.526, clip=0, loss_scale=16, train_wall=51, gb_free=16.2, wall=24422
2023-08-22 19:52:16 | INFO | train_inner | epoch 027:   1394 / 1474 loss=1.903, trans_loss=4.804, nll_loss=2.014, w2v_ctc_loss=0.649, task_loss=3.094, contrastive_loss=0, total=4157.6, n_correct=2822.38, ppl=4.04, accuracy=67.885, wps=16465.3, ups=1.98, wpb=8315.2, bsz=314, num_updates=39700, lr=7.09773e-05, gnorm=0.528, clip=0, loss_scale=16, train_wall=50, gb_free=17.3, wall=24473
2023-08-22 19:52:30 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-22 19:52:57 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 19:53:20 | INFO | dev_st | epoch 027 | valid on 'dev_st' subset | loss 3.903 | trans_loss 5.176 | nll_loss 2.439 | w2v_ctc_loss 1.345 | task_loss 11.557 | contrastive_loss 0 | total 4003.4 | n_correct 2665.4 | ppl 5.42 | accuracy 66.578 | uer 17.586 | wer 19.492 | raw_wer 19.492 | bleu 22.03 | wps 2383.2 | wpb 4003.4 | bsz 141.8 | num_updates 39779 | best_bleu 22.33
2023-08-22 19:53:20 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 27 @ 39779 updates
2023-08-22 19:53:20 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_22.0306.pt
2023-08-22 19:53:22 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_22.0306.pt
2023-08-22 19:53:25 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_22.0306.pt (epoch 27 @ 39779 updates, score 22.03) (writing took 5.7340470620001724 seconds)
2023-08-22 19:53:26 | INFO | fairseq_cli.train | end of epoch 27 (average epoch stats below)
2023-08-22 19:53:26 | INFO | train | epoch 027 | loss 1.904 | trans_loss 4.799 | nll_loss 2.008 | w2v_ctc_loss 0.652 | task_loss 3.288 | contrastive_loss 0 | total 4138.4 | n_correct 2813.51 | ppl 4.02 | accuracy 67.985 | wps 15427 | ups 1.86 | wpb 8276.8 | bsz 305.7 | num_updates 39779 | lr 7.09068e-05 | gnorm 0.537 | clip 0 | loss_scale 8 | train_wall 748 | gb_free 17.5 | wall 24543
2023-08-22 19:53:26 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 19:53:26 | INFO | fairseq.trainer | begin training epoch 28
2023-08-22 19:53:26 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 19:53:44 | INFO | train_inner | epoch 028:     21 / 1474 loss=1.897, trans_loss=4.794, nll_loss=2.001, w2v_ctc_loss=0.642, task_loss=3.167, contrastive_loss=0, total=4108.2, n_correct=2800.55, ppl=4, accuracy=68.17, wps=9382.4, ups=1.14, wpb=8216.4, bsz=306, num_updates=39800, lr=7.08881e-05, gnorm=0.527, clip=0, loss_scale=8, train_wall=51, gb_free=15.2, wall=24561
2023-08-22 19:54:34 | INFO | train_inner | epoch 028:    121 / 1474 loss=1.895, trans_loss=4.775, nll_loss=1.976, w2v_ctc_loss=0.647, task_loss=3.461, contrastive_loss=0, total=4107.51, n_correct=2810.86, ppl=3.93, accuracy=68.432, wps=16166.2, ups=1.97, wpb=8215, bsz=291.1, num_updates=39900, lr=7.07992e-05, gnorm=0.523, clip=0, loss_scale=8, train_wall=50, gb_free=16.2, wall=24611
2023-08-22 19:55:25 | INFO | train_inner | epoch 028:    221 / 1474 loss=1.892, trans_loss=4.785, nll_loss=1.99, w2v_ctc_loss=0.639, task_loss=3.104, contrastive_loss=0, total=4193.44, n_correct=2867.66, ppl=3.97, accuracy=68.384, wps=16424.3, ups=1.96, wpb=8386.9, bsz=316.2, num_updates=40000, lr=7.07107e-05, gnorm=0.527, clip=0, loss_scale=8, train_wall=51, gb_free=16.7, wall=24662
2023-08-22 19:55:25 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 19:55:49 | INFO | dev_st | epoch 028 | valid on 'dev_st' subset | loss 3.919 | trans_loss 5.184 | nll_loss 2.449 | w2v_ctc_loss 1.379 | task_loss 11.513 | contrastive_loss 0 | total 4003.4 | n_correct 2660.6 | ppl 5.46 | accuracy 66.459 | uer 17.591 | wer 19.406 | raw_wer 19.406 | bleu 21.88 | wps 2375.5 | wpb 4003.4 | bsz 141.8 | num_updates 40000 | best_bleu 22.33
2023-08-22 19:55:49 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 28 @ 40000 updates
2023-08-22 19:55:49 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_28_40000.pt
2023-08-22 19:55:51 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_28_40000.pt
2023-08-22 19:55:56 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_28_40000.pt (epoch 28 @ 40000 updates, score 21.88) (writing took 6.792476050002733 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:0')
2023-08-22 19:56:48 | INFO | train_inner | epoch 028:    321 / 1474 loss=1.898, trans_loss=4.793, nll_loss=2, w2v_ctc_loss=0.636, task_loss=3.302, contrastive_loss=0, total=4131, n_correct=2808.47, ppl=4, accuracy=67.985, wps=9993.7, ups=1.21, wpb=8262, bsz=313.5, num_updates=40100, lr=7.06225e-05, gnorm=0.529, clip=0, loss_scale=8, train_wall=52, gb_free=16.5, wall=24745
2023-08-22 19:57:39 | INFO | train_inner | epoch 028:    421 / 1474 loss=1.899, trans_loss=4.783, nll_loss=1.986, w2v_ctc_loss=0.65, task_loss=3.391, contrastive_loss=0, total=4096.12, n_correct=2800.11, ppl=3.96, accuracy=68.36, wps=16078.9, ups=1.96, wpb=8192.2, bsz=296.6, num_updates=40200, lr=7.05346e-05, gnorm=0.518, clip=0, loss_scale=8, train_wall=51, gb_free=17.3, wall=24796
2023-08-22 19:58:30 | INFO | train_inner | epoch 028:    521 / 1474 loss=1.896, trans_loss=4.785, nll_loss=1.99, w2v_ctc_loss=0.642, task_loss=3.378, contrastive_loss=0, total=4109.15, n_correct=2802.33, ppl=3.97, accuracy=68.197, wps=16178, ups=1.97, wpb=8218.3, bsz=298.6, num_updates=40300, lr=7.0447e-05, gnorm=0.512, clip=0, loss_scale=8, train_wall=50, gb_free=14.7, wall=24847
2023-08-22 19:59:21 | INFO | train_inner | epoch 028:    621 / 1474 loss=1.901, trans_loss=4.796, nll_loss=2.003, w2v_ctc_loss=0.65, task_loss=3.321, contrastive_loss=0, total=4178.56, n_correct=2847.66, ppl=4.01, accuracy=68.149, wps=16331.8, ups=1.95, wpb=8357.1, bsz=304.4, num_updates=40400, lr=7.03598e-05, gnorm=0.524, clip=0, loss_scale=8, train_wall=51, gb_free=15.8, wall=24898
2023-08-22 20:00:13 | INFO | train_inner | epoch 028:    721 / 1474 loss=1.895, trans_loss=4.796, nll_loss=2.005, w2v_ctc_loss=0.642, task_loss=2.997, contrastive_loss=0, total=4184.74, n_correct=2850.23, ppl=4.01, accuracy=68.11, wps=16245.8, ups=1.94, wpb=8369.5, bsz=327.2, num_updates=40500, lr=7.02728e-05, gnorm=0.542, clip=0, loss_scale=8, train_wall=51, gb_free=16.3, wall=24950
2023-08-22 20:01:03 | INFO | train_inner | epoch 028:    821 / 1474 loss=1.894, trans_loss=4.789, nll_loss=1.995, w2v_ctc_loss=0.64, task_loss=3.234, contrastive_loss=0, total=4087.21, n_correct=2788.53, ppl=3.99, accuracy=68.226, wps=16110.3, ups=1.97, wpb=8174.4, bsz=304.8, num_updates=40600, lr=7.01862e-05, gnorm=0.534, clip=0, loss_scale=8, train_wall=50, gb_free=16.7, wall=25000
2023-08-22 20:01:55 | INFO | train_inner | epoch 028:    921 / 1474 loss=1.902, trans_loss=4.794, nll_loss=2.002, w2v_ctc_loss=0.65, task_loss=3.418, contrastive_loss=0, total=4119.18, n_correct=2803.27, ppl=4, accuracy=68.054, wps=15941, ups=1.93, wpb=8238.4, bsz=299.7, num_updates=40700, lr=7.01e-05, gnorm=0.535, clip=0, loss_scale=8, train_wall=51, gb_free=16.6, wall=25052
2023-08-22 20:02:46 | INFO | train_inner | epoch 028:   1021 / 1474 loss=1.903, trans_loss=4.795, nll_loss=2.002, w2v_ctc_loss=0.653, task_loss=3.211, contrastive_loss=0, total=4174.98, n_correct=2843.49, ppl=4.01, accuracy=68.108, wps=16339.5, ups=1.96, wpb=8350, bsz=310.9, num_updates=40800, lr=7.0014e-05, gnorm=0.531, clip=0, loss_scale=8, train_wall=51, gb_free=16.8, wall=25103
2023-08-22 20:03:37 | INFO | train_inner | epoch 028:   1121 / 1474 loss=1.894, trans_loss=4.787, nll_loss=1.994, w2v_ctc_loss=0.642, task_loss=3.153, contrastive_loss=0, total=4222.19, n_correct=2878.56, ppl=3.98, accuracy=68.177, wps=16459.8, ups=1.95, wpb=8444.4, bsz=321.5, num_updates=40900, lr=6.99284e-05, gnorm=0.529, clip=0, loss_scale=8, train_wall=51, gb_free=17.5, wall=25154
2023-08-22 20:04:28 | INFO | train_inner | epoch 028:   1221 / 1474 loss=1.895, trans_loss=4.792, nll_loss=1.999, w2v_ctc_loss=0.639, task_loss=3.247, contrastive_loss=0, total=4104.72, n_correct=2801.26, ppl=4, accuracy=68.245, wps=16149.1, ups=1.97, wpb=8209.4, bsz=305.5, num_updates=41000, lr=6.9843e-05, gnorm=0.52, clip=0, loss_scale=8, train_wall=50, gb_free=15.3, wall=25205
2023-08-22 20:05:20 | INFO | train_inner | epoch 028:   1321 / 1474 loss=1.908, trans_loss=4.795, nll_loss=2.001, w2v_ctc_loss=0.657, task_loss=3.647, contrastive_loss=0, total=4074.43, n_correct=2771.11, ppl=4, accuracy=68.012, wps=15854.9, ups=1.95, wpb=8148.9, bsz=282.9, num_updates=41100, lr=6.9758e-05, gnorm=0.557, clip=0, loss_scale=8, train_wall=51, gb_free=17.5, wall=25257
2023-08-22 20:06:11 | INFO | train_inner | epoch 028:   1421 / 1474 loss=1.898, trans_loss=4.789, nll_loss=1.994, w2v_ctc_loss=0.642, task_loss=3.403, contrastive_loss=0, total=4156.52, n_correct=2833.38, ppl=3.98, accuracy=68.167, wps=16235.2, ups=1.95, wpb=8313, bsz=300.8, num_updates=41200, lr=6.96733e-05, gnorm=0.509, clip=0, loss_scale=8, train_wall=51, gb_free=17.4, wall=25308
2023-08-22 20:06:38 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:1')
2023-08-22 20:07:01 | INFO | dev_st | epoch 028 | valid on 'dev_st' subset | loss 3.904 | trans_loss 5.182 | nll_loss 2.446 | w2v_ctc_loss 1.334 | task_loss 11.599 | contrastive_loss 0 | total 4003.4 | n_correct 2659.9 | ppl 5.45 | accuracy 66.441 | uer 17.405 | wer 19.28 | raw_wer 19.28 | bleu 21.92 | wps 2457.1 | wpb 4003.4 | bsz 141.8 | num_updates 41253 | best_bleu 22.33
2023-08-22 20:07:01 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 28 @ 41253 updates
2023-08-22 20:07:01 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.9202.pt
2023-08-22 20:07:03 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.9202.pt
2023-08-22 20:07:07 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.9202.pt (epoch 28 @ 41253 updates, score 21.92) (writing took 5.7348290879999695 seconds)
2023-08-22 20:07:07 | INFO | fairseq_cli.train | end of epoch 28 (average epoch stats below)
2023-08-22 20:07:07 | INFO | train | epoch 028 | loss 1.898 | trans_loss 4.789 | nll_loss 1.995 | w2v_ctc_loss 0.645 | task_loss 3.289 | contrastive_loss 0 | total 4138.65 | n_correct 2822.53 | ppl 3.99 | accuracy 68.199 | wps 14858.3 | ups 1.8 | wpb 8277.3 | bsz 305.7 | num_updates 41253 | lr 6.96285e-05 | gnorm 0.528 | clip 0 | loss_scale 8 | train_wall 748 | gb_free 16.1 | wall 25364
2023-08-22 20:07:07 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 20:07:07 | INFO | fairseq.trainer | begin training epoch 29
2023-08-22 20:07:07 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 20:07:38 | INFO | train_inner | epoch 029:     47 / 1474 loss=1.893, trans_loss=4.779, nll_loss=1.983, w2v_ctc_loss=0.648, task_loss=3.18, contrastive_loss=0, total=4169.02, n_correct=2854.17, ppl=3.95, accuracy=68.461, wps=9539, ups=1.14, wpb=8338, bsz=315.1, num_updates=41300, lr=6.95889e-05, gnorm=0.556, clip=0, loss_scale=8, train_wall=51, gb_free=15.6, wall=25395
2023-08-22 20:08:30 | INFO | train_inner | epoch 029:    147 / 1474 loss=1.898, trans_loss=4.785, nll_loss=1.989, w2v_ctc_loss=0.651, task_loss=3.284, contrastive_loss=0, total=4110.03, n_correct=2806.42, ppl=3.97, accuracy=68.282, wps=15993.7, ups=1.95, wpb=8220.1, bsz=305.5, num_updates=41400, lr=6.95048e-05, gnorm=0.558, clip=0, loss_scale=8, train_wall=51, gb_free=16.2, wall=25447
2023-08-22 20:09:21 | INFO | train_inner | epoch 029:    247 / 1474 loss=1.879, trans_loss=4.772, nll_loss=1.973, w2v_ctc_loss=0.622, task_loss=2.988, contrastive_loss=0, total=4197.89, n_correct=2878.18, ppl=3.93, accuracy=68.563, wps=16336.9, ups=1.95, wpb=8395.8, bsz=329.5, num_updates=41500, lr=6.9421e-05, gnorm=0.517, clip=0, loss_scale=8, train_wall=51, gb_free=17.2, wall=25498
2023-08-22 20:10:12 | INFO | train_inner | epoch 029:    347 / 1474 loss=1.901, trans_loss=4.788, nll_loss=1.993, w2v_ctc_loss=0.653, task_loss=3.539, contrastive_loss=0, total=4094.4, n_correct=2796.11, ppl=3.98, accuracy=68.291, wps=16023.2, ups=1.96, wpb=8188.8, bsz=291.2, num_updates=41600, lr=6.93375e-05, gnorm=0.546, clip=0, loss_scale=8, train_wall=51, gb_free=16.1, wall=25549
2023-08-22 20:11:03 | INFO | train_inner | epoch 029:    447 / 1474 loss=1.882, trans_loss=4.762, nll_loss=1.959, w2v_ctc_loss=0.631, task_loss=3.15, contrastive_loss=0, total=4157.41, n_correct=2859.6, ppl=3.89, accuracy=68.783, wps=16304.6, ups=1.96, wpb=8314.8, bsz=308.5, num_updates=41700, lr=6.92543e-05, gnorm=0.577, clip=0, loss_scale=8, train_wall=51, gb_free=14.4, wall=25600
2023-08-22 20:11:05 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 20:11:55 | INFO | train_inner | epoch 029:    548 / 1474 loss=1.901, trans_loss=4.789, nll_loss=1.994, w2v_ctc_loss=0.645, task_loss=3.497, contrastive_loss=0, total=4154.77, n_correct=2831.21, ppl=3.98, accuracy=68.144, wps=15882.2, ups=1.91, wpb=8309.5, bsz=294.6, num_updates=41800, lr=6.91714e-05, gnorm=0.563, clip=0, loss_scale=4, train_wall=52, gb_free=16.5, wall=25653
2023-08-22 20:12:46 | INFO | train_inner | epoch 029:    648 / 1474 loss=1.887, trans_loss=4.776, nll_loss=1.979, w2v_ctc_loss=0.636, task_loss=3.102, contrastive_loss=0, total=4139.5, n_correct=2834.31, ppl=3.94, accuracy=68.47, wps=16246.6, ups=1.96, wpb=8279, bsz=318.8, num_updates=41900, lr=6.90889e-05, gnorm=0.524, clip=0, loss_scale=4, train_wall=51, gb_free=15.9, wall=25703
2023-08-22 20:13:38 | INFO | train_inner | epoch 029:    748 / 1474 loss=1.887, trans_loss=4.777, nll_loss=1.979, w2v_ctc_loss=0.637, task_loss=3.052, contrastive_loss=0, total=4241.03, n_correct=2902.98, ppl=3.94, accuracy=68.45, wps=16422, ups=1.94, wpb=8482.1, bsz=328.7, num_updates=42000, lr=6.90066e-05, gnorm=0.53, clip=0, loss_scale=4, train_wall=51, gb_free=15.3, wall=25755
2023-08-22 20:13:38 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 20:14:01 | INFO | dev_st | epoch 029 | valid on 'dev_st' subset | loss 3.91 | trans_loss 5.173 | nll_loss 2.436 | w2v_ctc_loss 1.375 | task_loss 11.608 | contrastive_loss 0 | total 4003.4 | n_correct 2668.5 | ppl 5.41 | accuracy 66.656 | uer 17.363 | wer 19.175 | raw_wer 19.175 | bleu 21.93 | wps 2417.3 | wpb 4003.4 | bsz 141.8 | num_updates 42000 | best_bleu 22.33
2023-08-22 20:14:01 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 29 @ 42000 updates
2023-08-22 20:14:01 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_29_42000.pt
2023-08-22 20:14:04 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_29_42000.pt
2023-08-22 20:14:08 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_29_42000.pt (epoch 29 @ 42000 updates, score 21.93) (writing took 6.83609133599748 seconds)
2023-08-22 20:14:59 | INFO | train_inner | epoch 029:    848 / 1474 loss=1.899, trans_loss=4.791, nll_loss=1.997, w2v_ctc_loss=0.641, task_loss=3.611, contrastive_loss=0, total=4031.53, n_correct=2747.8, ppl=3.99, accuracy=68.158, wps=9927.1, ups=1.23, wpb=8063.1, bsz=282.9, num_updates=42100, lr=6.89246e-05, gnorm=0.548, clip=0, loss_scale=4, train_wall=50, gb_free=16.1, wall=25836
2023-08-22 20:15:50 | INFO | train_inner | epoch 029:    948 / 1474 loss=1.9, trans_loss=4.787, nll_loss=1.992, w2v_ctc_loss=0.649, task_loss=3.413, contrastive_loss=0, total=4082.22, n_correct=2785.02, ppl=3.98, accuracy=68.223, wps=16033.7, ups=1.96, wpb=8164.4, bsz=293.3, num_updates=42200, lr=6.88428e-05, gnorm=0.558, clip=0, loss_scale=4, train_wall=50, gb_free=15.9, wall=25887
2023-08-22 20:16:42 | INFO | train_inner | epoch 029:   1048 / 1474 loss=1.89, trans_loss=4.779, nll_loss=1.982, w2v_ctc_loss=0.637, task_loss=3.267, contrastive_loss=0, total=4134.44, n_correct=2829.71, ppl=3.95, accuracy=68.442, wps=16089.2, ups=1.95, wpb=8268.9, bsz=307.7, num_updates=42300, lr=6.87614e-05, gnorm=0.564, clip=0, loss_scale=4, train_wall=51, gb_free=16.7, wall=25939
2023-08-22 20:17:32 | INFO | train_inner | epoch 029:   1148 / 1474 loss=1.905, trans_loss=4.793, nll_loss=1.999, w2v_ctc_loss=0.655, task_loss=3.593, contrastive_loss=0, total=4080.4, n_correct=2777.61, ppl=4, accuracy=68.072, wps=16046.3, ups=1.97, wpb=8160.8, bsz=285.2, num_updates=42400, lr=6.86803e-05, gnorm=0.674, clip=0, loss_scale=4, train_wall=50, gb_free=11.7, wall=25990
2023-08-22 20:18:24 | INFO | train_inner | epoch 029:   1248 / 1474 loss=1.898, trans_loss=4.791, nll_loss=1.997, w2v_ctc_loss=0.647, task_loss=3.307, contrastive_loss=0, total=4158.63, n_correct=2836.53, ppl=3.99, accuracy=68.208, wps=16278.7, ups=1.96, wpb=8317.3, bsz=301.6, num_updates=42500, lr=6.85994e-05, gnorm=0.599, clip=0, loss_scale=4, train_wall=51, gb_free=16.3, wall=26041
2023-08-22 20:19:15 | INFO | train_inner | epoch 029:   1348 / 1474 loss=1.896, trans_loss=4.783, nll_loss=1.988, w2v_ctc_loss=0.646, task_loss=3.254, contrastive_loss=0, total=4159.66, n_correct=2839.59, ppl=3.97, accuracy=68.265, wps=16183.8, ups=1.95, wpb=8319.3, bsz=308.6, num_updates=42600, lr=6.85189e-05, gnorm=0.753, clip=0, loss_scale=4, train_wall=51, gb_free=16.3, wall=26092
2023-08-22 20:20:06 | INFO | train_inner | epoch 029:   1448 / 1474 loss=1.893, trans_loss=4.779, nll_loss=1.983, w2v_ctc_loss=0.643, task_loss=3.18, contrastive_loss=0, total=4169.01, n_correct=2849.11, ppl=3.95, accuracy=68.34, wps=16371.7, ups=1.96, wpb=8338, bsz=314.2, num_updates=42700, lr=6.84386e-05, gnorm=0.534, clip=0, loss_scale=4, train_wall=51, gb_free=17.5, wall=26143
2023-08-22 20:20:19 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 20:20:42 | INFO | dev_st | epoch 029 | valid on 'dev_st' subset | loss 3.896 | trans_loss 5.174 | nll_loss 2.435 | w2v_ctc_loss 1.326 | task_loss 11.523 | contrastive_loss 0 | total 4003.4 | n_correct 2667.5 | ppl 5.41 | accuracy 66.631 | uer 17.15 | wer 18.914 | raw_wer 18.914 | bleu 21.82 | wps 2469.8 | wpb 4003.4 | bsz 141.8 | num_updates 42726 | best_bleu 22.33
2023-08-22 20:20:42 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 29 @ 42726 updates
2023-08-22 20:20:42 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.8200.pt
2023-08-22 20:20:44 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.8200.pt
2023-08-22 20:20:47 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.8200.pt (epoch 29 @ 42726 updates, score 21.82) (writing took 5.643084189003275 seconds)
2023-08-22 20:20:48 | INFO | fairseq_cli.train | end of epoch 29 (average epoch stats below)
2023-08-22 20:20:48 | INFO | train | epoch 029 | loss 1.894 | trans_loss 4.782 | nll_loss 1.985 | w2v_ctc_loss 0.642 | task_loss 3.286 | contrastive_loss 0 | total 4138.52 | n_correct 2828.71 | ppl 3.96 | accuracy 68.351 | wps 14856.2 | ups 1.79 | wpb 8277 | bsz 305.7 | num_updates 42726 | lr 6.84178e-05 | gnorm 0.574 | clip 0 | loss_scale 4 | train_wall 748 | gb_free 15.7 | wall 26185
2023-08-22 20:20:48 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 20:20:48 | INFO | fairseq.trainer | begin training epoch 30
2023-08-22 20:20:48 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 20:21:33 | INFO | train_inner | epoch 030:     74 / 1474 loss=1.884, trans_loss=4.771, nll_loss=1.972, w2v_ctc_loss=0.628, task_loss=3.15, contrastive_loss=0, total=4172.13, n_correct=2860.09, ppl=3.92, accuracy=68.552, wps=9605.3, ups=1.15, wpb=8344.3, bsz=317.1, num_updates=42800, lr=6.83586e-05, gnorm=0.544, clip=0, loss_scale=4, train_wall=51, gb_free=15.5, wall=26230
2023-08-22 20:22:24 | INFO | train_inner | epoch 030:    174 / 1474 loss=1.881, trans_loss=4.758, nll_loss=1.954, w2v_ctc_loss=0.635, task_loss=3.061, contrastive_loss=0, total=4211.56, n_correct=2898, ppl=3.88, accuracy=68.811, wps=16480.3, ups=1.96, wpb=8423.1, bsz=320.5, num_updates=42900, lr=6.82789e-05, gnorm=0.578, clip=0, loss_scale=4, train_wall=51, gb_free=16.6, wall=26281
2023-08-22 20:23:15 | INFO | train_inner | epoch 030:    274 / 1474 loss=1.894, trans_loss=4.775, nll_loss=1.976, w2v_ctc_loss=0.647, task_loss=3.425, contrastive_loss=0, total=4115.07, n_correct=2821.34, ppl=3.93, accuracy=68.561, wps=16247.3, ups=1.97, wpb=8230.1, bsz=293.2, num_updates=43000, lr=6.81994e-05, gnorm=0.581, clip=0, loss_scale=4, train_wall=50, gb_free=15.4, wall=26332
2023-08-22 20:24:06 | INFO | train_inner | epoch 030:    374 / 1474 loss=1.882, trans_loss=4.763, nll_loss=1.961, w2v_ctc_loss=0.631, task_loss=3.257, contrastive_loss=0, total=4184.54, n_correct=2882.29, ppl=3.89, accuracy=68.879, wps=16270.2, ups=1.94, wpb=8369.1, bsz=309.3, num_updates=43100, lr=6.81203e-05, gnorm=0.584, clip=0, loss_scale=4, train_wall=51, gb_free=17, wall=26383
2023-08-22 20:24:56 | INFO | train_inner | epoch 030:    474 / 1474 loss=1.881, trans_loss=4.767, nll_loss=1.967, w2v_ctc_loss=0.627, task_loss=3.177, contrastive_loss=0, total=4121.08, n_correct=2832.56, ppl=3.91, accuracy=68.733, wps=16373.3, ups=1.99, wpb=8242.2, bsz=311.1, num_updates=43200, lr=6.80414e-05, gnorm=0.552, clip=0, loss_scale=4, train_wall=50, gb_free=14.4, wall=26433
2023-08-22 20:25:47 | INFO | train_inner | epoch 030:    574 / 1474 loss=1.89, trans_loss=4.775, nll_loss=1.977, w2v_ctc_loss=0.641, task_loss=3.196, contrastive_loss=0, total=4162.58, n_correct=2851.77, ppl=3.94, accuracy=68.51, wps=16413.3, ups=1.97, wpb=8325.2, bsz=312.1, num_updates=43300, lr=6.79628e-05, gnorm=0.629, clip=0, loss_scale=4, train_wall=50, gb_free=14.9, wall=26484
2023-08-22 20:26:38 | INFO | train_inner | epoch 030:    674 / 1474 loss=1.891, trans_loss=4.774, nll_loss=1.974, w2v_ctc_loss=0.646, task_loss=3.251, contrastive_loss=0, total=4192, n_correct=2869.28, ppl=3.93, accuracy=68.447, wps=16358.7, ups=1.95, wpb=8384, bsz=315.3, num_updates=43400, lr=6.78844e-05, gnorm=0.539, clip=0, loss_scale=4, train_wall=51, gb_free=15.3, wall=26535
2023-08-22 20:27:30 | INFO | train_inner | epoch 030:    774 / 1474 loss=1.896, trans_loss=4.779, nll_loss=1.982, w2v_ctc_loss=0.65, task_loss=3.359, contrastive_loss=0, total=4103.26, n_correct=2804.14, ppl=3.95, accuracy=68.339, wps=15859.3, ups=1.93, wpb=8206.5, bsz=302.6, num_updates=43500, lr=6.78064e-05, gnorm=0.622, clip=0, loss_scale=4, train_wall=51, gb_free=16, wall=26587
2023-08-22 20:28:21 | INFO | train_inner | epoch 030:    874 / 1474 loss=1.894, trans_loss=4.777, nll_loss=1.98, w2v_ctc_loss=0.642, task_loss=3.372, contrastive_loss=0, total=4111.51, n_correct=2816.19, ppl=3.94, accuracy=68.495, wps=16152.3, ups=1.96, wpb=8223, bsz=297.8, num_updates=43600, lr=6.77285e-05, gnorm=0.562, clip=0, loss_scale=4, train_wall=51, gb_free=15.8, wall=26638
2023-08-22 20:29:12 | INFO | train_inner | epoch 030:    974 / 1474 loss=1.897, trans_loss=4.783, nll_loss=1.987, w2v_ctc_loss=0.646, task_loss=3.398, contrastive_loss=0, total=4125.95, n_correct=2817.55, ppl=3.96, accuracy=68.289, wps=16138.1, ups=1.96, wpb=8251.9, bsz=298.7, num_updates=43700, lr=6.7651e-05, gnorm=0.587, clip=0, loss_scale=4, train_wall=51, gb_free=16.3, wall=26689
2023-08-22 20:30:04 | INFO | train_inner | epoch 030:   1074 / 1474 loss=1.9, trans_loss=4.783, nll_loss=1.986, w2v_ctc_loss=0.643, task_loss=3.687, contrastive_loss=0, total=4096.17, n_correct=2794.42, ppl=3.96, accuracy=68.22, wps=15784.2, ups=1.93, wpb=8192.3, bsz=281.5, num_updates=43800, lr=6.75737e-05, gnorm=0.565, clip=0, loss_scale=8, train_wall=52, gb_free=15.9, wall=26741
2023-08-22 20:30:34 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 20:30:56 | INFO | train_inner | epoch 030:   1175 / 1474 loss=1.883, trans_loss=4.772, nll_loss=1.974, w2v_ctc_loss=0.628, task_loss=3.187, contrastive_loss=0, total=4165.21, n_correct=2860.32, ppl=3.93, accuracy=68.672, wps=16025.3, ups=1.92, wpb=8330.4, bsz=313.6, num_updates=43900, lr=6.74967e-05, gnorm=0.546, clip=0, loss_scale=4, train_wall=52, gb_free=16.6, wall=26793
2023-08-22 20:31:48 | INFO | train_inner | epoch 030:   1275 / 1474 loss=1.898, trans_loss=4.78, nll_loss=1.983, w2v_ctc_loss=0.647, task_loss=3.634, contrastive_loss=0, total=4039.35, n_correct=2762.04, ppl=3.95, accuracy=68.378, wps=15672.6, ups=1.94, wpb=8078.7, bsz=284.7, num_updates=44000, lr=6.742e-05, gnorm=0.55, clip=0, loss_scale=4, train_wall=51, gb_free=16.1, wall=26845
2023-08-22 20:31:48 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 20:32:11 | INFO | dev_st | epoch 030 | valid on 'dev_st' subset | loss 3.889 | trans_loss 5.17 | nll_loss 2.429 | w2v_ctc_loss 1.314 | task_loss 11.641 | contrastive_loss 0 | total 4003.4 | n_correct 2666.8 | ppl 5.38 | accuracy 66.613 | uer 17.174 | wer 19.056 | raw_wer 19.056 | bleu 22.05 | wps 2408.1 | wpb 4003.4 | bsz 141.8 | num_updates 44000 | best_bleu 22.33
2023-08-22 20:32:11 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 30 @ 44000 updates
2023-08-22 20:32:11 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_30_44000.pt
2023-08-22 20:32:13 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_30_44000.pt
2023-08-22 20:32:17 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_30_44000.pt (epoch 30 @ 44000 updates, score 22.05) (writing took 6.640303131003748 seconds)
2023-08-22 20:33:09 | INFO | train_inner | epoch 030:   1375 / 1474 loss=1.883, trans_loss=4.773, nll_loss=1.975, w2v_ctc_loss=0.633, task_loss=3.101, contrastive_loss=0, total=4164.49, n_correct=2858.34, ppl=3.93, accuracy=68.636, wps=10281.7, ups=1.23, wpb=8329, bsz=321.7, num_updates=44100, lr=6.73435e-05, gnorm=0.531, clip=0, loss_scale=4, train_wall=50, gb_free=15, wall=26926
2023-08-22 20:33:59 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 20:34:22 | INFO | dev_st | epoch 030 | valid on 'dev_st' subset | loss 3.892 | trans_loss 5.178 | nll_loss 2.439 | w2v_ctc_loss 1.306 | task_loss 11.606 | contrastive_loss 0 | total 4003.4 | n_correct 2664.2 | ppl 5.42 | accuracy 66.548 | uer 17.424 | wer 19.369 | raw_wer 19.369 | bleu 21.83 | wps 2465.6 | wpb 4003.4 | bsz 141.8 | num_updates 44199 | best_bleu 22.33
2023-08-22 20:34:22 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 30 @ 44199 updates
2023-08-22 20:34:22 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.8303.pt
2023-08-22 20:34:24 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.8303.pt
2023-08-22 20:34:27 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_21.8303.pt (epoch 30 @ 44199 updates, score 21.83) (writing took 5.65987625499838 seconds)
2023-08-22 20:34:27 | INFO | fairseq_cli.train | end of epoch 30 (average epoch stats below)
2023-08-22 20:34:27 | INFO | train | epoch 030 | loss 1.889 | trans_loss 4.774 | nll_loss 1.975 | w2v_ctc_loss 0.638 | task_loss 3.293 | contrastive_loss 0 | total 4138.52 | n_correct 2836.2 | ppl 3.93 | accuracy 68.532 | wps 14869.1 | ups 1.8 | wpb 8277 | bsz 305.7 | num_updates 44199 | lr 6.7268e-05 | gnorm 0.571 | clip 0 | loss_scale 4 | train_wall 748 | gb_free 16.8 | wall 27005
2023-08-22 20:34:28 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 20:34:28 | INFO | fairseq.trainer | begin training epoch 31
2023-08-22 20:34:28 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 20:34:36 | INFO | train_inner | epoch 031:      1 / 1474 loss=1.883, trans_loss=4.776, nll_loss=1.979, w2v_ctc_loss=0.624, task_loss=3.087, contrastive_loss=0, total=4125.07, n_correct=2824.06, ppl=3.94, accuracy=68.461, wps=9487.9, ups=1.15, wpb=8250.1, bsz=315.2, num_updates=44200, lr=6.72673e-05, gnorm=0.581, clip=0, loss_scale=4, train_wall=50, gb_free=15.4, wall=27013
2023-08-22 20:35:26 | INFO | train_inner | epoch 031:    101 / 1474 loss=1.887, trans_loss=4.763, nll_loss=1.961, w2v_ctc_loss=0.639, task_loss=3.496, contrastive_loss=0, total=4087.45, n_correct=2810.76, ppl=3.89, accuracy=68.766, wps=16064.8, ups=1.97, wpb=8174.9, bsz=291.9, num_updates=44300, lr=6.71913e-05, gnorm=0.572, clip=0, loss_scale=4, train_wall=50, gb_free=15.7, wall=27063
2023-08-22 20:36:17 | INFO | train_inner | epoch 031:    201 / 1474 loss=1.884, trans_loss=4.764, nll_loss=1.961, w2v_ctc_loss=0.633, task_loss=3.42, contrastive_loss=0, total=4137.8, n_correct=2843.98, ppl=3.89, accuracy=68.732, wps=16254, ups=1.96, wpb=8275.6, bsz=298.1, num_updates=44400, lr=6.71156e-05, gnorm=0.585, clip=0, loss_scale=4, train_wall=51, gb_free=15, wall=27114
2023-08-22 20:37:09 | INFO | train_inner | epoch 031:    301 / 1474 loss=1.883, trans_loss=4.759, nll_loss=1.956, w2v_ctc_loss=0.634, task_loss=3.396, contrastive_loss=0, total=4138.27, n_correct=2846.17, ppl=3.88, accuracy=68.777, wps=16044.8, ups=1.94, wpb=8276.5, bsz=300.1, num_updates=44500, lr=6.70402e-05, gnorm=0.592, clip=0, loss_scale=4, train_wall=51, gb_free=15, wall=27166
2023-08-22 20:38:00 | INFO | train_inner | epoch 031:    401 / 1474 loss=1.887, trans_loss=4.77, nll_loss=1.97, w2v_ctc_loss=0.63, task_loss=3.582, contrastive_loss=0, total=4098.88, n_correct=2815.28, ppl=3.92, accuracy=68.684, wps=16100.4, ups=1.96, wpb=8197.8, bsz=286.9, num_updates=44600, lr=6.6965e-05, gnorm=0.541, clip=0, loss_scale=4, train_wall=51, gb_free=16.7, wall=27217
2023-08-22 20:38:51 | INFO | train_inner | epoch 031:    501 / 1474 loss=1.884, trans_loss=4.762, nll_loss=1.959, w2v_ctc_loss=0.637, task_loss=3.396, contrastive_loss=0, total=4123.26, n_correct=2833.69, ppl=3.89, accuracy=68.725, wps=16075.5, ups=1.95, wpb=8246.5, bsz=302.9, num_updates=44700, lr=6.689e-05, gnorm=0.536, clip=0, loss_scale=4, train_wall=51, gb_free=16.4, wall=27268
2023-08-22 20:39:42 | INFO | train_inner | epoch 031:    601 / 1474 loss=1.885, trans_loss=4.763, nll_loss=1.961, w2v_ctc_loss=0.634, task_loss=3.499, contrastive_loss=0, total=4069.38, n_correct=2799.57, ppl=3.89, accuracy=68.796, wps=15878.5, ups=1.95, wpb=8138.8, bsz=291.2, num_updates=44800, lr=6.68153e-05, gnorm=0.596, clip=0, loss_scale=4, train_wall=51, gb_free=17.1, wall=27319
2023-08-22 20:40:33 | INFO | train_inner | epoch 031:    701 / 1474 loss=1.878, trans_loss=4.761, nll_loss=1.958, w2v_ctc_loss=0.626, task_loss=3.111, contrastive_loss=0, total=4211.5, n_correct=2900.99, ppl=3.89, accuracy=68.883, wps=16603.1, ups=1.97, wpb=8423, bsz=316.6, num_updates=44900, lr=6.67409e-05, gnorm=0.594, clip=0, loss_scale=4, train_wall=50, gb_free=16.4, wall=27370
2023-08-22 20:41:24 | INFO | train_inner | epoch 031:    801 / 1474 loss=1.886, trans_loss=4.769, nll_loss=1.969, w2v_ctc_loss=0.631, task_loss=3.431, contrastive_loss=0, total=4103.23, n_correct=2810.21, ppl=3.92, accuracy=68.488, wps=15997.2, ups=1.95, wpb=8206.5, bsz=296.8, num_updates=45000, lr=6.66667e-05, gnorm=0.567, clip=0, loss_scale=4, train_wall=51, gb_free=15.2, wall=27421
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:0')
2023-08-22 20:42:16 | INFO | train_inner | epoch 031:    901 / 1474 loss=1.883, trans_loss=4.757, nll_loss=1.952, w2v_ctc_loss=0.635, task_loss=3.489, contrastive_loss=0, total=4098.59, n_correct=2820.65, ppl=3.87, accuracy=68.82, wps=15982.9, ups=1.95, wpb=8197.2, bsz=293.9, num_updates=45100, lr=6.65927e-05, gnorm=0.546, clip=0, loss_scale=4, train_wall=51, gb_free=17, wall=27473
2023-08-22 20:43:07 | INFO | train_inner | epoch 031:   1001 / 1474 loss=1.884, trans_loss=4.774, nll_loss=1.976, w2v_ctc_loss=0.631, task_loss=3.09, contrastive_loss=0, total=4184.36, n_correct=2872.67, ppl=3.93, accuracy=68.653, wps=16306.7, ups=1.95, wpb=8368.7, bsz=320.3, num_updates=45200, lr=6.6519e-05, gnorm=0.577, clip=0, loss_scale=4, train_wall=51, gb_free=15.7, wall=27524
2023-08-22 20:43:58 | INFO | train_inner | epoch 031:   1101 / 1474 loss=1.883, trans_loss=4.768, nll_loss=1.968, w2v_ctc_loss=0.632, task_loss=3.225, contrastive_loss=0, total=4150.56, n_correct=2851.34, ppl=3.91, accuracy=68.698, wps=16287.1, ups=1.96, wpb=8301.1, bsz=315.1, num_updates=45300, lr=6.64455e-05, gnorm=0.6, clip=0, loss_scale=4, train_wall=51, gb_free=14.9, wall=27575
2023-08-22 20:44:49 | INFO | train_inner | epoch 031:   1201 / 1474 loss=1.878, trans_loss=4.766, nll_loss=1.966, w2v_ctc_loss=0.626, task_loss=3.058, contrastive_loss=0, total=4190.99, n_correct=2882.02, ppl=3.91, accuracy=68.767, wps=16506.3, ups=1.97, wpb=8382, bsz=323, num_updates=45400, lr=6.63723e-05, gnorm=0.539, clip=0, loss_scale=4, train_wall=50, gb_free=16.9, wall=27626
2023-08-22 20:45:39 | INFO | train_inner | epoch 031:   1301 / 1474 loss=1.886, trans_loss=4.775, nll_loss=1.978, w2v_ctc_loss=0.637, task_loss=2.969, contrastive_loss=0, total=4226.19, n_correct=2896.61, ppl=3.94, accuracy=68.54, wps=16687.1, ups=1.97, wpb=8452.4, bsz=325.1, num_updates=45500, lr=6.62994e-05, gnorm=0.573, clip=0, loss_scale=4, train_wall=50, gb_free=16.7, wall=27677
2023-08-22 20:46:31 | INFO | train_inner | epoch 031:   1401 / 1474 loss=1.881, trans_loss=4.767, nll_loss=1.968, w2v_ctc_loss=0.629, task_loss=3.01, contrastive_loss=0, total=4192.11, n_correct=2877.56, ppl=3.91, accuracy=68.642, wps=16205.3, ups=1.93, wpb=8384.2, bsz=327, num_updates=45600, lr=6.62266e-05, gnorm=0.53, clip=0, loss_scale=4, train_wall=51, gb_free=16, wall=27728
2023-08-22 20:47:08 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2143, device='cuda:1')
2023-08-22 20:47:31 | INFO | dev_st | epoch 031 | valid on 'dev_st' subset | loss 3.897 | trans_loss 5.178 | nll_loss 2.44 | w2v_ctc_loss 1.322 | task_loss 11.693 | contrastive_loss 0 | total 4003.4 | n_correct 2665.7 | ppl 5.43 | accuracy 66.586 | uer 17.238 | wer 19.127 | raw_wer 19.127 | bleu 21.73 | wps 2390.4 | wpb 4003.4 | bsz 141.8 | num_updates 45673 | best_bleu 22.33
2023-08-22 20:47:31 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 31 @ 45673 updates
2023-08-22 20:47:31 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_last.pt
2023-08-22 20:47:36 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_last.pt
2023-08-22 20:47:36 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_last.pt (epoch 31 @ 45673 updates, score 21.73) (writing took 4.819633455001167 seconds)
2023-08-22 20:47:36 | INFO | fairseq_cli.train | end of epoch 31 (average epoch stats below)
2023-08-22 20:47:36 | INFO | train | epoch 031 | loss 1.884 | trans_loss 4.766 | nll_loss 1.965 | w2v_ctc_loss 0.633 | task_loss 3.295 | contrastive_loss 0 | total 4138.65 | n_correct 2843.36 | ppl 3.9 | accuracy 68.703 | wps 15471.5 | ups 1.87 | wpb 8277.3 | bsz 305.7 | num_updates 45673 | lr 6.61737e-05 | gnorm 0.567 | clip 0 | loss_scale 4 | train_wall 747 | gb_free 11.6 | wall 27793
2023-08-22 20:47:36 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 20:47:36 | INFO | fairseq.trainer | begin training epoch 32
2023-08-22 20:47:36 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 20:47:57 | INFO | train_inner | epoch 032:     27 / 1474 loss=1.886, trans_loss=4.764, nll_loss=1.962, w2v_ctc_loss=0.638, task_loss=3.431, contrastive_loss=0, total=4051.41, n_correct=2783.49, ppl=3.9, accuracy=68.704, wps=9434.8, ups=1.16, wpb=8102.8, bsz=291.6, num_updates=45700, lr=6.61541e-05, gnorm=0.604, clip=0, loss_scale=4, train_wall=50, gb_free=15.7, wall=27814
2023-08-22 20:48:48 | INFO | train_inner | epoch 032:    127 / 1474 loss=1.866, trans_loss=4.744, nll_loss=1.936, w2v_ctc_loss=0.615, task_loss=3.081, contrastive_loss=0, total=4208.32, n_correct=2911.51, ppl=3.83, accuracy=69.185, wps=16434.5, ups=1.95, wpb=8416.6, bsz=319.1, num_updates=45800, lr=6.60819e-05, gnorm=0.548, clip=0, loss_scale=4, train_wall=51, gb_free=11.2, wall=27865
2023-08-22 20:49:40 | INFO | train_inner | epoch 032:    227 / 1474 loss=1.876, trans_loss=4.76, nll_loss=1.957, w2v_ctc_loss=0.628, task_loss=3.141, contrastive_loss=0, total=4157.86, n_correct=2862.33, ppl=3.88, accuracy=68.841, wps=16163.9, ups=1.94, wpb=8315.7, bsz=320.3, num_updates=45900, lr=6.60098e-05, gnorm=0.556, clip=0, loss_scale=4, train_wall=51, gb_free=14, wall=27917
2023-08-22 20:50:31 | INFO | train_inner | epoch 032:    327 / 1474 loss=1.871, trans_loss=4.746, nll_loss=1.939, w2v_ctc_loss=0.621, task_loss=3.126, contrastive_loss=0, total=4179.17, n_correct=2891.2, ppl=3.83, accuracy=69.181, wps=16414.6, ups=1.96, wpb=8358.3, bsz=313.4, num_updates=46000, lr=6.5938e-05, gnorm=0.592, clip=0, loss_scale=8, train_wall=51, gb_free=16.8, wall=27968
2023-08-22 20:50:31 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 20:50:54 | INFO | dev_st | epoch 032 | valid on 'dev_st' subset | loss 3.905 | trans_loss 5.187 | nll_loss 2.452 | w2v_ctc_loss 1.327 | task_loss 11.606 | contrastive_loss 0 | total 4003.4 | n_correct 2663.7 | ppl 5.47 | accuracy 66.536 | uer 17.246 | wer 19.112 | raw_wer 19.112 | bleu 21.63 | wps 2431.7 | wpb 4003.4 | bsz 141.8 | num_updates 46000 | best_bleu 22.33
2023-08-22 20:50:54 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 32 @ 46000 updates
2023-08-22 20:50:54 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_32_46000.pt
2023-08-22 20:50:56 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_32_46000.pt
2023-08-22 20:50:59 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_32_46000.pt (epoch 32 @ 46000 updates, score 21.63) (writing took 5.584188237997296 seconds)
2023-08-22 20:51:51 | INFO | train_inner | epoch 032:    427 / 1474 loss=1.874, trans_loss=4.748, nll_loss=1.942, w2v_ctc_loss=0.625, task_loss=3.177, contrastive_loss=0, total=4179.5, n_correct=2886.19, ppl=3.84, accuracy=69.056, wps=10464.4, ups=1.25, wpb=8359, bsz=312.2, num_updates=46100, lr=6.58665e-05, gnorm=0.546, clip=0, loss_scale=8, train_wall=51, gb_free=17.5, wall=28048
2023-08-22 20:52:42 | INFO | train_inner | epoch 032:    527 / 1474 loss=1.88, trans_loss=4.76, nll_loss=1.958, w2v_ctc_loss=0.63, task_loss=3.238, contrastive_loss=0, total=4188.83, n_correct=2884.59, ppl=3.88, accuracy=68.864, wps=16185.2, ups=1.93, wpb=8377.7, bsz=313.9, num_updates=46200, lr=6.57952e-05, gnorm=0.54, clip=0, loss_scale=8, train_wall=51, gb_free=12.4, wall=28099
2023-08-22 20:53:34 | INFO | train_inner | epoch 032:    627 / 1474 loss=1.882, trans_loss=4.762, nll_loss=1.959, w2v_ctc_loss=0.63, task_loss=3.453, contrastive_loss=0, total=4133.19, n_correct=2842.96, ppl=3.89, accuracy=68.784, wps=15994.5, ups=1.93, wpb=8266.4, bsz=298.7, num_updates=46300, lr=6.57241e-05, gnorm=0.515, clip=0, loss_scale=8, train_wall=51, gb_free=17, wall=28151
2023-08-22 20:54:26 | INFO | train_inner | epoch 032:    727 / 1474 loss=1.882, trans_loss=4.76, nll_loss=1.956, w2v_ctc_loss=0.635, task_loss=3.309, contrastive_loss=0, total=4162.1, n_correct=2870.25, ppl=3.88, accuracy=68.962, wps=16163.7, ups=1.94, wpb=8324.2, bsz=304.3, num_updates=46400, lr=6.56532e-05, gnorm=0.551, clip=0, loss_scale=8, train_wall=51, gb_free=15.5, wall=28203
2023-08-22 20:55:16 | INFO | train_inner | epoch 032:    827 / 1474 loss=1.878, trans_loss=4.756, nll_loss=1.952, w2v_ctc_loss=0.624, task_loss=3.429, contrastive_loss=0, total=4107.86, n_correct=2831.55, ppl=3.87, accuracy=68.93, wps=16233.3, ups=1.98, wpb=8215.7, bsz=292.6, num_updates=46500, lr=6.55826e-05, gnorm=0.557, clip=0, loss_scale=8, train_wall=50, gb_free=15.5, wall=28253
2023-08-22 20:56:07 | INFO | train_inner | epoch 032:    927 / 1474 loss=1.876, trans_loss=4.756, nll_loss=1.953, w2v_ctc_loss=0.621, task_loss=3.369, contrastive_loss=0, total=4146.9, n_correct=2859.73, ppl=3.87, accuracy=68.961, wps=16171.5, ups=1.95, wpb=8293.8, bsz=300.4, num_updates=46600, lr=6.55122e-05, gnorm=0.534, clip=0, loss_scale=8, train_wall=51, gb_free=16.5, wall=28304
2023-08-22 20:56:58 | INFO | train_inner | epoch 032:   1027 / 1474 loss=1.881, trans_loss=4.762, nll_loss=1.959, w2v_ctc_loss=0.631, task_loss=3.268, contrastive_loss=0, total=4112.45, n_correct=2829.41, ppl=3.89, accuracy=68.801, wps=16200.6, ups=1.97, wpb=8224.9, bsz=304.3, num_updates=46700, lr=6.5442e-05, gnorm=0.518, clip=0, loss_scale=8, train_wall=50, gb_free=16.8, wall=28355
2023-08-22 20:57:49 | INFO | train_inner | epoch 032:   1127 / 1474 loss=1.885, trans_loss=4.761, nll_loss=1.958, w2v_ctc_loss=0.627, task_loss=3.923, contrastive_loss=0, total=4015.2, n_correct=2756.65, ppl=3.88, accuracy=68.655, wps=15650.6, ups=1.95, wpb=8030.4, bsz=269.7, num_updates=46800, lr=6.5372e-05, gnorm=0.545, clip=0, loss_scale=8, train_wall=51, gb_free=13.9, wall=28407
2023-08-22 20:58:14 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 20:58:41 | INFO | train_inner | epoch 032:   1228 / 1474 loss=1.884, trans_loss=4.769, nll_loss=1.97, w2v_ctc_loss=0.628, task_loss=3.24, contrastive_loss=0, total=4160.22, n_correct=2852.78, ppl=3.92, accuracy=68.573, wps=16023.9, ups=1.93, wpb=8320.4, bsz=311.4, num_updates=46900, lr=6.53023e-05, gnorm=0.538, clip=0, loss_scale=4, train_wall=52, gb_free=14.5, wall=28458
2023-08-22 20:59:32 | INFO | train_inner | epoch 032:   1328 / 1474 loss=1.88, trans_loss=4.758, nll_loss=1.954, w2v_ctc_loss=0.629, task_loss=3.36, contrastive_loss=0, total=4074.77, n_correct=2805.29, ppl=3.88, accuracy=68.845, wps=16043.9, ups=1.97, wpb=8149.5, bsz=297.6, num_updates=47000, lr=6.52328e-05, gnorm=0.563, clip=0, loss_scale=4, train_wall=50, gb_free=17.5, wall=28509
2023-08-22 21:00:23 | INFO | train_inner | epoch 032:   1428 / 1474 loss=1.888, trans_loss=4.767, nll_loss=1.966, w2v_ctc_loss=0.637, task_loss=3.279, contrastive_loss=0, total=4115.52, n_correct=2823.52, ppl=3.91, accuracy=68.607, wps=16152.3, ups=1.96, wpb=8231, bsz=307.8, num_updates=47100, lr=6.51635e-05, gnorm=0.572, clip=0, loss_scale=4, train_wall=51, gb_free=17.3, wall=28560
2023-08-22 21:00:46 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 21:01:09 | INFO | dev_st | epoch 032 | valid on 'dev_st' subset | loss 3.903 | trans_loss 5.175 | nll_loss 2.437 | w2v_ctc_loss 1.348 | task_loss 11.659 | contrastive_loss 0 | total 4003.4 | n_correct 2666.6 | ppl 5.42 | accuracy 66.608 | uer 17.193 | wer 19.019 | raw_wer 19.019 | bleu 22.1 | wps 2487.5 | wpb 4003.4 | bsz 141.8 | num_updates 47146 | best_bleu 22.33
2023-08-22 21:01:09 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 32 @ 47146 updates
2023-08-22 21:01:09 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_22.1002.pt
2023-08-22 21:01:12 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_22.1002.pt
2023-08-22 21:01:15 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_22.1002.pt (epoch 32 @ 47146 updates, score 22.1) (writing took 5.677301023002656 seconds)
2023-08-22 21:01:15 | INFO | fairseq_cli.train | end of epoch 32 (average epoch stats below)
2023-08-22 21:01:15 | INFO | train | epoch 032 | loss 1.878 | trans_loss 4.758 | nll_loss 1.954 | w2v_ctc_loss 0.627 | task_loss 3.292 | contrastive_loss 0 | total 4138.49 | n_correct 2850.49 | ppl 3.87 | accuracy 68.877 | wps 14886.8 | ups 1.8 | wpb 8277 | bsz 305.6 | num_updates 47146 | lr 6.51317e-05 | gnorm 0.552 | clip 0 | loss_scale 4 | train_wall 748 | gb_free 16.2 | wall 28612
2023-08-22 21:01:15 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 21:01:15 | INFO | fairseq.trainer | begin training epoch 33
2023-08-22 21:01:15 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 21:01:50 | INFO | train_inner | epoch 033:     54 / 1474 loss=1.872, trans_loss=4.754, nll_loss=1.95, w2v_ctc_loss=0.62, task_loss=3.157, contrastive_loss=0, total=4143.17, n_correct=2857.29, ppl=3.86, accuracy=68.964, wps=9544.3, ups=1.15, wpb=8286.3, bsz=316.7, num_updates=47200, lr=6.50945e-05, gnorm=0.542, clip=0, loss_scale=4, train_wall=50, gb_free=16.5, wall=28647
2023-08-22 21:02:41 | INFO | train_inner | epoch 033:    154 / 1474 loss=1.868, trans_loss=4.74, nll_loss=1.931, w2v_ctc_loss=0.609, task_loss=3.548, contrastive_loss=0, total=4070.66, n_correct=2816.31, ppl=3.81, accuracy=69.186, wps=15891.5, ups=1.95, wpb=8141.3, bsz=283.8, num_updates=47300, lr=6.50256e-05, gnorm=0.551, clip=0, loss_scale=4, train_wall=51, gb_free=16.4, wall=28698
2023-08-22 21:03:33 | INFO | train_inner | epoch 033:    254 / 1474 loss=1.867, trans_loss=4.746, nll_loss=1.94, w2v_ctc_loss=0.62, task_loss=2.79, contrastive_loss=0, total=4279.52, n_correct=2958.57, ppl=3.84, accuracy=69.133, wps=16511.2, ups=1.93, wpb=8559, bsz=347.1, num_updates=47400, lr=6.4957e-05, gnorm=0.525, clip=0, loss_scale=4, train_wall=51, gb_free=16.3, wall=28750
2023-08-22 21:04:24 | INFO | train_inner | epoch 033:    354 / 1474 loss=1.875, trans_loss=4.749, nll_loss=1.943, w2v_ctc_loss=0.627, task_loss=3.336, contrastive_loss=0, total=4134.4, n_correct=2856.4, ppl=3.84, accuracy=69.089, wps=16137.5, ups=1.95, wpb=8268.8, bsz=303, num_updates=47500, lr=6.48886e-05, gnorm=0.548, clip=0, loss_scale=4, train_wall=51, gb_free=12.3, wall=28801
2023-08-22 21:05:15 | INFO | train_inner | epoch 033:    454 / 1474 loss=1.861, trans_loss=4.736, nll_loss=1.925, w2v_ctc_loss=0.61, task_loss=3.131, contrastive_loss=0, total=4131.26, n_correct=2863.54, ppl=3.8, accuracy=69.314, wps=16394.8, ups=1.98, wpb=8262.5, bsz=309.1, num_updates=47600, lr=6.48204e-05, gnorm=0.571, clip=0, loss_scale=4, train_wall=50, gb_free=15.3, wall=28852
2023-08-22 21:06:06 | INFO | train_inner | epoch 033:    554 / 1474 loss=1.879, trans_loss=4.754, nll_loss=1.948, w2v_ctc_loss=0.629, task_loss=3.421, contrastive_loss=0, total=4136.29, n_correct=2853.3, ppl=3.86, accuracy=68.982, wps=16146.5, ups=1.95, wpb=8272.6, bsz=294.8, num_updates=47700, lr=6.47524e-05, gnorm=0.569, clip=0, loss_scale=4, train_wall=51, gb_free=14.5, wall=28903
2023-08-22 21:06:57 | INFO | train_inner | epoch 033:    654 / 1474 loss=1.879, trans_loss=4.762, nll_loss=1.959, w2v_ctc_loss=0.625, task_loss=3.398, contrastive_loss=0, total=4155.56, n_correct=2859.73, ppl=3.89, accuracy=68.817, wps=16201, ups=1.95, wpb=8311.1, bsz=300.4, num_updates=47800, lr=6.46846e-05, gnorm=0.574, clip=0, loss_scale=4, train_wall=51, gb_free=14.9, wall=28954
2023-08-22 21:07:48 | INFO | train_inner | epoch 033:    754 / 1474 loss=1.886, trans_loss=4.757, nll_loss=1.953, w2v_ctc_loss=0.642, task_loss=3.528, contrastive_loss=0, total=4076.72, n_correct=2806.94, ppl=3.87, accuracy=68.853, wps=15982.7, ups=1.96, wpb=8153.4, bsz=289.6, num_updates=47900, lr=6.46171e-05, gnorm=0.623, clip=0, loss_scale=4, train_wall=51, gb_free=16.2, wall=29005
2023-08-22 21:08:39 | INFO | train_inner | epoch 033:    854 / 1474 loss=1.863, trans_loss=4.745, nll_loss=1.938, w2v_ctc_loss=0.606, task_loss=3.154, contrastive_loss=0, total=4126.23, n_correct=2858.1, ppl=3.83, accuracy=69.267, wps=16201.7, ups=1.96, wpb=8252.5, bsz=314.4, num_updates=48000, lr=6.45497e-05, gnorm=0.538, clip=0, loss_scale=4, train_wall=51, gb_free=15.5, wall=29056
2023-08-22 21:08:39 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 21:09:02 | INFO | dev_st | epoch 033 | valid on 'dev_st' subset | loss 3.9 | trans_loss 5.18 | nll_loss 2.441 | w2v_ctc_loss 1.326 | task_loss 11.516 | contrastive_loss 0 | total 4003.4 | n_correct 2664.7 | ppl 5.43 | accuracy 66.561 | uer 17.116 | wer 19.015 | raw_wer 19.015 | bleu 22.21 | wps 2416.4 | wpb 4003.4 | bsz 141.8 | num_updates 48000 | best_bleu 22.33
2023-08-22 21:09:02 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 33 @ 48000 updates
2023-08-22 21:09:02 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_33_48000.pt
2023-08-22 21:09:05 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_33_48000.pt
2023-08-22 21:09:09 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_33_48000.pt (epoch 33 @ 48000 updates, score 22.21) (writing took 6.753054738997889 seconds)
2023-08-22 21:10:01 | INFO | train_inner | epoch 033:    954 / 1474 loss=1.877, trans_loss=4.754, nll_loss=1.949, w2v_ctc_loss=0.631, task_loss=3.236, contrastive_loss=0, total=4161.72, n_correct=2871.02, ppl=3.86, accuracy=68.986, wps=10223.9, ups=1.23, wpb=8323.4, bsz=312, num_updates=48100, lr=6.44826e-05, gnorm=0.607, clip=0, loss_scale=4, train_wall=51, gb_free=15.7, wall=29138
2023-08-22 21:10:53 | INFO | train_inner | epoch 033:   1054 / 1474 loss=1.878, trans_loss=4.75, nll_loss=1.945, w2v_ctc_loss=0.628, task_loss=3.334, contrastive_loss=0, total=4134.8, n_correct=2850.55, ppl=3.85, accuracy=68.94, wps=15933.3, ups=1.93, wpb=8269.6, bsz=304.7, num_updates=48200, lr=6.44157e-05, gnorm=0.676, clip=0, loss_scale=4, train_wall=51, gb_free=16.4, wall=29190
2023-08-22 21:11:44 | INFO | train_inner | epoch 033:   1154 / 1474 loss=1.879, trans_loss=4.762, nll_loss=1.96, w2v_ctc_loss=0.622, task_loss=3.298, contrastive_loss=0, total=4177.62, n_correct=2875.61, ppl=3.89, accuracy=68.834, wps=16127.4, ups=1.93, wpb=8355.2, bsz=309.6, num_updates=48300, lr=6.43489e-05, gnorm=0.607, clip=0, loss_scale=4, train_wall=51, gb_free=16.2, wall=29241
2023-08-22 21:12:36 | INFO | train_inner | epoch 033:   1254 / 1474 loss=1.877, trans_loss=4.749, nll_loss=1.943, w2v_ctc_loss=0.628, task_loss=3.46, contrastive_loss=0, total=4115.15, n_correct=2842.03, ppl=3.84, accuracy=69.063, wps=15983.9, ups=1.94, wpb=8230.3, bsz=294.4, num_updates=48400, lr=6.42824e-05, gnorm=0.596, clip=0, loss_scale=4, train_wall=51, gb_free=15.9, wall=29293
2023-08-22 21:13:28 | INFO | train_inner | epoch 033:   1354 / 1474 loss=1.873, trans_loss=4.753, nll_loss=1.949, w2v_ctc_loss=0.623, task_loss=3.236, contrastive_loss=0, total=4121.6, n_correct=2844.11, ppl=3.86, accuracy=69.005, wps=15891.9, ups=1.93, wpb=8243.2, bsz=311.7, num_updates=48500, lr=6.42161e-05, gnorm=0.577, clip=0, loss_scale=4, train_wall=51, gb_free=15, wall=29345
2023-08-22 21:14:19 | INFO | train_inner | epoch 033:   1454 / 1474 loss=1.877, trans_loss=4.756, nll_loss=1.952, w2v_ctc_loss=0.626, task_loss=3.263, contrastive_loss=0, total=4131.62, n_correct=2843.53, ppl=3.87, accuracy=68.824, wps=16140, ups=1.95, wpb=8263.2, bsz=309.9, num_updates=48600, lr=6.415e-05, gnorm=0.572, clip=0, loss_scale=4, train_wall=51, gb_free=16.4, wall=29396
2023-08-22 21:14:29 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 21:14:52 | INFO | dev_st | epoch 033 | valid on 'dev_st' subset | loss 3.899 | trans_loss 5.178 | nll_loss 2.439 | w2v_ctc_loss 1.328 | task_loss 11.608 | contrastive_loss 0 | total 4003.4 | n_correct 2668.7 | ppl 5.42 | accuracy 66.661 | uer 17.076 | wer 18.948 | raw_wer 18.948 | bleu 22.23 | wps 2367.2 | wpb 4003.4 | bsz 141.8 | num_updates 48620 | best_bleu 22.33
2023-08-22 21:14:52 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 33 @ 48620 updates
2023-08-22 21:14:52 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_22.2300.pt
2023-08-22 21:14:55 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_22.2300.pt
2023-08-22 21:14:58 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint.best_bleu_22.2300.pt (epoch 33 @ 48620 updates, score 22.23) (writing took 5.7673586109958705 seconds)
2023-08-22 21:14:58 | INFO | fairseq_cli.train | end of epoch 33 (average epoch stats below)
2023-08-22 21:14:58 | INFO | train | epoch 033 | loss 1.874 | trans_loss 4.751 | nll_loss 1.945 | w2v_ctc_loss 0.623 | task_loss 3.29 | contrastive_loss 0 | total 4138.65 | n_correct 2856.76 | ppl 3.85 | accuracy 69.026 | wps 14822.6 | ups 1.79 | wpb 8277.3 | bsz 305.7 | num_updates 48620 | lr 6.41368e-05 | gnorm 0.579 | clip 0 | loss_scale 4 | train_wall 750 | gb_free 17.6 | wall 29435
2023-08-22 21:14:59 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 21:14:59 | INFO | fairseq.trainer | begin training epoch 34
2023-08-22 21:14:59 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 21:15:47 | INFO | train_inner | epoch 034:     80 / 1474 loss=1.868, trans_loss=4.739, nll_loss=1.93, w2v_ctc_loss=0.619, task_loss=3.266, contrastive_loss=0, total=4123.05, n_correct=2856.08, ppl=3.81, accuracy=69.271, wps=9369.5, ups=1.14, wpb=8246.1, bsz=300.6, num_updates=48700, lr=6.40841e-05, gnorm=0.559, clip=0, loss_scale=4, train_wall=51, gb_free=15.7, wall=29484
2023-08-22 21:16:38 | INFO | train_inner | epoch 034:    180 / 1474 loss=1.864, trans_loss=4.73, nll_loss=1.918, w2v_ctc_loss=0.615, task_loss=3.442, contrastive_loss=0, total=4066.35, n_correct=2827.1, ppl=3.78, accuracy=69.524, wps=15939.8, ups=1.96, wpb=8132.7, bsz=295.2, num_updates=48800, lr=6.40184e-05, gnorm=0.52, clip=0, loss_scale=4, train_wall=51, gb_free=16.4, wall=29535
2023-08-22 21:17:30 | INFO | train_inner | epoch 034:    280 / 1474 loss=1.868, trans_loss=4.748, nll_loss=1.942, w2v_ctc_loss=0.61, task_loss=3.065, contrastive_loss=0, total=4247.33, n_correct=2933.58, ppl=3.84, accuracy=69.069, wps=16424.2, ups=1.93, wpb=8494.7, bsz=329.5, num_updates=48900, lr=6.39529e-05, gnorm=0.526, clip=0, loss_scale=8, train_wall=51, gb_free=16.1, wall=29587
2023-08-22 21:18:21 | INFO | train_inner | epoch 034:    380 / 1474 loss=1.865, trans_loss=4.736, nll_loss=1.926, w2v_ctc_loss=0.616, task_loss=3.146, contrastive_loss=0, total=4152.22, n_correct=2877.19, ppl=3.8, accuracy=69.293, wps=16225.2, ups=1.95, wpb=8304.4, bsz=316.1, num_updates=49000, lr=6.38877e-05, gnorm=0.646, clip=0, loss_scale=8, train_wall=51, gb_free=15.6, wall=29638
2023-08-22 21:19:12 | INFO | train_inner | epoch 034:    480 / 1474 loss=1.877, trans_loss=4.744, nll_loss=1.936, w2v_ctc_loss=0.629, task_loss=3.59, contrastive_loss=0, total=4080.7, n_correct=2820.99, ppl=3.83, accuracy=69.13, wps=15890.1, ups=1.95, wpb=8161.4, bsz=286.7, num_updates=49100, lr=6.38226e-05, gnorm=0.614, clip=0, loss_scale=8, train_wall=51, gb_free=15.3, wall=29689
2023-08-22 21:20:03 | INFO | train_inner | epoch 034:    580 / 1474 loss=1.865, trans_loss=4.733, nll_loss=1.921, w2v_ctc_loss=0.614, task_loss=3.352, contrastive_loss=0, total=4126.98, n_correct=2867.47, ppl=3.79, accuracy=69.481, wps=16246.6, ups=1.97, wpb=8254, bsz=300.1, num_updates=49200, lr=6.37577e-05, gnorm=0.577, clip=0, loss_scale=8, train_wall=50, gb_free=15.8, wall=29740
2023-08-22 21:20:39 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-22 21:20:54 | INFO | train_inner | epoch 034:    681 / 1474 loss=1.869, trans_loss=4.742, nll_loss=1.934, w2v_ctc_loss=0.617, task_loss=3.396, contrastive_loss=0, total=4111.29, n_correct=2846.81, ppl=3.82, accuracy=69.244, wps=15991.3, ups=1.94, wpb=8222.6, bsz=297.3, num_updates=49300, lr=6.3693e-05, gnorm=0.582, clip=0, loss_scale=4, train_wall=51, gb_free=17, wall=29792
2023-08-22 21:21:46 | INFO | train_inner | epoch 034:    781 / 1474 loss=1.877, trans_loss=4.761, nll_loss=1.959, w2v_ctc_loss=0.617, task_loss=3.429, contrastive_loss=0, total=4079.01, n_correct=2808.19, ppl=3.89, accuracy=68.845, wps=15902.5, ups=1.95, wpb=8158, bsz=295.7, num_updates=49400, lr=6.36285e-05, gnorm=0.555, clip=0, loss_scale=4, train_wall=51, gb_free=15.2, wall=29843
2023-08-22 21:22:37 | INFO | train_inner | epoch 034:    881 / 1474 loss=1.877, trans_loss=4.75, nll_loss=1.944, w2v_ctc_loss=0.627, task_loss=3.486, contrastive_loss=0, total=4092.48, n_correct=2823.74, ppl=3.85, accuracy=68.998, wps=15915.8, ups=1.94, wpb=8185, bsz=295.5, num_updates=49500, lr=6.35642e-05, gnorm=0.589, clip=0, loss_scale=4, train_wall=51, gb_free=16.3, wall=29894
2023-08-22 21:23:28 | INFO | train_inner | epoch 034:    981 / 1474 loss=1.874, trans_loss=4.748, nll_loss=1.942, w2v_ctc_loss=0.63, task_loss=3.196, contrastive_loss=0, total=4185.89, n_correct=2890.81, ppl=3.84, accuracy=69.061, wps=16351.5, ups=1.95, wpb=8371.8, bsz=315, num_updates=49600, lr=6.35001e-05, gnorm=0.601, clip=0, loss_scale=4, train_wall=51, gb_free=16.5, wall=29945
2023-08-22 21:24:19 | INFO | train_inner | epoch 034:   1081 / 1474 loss=1.874, trans_loss=4.747, nll_loss=1.94, w2v_ctc_loss=0.628, task_loss=3.209, contrastive_loss=0, total=4142.31, n_correct=2862.18, ppl=3.84, accuracy=69.096, wps=16356.3, ups=1.97, wpb=8284.6, bsz=306.1, num_updates=49700, lr=6.34361e-05, gnorm=0.584, clip=0, loss_scale=4, train_wall=50, gb_free=17.6, wall=29996
2023-08-22 21:25:10 | INFO | train_inner | epoch 034:   1181 / 1474 loss=1.872, trans_loss=4.747, nll_loss=1.94, w2v_ctc_loss=0.621, task_loss=3.392, contrastive_loss=0, total=4101.07, n_correct=2832.01, ppl=3.84, accuracy=69.055, wps=16127.4, ups=1.97, wpb=8202.1, bsz=297.9, num_updates=49800, lr=6.33724e-05, gnorm=0.602, clip=0, loss_scale=4, train_wall=50, gb_free=14.5, wall=30047
2023-08-22 21:26:01 | INFO | train_inner | epoch 034:   1281 / 1474 loss=1.871, trans_loss=4.742, nll_loss=1.935, w2v_ctc_loss=0.621, task_loss=3.31, contrastive_loss=0, total=4150.75, n_correct=2873.13, ppl=3.82, accuracy=69.22, wps=16260.2, ups=1.96, wpb=8301.5, bsz=301.4, num_updates=49900, lr=6.33089e-05, gnorm=0.599, clip=0, loss_scale=4, train_wall=51, gb_free=15.1, wall=30098
2023-08-22 21:26:53 | INFO | train_inner | epoch 034:   1381 / 1474 loss=1.879, trans_loss=4.754, nll_loss=1.95, w2v_ctc_loss=0.635, task_loss=3.143, contrastive_loss=0, total=4194.17, n_correct=2885.99, ppl=3.86, accuracy=68.81, wps=16184.7, ups=1.93, wpb=8388.3, bsz=320.1, num_updates=50000, lr=6.32456e-05, gnorm=0.588, clip=0, loss_scale=4, train_wall=51, gb_free=15.5, wall=30150
2023-08-22 21:26:53 | INFO | fairseq_cli.train | Stopping training due to num_updates: 50000 >= max_update: 50000
2023-08-22 21:26:53 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 21:27:16 | INFO | dev_st | epoch 034 | valid on 'dev_st' subset | loss 3.903 | trans_loss 5.179 | nll_loss 2.44 | w2v_ctc_loss 1.337 | task_loss 11.597 | contrastive_loss 0 | total 4003.4 | n_correct 2670.1 | ppl 5.42 | accuracy 66.696 | uer 17.286 | wer 19.164 | raw_wer 19.164 | bleu 21.63 | wps 2467.5 | wpb 4003.4 | bsz 141.8 | num_updates 50000 | best_bleu 22.33
2023-08-22 21:27:16 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 34 @ 50000 updates
2023-08-22 21:27:16 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_34_50000.pt
2023-08-22 21:27:18 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_34_50000.pt
2023-08-22 21:27:21 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0822_noCL_AT_sentence_mixup0307_scale2.5_alpha0_mt0.5/checkpoint_34_50000.pt (epoch 34 @ 50000 updates, score 21.63) (writing took 5.55792551599734 seconds)
2023-08-22 21:27:21 | INFO | fairseq_cli.train | end of epoch 34 (average epoch stats below)
2023-08-22 21:27:21 | INFO | train | epoch 034 | loss 1.871 | trans_loss 4.744 | nll_loss 1.937 | w2v_ctc_loss 0.621 | task_loss 3.314 | contrastive_loss 0 | total 4132.81 | n_correct 2857.83 | ppl 3.83 | accuracy 69.15 | wps 15348.1 | ups 1.86 | wpb 8265.6 | bsz 304.2 | num_updates 50000 | lr 6.32456e-05 | gnorm 0.582 | clip 0 | loss_scale 4 | train_wall 702 | gb_free 15.5 | wall 30178
2023-08-22 21:27:21 | INFO | fairseq_cli.train | done training in 30132.1 seconds
/usr/lib/python3.8/multiprocessing/resource_tracker.py:216: UserWarning: resource_tracker: There appear to be 1472 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
