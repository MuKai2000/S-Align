2023-08-20 12:20:56 | INFO | fairseq.distributed.utils | distributed init (rank 5): tcp://localhost:17263
2023-08-20 12:20:56 | INFO | fairseq.distributed.utils | distributed init (rank 2): tcp://localhost:17263
2023-08-20 12:20:56 | INFO | fairseq.distributed.utils | distributed init (rank 3): tcp://localhost:17263
2023-08-20 12:20:56 | INFO | fairseq.distributed.utils | distributed init (rank 1): tcp://localhost:17263
2023-08-20 12:20:56 | INFO | fairseq.distributed.utils | distributed init (rank 4): tcp://localhost:17263
2023-08-20 12:20:56 | INFO | fairseq.distributed.utils | distributed init (rank 7): tcp://localhost:17263
2023-08-20 12:20:56 | INFO | fairseq.distributed.utils | distributed init (rank 6): tcp://localhost:17263
2023-08-20 12:20:56 | INFO | fairseq.distributed.utils | distributed init (rank 0): tcp://localhost:17263
2023-08-20 12:20:56 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 6
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 5
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 2
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 3
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 1
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 4
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 7
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 0
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Rank 0: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-20 12:20:57 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 0
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Rank 6: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-20 12:20:57 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 6
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Rank 5: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-20 12:20:57 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 5
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Rank 2: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Rank 1: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-20 12:20:57 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 2
2023-08-20 12:20:57 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 1
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Rank 3: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Rank 4: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-20 12:20:57 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 4
2023-08-20 12:20:57 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 3
2023-08-20 12:20:57 | INFO | torch.distributed.distributed_c10d | Rank 7: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-20 12:20:57 | INFO | fairseq.distributed.utils | initialized host localhost.localdomain as rank 7
2023-08-20 12:21:00 | INFO | fairseq_cli.train | {'_name': None, 'common': {'_name': None, 'no_progress_bar': True, 'log_interval': 100, 'log_format': None, 'log_file': None, 'aim_repo': None, 'aim_run_hash': None, 'tensorboard_logdir': './checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5', 'wandb_project': None, 'azureml_logging': False, 'seed': 1, 'cpu': False, 'tpu': False, 'bf16': False, 'memory_efficient_bf16': False, 'fp16': True, 'memory_efficient_fp16': False, 'fp16_no_flatten_grads': False, 'fp16_init_scale': 128, 'fp16_scale_window': None, 'fp16_scale_tolerance': 0.0, 'on_cpu_convert_precision': False, 'min_loss_scale': 0.0001, 'threshold_loss_scale': None, 'amp': False, 'amp_batch_retries': 2, 'amp_init_scale': 128, 'amp_scale_window': None, 'user_dir': None, 'empty_cache_freq': 0, 'all_gather_list_size': 16384, 'model_parallel_size': 1, 'quantization_config_path': None, 'profile': False, 'reset_logging': False, 'suppress_crashes': False, 'use_plasma_view': False, 'plasma_path': '/tmp/plasma'}, 'common_eval': {'_name': None, 'path': None, 'post_process': 'sentencepiece', 'quiet': False, 'model_overrides': '{}', 'results_path': None}, 'distributed_training': {'_name': None, 'distributed_world_size': 8, 'distributed_num_procs': 8, 'distributed_rank': 0, 'distributed_backend': 'nccl', 'distributed_init_method': 'tcp://localhost:17263', 'distributed_port': -1, 'device_id': 0, 'distributed_no_spawn': False, 'ddp_backend': 'no_c10d', 'ddp_comm_hook': 'none', 'bucket_cap_mb': 25, 'fix_batches_to_gpus': False, 'find_unused_parameters': False, 'gradient_as_bucket_view': False, 'fast_stat_sync': False, 'heartbeat_timeout': -1, 'broadcast_buffers': False, 'slowmo_momentum': None, 'slowmo_base_algorithm': 'localsgd', 'localsgd_frequency': 3, 'nprocs_per_node': 8, 'pipeline_model_parallel': False, 'pipeline_balance': None, 'pipeline_devices': None, 'pipeline_chunks': 0, 'pipeline_encoder_balance': None, 'pipeline_encoder_devices': None, 'pipeline_decoder_balance': None, 'pipeline_decoder_devices': None, 'pipeline_checkpoint': 'never', 'zero_sharding': 'none', 'fp16': True, 'memory_efficient_fp16': False, 'tpu': False, 'no_reshard_after_forward': False, 'fp32_reduce_scatter': False, 'cpu_offload': False, 'use_sharded_state': False, 'not_fsdp_flatten_parameters': False}, 'dataset': {'_name': None, 'num_workers': 2, 'skip_invalid_size_inputs_valid_test': True, 'max_tokens': 15000, 'batch_size': None, 'required_batch_size_multiple': 8, 'required_seq_len_multiple': 1, 'dataset_impl': None, 'data_buffer_size': 10, 'train_subset': 'train_st,train_asr', 'valid_subset': 'dev_st', 'combine_valid_subsets': None, 'ignore_unused_valid_subsets': False, 'validate_interval': 1, 'validate_interval_updates': 0, 'validate_after_updates': 0, 'fixed_validation_seed': None, 'disable_validation': False, 'max_tokens_valid': 15000, 'batch_size_valid': None, 'max_valid_steps': None, 'curriculum': 0, 'gen_subset': 'test', 'num_shards': 1, 'shard_id': 0, 'grouped_shuffling': False, 'update_epoch_batch_itr': False, 'update_ordered_indices_seed': False}, 'optimization': {'_name': None, 'max_epoch': 100, 'max_update': 50000, 'stop_time_hours': 0.0, 'clip_norm': 10.0, 'sentence_avg': False, 'update_freq': [1], 'lr': [0.0002], 'stop_min_lr': -1.0, 'use_bmuf': False, 'skip_remainder_batch': False}, 'checkpoint': {'_name': None, 'save_dir': './checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5', 'restore_file': 'checkpoint_last.pt', 'continue_once': None, 'finetune_from_model': None, 'reset_dataloader': False, 'reset_lr_scheduler': False, 'reset_meters': False, 'reset_optimizer': False, 'optimizer_overrides': '{}', 'save_interval': 1, 'save_interval_updates': 2000, 'keep_interval_updates': 5, 'keep_interval_updates_pattern': -1, 'keep_last_epochs': 2, 'keep_best_checkpoints': 10, 'no_save': False, 'no_epoch_checkpoints': True, 'no_last_checkpoints': False, 'no_save_optimizer_state': False, 'best_checkpoint_metric': 'bleu', 'maximize_best_checkpoint_metric': True, 'patience': -1, 'checkpoint_suffix': '', 'checkpoint_shard_count': 1, 'load_checkpoint_on_all_dp_ranks': False, 'write_checkpoints_asynchronously': False, 'model_parallel_size': 1}, 'bmuf': {'_name': None, 'block_lr': 1.0, 'block_momentum': 0.875, 'global_sync_iter': 50, 'warmup_iterations': 500, 'use_nbm': False, 'average_sync': False, 'distributed_world_size': 8}, 'generation': {'_name': None, 'beam': 5, 'beam_mt': 0, 'nbest': 1, 'max_len_a': 0.0, 'max_len_b': 200, 'max_len_a_mt': 0.0, 'max_len_b_mt': 200, 'min_len': 1, 'match_source_len': False, 'unnormalized': False, 'no_early_stop': False, 'no_beamable_mm': False, 'lenpen': 1.0, 'lenpen_mt': 1.0, 'unkpen': 0.0, 'replace_unk': None, 'sacrebleu': False, 'score_reference': False, 'prefix_size': 0, 'no_repeat_ngram_size': 0, 'sampling': False, 'sampling_topk': -1, 'sampling_topp': -1.0, 'constraints': None, 'temperature': 1.0, 'diverse_beam_groups': -1, 'diverse_beam_strength': 0.5, 'diversity_rate': -1.0, 'print_alignment': None, 'print_step': False, 'lm_path': None, 'lm_weight': 0.0, 'iter_decode_eos_penalty': 0.0, 'iter_decode_max_iter': 10, 'iter_decode_force_max_iter': False, 'iter_decode_with_beam': 1, 'iter_decode_with_external_reranker': False, 'retain_iter_history': False, 'retain_dropout': False, 'retain_dropout_modules': None, 'decoding_format': None, 'no_seed_provided': False, 'eos_token': None}, 'eval_lm': {'_name': None, 'output_word_probs': False, 'output_word_stats': False, 'context_window': 0, 'softmax_batch': 9223372036854775807}, 'interactive': {'_name': None, 'buffer_size': 0, 'input': '-'}, 'model': Namespace(_name='s2t_joint', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_nomute=False, at_nopad=True, at_scale=1.0, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=1.5, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_ende_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=15000, max_tokens_valid=15000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=0.5, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/mnt/zhangyh/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=True, use_two_contrastive=True, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/mnt/zhangyh/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'task': Namespace(_name='joint_triple_pretraining_merge', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_nomute=False, at_nopad=True, at_scale=1.0, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=1.5, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_ende_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=15000, max_tokens_valid=15000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=0.5, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/mnt/zhangyh/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=True, use_two_contrastive=True, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/mnt/zhangyh/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'criterion': Namespace(_name='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_nomute=False, at_nopad=True, at_scale=1.0, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=1.5, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_ende_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=15000, max_tokens_valid=15000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=0.5, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/mnt/zhangyh/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=True, use_two_contrastive=True, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/mnt/zhangyh/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'optimizer': {'_name': 'adam', 'adam_betas': '(0.9,0.98)', 'adam_eps': 1e-08, 'weight_decay': 0.0, 'use_old_adam': False, 'fp16_adam_stats': False, 'tpu': False, 'lr': [0.0002]}, 'lr_scheduler': {'_name': 'inverse_sqrt', 'warmup_updates': 5000, 'warmup_init_lr': 1e-07, 'lr': [0.0002]}, 'scoring': {'_name': 'bleu', 'pad': 1, 'eos': 2, 'unk': 3}, 'bpe': None, 'tokenizer': None, 'ema': {'_name': None, 'store_ema': False, 'ema_decay': 0.9999, 'ema_start_update': 0, 'ema_seed_model': None, 'ema_update_freq': 1, 'ema_fp32': False}}
2023-08-20 12:21:00 | INFO | fairseq.tasks.joint_triple_pretraining_merge | dictionary size (dict.wrd.txt): 10,000
2023-08-20 12:21:00 | INFO | fairseq.tasks.joint_triple_pretraining_merge | asr dictionary size (dict.wrd.txt): 10,000
2023-08-20 12:21:00 | INFO | fairseq.tasks.joint_triple_pretraining_merge | cluster dictionary size (kmeans100.convert.txt): 5,224
2023-08-20 12:21:00 | INFO | fairseq.tasks.joint_triple_pretraining_merge | Initial task weight: asr 1.0: mt 0.5
2023-08-20 12:21:00 | INFO | root | load pretrained embeddings: /mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline
2023-08-20 12:21:05 | INFO | fairseq.tasks.hubert_pretraining | current directory is /mnt/zhangyh/fairseq-AT/egs/pretrain-all
2023-08-20 12:21:05 | INFO | fairseq.tasks.hubert_pretraining | HubertPretrainingTask Config {'_name': 'hubert_pretraining', 'data': 'data_all_ende_lcrm', 'fine_tuning': False, 'labels': ['layer6.km500'], 'label_dir': None, 'label_rate': 50.0, 'sample_rate': 16000, 'normalize': False, 'enable_padding': False, 'max_keep_size': None, 'max_sample_size': 250000, 'min_sample_size': 32000, 'single_target': False, 'random_crop': True, 'pad_audio': False}
2023-08-20 12:21:05 | INFO | fairseq.models.hubert.hubert | HubertModel Config: {'_name': 'hubert', 'label_rate': 50.0, 'extractor_mode': default, 'encoder_layers': 12, 'encoder_embed_dim': 768, 'encoder_ffn_embed_dim': 3072, 'encoder_attention_heads': 12, 'activation_fn': gelu, 'layer_type': transformer, 'dropout': 0.1, 'attention_dropout': 0.1, 'activation_dropout': 0.1, 'encoder_layerdrop': 0.0, 'dropout_input': 0.0, 'dropout_features': 0.1, 'final_dim': 256, 'untie_final_proj': False, 'layer_norm_first': False, 'conv_feature_layers': '[(512,10,5)] + [(512,3,2)] * 4 + [(512,2,2)] * 2', 'conv_bias': False, 'logit_temp': 0.1, 'target_glu': False, 'feature_grad_mult': 0.0, 'mask_length': 10, 'mask_prob': 0.5, 'mask_selection': static, 'mask_other': 0.0, 'no_mask_overlap': False, 'mask_min_space': 1, 'mask_channel_length': 6, 'mask_channel_prob': 0.25, 'mask_channel_selection': static, 'mask_channel_other': 0.0, 'no_mask_channel_overlap': False, 'mask_channel_min_space': 1, 'conv_pos': 128, 'conv_pos_groups': 16, 'latent_temp': [2.0, 0.5, 0.999995], 'skip_masked': False, 'skip_nomask': False, 'checkpoint_activations': False, 'required_seq_len_multiple': 2, 'depthwise_conv_kernel_size': 31, 'attn_type': '', 'pos_enc_type': 'abs', 'fp16': True}
2023-08-20 12:21:06 | INFO | root | load pretrained hubert
2023-08-20 12:21:14 | INFO | root | load pretrained embedding as ctc proj: /mnt/zhangyh/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline
2023-08-20 12:21:18 | INFO | root | load pretrained encoder: /mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt
2023-08-20 12:21:24 | INFO | root | load pretrained decoder: /mnt/zhangyh/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt
2023-08-20 12:21:24 | INFO | root | share the sematic adapter and textual encoder
2023-08-20 12:21:24 | INFO | fairseq_cli.train | S2TJoint(
  (acoustic_encoder): AcousticEncoder(
    (compress_ffn): Linear(in_features=768, out_features=512, bias=True)
    (proj): Linear(in_features=512, out_features=10000, bias=False)
    (w2v_model): HubertModel(
      (feature_extractor): ConvFeatureExtractionModel(
        (conv_layers): ModuleList(
          (0): Sequential(
            (0): Conv1d(1, 512, kernel_size=(10,), stride=(5,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): Fp32GroupNorm(512, 512, eps=1e-05, affine=True)
            (3): GELU(approximate='none')
          )
          (1-4): 4 x Sequential(
            (0): Conv1d(512, 512, kernel_size=(3,), stride=(2,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): GELU(approximate='none')
          )
          (5-6): 2 x Sequential(
            (0): Conv1d(512, 512, kernel_size=(2,), stride=(2,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): GELU(approximate='none')
          )
        )
      )
      (post_extract_proj): Linear(in_features=512, out_features=768, bias=True)
      (dropout_input): Dropout(p=0.0, inplace=False)
      (dropout_features): Dropout(p=0.1, inplace=False)
      (encoder): TransformerEncoder(
        (pos_conv): Sequential(
          (0): Conv1d(768, 768, kernel_size=(128,), stride=(1,), padding=(64,), groups=16)
          (1): SamePad()
          (2): GELU(approximate='none')
        )
        (layers): ModuleList(
          (0-11): 12 x TransformerSentenceEncoderLayer(
            (self_attn): MultiheadAttention(
              (dropout_module): FairseqDropout()
              (k_proj): Linear(in_features=768, out_features=768, bias=True)
              (v_proj): Linear(in_features=768, out_features=768, bias=True)
              (q_proj): Linear(in_features=768, out_features=768, bias=True)
              (out_proj): Linear(in_features=768, out_features=768, bias=True)
            )
            (dropout1): Dropout(p=0.1, inplace=False)
            (dropout2): Dropout(p=0.1, inplace=False)
            (dropout3): Dropout(p=0.1, inplace=False)
            (self_attn_layer_norm): FusedLayerNorm(torch.Size([768]), eps=1e-05, elementwise_affine=True)
            (fc1): Linear(in_features=768, out_features=3072, bias=True)
            (fc2): Linear(in_features=3072, out_features=768, bias=True)
            (final_layer_norm): FusedLayerNorm(torch.Size([768]), eps=1e-05, elementwise_affine=True)
          )
        )
        (layer_norm): FusedLayerNorm(torch.Size([768]), eps=1e-05, elementwise_affine=True)
      )
      (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
      (final_proj): None
    )
    (noad): NormalAdapter(
      (subsample): Conv1dSubsampler(
        (conv_layers): ModuleList(
          (0): Conv1d(512, 512, kernel_size=(5,), stride=(2,), padding=(2,))
          (1): Conv1d(256, 1024, kernel_size=(5,), stride=(2,), padding=(2,))
        )
      )
      (layers): ModuleList()
    )
    (sead): SemanticAdapter(
      (embed_positions): SinusoidalPositionalEmbedding()
      (layers): ModuleList(
        (0-5): 6 x TransformerEncoderLayerBase(
          (self_attn): MultiheadAttention(
            (dropout_module): FairseqDropout()
            (k_proj): Linear(in_features=512, out_features=512, bias=True)
            (v_proj): Linear(in_features=512, out_features=512, bias=True)
            (q_proj): Linear(in_features=512, out_features=512, bias=True)
            (out_proj): Linear(in_features=512, out_features=512, bias=True)
          )
          (self_attn_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
          (dropout_module): FairseqDropout()
          (activation_dropout_module): FairseqDropout()
          (fc1): Linear(in_features=512, out_features=2048, bias=True)
          (fc2): Linear(in_features=2048, out_features=512, bias=True)
          (final_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
        )
      )
      (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
    )
    (final_dropout): Dropout(p=0.1, inplace=False)
    (shrink_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
  )
  (textual_encoder): MTModelEncoder(
    (dropout_module): FairseqDropout()
    (embed_tokens): Embedding(10000, 512, padding_idx=1)
    (embed_positions): SinusoidalPositionalEmbedding()
    (layers): ModuleList(
      (0-5): 6 x TransformerEncoderLayerBase(
        (self_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (self_attn_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
        (dropout_module): FairseqDropout()
        (activation_dropout_module): FairseqDropout()
        (fc1): Linear(in_features=512, out_features=2048, bias=True)
        (fc2): Linear(in_features=2048, out_features=512, bias=True)
        (final_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
      )
    )
    (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
  )
  (decoder): TransformerDecoderScriptable(
    (dropout_module): FairseqDropout()
    (embed_tokens): Embedding(10000, 512, padding_idx=1)
    (embed_positions): SinusoidalPositionalEmbedding()
    (layers): ModuleList(
      (0-5): 6 x TransformerDecoderLayerBase(
        (dropout_module): FairseqDropout()
        (self_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (activation_dropout_module): FairseqDropout()
        (self_attn_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
        (encoder_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (encoder_attn_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
        (fc1): Linear(in_features=512, out_features=2048, bias=True)
        (fc2): Linear(in_features=2048, out_features=512, bias=True)
        (final_layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
      )
    )
    (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
    (output_projection): Linear(in_features=512, out_features=10000, bias=False)
  )
  (task_net): TaskNetwork(
    (layer_norm): FusedLayerNorm(torch.Size([512]), eps=1e-05, elementwise_affine=True)
    (down_proj): Linear(in_features=512, out_features=256, bias=True)
    (up_proj): Linear(in_features=256, out_features=512, bias=True)
    (dropout_module): FairseqDropout()
    (task_proj): Linear(in_features=512, out_features=1, bias=False)
  )
)
2023-08-20 12:21:24 | INFO | fairseq_cli.train | task: JointTriplePretrainingMergeTask
2023-08-20 12:21:24 | INFO | fairseq_cli.train | model: S2TJoint
2023-08-20 12:21:24 | INFO | fairseq_cli.train | criterion: LabelSmoothedCrossEntropywithW2vCtcShrinkJointATMerge
2023-08-20 12:21:24 | INFO | fairseq_cli.train | num. shared model params: 147,044,480 (num. trained: 147,044,480)
2023-08-20 12:21:24 | INFO | fairseq_cli.train | num. expert model params: 0 (num. trained: 0)
2023-08-20 12:21:24 | INFO | fairseq.tasks.speech_to_text | pre-tokenizer: {'tokenizer': None}
2023-08-20 12:21:24 | INFO | fairseq.tasks.speech_to_text | tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/mnt/zhangyh/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-20 12:21:24 | INFO | fairseq.tasks.joint_triple_pretraining_merge | src tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/mnt/zhangyh/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-20 12:21:24 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="dev_st", n_samples=1418, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-20 12:21:39 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:2 to store for rank: 0
2023-08-20 12:21:40 | INFO | torch.distributed.distributed_c10d | Rank 0: Completed store-based barrier for key:store_based_barrier_key:2 with 8 nodes.
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- textual_encoder.embed_tokens.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- decoder.embed_tokens.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- decoder.output_projection.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.0.0.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.1.0.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.2.0.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.3.0.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.4.0.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.5.0.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.6.0.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- decoder.output_projection.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- task_net.task_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.k_proj.weight <- textual_encoder.layers.0.self_attn.k_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.k_proj.bias <- textual_encoder.layers.0.self_attn.k_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.v_proj.weight <- textual_encoder.layers.0.self_attn.v_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.v_proj.bias <- textual_encoder.layers.0.self_attn.v_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.q_proj.weight <- textual_encoder.layers.0.self_attn.q_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.q_proj.bias <- textual_encoder.layers.0.self_attn.q_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.out_proj.weight <- textual_encoder.layers.0.self_attn.out_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.out_proj.bias <- textual_encoder.layers.0.self_attn.out_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn_layer_norm.weight <- textual_encoder.layers.0.self_attn_layer_norm.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn_layer_norm.bias <- textual_encoder.layers.0.self_attn_layer_norm.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc1.weight <- textual_encoder.layers.0.fc1.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc1.bias <- textual_encoder.layers.0.fc1.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc2.weight <- textual_encoder.layers.0.fc2.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc2.bias <- textual_encoder.layers.0.fc2.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.final_layer_norm.weight <- textual_encoder.layers.0.final_layer_norm.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.final_layer_norm.bias <- textual_encoder.layers.0.final_layer_norm.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.k_proj.weight <- textual_encoder.layers.1.self_attn.k_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.k_proj.bias <- textual_encoder.layers.1.self_attn.k_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.v_proj.weight <- textual_encoder.layers.1.self_attn.v_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.v_proj.bias <- textual_encoder.layers.1.self_attn.v_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.q_proj.weight <- textual_encoder.layers.1.self_attn.q_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.q_proj.bias <- textual_encoder.layers.1.self_attn.q_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.out_proj.weight <- textual_encoder.layers.1.self_attn.out_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.out_proj.bias <- textual_encoder.layers.1.self_attn.out_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn_layer_norm.weight <- textual_encoder.layers.1.self_attn_layer_norm.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn_layer_norm.bias <- textual_encoder.layers.1.self_attn_layer_norm.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc1.weight <- textual_encoder.layers.1.fc1.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc1.bias <- textual_encoder.layers.1.fc1.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc2.weight <- textual_encoder.layers.1.fc2.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc2.bias <- textual_encoder.layers.1.fc2.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.final_layer_norm.weight <- textual_encoder.layers.1.final_layer_norm.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.final_layer_norm.bias <- textual_encoder.layers.1.final_layer_norm.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.k_proj.weight <- textual_encoder.layers.2.self_attn.k_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.k_proj.bias <- textual_encoder.layers.2.self_attn.k_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.v_proj.weight <- textual_encoder.layers.2.self_attn.v_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.v_proj.bias <- textual_encoder.layers.2.self_attn.v_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.q_proj.weight <- textual_encoder.layers.2.self_attn.q_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.q_proj.bias <- textual_encoder.layers.2.self_attn.q_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.out_proj.weight <- textual_encoder.layers.2.self_attn.out_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.out_proj.bias <- textual_encoder.layers.2.self_attn.out_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn_layer_norm.weight <- textual_encoder.layers.2.self_attn_layer_norm.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn_layer_norm.bias <- textual_encoder.layers.2.self_attn_layer_norm.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc1.weight <- textual_encoder.layers.2.fc1.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc1.bias <- textual_encoder.layers.2.fc1.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc2.weight <- textual_encoder.layers.2.fc2.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc2.bias <- textual_encoder.layers.2.fc2.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.final_layer_norm.weight <- textual_encoder.layers.2.final_layer_norm.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.final_layer_norm.bias <- textual_encoder.layers.2.final_layer_norm.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.k_proj.weight <- textual_encoder.layers.3.self_attn.k_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.k_proj.bias <- textual_encoder.layers.3.self_attn.k_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.v_proj.weight <- textual_encoder.layers.3.self_attn.v_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.v_proj.bias <- textual_encoder.layers.3.self_attn.v_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.q_proj.weight <- textual_encoder.layers.3.self_attn.q_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.q_proj.bias <- textual_encoder.layers.3.self_attn.q_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.out_proj.weight <- textual_encoder.layers.3.self_attn.out_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.out_proj.bias <- textual_encoder.layers.3.self_attn.out_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn_layer_norm.weight <- textual_encoder.layers.3.self_attn_layer_norm.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn_layer_norm.bias <- textual_encoder.layers.3.self_attn_layer_norm.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc1.weight <- textual_encoder.layers.3.fc1.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc1.bias <- textual_encoder.layers.3.fc1.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc2.weight <- textual_encoder.layers.3.fc2.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc2.bias <- textual_encoder.layers.3.fc2.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.final_layer_norm.weight <- textual_encoder.layers.3.final_layer_norm.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.final_layer_norm.bias <- textual_encoder.layers.3.final_layer_norm.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.k_proj.weight <- textual_encoder.layers.4.self_attn.k_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.k_proj.bias <- textual_encoder.layers.4.self_attn.k_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.v_proj.weight <- textual_encoder.layers.4.self_attn.v_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.v_proj.bias <- textual_encoder.layers.4.self_attn.v_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.q_proj.weight <- textual_encoder.layers.4.self_attn.q_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.q_proj.bias <- textual_encoder.layers.4.self_attn.q_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.out_proj.weight <- textual_encoder.layers.4.self_attn.out_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.out_proj.bias <- textual_encoder.layers.4.self_attn.out_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn_layer_norm.weight <- textual_encoder.layers.4.self_attn_layer_norm.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn_layer_norm.bias <- textual_encoder.layers.4.self_attn_layer_norm.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc1.weight <- textual_encoder.layers.4.fc1.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc1.bias <- textual_encoder.layers.4.fc1.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc2.weight <- textual_encoder.layers.4.fc2.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc2.bias <- textual_encoder.layers.4.fc2.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.final_layer_norm.weight <- textual_encoder.layers.4.final_layer_norm.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.final_layer_norm.bias <- textual_encoder.layers.4.final_layer_norm.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.k_proj.weight <- textual_encoder.layers.5.self_attn.k_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.k_proj.bias <- textual_encoder.layers.5.self_attn.k_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.v_proj.weight <- textual_encoder.layers.5.self_attn.v_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.v_proj.bias <- textual_encoder.layers.5.self_attn.v_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.q_proj.weight <- textual_encoder.layers.5.self_attn.q_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.q_proj.bias <- textual_encoder.layers.5.self_attn.q_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.out_proj.weight <- textual_encoder.layers.5.self_attn.out_proj.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.out_proj.bias <- textual_encoder.layers.5.self_attn.out_proj.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn_layer_norm.weight <- textual_encoder.layers.5.self_attn_layer_norm.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn_layer_norm.bias <- textual_encoder.layers.5.self_attn_layer_norm.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc1.weight <- textual_encoder.layers.5.fc1.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc1.bias <- textual_encoder.layers.5.fc1.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc2.weight <- textual_encoder.layers.5.fc2.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc2.bias <- textual_encoder.layers.5.fc2.bias
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.final_layer_norm.weight <- textual_encoder.layers.5.final_layer_norm.weight
2023-08-20 12:21:40 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.final_layer_norm.bias <- textual_encoder.layers.5.final_layer_norm.bias
2023-08-20 12:21:40 | INFO | fairseq.utils | ***********************CUDA enviroments for all 8 workers***********************
2023-08-20 12:21:40 | INFO | fairseq.utils | rank   0: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-20 12:21:40 | INFO | fairseq.utils | rank   1: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-20 12:21:40 | INFO | fairseq.utils | rank   2: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-20 12:21:40 | INFO | fairseq.utils | rank   3: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-20 12:21:40 | INFO | fairseq.utils | rank   4: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-20 12:21:40 | INFO | fairseq.utils | rank   5: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-20 12:21:40 | INFO | fairseq.utils | rank   6: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-20 12:21:40 | INFO | fairseq.utils | rank   7: capabilities =  8.6  ; total memory = 23.700 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-20 12:21:40 | INFO | fairseq.utils | ***********************CUDA enviroments for all 8 workers***********************
2023-08-20 12:21:40 | INFO | fairseq_cli.train | training on 8 devices (GPUs/TPUs)
2023-08-20 12:21:40 | INFO | fairseq_cli.train | max tokens per device = 15000 and max sentences per device = None
2023-08-20 12:21:40 | INFO | fairseq.trainer | Preparing to load checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-20 12:21:40 | INFO | fairseq.trainer | No existing checkpoint found ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-20 12:21:40 | INFO | fairseq.trainer | loading train data for epoch 1
2023-08-20 12:21:40 | INFO | fairseq.tasks.speech_to_text | pre-tokenizer: {'tokenizer': None}
2023-08-20 12:21:40 | INFO | fairseq.tasks.speech_to_text | tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/mnt/zhangyh/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-20 12:21:40 | INFO | fairseq.tasks.joint_triple_pretraining_merge | src tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/mnt/zhangyh/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-20 12:21:42 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="train_asr", n_samples=225277, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-20 12:21:44 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="train_st", n_samples=225277, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-20 12:22:25 | INFO | fairseq.optim.adam | using FusedAdam
2023-08-20 12:22:25 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 12:22:25 | INFO | fairseq.trainer | begin training epoch 1
2023-08-20 12:22:25 | INFO | fairseq_cli.train | Start iterating over samples
True None None None
2023-08-20 12:22:36 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 64.0
True None None None
2023-08-20 12:22:38 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 32.0
2023-08-20 12:22:40 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
True None None None
True None None None
2023-08-20 12:23:06 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
True None None None
True None None None
2023-08-20 12:23:42 | INFO | train_inner | epoch 001:    104 / 1474 loss=22.69, trans_loss=5.877, nll_loss=4.686, w2v_ctc_loss=22.339, task_loss=1.673, contrastive_loss=6.513, total=4227.3, n_correct=123.62, ppl=25.75, accuracy=2.924, wps=19280, ups=1.53, wpb=12610.6, bsz=476.3, num_updates=100, lr=4.098e-06, gnorm=2.856, clip=0, loss_scale=8, train_wall=69, gb_free=18.6, wall=121
2023-08-20 12:24:44 | INFO | train_inner | epoch 001:    204 / 1474 loss=19.519, trans_loss=5.874, nll_loss=4.709, w2v_ctc_loss=17.554, task_loss=1.635, contrastive_loss=6.481, total=4117.95, n_correct=114.59, ppl=26.16, accuracy=2.783, wps=19625.9, ups=1.6, wpb=12295.5, bsz=458, num_updates=200, lr=8.096e-06, gnorm=6.948, clip=15, loss_scale=8, train_wall=62, gb_free=18.8, wall=184
2023-08-20 12:25:35 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-20 12:25:48 | INFO | train_inner | epoch 001:    305 / 1474 loss=12.607, trans_loss=5.874, nll_loss=4.75, w2v_ctc_loss=6.998, task_loss=1.578, contrastive_loss=6.404, total=4072.9, n_correct=108.22, ppl=26.91, accuracy=2.657, wps=19035.3, ups=1.56, wpb=12165.9, bsz=438.4, num_updates=300, lr=1.2094e-05, gnorm=2.284, clip=0, loss_scale=4, train_wall=63, gb_free=18.6, wall=248
2023-08-20 12:26:51 | INFO | train_inner | epoch 001:    405 / 1474 loss=12.097, trans_loss=5.853, nll_loss=4.761, w2v_ctc_loss=6.099, task_loss=1.333, contrastive_loss=6.504, total=4176.41, n_correct=98.3, ppl=27.11, accuracy=2.354, wps=19903.4, ups=1.6, wpb=12470, bsz=461.3, num_updates=400, lr=1.6092e-05, gnorm=1.253, clip=0, loss_scale=4, train_wall=62, gb_free=19.4, wall=311
2023-08-20 12:27:53 | INFO | train_inner | epoch 001:    505 / 1474 loss=11.893, trans_loss=5.767, nll_loss=4.67, w2v_ctc_loss=5.789, task_loss=1.203, contrastive_loss=6.676, total=4192.13, n_correct=104.87, ppl=25.46, accuracy=2.502, wps=20060.1, ups=1.6, wpb=12526, bsz=489.2, num_updates=500, lr=2.009e-05, gnorm=1.264, clip=0, loss_scale=4, train_wall=62, gb_free=19.1, wall=373
2023-08-20 12:28:56 | INFO | train_inner | epoch 001:    605 / 1474 loss=11.686, trans_loss=5.748, nll_loss=4.64, w2v_ctc_loss=5.633, task_loss=1.19, contrastive_loss=6.548, total=4131.49, n_correct=98.23, ppl=24.94, accuracy=2.378, wps=19755.3, ups=1.6, wpb=12320.8, bsz=473.5, num_updates=600, lr=2.4088e-05, gnorm=1.097, clip=0, loss_scale=4, train_wall=62, gb_free=18.9, wall=435
2023-08-20 12:29:58 | INFO | train_inner | epoch 001:    705 / 1474 loss=11.552, trans_loss=5.795, nll_loss=4.701, w2v_ctc_loss=5.545, task_loss=1.242, contrastive_loss=6.289, total=4147.85, n_correct=91.06, ppl=26.02, accuracy=2.195, wps=19969.9, ups=1.61, wpb=12387.4, bsz=455.8, num_updates=700, lr=2.8086e-05, gnorm=1.413, clip=0, loss_scale=4, train_wall=61, gb_free=19.2, wall=497
2023-08-20 12:31:01 | INFO | train_inner | epoch 001:    805 / 1474 loss=11.357, trans_loss=5.837, nll_loss=4.747, w2v_ctc_loss=5.329, task_loss=1.22, contrastive_loss=6.304, total=4128.17, n_correct=85, ppl=26.86, accuracy=2.059, wps=19600.8, ups=1.59, wpb=12316.6, bsz=462.9, num_updates=800, lr=3.2084e-05, gnorm=1.887, clip=0, loss_scale=4, train_wall=62, gb_free=18.6, wall=560
2023-08-20 12:32:03 | INFO | train_inner | epoch 001:    905 / 1474 loss=11.239, trans_loss=5.964, nll_loss=4.907, w2v_ctc_loss=5.139, task_loss=1.232, contrastive_loss=6.117, total=4166.08, n_correct=63.28, ppl=29.99, accuracy=1.519, wps=20043.4, ups=1.61, wpb=12441.2, bsz=458.8, num_updates=900, lr=3.6082e-05, gnorm=1.67, clip=0, loss_scale=4, train_wall=61, gb_free=18.5, wall=622
2023-08-20 12:33:05 | INFO | train_inner | epoch 001:   1005 / 1474 loss=11.056, trans_loss=6.042, nll_loss=5, w2v_ctc_loss=4.901, task_loss=1.244, contrastive_loss=6.073, total=4131.01, n_correct=53.21, ppl=32.01, accuracy=1.288, wps=19689.2, ups=1.6, wpb=12339.5, bsz=456.7, num_updates=1000, lr=4.008e-05, gnorm=1.964, clip=0, loss_scale=4, train_wall=62, gb_free=19.1, wall=685
2023-08-20 12:34:07 | INFO | train_inner | epoch 001:   1105 / 1474 loss=10.849, trans_loss=6.137, nll_loss=5.113, w2v_ctc_loss=4.709, task_loss=1.261, contrastive_loss=5.893, total=4159.12, n_correct=39.3, ppl=34.62, accuracy=0.945, wps=20060.7, ups=1.62, wpb=12405, bsz=454.7, num_updates=1100, lr=4.4078e-05, gnorm=2.289, clip=0, loss_scale=4, train_wall=61, gb_free=18.8, wall=747
2023-08-20 12:35:10 | INFO | train_inner | epoch 001:   1205 / 1474 loss=10.59, trans_loss=6.146, nll_loss=5.125, w2v_ctc_loss=4.561, task_loss=1.326, contrastive_loss=5.657, total=4122.88, n_correct=39.76, ppl=34.91, accuracy=0.964, wps=19768.9, ups=1.61, wpb=12314.8, bsz=437.2, num_updates=1200, lr=4.8076e-05, gnorm=2.544, clip=0, loss_scale=4, train_wall=62, gb_free=19.1, wall=809
2023-08-20 12:36:11 | INFO | train_inner | epoch 001:   1305 / 1474 loss=10.415, trans_loss=6.191, nll_loss=5.181, w2v_ctc_loss=4.409, task_loss=1.241, contrastive_loss=5.499, total=4065.11, n_correct=32.5, ppl=36.29, accuracy=0.799, wps=19680.4, ups=1.62, wpb=12135.9, bsz=445.4, num_updates=1300, lr=5.2074e-05, gnorm=2.649, clip=0, loss_scale=4, train_wall=61, gb_free=19.2, wall=871
2023-08-20 12:37:14 | INFO | train_inner | epoch 001:   1405 / 1474 loss=10.186, trans_loss=6.194, nll_loss=5.186, w2v_ctc_loss=4.288, task_loss=1.265, contrastive_loss=5.588, total=4125.61, n_correct=34.96, ppl=36.41, accuracy=0.847, wps=19557.6, ups=1.59, wpb=12327.8, bsz=450.3, num_updates=1400, lr=5.6072e-05, gnorm=2.782, clip=0, loss_scale=4, train_wall=62, gb_free=18.6, wall=934
2023-08-20 12:37:57 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
True None None None
True None None None
True None None None
True None None None
True None None None
True None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True None None None
True None None None
True None None None
True None None None
True None None None
True None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True None None None
True None None None
True None None None
True None None None
True None None None
True None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True None None None
True None None None
True None None None
True None None None
True None None None
True None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True None None None
True None None None
True None None None
True None None None
True None None None
True None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True None None None
True None None None
True None None None
True None None None
True None None None
True None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True None None None
True None None None
True None None None
True None None None
True None None None
True None None None
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
2023-08-20 12:38:44 | INFO | dev_st | epoch 001 | valid on 'dev_st' subset | loss 13.774 | trans_loss 13.843 | nll_loss 13.676 | w2v_ctc_loss 5.64 | task_loss 7.545 | contrastive_loss 7.691 | total 4003.4 | n_correct 30.2 | ppl 13085.6 | accuracy 0.754 | uer 69.118 | wer 68.998 | raw_wer 68.998 | bleu 0 | wps 1032.6 | wpb 4003.4 | bsz 141.8 | num_updates 1469
2023-08-20 12:38:44 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 1 @ 1469 updates
2023-08-20 12:38:44 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 12:38:47 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 12:38:49 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 1 @ 1469 updates, score 0.0) (writing took 4.845788782986347 seconds)
2023-08-20 12:38:49 | INFO | fairseq_cli.train | end of epoch 1 (average epoch stats below)
2023-08-20 12:38:49 | INFO | train | epoch 001 | loss 12.586 | trans_loss 5.962 | nll_loss 4.886 | w2v_ctc_loss 7.249 | task_loss 1.325 | contrastive_loss 6.153 | total 4139.55 | n_correct 75.5568 | ppl 29.56 | accuracy 1.825 | wps 18663.1 | ups 1.51 | wpb 12358.4 | bsz 458.7 | num_updates 1469 | lr 5.88306e-05 | gnorm 2.392 | clip 1 | loss_scale 4 | train_wall 915 | gb_free 18.9 | wall 1029
2023-08-20 12:38:49 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 12:38:49 | INFO | fairseq.trainer | begin training epoch 2
2023-08-20 12:38:49 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 12:39:15 | INFO | train_inner | epoch 002:     31 / 1474 loss=10.033, trans_loss=6.221, nll_loss=5.218, w2v_ctc_loss=4.171, task_loss=1.191, contrastive_loss=5.45, total=4159.96, n_correct=34.39, ppl=37.22, accuracy=0.827, wps=10249.4, ups=0.83, wpb=12405.9, bsz=470.9, num_updates=1500, lr=6.007e-05, gnorm=3.261, clip=0, loss_scale=4, train_wall=61, gb_free=19.6, wall=1055
2023-08-20 12:40:17 | INFO | train_inner | epoch 002:    131 / 1474 loss=9.82, trans_loss=6.217, nll_loss=5.215, w2v_ctc_loss=4.119, task_loss=1.256, contrastive_loss=5.146, total=4158.42, n_correct=34.43, ppl=37.14, accuracy=0.828, wps=20104.5, ups=1.62, wpb=12405.1, bsz=453.8, num_updates=1600, lr=6.4068e-05, gnorm=3.157, clip=0, loss_scale=4, train_wall=61, gb_free=18.9, wall=1117
2023-08-20 12:41:19 | INFO | train_inner | epoch 002:    231 / 1474 loss=9.736, trans_loss=6.209, nll_loss=5.209, w2v_ctc_loss=3.994, task_loss=1.092, contrastive_loss=5.245, total=4199.99, n_correct=32.35, ppl=36.98, accuracy=0.77, wps=20259.2, ups=1.62, wpb=12542.2, bsz=493.1, num_updates=1700, lr=6.8066e-05, gnorm=3.142, clip=0, loss_scale=4, train_wall=61, gb_free=18.8, wall=1179
2023-08-20 12:42:21 | INFO | train_inner | epoch 002:    331 / 1474 loss=9.398, trans_loss=6.189, nll_loss=5.183, w2v_ctc_loss=3.975, task_loss=1.276, contrastive_loss=4.743, total=4133.34, n_correct=35.56, ppl=36.33, accuracy=0.86, wps=19984.3, ups=1.62, wpb=12340.6, bsz=446, num_updates=1800, lr=7.2064e-05, gnorm=3.311, clip=0, loss_scale=4, train_wall=61, gb_free=19.6, wall=1240
2023-08-20 12:43:24 | INFO | train_inner | epoch 002:    431 / 1474 loss=9.138, trans_loss=6.202, nll_loss=5.202, w2v_ctc_loss=3.937, task_loss=1.399, contrastive_loss=4.337, total=4031.76, n_correct=32.78, ppl=36.82, accuracy=0.813, wps=19069.9, ups=1.58, wpb=12051, bsz=413.3, num_updates=1900, lr=7.6062e-05, gnorm=2.991, clip=0, loss_scale=4, train_wall=62, gb_free=18.6, wall=1303
2023-08-20 12:44:26 | INFO | train_inner | epoch 002:    531 / 1474 loss=9.055, trans_loss=6.178, nll_loss=5.167, w2v_ctc_loss=3.814, task_loss=1.216, contrastive_loss=4.563, total=4176.84, n_correct=34.52, ppl=35.92, accuracy=0.826, wps=20204.4, ups=1.62, wpb=12461.7, bsz=466.9, num_updates=2000, lr=8.006e-05, gnorm=2.84, clip=0, loss_scale=4, train_wall=61, gb_free=18.5, wall=1365
2023-08-20 12:44:26 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 12:45:13 | INFO | dev_st | epoch 002 | valid on 'dev_st' subset | loss 12.79 | trans_loss 13.459 | nll_loss 13.2 | w2v_ctc_loss 5.032 | task_loss 7.545 | contrastive_loss 6.312 | total 4003.4 | n_correct 36.9 | ppl 9407.71 | accuracy 0.922 | uer 62.305 | wer 62.63 | raw_wer 62.63 | bleu 0 | wps 1033.2 | wpb 4003.4 | bsz 141.8 | num_updates 2000 | best_bleu 0
2023-08-20 12:45:13 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 2 @ 2000 updates
2023-08-20 12:45:13 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_2_2000.pt
2023-08-20 12:45:15 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_2_2000.pt
2023-08-20 12:45:24 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_2_2000.pt (epoch 2 @ 2000 updates, score 0.0) (writing took 11.259492454992142 seconds)
2023-08-20 12:46:25 | INFO | train_inner | epoch 002:    631 / 1474 loss=8.802, trans_loss=6.156, nll_loss=5.141, w2v_ctc_loss=3.746, task_loss=1.234, contrastive_loss=4.157, total=4128.91, n_correct=37.46, ppl=35.29, accuracy=0.907, wps=10294, ups=0.84, wpb=12321.5, bsz=450, num_updates=2100, lr=8.4058e-05, gnorm=3.064, clip=0, loss_scale=4, train_wall=60, gb_free=19.4, wall=1485
2023-08-20 12:47:27 | INFO | train_inner | epoch 002:    731 / 1474 loss=8.661, trans_loss=6.14, nll_loss=5.122, w2v_ctc_loss=3.694, task_loss=1.246, contrastive_loss=4.236, total=4134.99, n_correct=36.89, ppl=34.83, accuracy=0.892, wps=20103.5, ups=1.63, wpb=12343.8, bsz=457.3, num_updates=2200, lr=8.8056e-05, gnorm=3.068, clip=0, loss_scale=4, train_wall=61, gb_free=18.9, wall=1546
2023-08-20 12:48:28 | INFO | train_inner | epoch 002:    831 / 1474 loss=8.515, trans_loss=6.114, nll_loss=5.092, w2v_ctc_loss=3.647, task_loss=1.25, contrastive_loss=4.165, total=4176.63, n_correct=39.52, ppl=34.1, accuracy=0.946, wps=20202.5, ups=1.62, wpb=12476, bsz=463.9, num_updates=2300, lr=9.2054e-05, gnorm=2.873, clip=0, loss_scale=4, train_wall=61, gb_free=18.6, wall=1608
2023-08-20 12:49:32 | INFO | train_inner | epoch 002:    931 / 1474 loss=8.295, trans_loss=6.102, nll_loss=5.078, w2v_ctc_loss=3.572, task_loss=1.284, contrastive_loss=3.993, total=4102.83, n_correct=42.86, ppl=33.77, accuracy=1.045, wps=19361.8, ups=1.58, wpb=12248.5, bsz=444.8, num_updates=2400, lr=9.6052e-05, gnorm=2.818, clip=0, loss_scale=8, train_wall=62, gb_free=18.5, wall=1671
2023-08-20 12:50:33 | INFO | train_inner | epoch 002:   1031 / 1474 loss=8.132, trans_loss=6.086, nll_loss=5.06, w2v_ctc_loss=3.509, task_loss=1.265, contrastive_loss=3.737, total=4094.52, n_correct=43.56, ppl=33.35, accuracy=1.064, wps=19876.7, ups=1.63, wpb=12223.5, bsz=452.4, num_updates=2500, lr=0.00010005, gnorm=2.56, clip=0, loss_scale=8, train_wall=61, gb_free=18.7, wall=1733
2023-08-20 12:51:35 | INFO | train_inner | epoch 002:   1131 / 1474 loss=8.121, trans_loss=6.082, nll_loss=5.057, w2v_ctc_loss=3.425, task_loss=1.111, contrastive_loss=4.057, total=4208.43, n_correct=47.09, ppl=33.29, accuracy=1.119, wps=20216.9, ups=1.61, wpb=12564.4, bsz=493.6, num_updates=2600, lr=0.000104048, gnorm=2.513, clip=0, loss_scale=8, train_wall=61, gb_free=19.6, wall=1795
2023-08-20 12:52:37 | INFO | train_inner | epoch 002:   1231 / 1474 loss=7.97, trans_loss=6.065, nll_loss=5.035, w2v_ctc_loss=3.384, task_loss=1.144, contrastive_loss=3.898, total=4225.14, n_correct=48.21, ppl=32.79, accuracy=1.141, wps=20361.6, ups=1.62, wpb=12605.4, bsz=493.8, num_updates=2700, lr=0.000108046, gnorm=2.511, clip=0, loss_scale=8, train_wall=61, gb_free=18.5, wall=1857
2023-08-20 12:53:39 | INFO | train_inner | epoch 002:   1331 / 1474 loss=7.728, trans_loss=6.063, nll_loss=5.039, w2v_ctc_loss=3.363, task_loss=1.212, contrastive_loss=3.29, total=4141.12, n_correct=49.07, ppl=32.88, accuracy=1.185, wps=20176.7, ups=1.63, wpb=12377.6, bsz=456.1, num_updates=2800, lr=0.000112044, gnorm=2.301, clip=0, loss_scale=8, train_wall=61, gb_free=19.1, wall=1918
2023-08-20 12:54:42 | INFO | train_inner | epoch 002:   1431 / 1474 loss=7.615, trans_loss=6.071, nll_loss=5.046, w2v_ctc_loss=3.313, task_loss=1.325, contrastive_loss=3.427, total=4066.11, n_correct=49.71, ppl=33.04, accuracy=1.223, wps=19217.5, ups=1.58, wpb=12140.4, bsz=444.1, num_updates=2900, lr=0.000116042, gnorm=2.23, clip=0, loss_scale=8, train_wall=62, gb_free=19, wall=1981
2023-08-20 12:55:08 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 12:55:55 | INFO | dev_st | epoch 002 | valid on 'dev_st' subset | loss 11.597 | trans_loss 13.102 | nll_loss 12.794 | w2v_ctc_loss 4.254 | task_loss 7.545 | contrastive_loss 4.436 | total 4003.4 | n_correct 58.8 | ppl 7101.14 | accuracy 1.469 | uer 55.09 | wer 55.624 | raw_wer 55.624 | bleu 0 | wps 1033.6 | wpb 4003.4 | bsz 141.8 | num_updates 2943 | best_bleu 0
2023-08-20 12:55:55 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 2 @ 2943 updates
2023-08-20 12:55:55 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 12:56:02 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 12:56:08 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 2 @ 2943 updates, score 0.0) (writing took 12.390338142984547 seconds)
2023-08-20 12:56:08 | INFO | fairseq_cli.train | end of epoch 2 (average epoch stats below)
2023-08-20 12:56:08 | INFO | train | epoch 002 | loss 8.638 | trans_loss 6.134 | nll_loss 5.117 | w2v_ctc_loss 3.676 | task_loss 1.234 | contrastive_loss 4.213 | total 4138.65 | n_correct 40.5441 | ppl 34.71 | accuracy 0.98 | wps 17531.1 | ups 1.42 | wpb 12355.8 | bsz 458.5 | num_updates 2943 | lr 0.000117761 | gnorm 2.806 | clip 0 | loss_scale 8 | train_wall 902 | gb_free 19 | wall 2067
2023-08-20 12:56:08 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 12:56:08 | INFO | fairseq.trainer | begin training epoch 3
2023-08-20 12:56:08 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 12:56:51 | INFO | train_inner | epoch 003:     57 / 1474 loss=7.429, trans_loss=6.054, nll_loss=5.025, w2v_ctc_loss=3.254, task_loss=1.292, contrastive_loss=3.122, total=4052.7, n_correct=52.67, ppl=32.55, accuracy=1.3, wps=9395.4, ups=0.78, wpb=12098.1, bsz=436.3, num_updates=3000, lr=0.00012004, gnorm=2.099, clip=0, loss_scale=8, train_wall=61, gb_free=19.4, wall=2110
2023-08-20 12:56:51 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-20 12:56:53 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 2.0
2023-08-20 12:56:54 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 1.0
2023-08-20 12:58:21 | INFO | train_inner | epoch 003:    160 / 1474 loss=6.552, trans_loss=5.434, nll_loss=4.23, w2v_ctc_loss=3.037, task_loss=0.85, contrastive_loss=2.738, total=4150.91, n_correct=252.91, ppl=18.76, accuracy=6.093, wps=13663.3, ups=1.1, wpb=12396.5, bsz=461.4, num_updates=3100, lr=0.000124038, gnorm=5.684, clip=9, loss_scale=1, train_wall=90, gb_free=16.8, wall=2201
2023-08-20 12:59:51 | INFO | train_inner | epoch 003:    260 / 1474 loss=5.598, trans_loss=5.153, nll_loss=3.868, w2v_ctc_loss=2.702, task_loss=0.865, contrastive_loss=2.185, total=4160.57, n_correct=435.88, ppl=14.61, accuracy=10.476, wps=13875.8, ups=1.12, wpb=12430.5, bsz=467.1, num_updates=3200, lr=0.000128036, gnorm=3.092, clip=0, loss_scale=1, train_wall=89, gb_free=15.2, wall=2290
2023-08-20 13:01:20 | INFO | train_inner | epoch 003:    360 / 1474 loss=5.211, trans_loss=5.004, nll_loss=3.666, w2v_ctc_loss=2.577, task_loss=0.849, contrastive_loss=2.046, total=4159.93, n_correct=549.05, ppl=12.69, accuracy=13.199, wps=13867.8, ups=1.12, wpb=12413.4, bsz=467.3, num_updates=3300, lr=0.000132034, gnorm=3.212, clip=1, loss_scale=1, train_wall=89, gb_free=15.4, wall=2380
2023-08-20 13:01:56 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 0.5
2023-08-20 13:02:52 | INFO | train_inner | epoch 003:    461 / 1474 loss=4.787, trans_loss=4.599, nll_loss=3.125, w2v_ctc_loss=2.555, task_loss=0.849, contrastive_loss=1.718, total=4204.14, n_correct=929.51, ppl=8.72, accuracy=22.109, wps=13718, ups=1.09, wpb=12549.6, bsz=470.8, num_updates=3400, lr=0.000136032, gnorm=4.675, clip=4, loss_scale=0.5, train_wall=91, gb_free=15.5, wall=2471
2023-08-20 13:04:21 | INFO | train_inner | epoch 003:    561 / 1474 loss=4.441, trans_loss=4.377, nll_loss=2.837, w2v_ctc_loss=2.492, task_loss=0.929, contrastive_loss=1.571, total=4082.91, n_correct=1151.88, ppl=7.14, accuracy=28.212, wps=13665.6, ups=1.12, wpb=12196.9, bsz=438.2, num_updates=3500, lr=0.00014003, gnorm=7.05, clip=7, loss_scale=0.5, train_wall=88, gb_free=14.2, wall=2561
2023-08-20 13:05:51 | INFO | train_inner | epoch 003:    661 / 1474 loss=4.296, trans_loss=4.285, nll_loss=2.714, w2v_ctc_loss=2.388, task_loss=0.813, contrastive_loss=1.705, total=4228.57, n_correct=1316, ppl=6.56, accuracy=31.122, wps=13955.3, ups=1.11, wpb=12607.2, bsz=484.2, num_updates=3600, lr=0.000144028, gnorm=4.216, clip=4, loss_scale=0.5, train_wall=90, gb_free=16.6, wall=2651
2023-08-20 13:07:21 | INFO | train_inner | epoch 003:    761 / 1474 loss=4.036, trans_loss=4.235, nll_loss=2.654, w2v_ctc_loss=2.331, task_loss=0.828, contrastive_loss=1.155, total=4160.15, n_correct=1348.03, ppl=6.3, accuracy=32.403, wps=13948.5, ups=1.12, wpb=12426.8, bsz=468.7, num_updates=3700, lr=0.000148026, gnorm=2.864, clip=1, loss_scale=0.5, train_wall=88, gb_free=11.2, wall=2740
2023-08-20 13:07:21 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 0.25
2023-08-20 13:08:50 | INFO | train_inner | epoch 003:    862 / 1474 loss=3.875, trans_loss=4.212, nll_loss=2.624, w2v_ctc_loss=2.258, task_loss=0.862, contrastive_loss=1.026, total=4170.95, n_correct=1383.36, ppl=6.16, accuracy=33.167, wps=13867.3, ups=1.11, wpb=12453.7, bsz=458.1, num_updates=3800, lr=0.000152024, gnorm=2.445, clip=1, loss_scale=0.25, train_wall=89, gb_free=17, wall=2830
2023-08-20 13:10:20 | INFO | train_inner | epoch 003:    962 / 1474 loss=3.765, trans_loss=4.181, nll_loss=2.583, w2v_ctc_loss=2.179, task_loss=0.819, contrastive_loss=1.037, total=4174.19, n_correct=1430.87, ppl=5.99, accuracy=34.279, wps=13867.7, ups=1.11, wpb=12449.2, bsz=475.7, num_updates=3900, lr=0.000156022, gnorm=2.074, clip=0, loss_scale=0.25, train_wall=89, gb_free=13.3, wall=2920
2023-08-20 13:11:49 | INFO | train_inner | epoch 003:   1062 / 1474 loss=3.732, trans_loss=4.173, nll_loss=2.576, w2v_ctc_loss=2.219, task_loss=0.932, contrastive_loss=0.906, total=4049.41, n_correct=1385.1, ppl=5.96, accuracy=34.205, wps=13626.3, ups=1.13, wpb=12096, bsz=436.3, num_updates=4000, lr=0.00016002, gnorm=3.568, clip=7, loss_scale=0.25, train_wall=88, gb_free=16, wall=3009
2023-08-20 13:11:49 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 13:12:27 | INFO | dev_st | epoch 003 | valid on 'dev_st' subset | loss 6.011 | trans_loss 7.244 | nll_loss 5.107 | w2v_ctc_loss 2.598 | task_loss 3.973 | contrastive_loss 1.334 | total 4003.4 | n_correct 1474.8 | ppl 34.46 | accuracy 36.839 | uer 35.487 | wer 35.912 | raw_wer 35.912 | bleu 0.96 | wps 1307.5 | wpb 4003.4 | bsz 141.8 | num_updates 4000 | best_bleu 0.96
2023-08-20 13:12:27 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 3 @ 4000 updates
2023-08-20 13:12:27 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_3_4000.pt
2023-08-20 13:12:29 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_3_4000.pt
2023-08-20 13:12:39 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_3_4000.pt (epoch 3 @ 4000 updates, score 0.96) (writing took 12.112462280027103 seconds)
2023-08-20 13:14:06 | INFO | train_inner | epoch 003:   1162 / 1474 loss=3.591, trans_loss=4.156, nll_loss=2.552, w2v_ctc_loss=2.127, task_loss=0.919, contrastive_loss=0.808, total=4044.1, n_correct=1409.54, ppl=5.87, accuracy=34.854, wps=8781, ups=0.73, wpb=12070.2, bsz=433.6, num_updates=4100, lr=0.000164018, gnorm=2.117, clip=0, loss_scale=0.25, train_wall=87, gb_free=15.2, wall=3146
2023-08-20 13:15:35 | INFO | train_inner | epoch 003:   1262 / 1474 loss=3.493, trans_loss=4.136, nll_loss=2.529, w2v_ctc_loss=2.066, task_loss=0.914, contrastive_loss=0.74, total=4065.1, n_correct=1434.17, ppl=5.77, accuracy=35.28, wps=13679.1, ups=1.13, wpb=12140.5, bsz=432.3, num_updates=4200, lr=0.000168016, gnorm=1.933, clip=0, loss_scale=0.25, train_wall=88, gb_free=16.8, wall=3235
2023-08-20 13:17:05 | INFO | train_inner | epoch 003:   1362 / 1474 loss=3.512, trans_loss=4.123, nll_loss=2.51, w2v_ctc_loss=2.033, task_loss=0.864, contrastive_loss=0.96, total=4132.35, n_correct=1483.93, ppl=5.7, accuracy=35.91, wps=13741.9, ups=1.11, wpb=12335.6, bsz=462.1, num_updates=4300, lr=0.000172014, gnorm=2.33, clip=0, loss_scale=0.25, train_wall=89, gb_free=17.3, wall=3325
2023-08-20 13:18:35 | INFO | train_inner | epoch 003:   1462 / 1474 loss=3.464, trans_loss=4.108, nll_loss=2.493, w2v_ctc_loss=2.014, task_loss=0.822, contrastive_loss=0.884, total=4206.88, n_correct=1536.44, ppl=5.63, accuracy=36.522, wps=13990.2, ups=1.11, wpb=12566, bsz=476, num_updates=4400, lr=0.000176012, gnorm=1.97, clip=0, loss_scale=0.25, train_wall=89, gb_free=14.7, wall=3414
2023-08-20 13:18:45 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 13:19:25 | INFO | dev_st | epoch 003 | valid on 'dev_st' subset | loss 5.702 | trans_loss 7.062 | nll_loss 4.877 | w2v_ctc_loss 2.276 | task_loss 4.054 | contrastive_loss 1.036 | total 4003.4 | n_correct 1568.4 | ppl 29.38 | accuracy 39.177 | uer 32.679 | wer 33.149 | raw_wer 33.149 | bleu 1.96 | wps 1306.9 | wpb 4003.4 | bsz 141.8 | num_updates 4412 | best_bleu 1.96
2023-08-20 13:19:25 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 3 @ 4412 updates
2023-08-20 13:19:25 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 13:19:31 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 13:19:36 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 3 @ 4412 updates, score 1.96) (writing took 11.448010127991438 seconds)
2023-08-20 13:19:36 | INFO | fairseq_cli.train | end of epoch 3 (average epoch stats below)
2023-08-20 13:19:36 | INFO | train | epoch 003 | loss 4.426 | trans_loss 4.502 | nll_loss 3.005 | w2v_ctc_loss 2.387 | task_loss 0.88 | contrastive_loss 1.463 | total 4139.07 | n_correct 1106.17 | ppl 8.03 | accuracy 26.725 | wps 12887.2 | ups 1.04 | wpb 12357.1 | bsz 458.7 | num_updates 4412 | lr 0.000176492 | gnorm 3.313 | clip 2.3 | loss_scale 0.25 | train_wall 1289 | gb_free 15.9 | wall 3476
2023-08-20 13:19:37 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 13:19:37 | INFO | fairseq.trainer | begin training epoch 4
2023-08-20 13:19:37 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 13:21:01 | INFO | train_inner | epoch 004:     88 / 1474 loss=3.303, trans_loss=4.089, nll_loss=2.466, w2v_ctc_loss=1.965, task_loss=0.904, contrastive_loss=0.56, total=4082.27, n_correct=1504.5, ppl=5.52, accuracy=36.854, wps=8330.3, ups=0.68, wpb=12182.1, bsz=434.2, num_updates=4500, lr=0.00018001, gnorm=2.338, clip=1, loss_scale=0.25, train_wall=87, gb_free=17.5, wall=3561
2023-08-20 13:22:29 | INFO | train_inner | epoch 004:    188 / 1474 loss=3.286, trans_loss=4.061, nll_loss=2.431, w2v_ctc_loss=1.94, task_loss=0.817, contrastive_loss=0.622, total=4184.92, n_correct=1576.81, ppl=5.39, accuracy=37.678, wps=14182.7, ups=1.13, wpb=12496.9, bsz=470.3, num_updates=4600, lr=0.000184008, gnorm=2.546, clip=2, loss_scale=0.25, train_wall=87, gb_free=12.7, wall=3649
2023-08-20 13:23:58 | INFO | train_inner | epoch 004:    288 / 1474 loss=3.279, trans_loss=4.054, nll_loss=2.423, w2v_ctc_loss=1.9, task_loss=0.856, contrastive_loss=0.839, total=4150, n_correct=1576.83, ppl=5.36, accuracy=37.996, wps=13914.7, ups=1.12, wpb=12397.9, bsz=465.2, num_updates=4700, lr=0.000188006, gnorm=1.746, clip=0, loss_scale=0.25, train_wall=88, gb_free=16.6, wall=3738
2023-08-20 13:25:27 | INFO | train_inner | epoch 004:    388 / 1474 loss=3.185, trans_loss=4.044, nll_loss=2.407, w2v_ctc_loss=1.891, task_loss=0.905, contrastive_loss=0.505, total=4114.32, n_correct=1578.96, ppl=5.3, accuracy=38.377, wps=13890, ups=1.13, wpb=12277.1, bsz=440, num_updates=4800, lr=0.000192004, gnorm=1.869, clip=0, loss_scale=0.25, train_wall=88, gb_free=11.6, wall=3826
2023-08-20 13:26:57 | INFO | train_inner | epoch 004:    488 / 1474 loss=3.334, trans_loss=4.022, nll_loss=2.378, w2v_ctc_loss=1.834, task_loss=0.764, contrastive_loss=1.358, total=4239.74, n_correct=1665.45, ppl=5.2, accuracy=39.282, wps=14049.6, ups=1.11, wpb=12652.2, bsz=506.4, num_updates=4900, lr=0.000196002, gnorm=1.758, clip=0, loss_scale=0.25, train_wall=89, gb_free=16.6, wall=3916
2023-08-20 13:28:26 | INFO | train_inner | epoch 004:    588 / 1474 loss=3.131, trans_loss=3.987, nll_loss=2.334, w2v_ctc_loss=1.831, task_loss=0.81, contrastive_loss=0.613, total=4219.26, n_correct=1709.48, ppl=5.04, accuracy=40.516, wps=14099.3, ups=1.12, wpb=12596.5, bsz=483.8, num_updates=5000, lr=0.0002, gnorm=1.567, clip=0, loss_scale=0.25, train_wall=89, gb_free=15.8, wall=4006
mt_weight tensor(0.5000)
asr_weight tensor(0.4847, device='cuda:0')
2023-08-20 13:29:57 | INFO | train_inner | epoch 004:    688 / 1474 loss=3.158, trans_loss=3.988, nll_loss=2.332, w2v_ctc_loss=1.861, task_loss=0.896, contrastive_loss=0.746, total=4171.93, n_correct=1694.57, ppl=5.03, accuracy=40.618, wps=13722.2, ups=1.1, wpb=12436.9, bsz=453.3, num_updates=5100, lr=0.00019803, gnorm=1.625, clip=2, loss_scale=0.25, train_wall=90, gb_free=15.2, wall=4096
2023-08-20 13:31:26 | INFO | train_inner | epoch 004:    788 / 1474 loss=3.073, trans_loss=3.956, nll_loss=2.294, w2v_ctc_loss=1.855, task_loss=0.941, contrastive_loss=0.483, total=4029.4, n_correct=1673.67, ppl=4.9, accuracy=41.536, wps=13521.6, ups=1.12, wpb=12032.2, bsz=423.7, num_updates=5200, lr=0.000196116, gnorm=1.364, clip=0, loss_scale=0.25, train_wall=88, gb_free=15.9, wall=4185
2023-08-20 13:32:55 | INFO | train_inner | epoch 004:    888 / 1474 loss=3.152, trans_loss=3.936, nll_loss=2.269, w2v_ctc_loss=1.854, task_loss=0.865, contrastive_loss=0.84, total=4175.28, n_correct=1761.98, ppl=4.82, accuracy=42.2, wps=13947.9, ups=1.12, wpb=12468.9, bsz=463.7, num_updates=5300, lr=0.000194257, gnorm=1.616, clip=1, loss_scale=0.25, train_wall=89, gb_free=15.2, wall=4275
2023-08-20 13:34:25 | INFO | train_inner | epoch 004:    988 / 1474 loss=3.03, trans_loss=3.908, nll_loss=2.233, w2v_ctc_loss=1.812, task_loss=0.884, contrastive_loss=0.562, total=4132.46, n_correct=1793.55, ppl=4.7, accuracy=43.402, wps=13765.2, ups=1.12, wpb=12343.2, bsz=455.3, num_updates=5400, lr=0.00019245, gnorm=1.192, clip=0, loss_scale=0.25, train_wall=89, gb_free=10.2, wall=4364
2023-08-20 13:35:54 | INFO | train_inner | epoch 004:   1088 / 1474 loss=3.073, trans_loss=3.915, nll_loss=2.24, w2v_ctc_loss=1.861, task_loss=0.925, contrastive_loss=0.552, total=4073.98, n_correct=1763.9, ppl=4.73, accuracy=43.297, wps=13554.2, ups=1.11, wpb=12161.7, bsz=437.9, num_updates=5500, lr=0.000190693, gnorm=1.616, clip=2, loss_scale=0.25, train_wall=89, gb_free=15.4, wall=4454
2023-08-20 13:37:23 | INFO | train_inner | epoch 004:   1188 / 1474 loss=3.036, trans_loss=3.879, nll_loss=2.196, w2v_ctc_loss=1.789, task_loss=0.799, contrastive_loss=0.722, total=4172.46, n_correct=1865.62, ppl=4.58, accuracy=44.713, wps=14003, ups=1.12, wpb=12459.8, bsz=487.1, num_updates=5600, lr=0.000188982, gnorm=1.133, clip=0, loss_scale=0.25, train_wall=88, gb_free=10.7, wall=4543
2023-08-20 13:38:52 | INFO | train_inner | epoch 004:   1288 / 1474 loss=3.07, trans_loss=3.879, nll_loss=2.195, w2v_ctc_loss=1.841, task_loss=0.833, contrastive_loss=0.686, total=4140.32, n_correct=1845.7, ppl=4.58, accuracy=44.579, wps=13968.1, ups=1.13, wpb=12365.2, bsz=467.7, num_updates=5700, lr=0.000187317, gnorm=1.921, clip=3, loss_scale=0.25, train_wall=88, gb_free=16.8, wall=4632
2023-08-20 13:40:19 | INFO | train_inner | epoch 004:   1388 / 1474 loss=2.905, trans_loss=3.847, nll_loss=2.155, w2v_ctc_loss=1.779, task_loss=0.896, contrastive_loss=0.383, total=4092.66, n_correct=1869.38, ppl=4.45, accuracy=45.676, wps=13978.9, ups=1.14, wpb=12224.9, bsz=436.3, num_updates=5800, lr=0.000185695, gnorm=1.13, clip=0, loss_scale=0.5, train_wall=87, gb_free=16.1, wall=4719
2023-08-20 13:41:35 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.4847, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.4847, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.4847, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.4847, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.4847, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.4847, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.4847, device='cuda:4')
2023-08-20 13:42:11 | INFO | dev_st | epoch 004 | valid on 'dev_st' subset | loss 4.948 | trans_loss 6.168 | nll_loss 3.701 | w2v_ctc_loss 2.023 | task_loss 4.263 | contrastive_loss 0.768 | total 4003.4 | n_correct 2063.9 | ppl 13.01 | accuracy 51.554 | uer 29 | wer 29.85 | raw_wer 29.85 | bleu 9.88 | wps 1390.5 | wpb 4003.4 | bsz 141.8 | num_updates 5886 | best_bleu 9.88
2023-08-20 13:42:11 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 4 @ 5886 updates
2023-08-20 13:42:11 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 13:42:18 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 13:42:24 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 4 @ 5886 updates, score 9.88) (writing took 12.379371595976409 seconds)
2023-08-20 13:42:24 | INFO | fairseq_cli.train | end of epoch 4 (average epoch stats below)
2023-08-20 13:42:24 | INFO | train | epoch 004 | loss 3.13 | trans_loss 3.961 | nll_loss 2.301 | w2v_ctc_loss 1.852 | task_loss 0.863 | contrastive_loss 0.674 | total 4138.65 | n_correct 1717.17 | ppl 4.93 | accuracy 41.491 | wps 13315.9 | ups 1.08 | wpb 12355.8 | bsz 458.5 | num_updates 5886 | lr 0.000184334 | gnorm 1.643 | clip 0.7 | loss_scale 0.5 | train_wall 1301 | gb_free 14.5 | wall 4844
2023-08-20 13:42:24 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 13:42:24 | INFO | fairseq.trainer | begin training epoch 5
2023-08-20 13:42:24 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 13:42:44 | INFO | train_inner | epoch 005:     14 / 1474 loss=2.914, trans_loss=3.837, nll_loss=2.14, w2v_ctc_loss=1.753, task_loss=0.869, contrastive_loss=0.492, total=4073.09, n_correct=1878.56, ppl=4.41, accuracy=46.121, wps=8402.4, ups=0.69, wpb=12158.4, bsz=451.4, num_updates=5900, lr=0.000184115, gnorm=1.24, clip=0, loss_scale=0.5, train_wall=87, gb_free=17, wall=4864
2023-08-20 13:44:14 | INFO | train_inner | epoch 005:    114 / 1474 loss=2.861, trans_loss=3.803, nll_loss=2.097, w2v_ctc_loss=1.71, task_loss=0.792, contrastive_loss=0.443, total=4233.69, n_correct=2001.22, ppl=4.28, accuracy=47.269, wps=14149.8, ups=1.12, wpb=12643.8, bsz=488.6, num_updates=6000, lr=0.000182574, gnorm=1.478, clip=0, loss_scale=0.5, train_wall=88, gb_free=15.4, wall=4953
2023-08-20 13:44:14 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 13:44:48 | INFO | dev_st | epoch 005 | valid on 'dev_st' subset | loss 4.982 | trans_loss 6.199 | nll_loss 3.744 | w2v_ctc_loss 2.03 | task_loss 4.214 | contrastive_loss 0.809 | total 4003.4 | n_correct 2036.4 | ppl 13.39 | accuracy 50.867 | uer 30.152 | wer 31.487 | raw_wer 31.487 | bleu 9.53 | wps 1523.8 | wpb 4003.4 | bsz 141.8 | num_updates 6000 | best_bleu 9.88
2023-08-20 13:44:48 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 5 @ 6000 updates
2023-08-20 13:44:48 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_5_6000.pt
2023-08-20 13:44:50 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_5_6000.pt
2023-08-20 13:44:55 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_5_6000.pt (epoch 5 @ 6000 updates, score 9.53) (writing took 7.13216870801989 seconds)
2023-08-20 13:46:22 | INFO | train_inner | epoch 005:    214 / 1474 loss=2.948, trans_loss=3.8, nll_loss=2.091, w2v_ctc_loss=1.735, task_loss=0.804, contrastive_loss=0.884, total=4185.02, n_correct=1989.85, ppl=4.26, accuracy=47.547, wps=9689.9, ups=0.78, wpb=12486.5, bsz=485.7, num_updates=6100, lr=0.000181071, gnorm=1.151, clip=0, loss_scale=0.5, train_wall=87, gb_free=16.4, wall=5082
2023-08-20 13:47:50 | INFO | train_inner | epoch 005:    314 / 1474 loss=2.848, trans_loss=3.775, nll_loss=2.064, w2v_ctc_loss=1.719, task_loss=0.875, contrastive_loss=0.576, total=4097.42, n_correct=1967.53, ppl=4.18, accuracy=48.019, wps=13926, ups=1.14, wpb=12251.6, bsz=448, num_updates=6200, lr=0.000179605, gnorm=1.167, clip=0, loss_scale=0.5, train_wall=87, gb_free=13.7, wall=5170
2023-08-20 13:49:20 | INFO | train_inner | epoch 005:    414 / 1474 loss=2.832, trans_loss=3.756, nll_loss=2.038, w2v_ctc_loss=1.655, task_loss=0.849, contrastive_loss=0.723, total=4135.49, n_correct=2023.52, ppl=4.11, accuracy=48.931, wps=13859.2, ups=1.12, wpb=12359.1, bsz=465.9, num_updates=6300, lr=0.000178174, gnorm=0.874, clip=0, loss_scale=0.5, train_wall=88, gb_free=17.1, wall=5259
2023-08-20 13:50:48 | INFO | train_inner | epoch 005:    514 / 1474 loss=2.758, trans_loss=3.75, nll_loss=2.028, w2v_ctc_loss=1.641, task_loss=0.938, contrastive_loss=0.583, total=4035.21, n_correct=1990.3, ppl=4.08, accuracy=49.323, wps=13588.5, ups=1.13, wpb=12051.5, bsz=427.7, num_updates=6400, lr=0.000176777, gnorm=0.864, clip=0, loss_scale=0.5, train_wall=88, gb_free=16.8, wall=5348
2023-08-20 13:52:18 | INFO | train_inner | epoch 005:    614 / 1474 loss=2.745, trans_loss=3.752, nll_loss=2.029, w2v_ctc_loss=1.662, task_loss=0.907, contrastive_loss=0.395, total=4117.64, n_correct=2035.72, ppl=4.08, accuracy=49.439, wps=13668.1, ups=1.11, wpb=12284.8, bsz=443.7, num_updates=6500, lr=0.000175412, gnorm=1.008, clip=0, loss_scale=0.5, train_wall=89, gb_free=16.9, wall=5438
2023-08-20 13:53:47 | INFO | train_inner | epoch 005:    714 / 1474 loss=2.742, trans_loss=3.729, nll_loss=2.001, w2v_ctc_loss=1.603, task_loss=0.833, contrastive_loss=0.592, total=4153.99, n_correct=2092.04, ppl=4, accuracy=50.362, wps=13908.6, ups=1.12, wpb=12400.6, bsz=476.1, num_updates=6600, lr=0.000174078, gnorm=0.742, clip=0, loss_scale=0.5, train_wall=88, gb_free=17.4, wall=5527
2023-08-20 13:55:16 | INFO | train_inner | epoch 005:    814 / 1474 loss=2.704, trans_loss=3.716, nll_loss=1.984, w2v_ctc_loss=1.606, task_loss=0.873, contrastive_loss=0.467, total=4131.08, n_correct=2093.81, ppl=3.96, accuracy=50.684, wps=13847.6, ups=1.12, wpb=12332.3, bsz=455.1, num_updates=6700, lr=0.000172774, gnorm=0.879, clip=0, loss_scale=0.5, train_wall=88, gb_free=17.4, wall=5616
2023-08-20 13:56:45 | INFO | train_inner | epoch 005:    914 / 1474 loss=2.656, trans_loss=3.708, nll_loss=1.974, w2v_ctc_loss=1.593, task_loss=0.898, contrastive_loss=0.368, total=4109.29, n_correct=2099.56, ppl=3.93, accuracy=51.093, wps=13857, ups=1.13, wpb=12268.1, bsz=445.5, num_updates=6800, lr=0.000171499, gnorm=0.839, clip=0, loss_scale=0.5, train_wall=88, gb_free=11.5, wall=5704
2023-08-20 13:58:13 | INFO | train_inner | epoch 005:   1014 / 1474 loss=2.664, trans_loss=3.698, nll_loss=1.96, w2v_ctc_loss=1.578, task_loss=0.851, contrastive_loss=0.515, total=4163.73, n_correct=2147.11, ppl=3.89, accuracy=51.567, wps=14097.9, ups=1.13, wpb=12429.6, bsz=462.1, num_updates=6900, lr=0.000170251, gnorm=1.063, clip=1, loss_scale=0.5, train_wall=87, gb_free=15.9, wall=5793
2023-08-20 13:59:43 | INFO | train_inner | epoch 005:   1114 / 1474 loss=2.67, trans_loss=3.685, nll_loss=1.943, w2v_ctc_loss=1.576, task_loss=0.859, contrastive_loss=0.527, total=4172.75, n_correct=2171.75, ppl=3.84, accuracy=52.046, wps=13788.7, ups=1.11, wpb=12448.4, bsz=464, num_updates=7000, lr=0.000169031, gnorm=0.705, clip=0, loss_scale=0.5, train_wall=90, gb_free=12.3, wall=5883
2023-08-20 14:01:13 | INFO | train_inner | epoch 005:   1214 / 1474 loss=2.591, trans_loss=3.68, nll_loss=1.935, w2v_ctc_loss=1.545, task_loss=0.868, contrastive_loss=0.326, total=4164.91, n_correct=2179.51, ppl=3.82, accuracy=52.33, wps=13916.9, ups=1.12, wpb=12422.5, bsz=455.7, num_updates=7100, lr=0.000167836, gnorm=0.851, clip=1, loss_scale=0.5, train_wall=89, gb_free=14.6, wall=5972
2023-08-20 14:02:41 | INFO | train_inner | epoch 005:   1314 / 1474 loss=2.556, trans_loss=3.67, nll_loss=1.925, w2v_ctc_loss=1.527, task_loss=0.879, contrastive_loss=0.273, total=4127.88, n_correct=2171.82, ppl=3.8, accuracy=52.613, wps=13864.2, ups=1.13, wpb=12320.7, bsz=445.3, num_updates=7200, lr=0.000166667, gnorm=0.695, clip=0, loss_scale=0.5, train_wall=88, gb_free=15.9, wall=6061
2023-08-20 14:04:10 | INFO | train_inner | epoch 005:   1414 / 1474 loss=2.556, trans_loss=3.66, nll_loss=1.914, w2v_ctc_loss=1.502, task_loss=0.87, contrastive_loss=0.372, total=4135.9, n_correct=2195.41, ppl=3.77, accuracy=53.082, wps=13932.9, ups=1.13, wpb=12351.8, bsz=456.9, num_updates=7300, lr=0.000165521, gnorm=0.656, clip=0, loss_scale=0.5, train_wall=88, gb_free=16.5, wall=6150
2023-08-20 14:05:04 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 14:05:37 | INFO | dev_st | epoch 005 | valid on 'dev_st' subset | loss 4.55 | trans_loss 5.736 | nll_loss 3.15 | w2v_ctc_loss 1.767 | task_loss 4.249 | contrastive_loss 0.672 | total 4003.4 | n_correct 2322.1 | ppl 8.88 | accuracy 58.003 | uer 26.812 | wer 28.086 | raw_wer 28.086 | bleu 15.06 | wps 1602.8 | wpb 4003.4 | bsz 141.8 | num_updates 7360 | best_bleu 15.06
2023-08-20 14:05:37 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 5 @ 7360 updates
2023-08-20 14:05:37 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 14:05:43 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 14:05:49 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 5 @ 7360 updates, score 15.06) (writing took 12.841337819001637 seconds)
2023-08-20 14:05:49 | INFO | fairseq_cli.train | end of epoch 5 (average epoch stats below)
2023-08-20 14:05:49 | INFO | train | epoch 005 | loss 2.721 | trans_loss 3.725 | nll_loss 1.996 | w2v_ctc_loss 1.616 | task_loss 0.862 | contrastive_loss 0.506 | total 4138.65 | n_correct 2085.67 | ppl 3.99 | accuracy 50.395 | wps 12960.7 | ups 1.05 | wpb 12355.8 | bsz 458.5 | num_updates 7360 | lr 0.000164845 | gnorm 0.921 | clip 0.1 | loss_scale 0.5 | train_wall 1300 | gb_free 15.9 | wall 6249
2023-08-20 14:05:50 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 14:05:50 | INFO | fairseq.trainer | begin training epoch 6
2023-08-20 14:05:50 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 14:06:33 | INFO | train_inner | epoch 006:     40 / 1474 loss=2.556, trans_loss=3.642, nll_loss=1.889, w2v_ctc_loss=1.514, task_loss=0.888, contrastive_loss=0.383, total=4114.92, n_correct=2202.09, ppl=3.7, accuracy=53.515, wps=8611.5, ups=0.7, wpb=12278.2, bsz=446.4, num_updates=7400, lr=0.000164399, gnorm=0.725, clip=0, loss_scale=0.5, train_wall=88, gb_free=16.2, wall=6292
2023-08-20 14:08:02 | INFO | train_inner | epoch 006:    140 / 1474 loss=2.507, trans_loss=3.614, nll_loss=1.854, w2v_ctc_loss=1.453, task_loss=0.86, contrastive_loss=0.456, total=4157.03, n_correct=2258.6, ppl=3.62, accuracy=54.332, wps=13951.5, ups=1.12, wpb=12418.5, bsz=455.9, num_updates=7500, lr=0.000163299, gnorm=0.644, clip=0, loss_scale=0.5, train_wall=88, gb_free=14.7, wall=6381
2023-08-20 14:09:31 | INFO | train_inner | epoch 006:    240 / 1474 loss=2.497, trans_loss=3.622, nll_loss=1.864, w2v_ctc_loss=1.482, task_loss=0.907, contrastive_loss=0.31, total=4121.73, n_correct=2231.55, ppl=3.64, accuracy=54.141, wps=13849.9, ups=1.12, wpb=12312.8, bsz=446.5, num_updates=7600, lr=0.000162221, gnorm=0.686, clip=0, loss_scale=0.5, train_wall=88, gb_free=15.8, wall=6470
2023-08-20 14:11:01 | INFO | train_inner | epoch 006:    340 / 1474 loss=2.588, trans_loss=3.605, nll_loss=1.841, w2v_ctc_loss=1.429, task_loss=0.816, contrastive_loss=0.865, total=4170.63, n_correct=2289.2, ppl=3.58, accuracy=54.889, wps=13743.7, ups=1.1, wpb=12451, bsz=486.5, num_updates=7700, lr=0.000161165, gnorm=0.694, clip=0, loss_scale=0.5, train_wall=90, gb_free=12.4, wall=6561
2023-08-20 14:12:29 | INFO | train_inner | epoch 006:    440 / 1474 loss=2.465, trans_loss=3.603, nll_loss=1.84, w2v_ctc_loss=1.446, task_loss=0.835, contrastive_loss=0.303, total=4147.89, n_correct=2281.78, ppl=3.58, accuracy=55.011, wps=14039.1, ups=1.13, wpb=12386.2, bsz=467, num_updates=7800, lr=0.000160128, gnorm=0.757, clip=0, loss_scale=1, train_wall=87, gb_free=16.7, wall=6649
2023-08-20 14:13:58 | INFO | train_inner | epoch 006:    540 / 1474 loss=2.446, trans_loss=3.602, nll_loss=1.838, w2v_ctc_loss=1.444, task_loss=0.868, contrastive_loss=0.274, total=4170.36, n_correct=2301.06, ppl=3.57, accuracy=55.177, wps=14017.4, ups=1.13, wpb=12447.9, bsz=455.9, num_updates=7900, lr=0.000159111, gnorm=0.639, clip=0, loss_scale=1, train_wall=88, gb_free=15.2, wall=6738
2023-08-20 14:15:27 | INFO | train_inner | epoch 006:    640 / 1474 loss=2.454, trans_loss=3.596, nll_loss=1.831, w2v_ctc_loss=1.418, task_loss=0.826, contrastive_loss=0.386, total=4144.5, n_correct=2296.4, ppl=3.56, accuracy=55.408, wps=14005.6, ups=1.13, wpb=12372.4, bsz=470, num_updates=8000, lr=0.000158114, gnorm=0.634, clip=0, loss_scale=1, train_wall=87, gb_free=17, wall=6826
2023-08-20 14:15:27 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 14:16:01 | INFO | dev_st | epoch 006 | valid on 'dev_st' subset | loss 4.433 | trans_loss 5.611 | nll_loss 2.985 | w2v_ctc_loss 1.706 | task_loss 4.406 | contrastive_loss 0.615 | total 4003.4 | n_correct 2375.7 | ppl 7.92 | accuracy 59.342 | uer 25.634 | wer 27.121 | raw_wer 27.121 | bleu 16.02 | wps 1507.5 | wpb 4003.4 | bsz 141.8 | num_updates 8000 | best_bleu 16.02
2023-08-20 14:16:01 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 6 @ 8000 updates
2023-08-20 14:16:01 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_6_8000.pt
2023-08-20 14:16:04 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_6_8000.pt
2023-08-20 14:16:15 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_6_8000.pt (epoch 6 @ 8000 updates, score 16.02) (writing took 13.089092604001053 seconds)
2023-08-20 14:17:43 | INFO | train_inner | epoch 006:    740 / 1474 loss=2.436, trans_loss=3.595, nll_loss=1.829, w2v_ctc_loss=1.431, task_loss=0.878, contrastive_loss=0.294, total=4145.29, n_correct=2301.65, ppl=3.55, accuracy=55.524, wps=9041.2, ups=0.73, wpb=12375, bsz=454.7, num_updates=8100, lr=0.000157135, gnorm=0.646, clip=0, loss_scale=1, train_wall=88, gb_free=17.5, wall=6963
2023-08-20 14:19:12 | INFO | train_inner | epoch 006:    840 / 1474 loss=2.42, trans_loss=3.595, nll_loss=1.829, w2v_ctc_loss=1.423, task_loss=0.895, contrastive_loss=0.259, total=4131.83, n_correct=2291.78, ppl=3.55, accuracy=55.466, wps=13901.3, ups=1.13, wpb=12335.3, bsz=446.9, num_updates=8200, lr=0.000156174, gnorm=0.681, clip=0, loss_scale=1, train_wall=88, gb_free=16.2, wall=7052
2023-08-20 14:20:41 | INFO | train_inner | epoch 006:    940 / 1474 loss=2.463, trans_loss=3.595, nll_loss=1.829, w2v_ctc_loss=1.426, task_loss=0.93, contrastive_loss=0.447, total=4068.88, n_correct=2259.29, ppl=3.55, accuracy=55.526, wps=13610.5, ups=1.12, wpb=12145.6, bsz=436.9, num_updates=8300, lr=0.00015523, gnorm=0.617, clip=0, loss_scale=1, train_wall=88, gb_free=15.8, wall=7141
2023-08-20 14:22:10 | INFO | train_inner | epoch 006:   1040 / 1474 loss=2.47, trans_loss=3.576, nll_loss=1.806, w2v_ctc_loss=1.391, task_loss=0.81, contrastive_loss=0.596, total=4176.69, n_correct=2346.85, ppl=3.5, accuracy=56.189, wps=14078.8, ups=1.13, wpb=12465.8, bsz=480, num_updates=8400, lr=0.000154303, gnorm=0.62, clip=0, loss_scale=1, train_wall=88, gb_free=16.2, wall=7230
2023-08-20 14:23:39 | INFO | train_inner | epoch 006:   1140 / 1474 loss=2.405, trans_loss=3.574, nll_loss=1.803, w2v_ctc_loss=1.401, task_loss=0.94, contrastive_loss=0.311, total=4078.12, n_correct=2287.36, ppl=3.49, accuracy=56.089, wps=13744.3, ups=1.13, wpb=12175.4, bsz=435.5, num_updates=8500, lr=0.000153393, gnorm=0.609, clip=0, loss_scale=1, train_wall=88, gb_free=14.6, wall=7318
2023-08-20 14:25:09 | INFO | train_inner | epoch 006:   1240 / 1474 loss=2.493, trans_loss=3.562, nll_loss=1.79, w2v_ctc_loss=1.381, task_loss=0.865, contrastive_loss=0.847, total=4126.61, n_correct=2331.24, ppl=3.46, accuracy=56.493, wps=13595, ups=1.1, wpb=12325.4, bsz=463.4, num_updates=8600, lr=0.000152499, gnorm=0.636, clip=0, loss_scale=1, train_wall=90, gb_free=13.2, wall=7409
2023-08-20 14:26:37 | INFO | train_inner | epoch 006:   1340 / 1474 loss=2.361, trans_loss=3.563, nll_loss=1.787, w2v_ctc_loss=1.377, task_loss=0.856, contrastive_loss=0.228, total=4127.1, n_correct=2342.91, ppl=3.45, accuracy=56.769, wps=14041.9, ups=1.14, wpb=12313, bsz=454.8, num_updates=8700, lr=0.00015162, gnorm=0.611, clip=0, loss_scale=1, train_wall=87, gb_free=16.4, wall=7497
2023-08-20 14:28:06 | INFO | train_inner | epoch 006:   1440 / 1474 loss=2.351, trans_loss=3.555, nll_loss=1.779, w2v_ctc_loss=1.369, task_loss=0.858, contrastive_loss=0.236, total=4197.14, n_correct=2392.21, ppl=3.43, accuracy=56.996, wps=14088.4, ups=1.12, wpb=12529.7, bsz=463.5, num_updates=8800, lr=0.000150756, gnorm=0.581, clip=0, loss_scale=1, train_wall=88, gb_free=15.2, wall=7586
2023-08-20 14:28:36 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 14:29:11 | INFO | dev_st | epoch 006 | valid on 'dev_st' subset | loss 4.343 | trans_loss 5.519 | nll_loss 2.874 | w2v_ctc_loss 1.635 | task_loss 4.422 | contrastive_loss 0.591 | total 4003.4 | n_correct 2442.1 | ppl 7.33 | accuracy 61.001 | uer 24.277 | wer 25.857 | raw_wer 25.857 | bleu 17.35 | wps 1491.8 | wpb 4003.4 | bsz 141.8 | num_updates 8834 | best_bleu 17.35
2023-08-20 14:29:11 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 6 @ 8834 updates
2023-08-20 14:29:11 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 14:29:18 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 14:29:24 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 6 @ 8834 updates, score 17.35) (writing took 12.891228092019446 seconds)
2023-08-20 14:29:24 | INFO | fairseq_cli.train | end of epoch 6 (average epoch stats below)
2023-08-20 14:29:24 | INFO | train | epoch 006 | loss 2.453 | trans_loss 3.59 | nll_loss 1.823 | w2v_ctc_loss 1.419 | task_loss 0.865 | contrastive_loss 0.412 | total 4138.65 | n_correct 2299.62 | ppl 3.54 | accuracy 55.564 | wps 12878.2 | ups 1.04 | wpb 12355.8 | bsz 458.5 | num_updates 8834 | lr 0.000150465 | gnorm 0.648 | clip 0 | loss_scale 1 | train_wall 1300 | gb_free 14.6 | wall 7663
2023-08-20 14:29:24 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 14:29:24 | INFO | fairseq.trainer | begin training epoch 7
2023-08-20 14:29:24 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 14:30:30 | INFO | train_inner | epoch 007:     66 / 1474 loss=2.323, trans_loss=3.542, nll_loss=1.761, w2v_ctc_loss=1.337, task_loss=0.852, contrastive_loss=0.261, total=4099.48, n_correct=2353.66, ppl=3.39, accuracy=57.414, wps=8519.9, ups=0.7, wpb=12236.9, bsz=460.3, num_updates=8900, lr=0.000149906, gnorm=0.598, clip=0, loss_scale=1, train_wall=88, gb_free=15.8, wall=7729
2023-08-20 14:31:58 | INFO | train_inner | epoch 007:    166 / 1474 loss=2.334, trans_loss=3.533, nll_loss=1.75, w2v_ctc_loss=1.324, task_loss=0.874, contrastive_loss=0.403, total=4107.4, n_correct=2370.06, ppl=3.36, accuracy=57.702, wps=13920.1, ups=1.14, wpb=12263.9, bsz=455.4, num_updates=9000, lr=0.000149071, gnorm=0.59, clip=0, loss_scale=1, train_wall=87, gb_free=16.5, wall=7817
2023-08-20 14:33:27 | INFO | train_inner | epoch 007:    266 / 1474 loss=2.296, trans_loss=3.527, nll_loss=1.741, w2v_ctc_loss=1.324, task_loss=0.868, contrastive_loss=0.225, total=4137.13, n_correct=2394.94, ppl=3.34, accuracy=57.889, wps=13842.6, ups=1.12, wpb=12346.5, bsz=454.9, num_updates=9100, lr=0.00014825, gnorm=0.588, clip=0, loss_scale=1, train_wall=89, gb_free=16, wall=7906
2023-08-20 14:34:56 | INFO | train_inner | epoch 007:    366 / 1474 loss=2.394, trans_loss=3.529, nll_loss=1.745, w2v_ctc_loss=1.308, task_loss=0.833, contrastive_loss=0.745, total=4199.72, n_correct=2430.6, ppl=3.35, accuracy=57.875, wps=14059.4, ups=1.12, wpb=12534, bsz=480.8, num_updates=9200, lr=0.000147442, gnorm=0.567, clip=0, loss_scale=1, train_wall=88, gb_free=17.2, wall=7996
2023-08-20 14:36:25 | INFO | train_inner | epoch 007:    466 / 1474 loss=2.357, trans_loss=3.525, nll_loss=1.741, w2v_ctc_loss=1.306, task_loss=0.867, contrastive_loss=0.58, total=4149.08, n_correct=2402.03, ppl=3.34, accuracy=57.893, wps=13924.8, ups=1.12, wpb=12391, bsz=459, num_updates=9300, lr=0.000146647, gnorm=0.59, clip=0, loss_scale=1, train_wall=88, gb_free=16.6, wall=8085
2023-08-20 14:37:53 | INFO | train_inner | epoch 007:    566 / 1474 loss=2.277, trans_loss=3.522, nll_loss=1.734, w2v_ctc_loss=1.3, task_loss=0.845, contrastive_loss=0.234, total=4168.84, n_correct=2427.63, ppl=3.33, accuracy=58.233, wps=14137.5, ups=1.14, wpb=12436.4, bsz=460, num_updates=9400, lr=0.000145865, gnorm=0.559, clip=0, loss_scale=1, train_wall=87, gb_free=15.9, wall=8173
2023-08-20 14:39:22 | INFO | train_inner | epoch 007:    666 / 1474 loss=2.271, trans_loss=3.518, nll_loss=1.73, w2v_ctc_loss=1.3, task_loss=0.852, contrastive_loss=0.212, total=4164.13, n_correct=2430.06, ppl=3.32, accuracy=58.357, wps=13979.9, ups=1.12, wpb=12427.2, bsz=458.5, num_updates=9500, lr=0.000145095, gnorm=0.593, clip=0, loss_scale=1, train_wall=88, gb_free=15.2, wall=8261
2023-08-20 14:40:52 | INFO | train_inner | epoch 007:    766 / 1474 loss=2.269, trans_loss=3.513, nll_loss=1.725, w2v_ctc_loss=1.3, task_loss=0.904, contrastive_loss=0.219, total=4126.5, n_correct=2409.01, ppl=3.31, accuracy=58.379, wps=13622.6, ups=1.11, wpb=12320.2, bsz=450.3, num_updates=9600, lr=0.000144338, gnorm=0.584, clip=0, loss_scale=1, train_wall=90, gb_free=14.9, wall=8352
2023-08-20 14:42:22 | INFO | train_inner | epoch 007:    866 / 1474 loss=2.265, trans_loss=3.52, nll_loss=1.732, w2v_ctc_loss=1.295, task_loss=0.893, contrastive_loss=0.226, total=4133.53, n_correct=2410.04, ppl=3.32, accuracy=58.305, wps=13750.2, ups=1.11, wpb=12333.5, bsz=453.5, num_updates=9700, lr=0.000143592, gnorm=0.585, clip=0, loss_scale=1, train_wall=89, gb_free=12.3, wall=8442
2023-08-20 14:43:51 | INFO | train_inner | epoch 007:    966 / 1474 loss=2.307, trans_loss=3.507, nll_loss=1.718, w2v_ctc_loss=1.28, task_loss=0.821, contrastive_loss=0.434, total=4144.45, n_correct=2432.96, ppl=3.29, accuracy=58.704, wps=13929.2, ups=1.13, wpb=12374.7, bsz=476.9, num_updates=9800, lr=0.000142857, gnorm=0.607, clip=0, loss_scale=1, train_wall=88, gb_free=15.7, wall=8530
2023-08-20 14:45:19 | INFO | train_inner | epoch 007:   1066 / 1474 loss=2.258, trans_loss=3.519, nll_loss=1.734, w2v_ctc_loss=1.303, task_loss=0.914, contrastive_loss=0.178, total=4100.65, n_correct=2391.68, ppl=3.33, accuracy=58.324, wps=13891.8, ups=1.13, wpb=12242.5, bsz=435.4, num_updates=9900, lr=0.000142134, gnorm=0.635, clip=0, loss_scale=2, train_wall=87, gb_free=15.3, wall=8619
2023-08-20 14:46:48 | INFO | train_inner | epoch 007:   1166 / 1474 loss=2.374, trans_loss=3.501, nll_loss=1.713, w2v_ctc_loss=1.282, task_loss=0.84, contrastive_loss=0.714, total=4138.96, n_correct=2431.33, ppl=3.28, accuracy=58.743, wps=13843.4, ups=1.12, wpb=12367.7, bsz=471.9, num_updates=10000, lr=0.000141421, gnorm=0.697, clip=1, loss_scale=2, train_wall=89, gb_free=16.3, wall=8708
2023-08-20 14:46:48 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 14:47:21 | INFO | dev_st | epoch 007 | valid on 'dev_st' subset | loss 4.247 | trans_loss 5.423 | nll_loss 2.752 | w2v_ctc_loss 1.538 | task_loss 4.506 | contrastive_loss 0.592 | total 4003.4 | n_correct 2498.6 | ppl 6.74 | accuracy 62.412 | uer 22.218 | wer 23.892 | raw_wer 23.892 | bleu 18.52 | wps 1609 | wpb 4003.4 | bsz 141.8 | num_updates 10000 | best_bleu 18.52
2023-08-20 14:47:21 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 7 @ 10000 updates
2023-08-20 14:47:21 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_7_10000.pt
2023-08-20 14:47:24 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_7_10000.pt
2023-08-20 14:47:34 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_7_10000.pt (epoch 7 @ 10000 updates, score 18.52) (writing took 12.323949479032308 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:0')
2023-08-20 14:49:03 | INFO | train_inner | epoch 007:   1266 / 1474 loss=2.245, trans_loss=3.504, nll_loss=1.715, w2v_ctc_loss=1.274, task_loss=0.89, contrastive_loss=0.231, total=4120.42, n_correct=2423.34, ppl=3.28, accuracy=58.813, wps=9149.3, ups=0.74, wpb=12304.2, bsz=446.6, num_updates=10100, lr=0.00014072, gnorm=0.478, clip=0, loss_scale=2, train_wall=88, gb_free=15.2, wall=8842
2023-08-20 14:50:31 | INFO | train_inner | epoch 007:   1366 / 1474 loss=2.271, trans_loss=3.498, nll_loss=1.708, w2v_ctc_loss=1.279, task_loss=0.813, contrastive_loss=0.299, total=4186.45, n_correct=2470, ppl=3.27, accuracy=59, wps=14112.2, ups=1.13, wpb=12499.3, bsz=479.7, num_updates=10200, lr=0.000140028, gnorm=0.485, clip=0, loss_scale=2, train_wall=88, gb_free=11.6, wall=8931
2023-08-20 14:52:01 | INFO | train_inner | epoch 007:   1466 / 1474 loss=2.288, trans_loss=3.499, nll_loss=1.711, w2v_ctc_loss=1.278, task_loss=0.92, contrastive_loss=0.429, total=4117.01, n_correct=2426.05, ppl=3.27, accuracy=58.927, wps=13653.6, ups=1.11, wpb=12300.4, bsz=448.4, num_updates=10300, lr=0.000139347, gnorm=0.531, clip=0, loss_scale=2, train_wall=89, gb_free=15.6, wall=9021
2023-08-20 14:52:08 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:5')
2023-08-20 14:52:44 | INFO | dev_st | epoch 007 | valid on 'dev_st' subset | loss 4.218 | trans_loss 5.4 | nll_loss 2.724 | w2v_ctc_loss 1.517 | task_loss 4.47 | contrastive_loss 0.559 | total 4003.4 | n_correct 2510.9 | ppl 6.61 | accuracy 62.719 | uer 22.905 | wer 24.619 | raw_wer 24.619 | bleu 18.96 | wps 1437.5 | wpb 4003.4 | bsz 141.8 | num_updates 10308 | best_bleu 18.96
2023-08-20 14:52:44 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 7 @ 10308 updates
2023-08-20 14:52:44 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 14:52:51 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 14:52:58 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 7 @ 10308 updates, score 18.96) (writing took 13.847528670972679 seconds)
2023-08-20 14:52:59 | INFO | fairseq_cli.train | end of epoch 7 (average epoch stats below)
2023-08-20 14:52:59 | INFO | train | epoch 007 | loss 2.3 | trans_loss 3.516 | nll_loss 1.729 | w2v_ctc_loss 1.298 | task_loss 0.868 | contrastive_loss 0.363 | total 4138.65 | n_correct 2414.25 | ppl 3.32 | accuracy 58.334 | wps 12871.1 | ups 1.04 | wpb 12355.8 | bsz 458.5 | num_updates 10308 | lr 0.000139293 | gnorm 0.577 | clip 0.1 | loss_scale 2 | train_wall 1301 | gb_free 12.7 | wall 9078
2023-08-20 14:52:59 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 14:52:59 | INFO | fairseq.trainer | begin training epoch 8
2023-08-20 14:52:59 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 14:54:28 | INFO | train_inner | epoch 008:     92 / 1474 loss=2.21, trans_loss=3.491, nll_loss=1.694, w2v_ctc_loss=1.249, task_loss=0.931, contrastive_loss=0.212, total=4097.76, n_correct=2432.87, ppl=3.24, accuracy=59.371, wps=8334.4, ups=0.68, wpb=12216.9, bsz=437, num_updates=10400, lr=0.000138675, gnorm=0.532, clip=0, loss_scale=2, train_wall=88, gb_free=15.4, wall=9168
2023-08-20 14:55:56 | INFO | train_inner | epoch 008:    192 / 1474 loss=2.208, trans_loss=3.48, nll_loss=1.68, w2v_ctc_loss=1.237, task_loss=0.939, contrastive_loss=0.254, total=4039, n_correct=2408.09, ppl=3.2, accuracy=59.621, wps=13648.2, ups=1.13, wpb=12046.3, bsz=428.9, num_updates=10500, lr=0.000138013, gnorm=0.476, clip=0, loss_scale=2, train_wall=88, gb_free=14.5, wall=9256
2023-08-20 14:57:25 | INFO | train_inner | epoch 008:    292 / 1474 loss=2.211, trans_loss=3.472, nll_loss=1.672, w2v_ctc_loss=1.241, task_loss=0.814, contrastive_loss=0.243, total=4210.6, n_correct=2517.4, ppl=3.19, accuracy=59.787, wps=14198.4, ups=1.13, wpb=12566.5, bsz=486.9, num_updates=10600, lr=0.000137361, gnorm=0.48, clip=0, loss_scale=2, train_wall=88, gb_free=15.4, wall=9344
2023-08-20 14:58:55 | INFO | train_inner | epoch 008:    392 / 1474 loss=2.223, trans_loss=3.477, nll_loss=1.678, w2v_ctc_loss=1.246, task_loss=0.9, contrastive_loss=0.294, total=4139.64, n_correct=2470.08, ppl=3.2, accuracy=59.669, wps=13694.8, ups=1.11, wpb=12350.6, bsz=447.4, num_updates=10700, lr=0.000136717, gnorm=0.485, clip=0, loss_scale=2, train_wall=90, gb_free=14.7, wall=9435
2023-08-20 15:00:24 | INFO | train_inner | epoch 008:    492 / 1474 loss=2.35, trans_loss=3.476, nll_loss=1.679, w2v_ctc_loss=1.231, task_loss=0.79, contrastive_loss=0.824, total=4189.5, n_correct=2502.39, ppl=3.2, accuracy=59.73, wps=14029.9, ups=1.12, wpb=12508.9, bsz=499.4, num_updates=10800, lr=0.000136083, gnorm=0.522, clip=0, loss_scale=2, train_wall=88, gb_free=12.1, wall=9524
2023-08-20 15:01:53 | INFO | train_inner | epoch 008:    592 / 1474 loss=2.187, trans_loss=3.471, nll_loss=1.675, w2v_ctc_loss=1.246, task_loss=0.946, contrastive_loss=0.168, total=4061.09, n_correct=2425.68, ppl=3.19, accuracy=59.73, wps=13673.2, ups=1.13, wpb=12140.1, bsz=427.7, num_updates=10900, lr=0.000135457, gnorm=0.458, clip=0, loss_scale=2, train_wall=88, gb_free=16.2, wall=9613
2023-08-20 15:03:22 | INFO | train_inner | epoch 008:    692 / 1474 loss=2.184, trans_loss=3.466, nll_loss=1.666, w2v_ctc_loss=1.236, task_loss=0.888, contrastive_loss=0.189, total=4144.17, n_correct=2486.68, ppl=3.17, accuracy=60.004, wps=13933.8, ups=1.13, wpb=12370.7, bsz=450.4, num_updates=11000, lr=0.00013484, gnorm=0.486, clip=0, loss_scale=2, train_wall=88, gb_free=12.9, wall=9701
2023-08-20 15:04:50 | INFO | train_inner | epoch 008:    792 / 1474 loss=2.226, trans_loss=3.467, nll_loss=1.67, w2v_ctc_loss=1.239, task_loss=0.888, contrastive_loss=0.364, total=4117.36, n_correct=2463.31, ppl=3.18, accuracy=59.827, wps=13935.2, ups=1.13, wpb=12305.6, bsz=448.1, num_updates=11100, lr=0.000134231, gnorm=0.548, clip=0, loss_scale=2, train_wall=88, gb_free=15.8, wall=9790
2023-08-20 15:06:20 | INFO | train_inner | epoch 008:    892 / 1474 loss=2.239, trans_loss=3.472, nll_loss=1.674, w2v_ctc_loss=1.233, task_loss=0.819, contrastive_loss=0.379, total=4182.5, n_correct=2504.77, ppl=3.19, accuracy=59.887, wps=13927.3, ups=1.12, wpb=12489.6, bsz=478.7, num_updates=11200, lr=0.000133631, gnorm=0.611, clip=0, loss_scale=2, train_wall=89, gb_free=17.1, wall=9879
2023-08-20 15:07:48 | INFO | train_inner | epoch 008:    992 / 1474 loss=2.169, trans_loss=3.465, nll_loss=1.665, w2v_ctc_loss=1.219, task_loss=0.835, contrastive_loss=0.183, total=4155.49, n_correct=2506.09, ppl=3.17, accuracy=60.308, wps=14035.8, ups=1.13, wpb=12408.4, bsz=464, num_updates=11300, lr=0.000133038, gnorm=0.484, clip=0, loss_scale=2, train_wall=88, gb_free=16.7, wall=9968
2023-08-20 15:09:19 | INFO | train_inner | epoch 008:   1092 / 1474 loss=2.262, trans_loss=3.469, nll_loss=1.669, w2v_ctc_loss=1.223, task_loss=0.874, contrastive_loss=0.629, total=4186.39, n_correct=2509.37, ppl=3.18, accuracy=59.941, wps=13824.1, ups=1.11, wpb=12493.6, bsz=461.7, num_updates=11400, lr=0.000132453, gnorm=0.529, clip=0, loss_scale=2, train_wall=90, gb_free=14.8, wall=10058
2023-08-20 15:10:47 | INFO | train_inner | epoch 008:   1192 / 1474 loss=2.181, trans_loss=3.46, nll_loss=1.66, w2v_ctc_loss=1.225, task_loss=0.824, contrastive_loss=0.199, total=4178.48, n_correct=2517.7, ppl=3.16, accuracy=60.254, wps=14157, ups=1.13, wpb=12482, bsz=472.1, num_updates=11500, lr=0.000131876, gnorm=0.486, clip=0, loss_scale=2, train_wall=87, gb_free=15.2, wall=10146
2023-08-20 15:12:15 | INFO | train_inner | epoch 008:   1292 / 1474 loss=2.206, trans_loss=3.467, nll_loss=1.668, w2v_ctc_loss=1.244, task_loss=0.915, contrastive_loss=0.247, total=4064.4, n_correct=2435.24, ppl=3.18, accuracy=59.916, wps=13711.4, ups=1.13, wpb=12140.7, bsz=436, num_updates=11600, lr=0.000131306, gnorm=0.628, clip=0, loss_scale=2, train_wall=88, gb_free=15.6, wall=10235
2023-08-20 15:13:44 | INFO | train_inner | epoch 008:   1392 / 1474 loss=2.23, trans_loss=3.467, nll_loss=1.669, w2v_ctc_loss=1.229, task_loss=0.826, contrastive_loss=0.375, total=4163.91, n_correct=2509.75, ppl=3.18, accuracy=60.274, wps=14055.1, ups=1.13, wpb=12433, bsz=472.8, num_updates=11700, lr=0.000130744, gnorm=0.539, clip=0, loss_scale=2, train_wall=88, gb_free=16, wall=10323
2023-08-20 15:14:57 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 15:15:29 | INFO | dev_st | epoch 008 | valid on 'dev_st' subset | loss 4.168 | trans_loss 5.331 | nll_loss 2.636 | w2v_ctc_loss 1.529 | task_loss 4.48 | contrastive_loss 0.525 | total 4003.4 | n_correct 2555.6 | ppl 6.22 | accuracy 63.836 | uer 22.13 | wer 23.84 | raw_wer 23.84 | bleu 19.51 | wps 1634.8 | wpb 4003.4 | bsz 141.8 | num_updates 11782 | best_bleu 19.51
2023-08-20 15:15:29 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 8 @ 11782 updates
2023-08-20 15:15:29 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 15:15:35 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 15:15:41 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 8 @ 11782 updates, score 19.51) (writing took 11.521267813979648 seconds)
2023-08-20 15:15:41 | INFO | fairseq_cli.train | end of epoch 8 (average epoch stats below)
2023-08-20 15:15:41 | INFO | train | epoch 008 | loss 2.22 | trans_loss 3.471 | nll_loss 1.672 | w2v_ctc_loss 1.234 | task_loss 0.867 | contrastive_loss 0.336 | total 4138.65 | n_correct 2479.41 | ppl 3.19 | accuracy 59.909 | wps 13366.6 | ups 1.08 | wpb 12355.8 | bsz 458.5 | num_updates 11782 | lr 0.000130288 | gnorm 0.517 | clip 0 | loss_scale 2 | train_wall 1300 | gb_free 16.3 | wall 10441
2023-08-20 15:15:41 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 15:15:41 | INFO | fairseq.trainer | begin training epoch 9
2023-08-20 15:15:41 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 15:16:05 | INFO | train_inner | epoch 009:     18 / 1474 loss=2.226, trans_loss=3.459, nll_loss=1.657, w2v_ctc_loss=1.203, task_loss=0.86, contrastive_loss=0.56, total=4111.15, n_correct=2484.31, ppl=3.15, accuracy=60.429, wps=8695.1, ups=0.71, wpb=12269.8, bsz=460.9, num_updates=11800, lr=0.000130189, gnorm=0.477, clip=0, loss_scale=2, train_wall=88, gb_free=16.6, wall=10464
2023-08-20 15:17:33 | INFO | train_inner | epoch 009:    118 / 1474 loss=2.152, trans_loss=3.436, nll_loss=1.628, w2v_ctc_loss=1.189, task_loss=0.804, contrastive_loss=0.233, total=4186.63, n_correct=2555.2, ppl=3.09, accuracy=61.032, wps=14221.2, ups=1.14, wpb=12503, bsz=481.5, num_updates=11900, lr=0.000129641, gnorm=0.508, clip=0, loss_scale=4, train_wall=87, gb_free=16.2, wall=10552
2023-08-20 15:19:02 | INFO | train_inner | epoch 009:    218 / 1474 loss=2.116, trans_loss=3.438, nll_loss=1.629, w2v_ctc_loss=1.177, task_loss=0.938, contrastive_loss=0.152, total=4071.82, n_correct=2486.58, ppl=3.09, accuracy=61.068, wps=13685.6, ups=1.13, wpb=12157.1, bsz=430.9, num_updates=12000, lr=0.000129099, gnorm=0.442, clip=0, loss_scale=4, train_wall=88, gb_free=16.1, wall=10641
2023-08-20 15:19:02 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 15:19:36 | INFO | dev_st | epoch 009 | valid on 'dev_st' subset | loss 4.15 | trans_loss 5.335 | nll_loss 2.64 | w2v_ctc_loss 1.457 | task_loss 4.495 | contrastive_loss 0.532 | total 4003.4 | n_correct 2546.8 | ppl 6.23 | accuracy 63.616 | uer 21.45 | wer 23.277 | raw_wer 23.277 | bleu 19.48 | wps 1507.7 | wpb 4003.4 | bsz 141.8 | num_updates 12000 | best_bleu 19.51
2023-08-20 15:19:36 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 9 @ 12000 updates
2023-08-20 15:19:36 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_9_12000.pt
2023-08-20 15:19:39 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_9_12000.pt
2023-08-20 15:19:44 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_9_12000.pt (epoch 9 @ 12000 updates, score 19.48) (writing took 7.360672730021179 seconds)
2023-08-20 15:21:12 | INFO | train_inner | epoch 009:    318 / 1474 loss=2.132, trans_loss=3.426, nll_loss=1.616, w2v_ctc_loss=1.161, task_loss=0.796, contrastive_loss=0.253, total=4167.06, n_correct=2558.49, ppl=3.07, accuracy=61.398, wps=9515.8, ups=0.76, wpb=12450.2, bsz=485.4, num_updates=12100, lr=0.000128565, gnorm=0.454, clip=0, loss_scale=4, train_wall=87, gb_free=14.6, wall=10772
2023-08-20 15:22:42 | INFO | train_inner | epoch 009:    418 / 1474 loss=2.122, trans_loss=3.44, nll_loss=1.633, w2v_ctc_loss=1.176, task_loss=0.872, contrastive_loss=0.173, total=4175.09, n_correct=2545.52, ppl=3.1, accuracy=60.969, wps=13846.7, ups=1.11, wpb=12466.4, bsz=457.5, num_updates=12200, lr=0.000128037, gnorm=0.481, clip=0, loss_scale=4, train_wall=89, gb_free=17, wall=10862
2023-08-20 15:24:11 | INFO | train_inner | epoch 009:    518 / 1474 loss=2.163, trans_loss=3.439, nll_loss=1.63, w2v_ctc_loss=1.198, task_loss=0.905, contrastive_loss=0.282, total=4118.47, n_correct=2512.61, ppl=3.1, accuracy=61.008, wps=13916.5, ups=1.13, wpb=12292.7, bsz=439.7, num_updates=12300, lr=0.000127515, gnorm=0.462, clip=0, loss_scale=4, train_wall=88, gb_free=17.1, wall=10950
2023-08-20 15:25:41 | INFO | train_inner | epoch 009:    618 / 1474 loss=2.158, trans_loss=3.43, nll_loss=1.622, w2v_ctc_loss=1.167, task_loss=0.87, contrastive_loss=0.385, total=4141.76, n_correct=2534.7, ppl=3.08, accuracy=61.199, wps=13795.8, ups=1.11, wpb=12378.7, bsz=462.3, num_updates=12400, lr=0.000127, gnorm=0.459, clip=0, loss_scale=4, train_wall=89, gb_free=16.6, wall=11040
2023-08-20 15:27:09 | INFO | train_inner | epoch 009:    718 / 1474 loss=2.133, trans_loss=3.438, nll_loss=1.632, w2v_ctc_loss=1.195, task_loss=0.903, contrastive_loss=0.18, total=4075.02, n_correct=2487.21, ppl=3.1, accuracy=61.036, wps=13772.5, ups=1.13, wpb=12176, bsz=443.4, num_updates=12500, lr=0.000126491, gnorm=0.495, clip=0, loss_scale=4, train_wall=88, gb_free=17.2, wall=11129
2023-08-20 15:28:39 | INFO | train_inner | epoch 009:    818 / 1474 loss=2.248, trans_loss=3.43, nll_loss=1.623, w2v_ctc_loss=1.18, task_loss=0.789, contrastive_loss=0.652, total=4214.28, n_correct=2580.86, ppl=3.08, accuracy=61.241, wps=14041.5, ups=1.12, wpb=12593.1, bsz=499.2, num_updates=12600, lr=0.000125988, gnorm=0.482, clip=0, loss_scale=4, train_wall=89, gb_free=16.4, wall=11218
2023-08-20 15:30:09 | INFO | train_inner | epoch 009:    918 / 1474 loss=2.201, trans_loss=3.437, nll_loss=1.626, w2v_ctc_loss=1.178, task_loss=0.893, contrastive_loss=0.618, total=4157.54, n_correct=2545.02, ppl=3.09, accuracy=61.215, wps=13665.2, ups=1.1, wpb=12400.4, bsz=452, num_updates=12700, lr=0.000125491, gnorm=0.449, clip=0, loss_scale=4, train_wall=90, gb_free=15.8, wall=11309
2023-08-20 15:31:38 | INFO | train_inner | epoch 009:   1018 / 1474 loss=2.117, trans_loss=3.44, nll_loss=1.632, w2v_ctc_loss=1.175, task_loss=0.975, contrastive_loss=0.181, total=4093.77, n_correct=2500.47, ppl=3.1, accuracy=61.08, wps=13782, ups=1.13, wpb=12221, bsz=423.7, num_updates=12800, lr=0.000125, gnorm=0.432, clip=0, loss_scale=4, train_wall=88, gb_free=17, wall=11398
2023-08-20 15:33:07 | INFO | train_inner | epoch 009:   1118 / 1474 loss=2.131, trans_loss=3.438, nll_loss=1.627, w2v_ctc_loss=1.173, task_loss=0.826, contrastive_loss=0.222, total=4173.97, n_correct=2560.62, ppl=3.09, accuracy=61.347, wps=14062.2, ups=1.13, wpb=12442.6, bsz=471.4, num_updates=12900, lr=0.000124515, gnorm=0.502, clip=0, loss_scale=4, train_wall=88, gb_free=15.8, wall=11486
2023-08-20 15:34:36 | INFO | train_inner | epoch 009:   1218 / 1474 loss=2.139, trans_loss=3.437, nll_loss=1.629, w2v_ctc_loss=1.195, task_loss=0.911, contrastive_loss=0.193, total=4144.88, n_correct=2533.22, ppl=3.09, accuracy=61.117, wps=13867.7, ups=1.12, wpb=12376.1, bsz=450, num_updates=13000, lr=0.000124035, gnorm=0.549, clip=0, loss_scale=4, train_wall=89, gb_free=16, wall=11575
2023-08-20 15:36:04 | INFO | train_inner | epoch 009:   1318 / 1474 loss=2.201, trans_loss=3.428, nll_loss=1.617, w2v_ctc_loss=1.163, task_loss=0.79, contrastive_loss=0.577, total=4200.61, n_correct=2582, ppl=3.07, accuracy=61.467, wps=14144.9, ups=1.13, wpb=12534.4, bsz=490.7, num_updates=13100, lr=0.00012356, gnorm=0.508, clip=0, loss_scale=4, train_wall=88, gb_free=15.1, wall=11664
2023-08-20 15:37:33 | INFO | train_inner | epoch 009:   1418 / 1474 loss=2.107, trans_loss=3.44, nll_loss=1.631, w2v_ctc_loss=1.172, task_loss=0.93, contrastive_loss=0.15, total=4075.96, n_correct=2497.52, ppl=3.1, accuracy=61.274, wps=13694.3, ups=1.13, wpb=12161.1, bsz=430.6, num_updates=13200, lr=0.000123091, gnorm=0.433, clip=0, loss_scale=4, train_wall=88, gb_free=17.3, wall=11753
2023-08-20 15:38:22 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 15:38:56 | INFO | dev_st | epoch 009 | valid on 'dev_st' subset | loss 4.113 | trans_loss 5.298 | nll_loss 2.598 | w2v_ctc_loss 1.42 | task_loss 4.509 | contrastive_loss 0.538 | total 4003.4 | n_correct 2571.3 | ppl 6.05 | accuracy 64.228 | uer 20.731 | wer 22.542 | raw_wer 22.542 | bleu 19.49 | wps 1538 | wpb 4003.4 | bsz 141.8 | num_updates 13256 | best_bleu 19.51
2023-08-20 15:38:56 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 9 @ 13256 updates
2023-08-20 15:38:56 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_19.4907.pt
2023-08-20 15:38:59 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_19.4907.pt
2023-08-20 15:39:04 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_19.4907.pt (epoch 9 @ 13256 updates, score 19.49) (writing took 7.367249734990764 seconds)
2023-08-20 15:39:04 | INFO | fairseq_cli.train | end of epoch 9 (average epoch stats below)
2023-08-20 15:39:04 | INFO | train | epoch 009 | loss 2.152 | trans_loss 3.435 | nll_loss 1.626 | w2v_ctc_loss 1.178 | task_loss 0.868 | contrastive_loss 0.315 | total 4138.65 | n_correct 2532.62 | ppl 3.09 | accuracy 61.194 | wps 12978.8 | ups 1.05 | wpb 12355.8 | bsz 458.5 | num_updates 13256 | lr 0.000122831 | gnorm 0.474 | clip 0 | loss_scale 4 | train_wall 1300 | gb_free 11.1 | wall 11844
2023-08-20 15:39:05 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 15:39:05 | INFO | fairseq.trainer | begin training epoch 10
2023-08-20 15:39:05 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 15:39:51 | INFO | train_inner | epoch 010:     44 / 1474 loss=2.13, trans_loss=3.421, nll_loss=1.608, w2v_ctc_loss=1.146, task_loss=0.809, contrastive_loss=0.333, total=4112.83, n_correct=2544.34, ppl=3.05, accuracy=61.863, wps=8900.2, ups=0.73, wpb=12275.4, bsz=475.1, num_updates=13300, lr=0.000122628, gnorm=0.481, clip=0, loss_scale=4, train_wall=87, gb_free=15.8, wall=11891
2023-08-20 15:41:20 | INFO | train_inner | epoch 010:    144 / 1474 loss=2.064, trans_loss=3.405, nll_loss=1.589, w2v_ctc_loss=1.122, task_loss=0.834, contrastive_loss=0.174, total=4230.29, n_correct=2633.76, ppl=3.01, accuracy=62.26, wps=14242.6, ups=1.13, wpb=12634.2, bsz=472.7, num_updates=13400, lr=0.000122169, gnorm=0.424, clip=0, loss_scale=4, train_wall=88, gb_free=16.2, wall=11979
2023-08-20 15:42:48 | INFO | train_inner | epoch 010:    244 / 1474 loss=2.118, trans_loss=3.4, nll_loss=1.581, w2v_ctc_loss=1.129, task_loss=0.852, contrastive_loss=0.422, total=4131.59, n_correct=2579.74, ppl=2.99, accuracy=62.439, wps=13973.1, ups=1.13, wpb=12331.3, bsz=463.6, num_updates=13500, lr=0.000121716, gnorm=0.429, clip=0, loss_scale=4, train_wall=88, gb_free=9.5, wall=12068
2023-08-20 15:44:17 | INFO | train_inner | epoch 010:    344 / 1474 loss=2.079, trans_loss=3.402, nll_loss=1.587, w2v_ctc_loss=1.122, task_loss=0.873, contrastive_loss=0.255, total=4135.23, n_correct=2570.9, ppl=3, accuracy=62.171, wps=13907.2, ups=1.13, wpb=12360.3, bsz=454.8, num_updates=13600, lr=0.000121268, gnorm=0.437, clip=0, loss_scale=4, train_wall=88, gb_free=17, wall=12157
2023-08-20 15:45:47 | INFO | train_inner | epoch 010:    444 / 1474 loss=2.142, trans_loss=3.408, nll_loss=1.591, w2v_ctc_loss=1.112, task_loss=0.832, contrastive_loss=0.608, total=4197.95, n_correct=2609.94, ppl=3.01, accuracy=62.172, wps=13908.9, ups=1.11, wpb=12531.8, bsz=481.2, num_updates=13700, lr=0.000120824, gnorm=0.452, clip=0, loss_scale=4, train_wall=89, gb_free=15, wall=12247
2023-08-20 15:47:17 | INFO | train_inner | epoch 010:    544 / 1474 loss=2.077, trans_loss=3.417, nll_loss=1.599, w2v_ctc_loss=1.143, task_loss=0.942, contrastive_loss=0.16, total=4097.61, n_correct=2537.95, ppl=3.03, accuracy=61.937, wps=13599.4, ups=1.11, wpb=12219.2, bsz=434.6, num_updates=13800, lr=0.000120386, gnorm=0.451, clip=0, loss_scale=4, train_wall=89, gb_free=17.5, wall=12337
2023-08-20 15:48:46 | INFO | train_inner | epoch 010:    644 / 1474 loss=2.125, trans_loss=3.411, nll_loss=1.595, w2v_ctc_loss=1.131, task_loss=0.805, contrastive_loss=0.388, total=4187.04, n_correct=2600.04, ppl=3.02, accuracy=62.097, wps=14040, ups=1.12, wpb=12494.9, bsz=483.5, num_updates=13900, lr=0.000119952, gnorm=0.445, clip=0, loss_scale=4, train_wall=88, gb_free=16.1, wall=12426
2023-08-20 15:50:14 | INFO | train_inner | epoch 010:    744 / 1474 loss=2.084, trans_loss=3.41, nll_loss=1.594, w2v_ctc_loss=1.152, task_loss=0.88, contrastive_loss=0.156, total=4112.31, n_correct=2552.93, ppl=3.02, accuracy=62.08, wps=13975.2, ups=1.14, wpb=12277.4, bsz=448.4, num_updates=14000, lr=0.000119523, gnorm=0.461, clip=0, loss_scale=8, train_wall=87, gb_free=11.9, wall=12513
2023-08-20 15:50:14 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 15:50:47 | INFO | dev_st | epoch 010 | valid on 'dev_st' subset | loss 4.12 | trans_loss 5.287 | nll_loss 2.581 | w2v_ctc_loss 1.475 | task_loss 4.537 | contrastive_loss 0.526 | total 4003.4 | n_correct 2583.7 | ppl 5.98 | accuracy 64.538 | uer 21.246 | wer 23.057 | raw_wer 23.057 | bleu 20.14 | wps 1594.1 | wpb 4003.4 | bsz 141.8 | num_updates 14000 | best_bleu 20.14
2023-08-20 15:50:47 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 10 @ 14000 updates
2023-08-20 15:50:47 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_10_14000.pt
2023-08-20 15:50:50 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_10_14000.pt
2023-08-20 15:51:02 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_10_14000.pt (epoch 10 @ 14000 updates, score 20.14) (writing took 14.35689736198401 seconds)
2023-08-20 15:52:31 | INFO | train_inner | epoch 010:    844 / 1474 loss=2.061, trans_loss=3.407, nll_loss=1.59, w2v_ctc_loss=1.121, task_loss=0.858, contrastive_loss=0.164, total=4135.95, n_correct=2575.29, ppl=3.01, accuracy=62.266, wps=9032.4, ups=0.73, wpb=12346.8, bsz=456.9, num_updates=14100, lr=0.000119098, gnorm=0.437, clip=0, loss_scale=8, train_wall=88, gb_free=15.5, wall=12650
2023-08-20 15:53:59 | INFO | train_inner | epoch 010:    944 / 1474 loss=2.089, trans_loss=3.405, nll_loss=1.586, w2v_ctc_loss=1.128, task_loss=0.824, contrastive_loss=0.238, total=4169.57, n_correct=2595.77, ppl=3, accuracy=62.255, wps=14024.9, ups=1.13, wpb=12439, bsz=473.3, num_updates=14200, lr=0.000118678, gnorm=0.443, clip=0, loss_scale=8, train_wall=88, gb_free=13.1, wall=12739
2023-08-20 15:55:28 | INFO | train_inner | epoch 010:   1044 / 1474 loss=2.069, trans_loss=3.407, nll_loss=1.59, w2v_ctc_loss=1.131, task_loss=0.948, contrastive_loss=0.181, total=4058.1, n_correct=2520.07, ppl=3.01, accuracy=62.1, wps=13594.8, ups=1.12, wpb=12115.2, bsz=430.4, num_updates=14300, lr=0.000118262, gnorm=0.434, clip=0, loss_scale=8, train_wall=88, gb_free=15.6, wall=12828
2023-08-20 15:56:57 | INFO | train_inner | epoch 010:   1144 / 1474 loss=2.072, trans_loss=3.414, nll_loss=1.599, w2v_ctc_loss=1.144, task_loss=0.978, contrastive_loss=0.149, total=4034.12, n_correct=2497.25, ppl=3.03, accuracy=61.903, wps=13634.1, ups=1.13, wpb=12044.8, bsz=418.2, num_updates=14400, lr=0.000117851, gnorm=0.448, clip=0, loss_scale=8, train_wall=88, gb_free=15.2, wall=12916
2023-08-20 15:58:25 | INFO | train_inner | epoch 010:   1244 / 1474 loss=2.066, trans_loss=3.398, nll_loss=1.584, w2v_ctc_loss=1.14, task_loss=0.885, contrastive_loss=0.148, total=4107.11, n_correct=2558.71, ppl=3, accuracy=62.3, wps=13875.1, ups=1.13, wpb=12283.5, bsz=446.4, num_updates=14500, lr=0.000117444, gnorm=0.422, clip=0, loss_scale=8, train_wall=88, gb_free=14.7, wall=13005
2023-08-20 15:59:54 | INFO | train_inner | epoch 010:   1344 / 1474 loss=2.068, trans_loss=3.404, nll_loss=1.589, w2v_ctc_loss=1.131, task_loss=0.869, contrastive_loss=0.17, total=4143.63, n_correct=2584.09, ppl=3.01, accuracy=62.363, wps=14014.8, ups=1.13, wpb=12373.1, bsz=457, num_updates=14600, lr=0.000117041, gnorm=0.445, clip=0, loss_scale=8, train_wall=88, gb_free=16.2, wall=13093
2023-08-20 16:01:23 | INFO | train_inner | epoch 010:   1444 / 1474 loss=2.185, trans_loss=3.413, nll_loss=1.597, w2v_ctc_loss=1.112, task_loss=0.819, contrastive_loss=0.66, total=4183.87, n_correct=2598.09, ppl=3.03, accuracy=62.098, wps=13968.2, ups=1.12, wpb=12480.2, bsz=480.8, num_updates=14700, lr=0.000116642, gnorm=0.439, clip=0, loss_scale=8, train_wall=89, gb_free=12.9, wall=13182
2023-08-20 16:01:49 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 16:02:22 | INFO | dev_st | epoch 010 | valid on 'dev_st' subset | loss 4.08 | trans_loss 5.272 | nll_loss 2.563 | w2v_ctc_loss 1.396 | task_loss 4.505 | contrastive_loss 0.498 | total 4003.4 | n_correct 2589.1 | ppl 5.91 | accuracy 64.673 | uer 20.001 | wer 21.58 | raw_wer 21.58 | bleu 20.26 | wps 1624.8 | wpb 4003.4 | bsz 141.8 | num_updates 14730 | best_bleu 20.26
2023-08-20 16:02:22 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 10 @ 14730 updates
2023-08-20 16:02:22 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 16:02:30 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 16:02:36 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 10 @ 14730 updates, score 20.26) (writing took 13.284418925002683 seconds)
2023-08-20 16:02:36 | INFO | fairseq_cli.train | end of epoch 10 (average epoch stats below)
2023-08-20 16:02:36 | INFO | train | epoch 010 | loss 2.096 | trans_loss 3.407 | nll_loss 1.591 | w2v_ctc_loss 1.129 | task_loss 0.867 | contrastive_loss 0.298 | total 4138.65 | n_correct 2573.32 | ppl 3.01 | accuracy 62.178 | wps 12898.2 | ups 1.04 | wpb 12355.8 | bsz 458.5 | num_updates 14730 | lr 0.000116524 | gnorm 0.443 | clip 0 | loss_scale 8 | train_wall 1298 | gb_free 16.9 | wall 13256
2023-08-20 16:02:37 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 16:02:37 | INFO | fairseq.trainer | begin training epoch 11
2023-08-20 16:02:37 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 16:03:45 | INFO | train_inner | epoch 011:     70 / 1474 loss=2.056, trans_loss=3.384, nll_loss=1.561, w2v_ctc_loss=1.093, task_loss=0.811, contrastive_loss=0.312, total=4162.14, n_correct=2621.36, ppl=2.95, accuracy=62.981, wps=8726.7, ups=0.7, wpb=12425.4, bsz=474.3, num_updates=14800, lr=0.000116248, gnorm=0.421, clip=0, loss_scale=8, train_wall=87, gb_free=16.2, wall=13325
2023-08-20 16:05:14 | INFO | train_inner | epoch 011:    170 / 1474 loss=2.026, trans_loss=3.384, nll_loss=1.564, w2v_ctc_loss=1.092, task_loss=0.888, contrastive_loss=0.162, total=4103.74, n_correct=2579.9, ppl=2.96, accuracy=62.867, wps=13881.7, ups=1.13, wpb=12261.3, bsz=450.5, num_updates=14900, lr=0.000115857, gnorm=0.417, clip=0, loss_scale=8, train_wall=88, gb_free=16.4, wall=13413
2023-08-20 16:06:42 | INFO | train_inner | epoch 011:    270 / 1474 loss=2.008, trans_loss=3.382, nll_loss=1.559, w2v_ctc_loss=1.083, task_loss=0.902, contrastive_loss=0.134, total=4114.56, n_correct=2591.42, ppl=2.95, accuracy=62.982, wps=13887.6, ups=1.13, wpb=12288.3, bsz=443.1, num_updates=15000, lr=0.00011547, gnorm=0.415, clip=0, loss_scale=8, train_wall=88, gb_free=15.2, wall=13502
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:0')
2023-08-20 16:07:44 | INFO | train_inner | epoch 011:    370 / 1474 loss=2.086, trans_loss=5.029, nll_loss=2.318, w2v_ctc_loss=0.81, task_loss=1.332, contrastive_loss=0.116, total=4094.93, n_correct=2578.1, ppl=4.99, accuracy=62.958, wps=13224.1, ups=1.61, wpb=8223.5, bsz=297, num_updates=15100, lr=0.000115087, gnorm=0.541, clip=0, loss_scale=8, train_wall=61, gb_free=11.6, wall=13564
2023-08-20 16:08:48 | INFO | train_inner | epoch 011:    470 / 1474 loss=2.123, trans_loss=5.063, nll_loss=2.346, w2v_ctc_loss=0.814, task_loss=1.352, contrastive_loss=0.356, total=4113.98, n_correct=2576.15, ppl=5.08, accuracy=62.619, wps=12978.1, ups=1.58, wpb=8228, bsz=302.3, num_updates=15200, lr=0.000114708, gnorm=0.562, clip=0, loss_scale=8, train_wall=63, gb_free=9.5, wall=13627
2023-08-20 16:09:51 | INFO | train_inner | epoch 011:    570 / 1474 loss=2.119, trans_loss=5.058, nll_loss=2.339, w2v_ctc_loss=0.823, task_loss=1.393, contrastive_loss=0.345, total=4074.83, n_correct=2556.81, ppl=5.06, accuracy=62.746, wps=12871.2, ups=1.58, wpb=8149.7, bsz=293.3, num_updates=15300, lr=0.000114332, gnorm=0.54, clip=0, loss_scale=8, train_wall=63, gb_free=14.9, wall=13691
2023-08-20 16:10:54 | INFO | train_inner | epoch 011:    670 / 1474 loss=2.127, trans_loss=5.05, nll_loss=2.329, w2v_ctc_loss=0.819, task_loss=1.265, contrastive_loss=0.458, total=4161.4, n_correct=2615.35, ppl=5.03, accuracy=62.848, wps=13131.2, ups=1.58, wpb=8322.8, bsz=311.9, num_updates=15400, lr=0.000113961, gnorm=0.537, clip=0, loss_scale=8, train_wall=63, gb_free=16.2, wall=13754
2023-08-20 16:11:57 | INFO | train_inner | epoch 011:    770 / 1474 loss=2.099, trans_loss=5.06, nll_loss=2.342, w2v_ctc_loss=0.825, task_loss=1.338, contrastive_loss=0.115, total=4153.23, n_correct=2609.56, ppl=5.07, accuracy=62.832, wps=13284.4, ups=1.6, wpb=8306.5, bsz=301.5, num_updates=15500, lr=0.000113592, gnorm=0.528, clip=0, loss_scale=8, train_wall=62, gb_free=14.6, wall=13817
2023-08-20 16:12:59 | INFO | train_inner | epoch 011:    870 / 1474 loss=2.099, trans_loss=5.061, nll_loss=2.343, w2v_ctc_loss=0.826, task_loss=1.363, contrastive_loss=0.099, total=4122.58, n_correct=2583.53, ppl=5.07, accuracy=62.668, wps=13209.8, ups=1.6, wpb=8245.2, bsz=293.8, num_updates=15600, lr=0.000113228, gnorm=0.572, clip=0, loss_scale=8, train_wall=62, gb_free=15.3, wall=13879
2023-08-20 16:14:02 | INFO | train_inner | epoch 011:    970 / 1474 loss=2.094, trans_loss=5.056, nll_loss=2.337, w2v_ctc_loss=0.82, task_loss=1.31, contrastive_loss=0.121, total=4150.11, n_correct=2608.89, ppl=5.05, accuracy=62.863, wps=13303.3, ups=1.6, wpb=8300.2, bsz=304.8, num_updates=15700, lr=0.000112867, gnorm=0.529, clip=0, loss_scale=8, train_wall=62, gb_free=15.2, wall=13941
2023-08-20 16:15:05 | INFO | train_inner | epoch 011:   1070 / 1474 loss=2.092, trans_loss=5.049, nll_loss=2.328, w2v_ctc_loss=0.817, task_loss=1.28, contrastive_loss=0.147, total=4146.14, n_correct=2612.31, ppl=5.02, accuracy=63.006, wps=13190.7, ups=1.59, wpb=8292.3, bsz=309.8, num_updates=15800, lr=0.000112509, gnorm=0.523, clip=0, loss_scale=8, train_wall=62, gb_free=16.3, wall=14004
2023-08-20 16:16:08 | INFO | train_inner | epoch 011:   1170 / 1474 loss=2.097, trans_loss=5.057, nll_loss=2.34, w2v_ctc_loss=0.82, task_loss=1.288, contrastive_loss=0.146, total=4182.57, n_correct=2625.68, ppl=5.06, accuracy=62.777, wps=13254.8, ups=1.58, wpb=8365.1, bsz=311.4, num_updates=15900, lr=0.000112154, gnorm=0.571, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=14067
2023-08-20 16:17:11 | INFO | train_inner | epoch 011:   1270 / 1474 loss=2.109, trans_loss=5.051, nll_loss=2.332, w2v_ctc_loss=0.824, task_loss=1.281, contrastive_loss=0.241, total=4157.11, n_correct=2614.22, ppl=5.03, accuracy=62.886, wps=13207.3, ups=1.59, wpb=8314.2, bsz=308.6, num_updates=16000, lr=0.000111803, gnorm=0.549, clip=0, loss_scale=16, train_wall=62, gb_free=16.3, wall=14130
2023-08-20 16:17:11 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:6')
2023-08-20 16:17:45 | INFO | dev_st | epoch 011 | valid on 'dev_st' subset | loss 4.083 | trans_loss 5.259 | nll_loss 2.551 | w2v_ctc_loss 1.426 | task_loss 4.511 | contrastive_loss 0.519 | total 4003.4 | n_correct 2594.5 | ppl 5.86 | accuracy 64.807 | uer 20.179 | wer 21.949 | raw_wer 21.949 | bleu 20.35 | wps 1515.1 | wpb 4003.4 | bsz 141.8 | num_updates 16000 | best_bleu 20.35
2023-08-20 16:17:45 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 11 @ 16000 updates
2023-08-20 16:17:45 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_11_16000.pt
2023-08-20 16:17:48 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_11_16000.pt
2023-08-20 16:17:59 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_11_16000.pt (epoch 11 @ 16000 updates, score 20.35) (writing took 13.420347782957833 seconds)
2023-08-20 16:19:02 | INFO | train_inner | epoch 011:   1370 / 1474 loss=2.132, trans_loss=5.049, nll_loss=2.33, w2v_ctc_loss=0.809, task_loss=1.196, contrastive_loss=0.582, total=4192.31, n_correct=2640.29, ppl=5.03, accuracy=62.979, wps=7518.6, ups=0.9, wpb=8384.6, bsz=328.3, num_updates=16100, lr=0.000111456, gnorm=0.543, clip=0, loss_scale=16, train_wall=62, gb_free=16.6, wall=14242
2023-08-20 16:20:04 | INFO | train_inner | epoch 011:   1470 / 1474 loss=2.09, trans_loss=5.05, nll_loss=2.331, w2v_ctc_loss=0.818, task_loss=1.25, contrastive_loss=0.134, total=4162.97, n_correct=2625.25, ppl=5.03, accuracy=63.062, wps=13403.4, ups=1.61, wpb=8325.9, bsz=313, num_updates=16200, lr=0.000111111, gnorm=0.551, clip=0, loss_scale=16, train_wall=61, gb_free=14.4, wall=14304
2023-08-20 16:20:07 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 16:20:40 | INFO | dev_st | epoch 011 | valid on 'dev_st' subset | loss 4.091 | trans_loss 5.258 | nll_loss 2.545 | w2v_ctc_loss 1.453 | task_loss 4.547 | contrastive_loss 0.511 | total 4003.4 | n_correct 2600.5 | ppl 5.83 | accuracy 64.957 | uer 20.816 | wer 22.654 | raw_wer 22.654 | bleu 20.57 | wps 1631.1 | wpb 4003.4 | bsz 141.8 | num_updates 16204 | best_bleu 20.57
2023-08-20 16:20:40 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 11 @ 16204 updates
2023-08-20 16:20:40 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 16:20:46 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 16:20:51 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 11 @ 16204 updates, score 20.57) (writing took 11.913559331034776 seconds)
2023-08-20 16:20:52 | INFO | fairseq_cli.train | end of epoch 11 (average epoch stats below)
2023-08-20 16:20:52 | INFO | train | epoch 011 | loss 2.084 | trans_loss 4.635 | nll_loss 2.14 | w2v_ctc_loss 0.886 | task_loss 1.193 | contrastive_loss 0.217 | total 4138.65 | n_correct 2602.39 | ppl 4.41 | accuracy 62.88 | wps 12146.9 | ups 1.35 | wpb 9025.9 | bsz 333.5 | num_updates 16204 | lr 0.000111097 | gnorm 0.522 | clip 0 | loss_scale 16 | train_wall 983 | gb_free 16.9 | wall 14351
2023-08-20 16:20:52 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 16:20:52 | INFO | fairseq.trainer | begin training epoch 12
2023-08-20 16:20:52 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 16:21:59 | INFO | train_inner | epoch 012:     96 / 1474 loss=2.075, trans_loss=5.011, nll_loss=2.278, w2v_ctc_loss=0.8, task_loss=1.249, contrastive_loss=0.197, total=4145.21, n_correct=2642.29, ppl=4.85, accuracy=63.743, wps=7231.9, ups=0.87, wpb=8290.4, bsz=313.9, num_updates=16300, lr=0.00011077, gnorm=0.53, clip=0, loss_scale=16, train_wall=61, gb_free=16.6, wall=14419
2023-08-20 16:23:02 | INFO | train_inner | epoch 012:    196 / 1474 loss=2.07, trans_loss=5.017, nll_loss=2.286, w2v_ctc_loss=0.802, task_loss=1.334, contrastive_loss=0.104, total=4124.1, n_correct=2623.26, ppl=4.88, accuracy=63.608, wps=13173, ups=1.6, wpb=8248.2, bsz=296.1, num_updates=16400, lr=0.000110432, gnorm=0.533, clip=0, loss_scale=16, train_wall=62, gb_free=15.1, wall=14481
2023-08-20 16:24:04 | INFO | train_inner | epoch 012:    296 / 1474 loss=2.071, trans_loss=5.019, nll_loss=2.29, w2v_ctc_loss=0.788, task_loss=1.217, contrastive_loss=0.161, total=4208.07, n_correct=2679.79, ppl=4.89, accuracy=63.682, wps=13502.9, ups=1.6, wpb=8416.1, bsz=321.7, num_updates=16500, lr=0.000110096, gnorm=0.548, clip=0, loss_scale=16, train_wall=62, gb_free=11.9, wall=14544
2023-08-20 16:25:07 | INFO | train_inner | epoch 012:    396 / 1474 loss=2.074, trans_loss=5.023, nll_loss=2.294, w2v_ctc_loss=0.802, task_loss=1.286, contrastive_loss=0.13, total=4144.42, n_correct=2635.54, ppl=4.9, accuracy=63.592, wps=13238.1, ups=1.6, wpb=8288.8, bsz=305.3, num_updates=16600, lr=0.000109764, gnorm=0.527, clip=0, loss_scale=16, train_wall=62, gb_free=16, wall=14606
2023-08-20 16:26:09 | INFO | train_inner | epoch 012:    496 / 1474 loss=2.085, trans_loss=5.035, nll_loss=2.31, w2v_ctc_loss=0.811, task_loss=1.325, contrastive_loss=0.146, total=4095.26, n_correct=2598.55, ppl=4.96, accuracy=63.453, wps=13138.8, ups=1.6, wpb=8190.5, bsz=299.8, num_updates=16700, lr=0.000109435, gnorm=0.563, clip=0, loss_scale=16, train_wall=61, gb_free=17.3, wall=14668
2023-08-20 16:27:12 | INFO | train_inner | epoch 012:    596 / 1474 loss=2.09, trans_loss=5.023, nll_loss=2.295, w2v_ctc_loss=0.807, task_loss=1.231, contrastive_loss=0.271, total=4204.6, n_correct=2669.05, ppl=4.91, accuracy=63.479, wps=13225.4, ups=1.57, wpb=8409.2, bsz=319.2, num_updates=16800, lr=0.000109109, gnorm=0.55, clip=0, loss_scale=16, train_wall=63, gb_free=16.1, wall=14732
2023-08-20 16:28:15 | INFO | train_inner | epoch 012:    696 / 1474 loss=2.093, trans_loss=5.018, nll_loss=2.289, w2v_ctc_loss=0.788, task_loss=1.205, contrastive_loss=0.446, total=4197.19, n_correct=2675.95, ppl=4.89, accuracy=63.756, wps=13333.1, ups=1.59, wpb=8394.4, bsz=323.2, num_updates=16900, lr=0.000108786, gnorm=0.534, clip=0, loss_scale=16, train_wall=62, gb_free=16.2, wall=14795
2023-08-20 16:29:18 | INFO | train_inner | epoch 012:    796 / 1474 loss=2.074, trans_loss=5.018, nll_loss=2.289, w2v_ctc_loss=0.809, task_loss=1.326, contrastive_loss=0.122, total=4094.06, n_correct=2605.27, ppl=4.89, accuracy=63.635, wps=13020.5, ups=1.59, wpb=8188.1, bsz=298.2, num_updates=17000, lr=0.000108465, gnorm=0.531, clip=0, loss_scale=16, train_wall=62, gb_free=14.4, wall=14858
2023-08-20 16:30:21 | INFO | train_inner | epoch 012:    896 / 1474 loss=2.088, trans_loss=5.023, nll_loss=2.295, w2v_ctc_loss=0.81, task_loss=1.338, contrastive_loss=0.219, total=4163.5, n_correct=2642.14, ppl=4.91, accuracy=63.46, wps=13266.6, ups=1.59, wpb=8327, bsz=305.1, num_updates=17100, lr=0.000108148, gnorm=0.573, clip=0, loss_scale=16, train_wall=62, gb_free=12.3, wall=14921
2023-08-20 16:31:24 | INFO | train_inner | epoch 012:    996 / 1474 loss=2.085, trans_loss=5.025, nll_loss=2.298, w2v_ctc_loss=0.806, task_loss=1.321, contrastive_loss=0.24, total=4124.99, n_correct=2622.41, ppl=4.92, accuracy=63.574, wps=13204.9, ups=1.6, wpb=8250, bsz=302.7, num_updates=17200, lr=0.000107833, gnorm=0.542, clip=0, loss_scale=16, train_wall=62, gb_free=10.6, wall=14983
2023-08-20 16:32:27 | INFO | train_inner | epoch 012:   1096 / 1474 loss=2.105, trans_loss=5.03, nll_loss=2.304, w2v_ctc_loss=0.816, task_loss=1.374, contrastive_loss=0.334, total=4046.6, n_correct=2565.61, ppl=4.94, accuracy=63.402, wps=12848.1, ups=1.59, wpb=8093.2, bsz=289.8, num_updates=17300, lr=0.000107521, gnorm=0.559, clip=0, loss_scale=16, train_wall=62, gb_free=16, wall=15046
2023-08-20 16:33:30 | INFO | train_inner | epoch 012:   1196 / 1474 loss=2.106, trans_loss=5.047, nll_loss=2.326, w2v_ctc_loss=0.825, task_loss=1.271, contrastive_loss=0.264, total=4196.85, n_correct=2648.3, ppl=5.01, accuracy=63.102, wps=13235.5, ups=1.58, wpb=8393.7, bsz=319, num_updates=17400, lr=0.000107211, gnorm=0.529, clip=0, loss_scale=16, train_wall=63, gb_free=16.1, wall=15110
2023-08-20 16:34:33 | INFO | train_inner | epoch 012:   1296 / 1474 loss=2.077, trans_loss=5.025, nll_loss=2.298, w2v_ctc_loss=0.814, task_loss=1.468, contrastive_loss=0.098, total=4067.78, n_correct=2580.72, ppl=4.92, accuracy=63.443, wps=12947.8, ups=1.59, wpb=8135.6, bsz=285.5, num_updates=17500, lr=0.000106904, gnorm=0.54, clip=0, loss_scale=16, train_wall=62, gb_free=14.7, wall=15172
2023-08-20 16:35:35 | INFO | train_inner | epoch 012:   1396 / 1474 loss=2.091, trans_loss=5.033, nll_loss=2.309, w2v_ctc_loss=0.8, task_loss=1.313, contrastive_loss=0.302, total=4142.88, n_correct=2624.53, ppl=4.95, accuracy=63.35, wps=13227.7, ups=1.6, wpb=8285.8, bsz=306.2, num_updates=17600, lr=0.0001066, gnorm=0.537, clip=0, loss_scale=16, train_wall=62, gb_free=15.2, wall=15235
2023-08-20 16:36:24 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 16:36:58 | INFO | dev_st | epoch 012 | valid on 'dev_st' subset | loss 4.07 | trans_loss 5.243 | nll_loss 2.529 | w2v_ctc_loss 1.422 | task_loss 4.528 | contrastive_loss 0.509 | total 4003.4 | n_correct 2603.2 | ppl 5.77 | accuracy 65.025 | uer 19.879 | wer 21.599 | raw_wer 21.599 | bleu 20.58 | wps 1578.8 | wpb 4003.4 | bsz 141.8 | num_updates 17678 | best_bleu 20.58
2023-08-20 16:36:58 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 12 @ 17678 updates
2023-08-20 16:36:58 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 16:37:04 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 16:37:11 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 12 @ 17678 updates, score 20.58) (writing took 12.71982709999429 seconds)
2023-08-20 16:37:11 | INFO | fairseq_cli.train | end of epoch 12 (average epoch stats below)
2023-08-20 16:37:11 | INFO | train | epoch 012 | loss 2.084 | trans_loss 5.025 | nll_loss 2.298 | w2v_ctc_loss 0.806 | task_loss 1.304 | contrastive_loss 0.213 | total 4138.65 | n_correct 2628.7 | ppl 4.92 | accuracy 63.516 | wps 12452.7 | ups 1.5 | wpb 8277.3 | bsz 305.7 | num_updates 17678 | lr 0.000106365 | gnorm 0.543 | clip 0 | loss_scale 16 | train_wall 913 | gb_free 12.4 | wall 15331
2023-08-20 16:37:12 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 16:37:12 | INFO | fairseq.trainer | begin training epoch 13
2023-08-20 16:37:12 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 16:37:32 | INFO | train_inner | epoch 013:     22 / 1474 loss=2.08, trans_loss=5.031, nll_loss=2.305, w2v_ctc_loss=0.816, task_loss=1.343, contrastive_loss=0.114, total=4097.08, n_correct=2600.14, ppl=4.94, accuracy=63.463, wps=7004.6, ups=0.85, wpb=8194.2, bsz=296.6, num_updates=17700, lr=0.000106299, gnorm=0.562, clip=0, loss_scale=16, train_wall=61, gb_free=16, wall=15352
2023-08-20 16:38:35 | INFO | train_inner | epoch 013:    122 / 1474 loss=2.061, trans_loss=4.998, nll_loss=2.263, w2v_ctc_loss=0.792, task_loss=1.309, contrastive_loss=0.138, total=4164.24, n_correct=2665.77, ppl=4.8, accuracy=64.016, wps=13233.3, ups=1.59, wpb=8328.5, bsz=301.9, num_updates=17800, lr=0.000106, gnorm=0.545, clip=0, loss_scale=16, train_wall=62, gb_free=16.6, wall=15415
2023-08-20 16:39:39 | INFO | train_inner | epoch 013:    222 / 1474 loss=2.101, trans_loss=5.007, nll_loss=2.275, w2v_ctc_loss=0.786, task_loss=1.205, contrastive_loss=0.566, total=4201.52, n_correct=2687.56, ppl=4.84, accuracy=63.966, wps=13151, ups=1.57, wpb=8403, bsz=328.5, num_updates=17900, lr=0.000105703, gnorm=0.56, clip=0, loss_scale=16, train_wall=63, gb_free=12.7, wall=15479
2023-08-20 16:40:42 | INFO | train_inner | epoch 013:    322 / 1474 loss=2.055, trans_loss=4.991, nll_loss=2.253, w2v_ctc_loss=0.79, task_loss=1.354, contrastive_loss=0.11, total=4102.53, n_correct=2634.71, ppl=4.77, accuracy=64.222, wps=13186.1, ups=1.61, wpb=8205.1, bsz=293.9, num_updates=18000, lr=0.000105409, gnorm=0.539, clip=0, loss_scale=16, train_wall=61, gb_free=15.6, wall=15541
2023-08-20 16:40:42 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 16:41:14 | INFO | dev_st | epoch 013 | valid on 'dev_st' subset | loss 4.058 | trans_loss 5.241 | nll_loss 2.523 | w2v_ctc_loss 1.377 | task_loss 4.536 | contrastive_loss 0.522 | total 4003.4 | n_correct 2605 | ppl 5.75 | accuracy 65.07 | uer 19.831 | wer 21.614 | raw_wer 21.614 | bleu 20.73 | wps 1644.6 | wpb 4003.4 | bsz 141.8 | num_updates 18000 | best_bleu 20.73
2023-08-20 16:41:14 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 13 @ 18000 updates
2023-08-20 16:41:14 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_13_18000.pt
2023-08-20 16:41:17 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_13_18000.pt
2023-08-20 16:41:31 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_13_18000.pt (epoch 13 @ 18000 updates, score 20.73) (writing took 17.180423440993764 seconds)
2023-08-20 16:42:28 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-20 16:42:34 | INFO | train_inner | epoch 013:    423 / 1474 loss=2.063, trans_loss=4.997, nll_loss=2.261, w2v_ctc_loss=0.787, task_loss=1.201, contrastive_loss=0.199, total=4206.46, n_correct=2702.6, ppl=4.79, accuracy=64.249, wps=7470.9, ups=0.89, wpb=8412.9, bsz=323.3, num_updates=18100, lr=0.000105118, gnorm=0.528, clip=0, loss_scale=16, train_wall=62, gb_free=16.4, wall=15654
2023-08-20 16:43:37 | INFO | train_inner | epoch 013:    523 / 1474 loss=2.073, trans_loss=5.004, nll_loss=2.269, w2v_ctc_loss=0.792, task_loss=1.267, contrastive_loss=0.266, total=4185.31, n_correct=2676.71, ppl=4.82, accuracy=63.955, wps=13374.2, ups=1.6, wpb=8370.6, bsz=316.7, num_updates=18200, lr=0.000104828, gnorm=0.526, clip=0, loss_scale=16, train_wall=62, gb_free=16.7, wall=15716
2023-08-20 16:44:39 | INFO | train_inner | epoch 013:    623 / 1474 loss=2.052, trans_loss=4.997, nll_loss=2.261, w2v_ctc_loss=0.792, task_loss=1.282, contrastive_loss=0.101, total=4157.86, n_correct=2666.54, ppl=4.79, accuracy=64.133, wps=13304.8, ups=1.6, wpb=8315.7, bsz=306.4, num_updates=18300, lr=0.000104542, gnorm=0.518, clip=0, loss_scale=16, train_wall=62, gb_free=16.9, wall=15779
2023-08-20 16:45:43 | INFO | train_inner | epoch 013:    723 / 1474 loss=2.064, trans_loss=5.004, nll_loss=2.27, w2v_ctc_loss=0.803, task_loss=1.435, contrastive_loss=0.101, total=4099, n_correct=2621.6, ppl=4.82, accuracy=63.957, wps=12913.3, ups=1.58, wpb=8198, bsz=286.3, num_updates=18400, lr=0.000104257, gnorm=0.528, clip=0, loss_scale=16, train_wall=63, gb_free=15.7, wall=15842
2023-08-20 16:46:46 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-20 16:46:47 | INFO | train_inner | epoch 013:    824 / 1474 loss=2.072, trans_loss=5.007, nll_loss=2.274, w2v_ctc_loss=0.799, task_loss=1.321, contrastive_loss=0.184, total=4124.09, n_correct=2629.95, ppl=4.84, accuracy=63.77, wps=12787.9, ups=1.55, wpb=8248.2, bsz=305.8, num_updates=18500, lr=0.000103975, gnorm=0.545, clip=0, loss_scale=8, train_wall=64, gb_free=16.6, wall=15907
2023-08-20 16:47:49 | INFO | train_inner | epoch 013:    924 / 1474 loss=2.056, trans_loss=5.001, nll_loss=2.268, w2v_ctc_loss=0.786, task_loss=1.317, contrastive_loss=0.118, total=4102.25, n_correct=2628.19, ppl=4.82, accuracy=64.067, wps=13196.6, ups=1.61, wpb=8204.5, bsz=297.5, num_updates=18600, lr=0.000103695, gnorm=0.523, clip=0, loss_scale=8, train_wall=61, gb_free=15.4, wall=15969
2023-08-20 16:48:52 | INFO | train_inner | epoch 013:   1024 / 1474 loss=2.074, trans_loss=5.006, nll_loss=2.274, w2v_ctc_loss=0.799, task_loss=1.36, contrastive_loss=0.215, total=4097.02, n_correct=2615.61, ppl=4.84, accuracy=63.842, wps=13176, ups=1.61, wpb=8194, bsz=297.1, num_updates=18700, lr=0.000103418, gnorm=0.537, clip=0, loss_scale=8, train_wall=61, gb_free=16.4, wall=16031
2023-08-20 16:49:54 | INFO | train_inner | epoch 013:   1124 / 1474 loss=2.064, trans_loss=4.996, nll_loss=2.26, w2v_ctc_loss=0.795, task_loss=1.311, contrastive_loss=0.185, total=4082.89, n_correct=2616.82, ppl=4.79, accuracy=64.092, wps=13130, ups=1.61, wpb=8165.8, bsz=300.3, num_updates=18800, lr=0.000103142, gnorm=0.602, clip=0, loss_scale=8, train_wall=61, gb_free=15, wall=16093
2023-08-20 16:50:57 | INFO | train_inner | epoch 013:   1224 / 1474 loss=2.066, trans_loss=5.008, nll_loss=2.277, w2v_ctc_loss=0.806, task_loss=1.374, contrastive_loss=0.108, total=4122.93, n_correct=2635.85, ppl=4.85, accuracy=63.931, wps=13041.7, ups=1.58, wpb=8245.9, bsz=296.7, num_updates=18900, lr=0.000102869, gnorm=0.585, clip=0, loss_scale=8, train_wall=62, gb_free=16.2, wall=16157
2023-08-20 16:52:00 | INFO | train_inner | epoch 013:   1324 / 1474 loss=2.072, trans_loss=4.994, nll_loss=2.259, w2v_ctc_loss=0.791, task_loss=1.284, contrastive_loss=0.302, total=4113.08, n_correct=2643.96, ppl=4.79, accuracy=64.282, wps=13067.5, ups=1.59, wpb=8226.2, bsz=309.2, num_updates=19000, lr=0.000102598, gnorm=0.567, clip=0, loss_scale=8, train_wall=62, gb_free=16.6, wall=16220
2023-08-20 16:53:03 | INFO | train_inner | epoch 013:   1424 / 1474 loss=2.08, trans_loss=5.004, nll_loss=2.272, w2v_ctc_loss=0.787, task_loss=1.283, contrastive_loss=0.325, total=4174.18, n_correct=2669.59, ppl=4.83, accuracy=63.955, wps=13315.3, ups=1.59, wpb=8348.4, bsz=310.4, num_updates=19100, lr=0.000102329, gnorm=0.61, clip=0, loss_scale=8, train_wall=62, gb_free=16.1, wall=16282
2023-08-20 16:53:34 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 16:54:06 | INFO | dev_st | epoch 013 | valid on 'dev_st' subset | loss 4.049 | trans_loss 5.225 | nll_loss 2.501 | w2v_ctc_loss 1.381 | task_loss 4.507 | contrastive_loss 0.531 | total 4003.4 | n_correct 2618.9 | ppl 5.66 | accuracy 65.417 | uer 19.428 | wer 21.144 | raw_wer 21.144 | bleu 20.8 | wps 1651.3 | wpb 4003.4 | bsz 141.8 | num_updates 19150 | best_bleu 20.8
2023-08-20 16:54:06 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 13 @ 19150 updates
2023-08-20 16:54:06 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 16:54:13 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 16:54:20 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 13 @ 19150 updates, score 20.8) (writing took 13.214994006964844 seconds)
2023-08-20 16:54:20 | INFO | fairseq_cli.train | end of epoch 13 (average epoch stats below)
2023-08-20 16:54:20 | INFO | train | epoch 013 | loss 2.068 | trans_loss 5 | nll_loss 2.266 | w2v_ctc_loss 0.793 | task_loss 1.301 | contrastive_loss 0.209 | total 4139.15 | n_correct 2650.87 | ppl 4.81 | accuracy 64.044 | wps 11847.9 | ups 1.43 | wpb 8278.3 | bsz 305.8 | num_updates 19150 | lr 0.000102195 | gnorm 0.554 | clip 0 | loss_scale 8 | train_wall 912 | gb_free 17.3 | wall 16360
2023-08-20 16:54:20 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 16:54:20 | INFO | fairseq.trainer | begin training epoch 14
2023-08-20 16:54:20 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 16:54:58 | INFO | train_inner | epoch 014:     50 / 1474 loss=2.042, trans_loss=4.972, nll_loss=2.231, w2v_ctc_loss=0.783, task_loss=1.196, contrastive_loss=0.128, total=4177.38, n_correct=2701.18, ppl=4.69, accuracy=64.662, wps=7220.9, ups=0.86, wpb=8354.8, bsz=321.6, num_updates=19200, lr=0.000102062, gnorm=0.652, clip=0, loss_scale=8, train_wall=61, gb_free=16.8, wall=16398
2023-08-20 16:56:01 | INFO | train_inner | epoch 014:    150 / 1474 loss=2.036, trans_loss=4.964, nll_loss=2.219, w2v_ctc_loss=0.782, task_loss=1.287, contrastive_loss=0.096, total=4098.74, n_correct=2657.34, ppl=4.65, accuracy=64.833, wps=13197.8, ups=1.61, wpb=8197.5, bsz=303.4, num_updates=19300, lr=0.000101797, gnorm=0.548, clip=0, loss_scale=8, train_wall=61, gb_free=16.3, wall=16460
2023-08-20 16:57:04 | INFO | train_inner | epoch 014:    250 / 1474 loss=2.057, trans_loss=4.975, nll_loss=2.233, w2v_ctc_loss=0.776, task_loss=1.356, contrastive_loss=0.298, total=4099.27, n_correct=2648.47, ppl=4.7, accuracy=64.608, wps=12961.5, ups=1.58, wpb=8198.5, bsz=294.5, num_updates=19400, lr=0.000101535, gnorm=0.542, clip=0, loss_scale=8, train_wall=62, gb_free=15.8, wall=16523
2023-08-20 16:58:06 | INFO | train_inner | epoch 014:    350 / 1474 loss=2.045, trans_loss=4.98, nll_loss=2.24, w2v_ctc_loss=0.774, task_loss=1.236, contrastive_loss=0.16, total=4161.31, n_correct=2684.24, ppl=4.73, accuracy=64.505, wps=13315.4, ups=1.6, wpb=8322.6, bsz=316.7, num_updates=19500, lr=0.000101274, gnorm=0.552, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=16586
2023-08-20 16:59:09 | INFO | train_inner | epoch 014:    450 / 1474 loss=2.04, trans_loss=4.978, nll_loss=2.238, w2v_ctc_loss=0.772, task_loss=1.282, contrastive_loss=0.124, total=4153.74, n_correct=2683.81, ppl=4.72, accuracy=64.612, wps=13259.9, ups=1.6, wpb=8307.5, bsz=305.8, num_updates=19600, lr=0.000101015, gnorm=0.542, clip=0, loss_scale=8, train_wall=62, gb_free=15.2, wall=16649
2023-08-20 17:00:12 | INFO | train_inner | epoch 014:    550 / 1474 loss=2.054, trans_loss=4.982, nll_loss=2.241, w2v_ctc_loss=0.8, task_loss=1.406, contrastive_loss=0.117, total=4064.6, n_correct=2616.82, ppl=4.73, accuracy=64.381, wps=12964.6, ups=1.59, wpb=8129.2, bsz=288.5, num_updates=19700, lr=0.000100759, gnorm=0.556, clip=0, loss_scale=8, train_wall=62, gb_free=15.6, wall=16711
2023-08-20 17:01:14 | INFO | train_inner | epoch 014:    650 / 1474 loss=2.061, trans_loss=4.985, nll_loss=2.246, w2v_ctc_loss=0.785, task_loss=1.278, contrastive_loss=0.241, total=4170.44, n_correct=2686.67, ppl=4.74, accuracy=64.422, wps=13348.5, ups=1.6, wpb=8340.9, bsz=308.9, num_updates=19800, lr=0.000100504, gnorm=0.598, clip=0, loss_scale=8, train_wall=62, gb_free=14.3, wall=16774
2023-08-20 17:02:16 | INFO | train_inner | epoch 014:    750 / 1474 loss=2.046, trans_loss=4.974, nll_loss=2.233, w2v_ctc_loss=0.791, task_loss=1.284, contrastive_loss=0.111, total=4131.24, n_correct=2668.53, ppl=4.7, accuracy=64.594, wps=13263.9, ups=1.61, wpb=8262.5, bsz=306.7, num_updates=19900, lr=0.000100251, gnorm=0.533, clip=0, loss_scale=8, train_wall=62, gb_free=16.6, wall=16836
2023-08-20 17:03:20 | INFO | train_inner | epoch 014:    850 / 1474 loss=2.064, trans_loss=4.972, nll_loss=2.231, w2v_ctc_loss=0.778, task_loss=1.229, contrastive_loss=0.333, total=4186.83, n_correct=2703.47, ppl=4.69, accuracy=64.571, wps=13240.4, ups=1.58, wpb=8373.7, bsz=321.3, num_updates=20000, lr=0.0001, gnorm=0.538, clip=0, loss_scale=8, train_wall=62, gb_free=15.8, wall=16899
2023-08-20 17:03:20 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 17:03:53 | INFO | dev_st | epoch 014 | valid on 'dev_st' subset | loss 4.053 | trans_loss 5.215 | nll_loss 2.488 | w2v_ctc_loss 1.429 | task_loss 4.532 | contrastive_loss 0.505 | total 4003.4 | n_correct 2626.2 | ppl 5.61 | accuracy 65.599 | uer 19.898 | wer 21.74 | raw_wer 21.74 | bleu 21.23 | wps 1615.2 | wpb 4003.4 | bsz 141.8 | num_updates 20000 | best_bleu 21.23
2023-08-20 17:03:53 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 14 @ 20000 updates
2023-08-20 17:03:53 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_14_20000.pt
2023-08-20 17:03:56 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_14_20000.pt
2023-08-20 17:04:06 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_14_20000.pt (epoch 14 @ 20000 updates, score 21.23) (writing took 12.961983786022756 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:0')
2023-08-20 17:05:09 | INFO | train_inner | epoch 014:    950 / 1474 loss=2.054, trans_loss=4.98, nll_loss=2.241, w2v_ctc_loss=0.783, task_loss=1.299, contrastive_loss=0.192, total=4166.07, n_correct=2682.79, ppl=4.73, accuracy=64.396, wps=7624.5, ups=0.92, wpb=8332.1, bsz=309.7, num_updates=20100, lr=9.97509e-05, gnorm=0.562, clip=0, loss_scale=8, train_wall=62, gb_free=15.6, wall=17009
2023-08-20 17:06:12 | INFO | train_inner | epoch 014:   1050 / 1474 loss=2.047, trans_loss=4.978, nll_loss=2.238, w2v_ctc_loss=0.778, task_loss=1.322, contrastive_loss=0.151, total=4137.97, n_correct=2673.24, ppl=4.72, accuracy=64.603, wps=13163.7, ups=1.59, wpb=8275.9, bsz=300.3, num_updates=20200, lr=9.95037e-05, gnorm=0.531, clip=0, loss_scale=8, train_wall=62, gb_free=17.3, wall=17071
2023-08-20 17:07:15 | INFO | train_inner | epoch 014:   1150 / 1474 loss=2.101, trans_loss=4.982, nll_loss=2.243, w2v_ctc_loss=0.786, task_loss=1.224, contrastive_loss=0.681, total=4232.08, n_correct=2723.42, ppl=4.73, accuracy=64.352, wps=13400, ups=1.58, wpb=8464.2, bsz=326.4, num_updates=20300, lr=9.92583e-05, gnorm=0.573, clip=0, loss_scale=8, train_wall=62, gb_free=15.4, wall=17135
2023-08-20 17:08:18 | INFO | train_inner | epoch 014:   1250 / 1474 loss=2.05, trans_loss=4.989, nll_loss=2.251, w2v_ctc_loss=0.791, task_loss=1.515, contrastive_loss=0.082, total=4022.82, n_correct=2588.52, ppl=4.76, accuracy=64.346, wps=12834.7, ups=1.6, wpb=8045.6, bsz=273.3, num_updates=20400, lr=9.90148e-05, gnorm=0.569, clip=0, loss_scale=8, train_wall=62, gb_free=15.7, wall=17197
2023-08-20 17:09:21 | INFO | train_inner | epoch 014:   1350 / 1474 loss=2.036, trans_loss=4.976, nll_loss=2.236, w2v_ctc_loss=0.769, task_loss=1.238, contrastive_loss=0.111, total=4198.44, n_correct=2716.12, ppl=4.71, accuracy=64.694, wps=13348.4, ups=1.59, wpb=8396.9, bsz=316.7, num_updates=20500, lr=9.8773e-05, gnorm=0.518, clip=0, loss_scale=8, train_wall=62, gb_free=16.6, wall=17260
2023-08-20 17:10:23 | INFO | train_inner | epoch 014:   1450 / 1474 loss=2.053, trans_loss=4.984, nll_loss=2.246, w2v_ctc_loss=0.777, task_loss=1.296, contrastive_loss=0.185, total=4138.32, n_correct=2667.07, ppl=4.74, accuracy=64.448, wps=13268.6, ups=1.6, wpb=8276.6, bsz=304.8, num_updates=20600, lr=9.85329e-05, gnorm=0.567, clip=0, loss_scale=16, train_wall=62, gb_free=10.3, wall=17323
2023-08-20 17:10:38 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:2')
2023-08-20 17:11:11 | INFO | dev_st | epoch 014 | valid on 'dev_st' subset | loss 4.044 | trans_loss 5.216 | nll_loss 2.492 | w2v_ctc_loss 1.398 | task_loss 4.525 | contrastive_loss 0.508 | total 4003.4 | n_correct 2627.5 | ppl 5.62 | accuracy 65.632 | uer 19.491 | wer 21.345 | raw_wer 21.345 | bleu 21.16 | wps 1646.3 | wpb 4003.4 | bsz 141.8 | num_updates 20624 | best_bleu 21.23
2023-08-20 17:11:11 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 14 @ 20624 updates
2023-08-20 17:11:11 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.1606.pt
2023-08-20 17:11:13 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.1606.pt
2023-08-20 17:11:18 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.1606.pt (epoch 14 @ 20624 updates, score 21.16) (writing took 7.018123520014342 seconds)
2023-08-20 17:11:18 | INFO | fairseq_cli.train | end of epoch 14 (average epoch stats below)
2023-08-20 17:11:18 | INFO | train | epoch 014 | loss 2.053 | trans_loss 4.979 | nll_loss 2.238 | w2v_ctc_loss 0.782 | task_loss 1.299 | contrastive_loss 0.205 | total 4138.65 | n_correct 2670.59 | ppl 4.72 | accuracy 64.528 | wps 11982.1 | ups 1.45 | wpb 8277.3 | bsz 305.7 | num_updates 20624 | lr 9.84756e-05 | gnorm 0.557 | clip 0 | loss_scale 16 | train_wall 913 | gb_free 15.9 | wall 17378
2023-08-20 17:11:18 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 17:11:18 | INFO | fairseq.trainer | begin training epoch 15
2023-08-20 17:11:18 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 17:12:13 | INFO | train_inner | epoch 015:     76 / 1474 loss=2.049, trans_loss=4.966, nll_loss=2.222, w2v_ctc_loss=0.77, task_loss=1.296, contrastive_loss=0.288, total=4086.83, n_correct=2650.17, ppl=4.66, accuracy=64.847, wps=7463.6, ups=0.91, wpb=8173.7, bsz=301.6, num_updates=20700, lr=9.82946e-05, gnorm=0.546, clip=0, loss_scale=16, train_wall=61, gb_free=15.2, wall=17432
2023-08-20 17:13:15 | INFO | train_inner | epoch 015:    176 / 1474 loss=2.028, trans_loss=4.956, nll_loss=2.208, w2v_ctc_loss=0.769, task_loss=1.348, contrastive_loss=0.101, total=4115.38, n_correct=2678.12, ppl=4.62, accuracy=65.076, wps=13229.2, ups=1.61, wpb=8230.8, bsz=298.5, num_updates=20800, lr=9.80581e-05, gnorm=0.546, clip=0, loss_scale=16, train_wall=61, gb_free=16.2, wall=17494
2023-08-20 17:14:17 | INFO | train_inner | epoch 015:    276 / 1474 loss=2.025, trans_loss=4.958, nll_loss=2.211, w2v_ctc_loss=0.766, task_loss=1.268, contrastive_loss=0.091, total=4178.48, n_correct=2716.83, ppl=4.63, accuracy=65.02, wps=13363.2, ups=1.6, wpb=8357, bsz=309.5, num_updates=20900, lr=9.78232e-05, gnorm=0.565, clip=0, loss_scale=16, train_wall=62, gb_free=15.8, wall=17557
2023-08-20 17:15:20 | INFO | train_inner | epoch 015:    376 / 1474 loss=2.027, trans_loss=4.949, nll_loss=2.2, w2v_ctc_loss=0.761, task_loss=1.293, contrastive_loss=0.133, total=4176.34, n_correct=2718.44, ppl=4.6, accuracy=65.091, wps=13262, ups=1.59, wpb=8352.7, bsz=308.5, num_updates=21000, lr=9.759e-05, gnorm=0.526, clip=0, loss_scale=16, train_wall=62, gb_free=16, wall=17620
2023-08-20 17:16:23 | INFO | train_inner | epoch 015:    476 / 1474 loss=2.048, trans_loss=4.956, nll_loss=2.209, w2v_ctc_loss=0.759, task_loss=1.371, contrastive_loss=0.317, total=4076.17, n_correct=2646.19, ppl=4.62, accuracy=64.919, wps=12962, ups=1.59, wpb=8152.3, bsz=293.1, num_updates=21100, lr=9.73585e-05, gnorm=0.533, clip=0, loss_scale=16, train_wall=62, gb_free=16.4, wall=17683
2023-08-20 17:17:25 | INFO | train_inner | epoch 015:    576 / 1474 loss=2.034, trans_loss=4.957, nll_loss=2.21, w2v_ctc_loss=0.769, task_loss=1.33, contrastive_loss=0.14, total=4151.89, n_correct=2696.28, ppl=4.63, accuracy=64.941, wps=13325.3, ups=1.6, wpb=8303.8, bsz=302, num_updates=21200, lr=9.71286e-05, gnorm=0.532, clip=0, loss_scale=16, train_wall=61, gb_free=13.1, wall=17745
2023-08-20 17:18:28 | INFO | train_inner | epoch 015:    676 / 1474 loss=2.043, trans_loss=4.953, nll_loss=2.205, w2v_ctc_loss=0.772, task_loss=1.331, contrastive_loss=0.219, total=4122.17, n_correct=2679.89, ppl=4.61, accuracy=65.012, wps=13177, ups=1.6, wpb=8244.3, bsz=304, num_updates=21300, lr=9.69003e-05, gnorm=0.562, clip=0, loss_scale=16, train_wall=62, gb_free=16.9, wall=17808
2023-08-20 17:19:31 | INFO | train_inner | epoch 015:    776 / 1474 loss=2.034, trans_loss=4.963, nll_loss=2.218, w2v_ctc_loss=0.775, task_loss=1.304, contrastive_loss=0.11, total=4181.07, n_correct=2710.27, ppl=4.65, accuracy=64.822, wps=13309.5, ups=1.59, wpb=8362.1, bsz=307.1, num_updates=21400, lr=9.66736e-05, gnorm=0.543, clip=0, loss_scale=16, train_wall=62, gb_free=16, wall=17871
2023-08-20 17:20:34 | INFO | train_inner | epoch 015:    876 / 1474 loss=2.033, trans_loss=4.961, nll_loss=2.216, w2v_ctc_loss=0.775, task_loss=1.412, contrastive_loss=0.098, total=4052.17, n_correct=2630.85, ppl=4.65, accuracy=64.924, wps=12898.2, ups=1.59, wpb=8104.3, bsz=286.4, num_updates=21500, lr=9.64486e-05, gnorm=0.531, clip=0, loss_scale=16, train_wall=62, gb_free=16.7, wall=17933
2023-08-20 17:21:36 | INFO | train_inner | epoch 015:    976 / 1474 loss=2.042, trans_loss=4.961, nll_loss=2.216, w2v_ctc_loss=0.764, task_loss=1.298, contrastive_loss=0.261, total=4135.95, n_correct=2689.76, ppl=4.65, accuracy=65.034, wps=13269.6, ups=1.6, wpb=8271.9, bsz=304.3, num_updates=21600, lr=9.6225e-05, gnorm=0.532, clip=0, loss_scale=16, train_wall=62, gb_free=16.2, wall=17996
2023-08-20 17:22:40 | INFO | train_inner | epoch 015:   1076 / 1474 loss=2.074, trans_loss=4.965, nll_loss=2.222, w2v_ctc_loss=0.765, task_loss=1.221, contrastive_loss=0.578, total=4187.18, n_correct=2715.34, ppl=4.66, accuracy=64.849, wps=13182.4, ups=1.57, wpb=8374.4, bsz=324.7, num_updates=21700, lr=9.60031e-05, gnorm=0.525, clip=0, loss_scale=16, train_wall=63, gb_free=13.5, wall=18059
2023-08-20 17:23:42 | INFO | train_inner | epoch 015:   1176 / 1474 loss=2.029, trans_loss=4.956, nll_loss=2.212, w2v_ctc_loss=0.754, task_loss=1.173, contrastive_loss=0.195, total=4184.18, n_correct=2726.74, ppl=4.63, accuracy=65.168, wps=13432.1, ups=1.61, wpb=8368.4, bsz=328.4, num_updates=21800, lr=9.57826e-05, gnorm=0.544, clip=0, loss_scale=16, train_wall=62, gb_free=15.4, wall=18122
2023-08-20 17:24:44 | INFO | train_inner | epoch 015:   1276 / 1474 loss=2.031, trans_loss=4.954, nll_loss=2.206, w2v_ctc_loss=0.778, task_loss=1.331, contrastive_loss=0.103, total=4141.39, n_correct=2689.62, ppl=4.62, accuracy=64.945, wps=13295.9, ups=1.61, wpb=8282.8, bsz=302.1, num_updates=21900, lr=9.55637e-05, gnorm=0.556, clip=0, loss_scale=16, train_wall=61, gb_free=16, wall=18184
2023-08-20 17:25:29 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-20 17:25:39 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-20 17:25:48 | INFO | train_inner | epoch 015:   1378 / 1474 loss=2.025, trans_loss=4.953, nll_loss=2.206, w2v_ctc_loss=0.769, task_loss=1.343, contrastive_loss=0.084, total=4101.39, n_correct=2668.32, ppl=4.61, accuracy=65.059, wps=12774.7, ups=1.56, wpb=8202.8, bsz=294.4, num_updates=22000, lr=9.53463e-05, gnorm=0.548, clip=0, loss_scale=4, train_wall=63, gb_free=15.7, wall=18248
2023-08-20 17:25:48 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 17:26:22 | INFO | dev_st | epoch 015 | valid on 'dev_st' subset | loss 4.036 | trans_loss 5.211 | nll_loss 2.485 | w2v_ctc_loss 1.391 | task_loss 4.528 | contrastive_loss 0.493 | total 4003.4 | n_correct 2628.3 | ppl 5.6 | accuracy 65.652 | uer 19.436 | wer 21.032 | raw_wer 21.032 | bleu 21.36 | wps 1576.5 | wpb 4003.4 | bsz 141.8 | num_updates 22000 | best_bleu 21.36
2023-08-20 17:26:22 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 15 @ 22000 updates
2023-08-20 17:26:22 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_15_22000.pt
2023-08-20 17:26:25 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_15_22000.pt
2023-08-20 17:26:35 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_15_22000.pt (epoch 15 @ 22000 updates, score 21.36) (writing took 13.224090045958292 seconds)
2023-08-20 17:27:37 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 17:28:10 | INFO | dev_st | epoch 015 | valid on 'dev_st' subset | loss 4.028 | trans_loss 5.207 | nll_loss 2.481 | w2v_ctc_loss 1.359 | task_loss 4.562 | contrastive_loss 0.522 | total 4003.4 | n_correct 2630.7 | ppl 5.58 | accuracy 65.712 | uer 19.202 | wer 20.95 | raw_wer 20.95 | bleu 21.05 | wps 1613.7 | wpb 4003.4 | bsz 141.8 | num_updates 22096 | best_bleu 21.36
2023-08-20 17:28:10 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 15 @ 22096 updates
2023-08-20 17:28:10 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.0504.pt
2023-08-20 17:28:12 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.0504.pt
2023-08-20 17:28:18 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.0504.pt (epoch 15 @ 22096 updates, score 21.05) (writing took 7.969142212998122 seconds)
2023-08-20 17:28:18 | INFO | fairseq_cli.train | end of epoch 15 (average epoch stats below)
2023-08-20 17:28:18 | INFO | train | epoch 015 | loss 2.037 | trans_loss 4.957 | nll_loss 2.211 | w2v_ctc_loss 0.767 | task_loss 1.301 | contrastive_loss 0.201 | total 4138.38 | n_correct 2689.56 | ppl 4.63 | accuracy 64.991 | wps 11947.3 | ups 1.44 | wpb 8276.8 | bsz 305.7 | num_updates 22096 | lr 9.51389e-05 | gnorm 0.542 | clip 0 | loss_scale 4 | train_wall 911 | gb_free 16.6 | wall 18398
2023-08-20 17:28:18 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 17:28:18 | INFO | fairseq.trainer | begin training epoch 16
2023-08-20 17:28:18 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 17:28:28 | INFO | train_inner | epoch 016:      4 / 1474 loss=2.046, trans_loss=4.966, nll_loss=2.223, w2v_ctc_loss=0.767, task_loss=1.257, contrastive_loss=0.248, total=4144.75, n_correct=2691.06, ppl=4.67, accuracy=64.927, wps=5203.3, ups=0.63, wpb=8289.5, bsz=314.3, num_updates=22100, lr=9.51303e-05, gnorm=0.544, clip=0, loss_scale=4, train_wall=63, gb_free=15.7, wall=18407
2023-08-20 17:29:29 | INFO | train_inner | epoch 016:    104 / 1474 loss=2.013, trans_loss=4.936, nll_loss=2.183, w2v_ctc_loss=0.748, task_loss=1.24, contrastive_loss=0.132, total=4124.91, n_correct=2700.45, ppl=4.54, accuracy=65.467, wps=13371.7, ups=1.62, wpb=8249.8, bsz=315, num_updates=22200, lr=9.49158e-05, gnorm=0.539, clip=0, loss_scale=4, train_wall=61, gb_free=16.2, wall=18469
2023-08-20 17:30:32 | INFO | train_inner | epoch 016:    204 / 1474 loss=2.006, trans_loss=4.929, nll_loss=2.174, w2v_ctc_loss=0.744, task_loss=1.341, contrastive_loss=0.09, total=4109.75, n_correct=2697.91, ppl=4.51, accuracy=65.647, wps=13176.5, ups=1.6, wpb=8219.5, bsz=297.2, num_updates=22300, lr=9.47027e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=62, gb_free=16.8, wall=18531
2023-08-20 17:31:35 | INFO | train_inner | epoch 016:    304 / 1474 loss=2.032, trans_loss=4.94, nll_loss=2.189, w2v_ctc_loss=0.761, task_loss=1.296, contrastive_loss=0.233, total=4162.83, n_correct=2718.13, ppl=4.56, accuracy=65.295, wps=13276.5, ups=1.59, wpb=8325.7, bsz=308.6, num_updates=22400, lr=9.44911e-05, gnorm=0.523, clip=0, loss_scale=4, train_wall=62, gb_free=15.9, wall=18594
2023-08-20 17:32:38 | INFO | train_inner | epoch 016:    404 / 1474 loss=2.029, trans_loss=4.935, nll_loss=2.181, w2v_ctc_loss=0.754, task_loss=1.4, contrastive_loss=0.26, total=4064.71, n_correct=2658.55, ppl=4.53, accuracy=65.406, wps=12874.3, ups=1.58, wpb=8129.4, bsz=286.5, num_updates=22500, lr=9.42809e-05, gnorm=0.529, clip=0, loss_scale=4, train_wall=62, gb_free=15, wall=18657
2023-08-20 17:33:41 | INFO | train_inner | epoch 016:    504 / 1474 loss=2.016, trans_loss=4.939, nll_loss=2.188, w2v_ctc_loss=0.749, task_loss=1.251, contrastive_loss=0.147, total=4170.78, n_correct=2729.99, ppl=4.56, accuracy=65.455, wps=13269.9, ups=1.59, wpb=8341.6, bsz=319.1, num_updates=22600, lr=9.40721e-05, gnorm=0.52, clip=0, loss_scale=4, train_wall=62, gb_free=15.3, wall=18720
2023-08-20 17:34:42 | INFO | train_inner | epoch 016:    604 / 1474 loss=2.013, trans_loss=4.94, nll_loss=2.189, w2v_ctc_loss=0.753, task_loss=1.296, contrastive_loss=0.082, total=4128.84, n_correct=2699.73, ppl=4.56, accuracy=65.387, wps=13358.7, ups=1.62, wpb=8257.7, bsz=300.2, num_updates=22700, lr=9.38647e-05, gnorm=0.517, clip=0, loss_scale=4, train_wall=61, gb_free=11.3, wall=18782
2023-08-20 17:35:44 | INFO | train_inner | epoch 016:    704 / 1474 loss=2.013, trans_loss=4.939, nll_loss=2.187, w2v_ctc_loss=0.755, task_loss=1.32, contrastive_loss=0.087, total=4107.54, n_correct=2686.27, ppl=4.55, accuracy=65.399, wps=13279.5, ups=1.62, wpb=8215.1, bsz=299.6, num_updates=22800, lr=9.36586e-05, gnorm=0.509, clip=0, loss_scale=4, train_wall=61, gb_free=12, wall=18844
2023-08-20 17:36:47 | INFO | train_inner | epoch 016:    804 / 1474 loss=2.027, trans_loss=4.934, nll_loss=2.181, w2v_ctc_loss=0.739, task_loss=1.241, contrastive_loss=0.284, total=4180.18, n_correct=2739.2, ppl=4.53, accuracy=65.528, wps=13346.4, ups=1.6, wpb=8360.4, bsz=313, num_updates=22900, lr=9.34539e-05, gnorm=0.519, clip=0, loss_scale=4, train_wall=62, gb_free=15.9, wall=18907
2023-08-20 17:37:49 | INFO | train_inner | epoch 016:    904 / 1474 loss=2.012, trans_loss=4.938, nll_loss=2.186, w2v_ctc_loss=0.748, task_loss=1.294, contrastive_loss=0.103, total=4142.91, n_correct=2711.85, ppl=4.55, accuracy=65.458, wps=13248.9, ups=1.6, wpb=8285.8, bsz=304.1, num_updates=23000, lr=9.32505e-05, gnorm=0.523, clip=0, loss_scale=4, train_wall=62, gb_free=15.8, wall=18969
2023-08-20 17:38:53 | INFO | train_inner | epoch 016:   1004 / 1474 loss=2.03, trans_loss=4.946, nll_loss=2.196, w2v_ctc_loss=0.765, task_loss=1.333, contrastive_loss=0.182, total=4123.03, n_correct=2688.67, ppl=4.58, accuracy=65.211, wps=12991.5, ups=1.58, wpb=8246.1, bsz=301.2, num_updates=23100, lr=9.30484e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=63, gb_free=16.9, wall=19033
2023-08-20 17:39:56 | INFO | train_inner | epoch 016:   1104 / 1474 loss=2.027, trans_loss=4.949, nll_loss=2.202, w2v_ctc_loss=0.765, task_loss=1.391, contrastive_loss=0.134, total=4105.71, n_correct=2675.01, ppl=4.6, accuracy=65.153, wps=13028.9, ups=1.59, wpb=8211.4, bsz=294.9, num_updates=23200, lr=9.28477e-05, gnorm=0.538, clip=0, loss_scale=4, train_wall=62, gb_free=16, wall=19096
2023-08-20 17:40:59 | INFO | train_inner | epoch 016:   1204 / 1474 loss=2.041, trans_loss=4.946, nll_loss=2.197, w2v_ctc_loss=0.75, task_loss=1.333, contrastive_loss=0.328, total=4156.32, n_correct=2708.08, ppl=4.59, accuracy=65.156, wps=13272.1, ups=1.6, wpb=8312.6, bsz=305.8, num_updates=23300, lr=9.26482e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=19158
2023-08-20 17:42:01 | INFO | train_inner | epoch 016:   1304 / 1474 loss=2.036, trans_loss=4.942, nll_loss=2.192, w2v_ctc_loss=0.763, task_loss=1.267, contrastive_loss=0.282, total=4162.37, n_correct=2719.09, ppl=4.57, accuracy=65.326, wps=13308.4, ups=1.6, wpb=8324.7, bsz=315.3, num_updates=23400, lr=9.245e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=16.2, wall=19221
2023-08-20 17:43:04 | INFO | train_inner | epoch 016:   1404 / 1474 loss=2.016, trans_loss=4.94, nll_loss=2.189, w2v_ctc_loss=0.755, task_loss=1.237, contrastive_loss=0.135, total=4193.81, n_correct=2744.76, ppl=4.56, accuracy=65.448, wps=13301.1, ups=1.59, wpb=8387.6, bsz=321.2, num_updates=23500, lr=9.22531e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=62, gb_free=16.5, wall=19284
2023-08-20 17:43:49 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 17:44:22 | INFO | dev_st | epoch 016 | valid on 'dev_st' subset | loss 4.021 | trans_loss 5.199 | nll_loss 2.472 | w2v_ctc_loss 1.366 | task_loss 4.556 | contrastive_loss 0.496 | total 4003.4 | n_correct 2637.2 | ppl 5.55 | accuracy 65.874 | uer 19.614 | wer 21.237 | raw_wer 21.237 | bleu 21.52 | wps 1600.9 | wpb 4003.4 | bsz 141.8 | num_updates 23570 | best_bleu 21.52
2023-08-20 17:44:22 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 16 @ 23570 updates
2023-08-20 17:44:22 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 17:44:29 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 17:44:36 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 16 @ 23570 updates, score 21.52) (writing took 14.01250718900701 seconds)
2023-08-20 17:44:36 | INFO | fairseq_cli.train | end of epoch 16 (average epoch stats below)
2023-08-20 17:44:36 | INFO | train | epoch 016 | loss 2.024 | trans_loss 4.94 | nll_loss 2.188 | w2v_ctc_loss 0.753 | task_loss 1.302 | contrastive_loss 0.195 | total 4138.65 | n_correct 2705.76 | ppl 4.56 | accuracy 65.378 | wps 12471.3 | ups 1.51 | wpb 8277.3 | bsz 305.7 | num_updates 23570 | lr 9.2116e-05 | gnorm 0.524 | clip 0 | loss_scale 4 | train_wall 912 | gb_free 15 | wall 19376
2023-08-20 17:44:36 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 17:44:36 | INFO | fairseq.trainer | begin training epoch 17
2023-08-20 17:44:36 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 17:45:03 | INFO | train_inner | epoch 017:     30 / 1474 loss=2.034, trans_loss=4.927, nll_loss=2.172, w2v_ctc_loss=0.743, task_loss=1.343, contrastive_loss=0.421, total=4144.21, n_correct=2716.42, ppl=4.51, accuracy=65.547, wps=6986.2, ups=0.84, wpb=8288.4, bsz=301.1, num_updates=23600, lr=9.20575e-05, gnorm=0.519, clip=0, loss_scale=4, train_wall=63, gb_free=15.5, wall=19403
2023-08-20 17:46:05 | INFO | train_inner | epoch 017:    130 / 1474 loss=2.002, trans_loss=4.917, nll_loss=2.158, w2v_ctc_loss=0.746, task_loss=1.331, contrastive_loss=0.09, total=4109.25, n_correct=2703.15, ppl=4.46, accuracy=65.782, wps=13240.1, ups=1.61, wpb=8218.5, bsz=296.9, num_updates=23700, lr=9.1863e-05, gnorm=0.528, clip=0, loss_scale=4, train_wall=61, gb_free=16.4, wall=19465
2023-08-20 17:47:08 | INFO | train_inner | epoch 017:    230 / 1474 loss=2.029, trans_loss=4.913, nll_loss=2.155, w2v_ctc_loss=0.733, task_loss=1.229, contrastive_loss=0.407, total=4175, n_correct=2752.8, ppl=4.45, accuracy=65.935, wps=13352.6, ups=1.6, wpb=8350, bsz=319.3, num_updates=23800, lr=9.16698e-05, gnorm=0.547, clip=0, loss_scale=4, train_wall=62, gb_free=16.9, wall=19527
2023-08-20 17:48:10 | INFO | train_inner | epoch 017:    330 / 1474 loss=2.031, trans_loss=4.922, nll_loss=2.166, w2v_ctc_loss=0.738, task_loss=1.299, contrastive_loss=0.438, total=4159.09, n_correct=2731.69, ppl=4.49, accuracy=65.68, wps=13282.1, ups=1.6, wpb=8318.2, bsz=306, num_updates=23900, lr=9.14779e-05, gnorm=0.533, clip=0, loss_scale=4, train_wall=62, gb_free=16.5, wall=19590
2023-08-20 17:49:13 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 2.0
2023-08-20 17:49:13 | INFO | train_inner | epoch 017:    431 / 1474 loss=1.995, trans_loss=4.916, nll_loss=2.158, w2v_ctc_loss=0.734, task_loss=1.307, contrastive_loss=0.088, total=4134.44, n_correct=2727.55, ppl=4.46, accuracy=65.971, wps=13063.3, ups=1.58, wpb=8268.9, bsz=304.8, num_updates=24000, lr=9.12871e-05, gnorm=0.511, clip=0, loss_scale=2, train_wall=63, gb_free=15.3, wall=19653
2023-08-20 17:49:13 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 17:49:47 | INFO | dev_st | epoch 017 | valid on 'dev_st' subset | loss 4.046 | trans_loss 5.212 | nll_loss 2.489 | w2v_ctc_loss 1.419 | task_loss 4.555 | contrastive_loss 0.495 | total 4003.4 | n_correct 2629 | ppl 5.61 | accuracy 65.669 | uer 19.616 | wer 21.397 | raw_wer 21.397 | bleu 21.04 | wps 1614.1 | wpb 4003.4 | bsz 141.8 | num_updates 24000 | best_bleu 21.52
2023-08-20 17:49:47 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 17 @ 24000 updates
2023-08-20 17:49:47 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_17_24000.pt
2023-08-20 17:49:49 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_17_24000.pt
2023-08-20 17:49:56 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_17_24000.pt (epoch 17 @ 24000 updates, score 21.04) (writing took 9.873823256988544 seconds)
2023-08-20 17:51:00 | INFO | train_inner | epoch 017:    531 / 1474 loss=2.014, trans_loss=4.927, nll_loss=2.173, w2v_ctc_loss=0.747, task_loss=1.351, contrastive_loss=0.174, total=4184.55, n_correct=2747.61, ppl=4.51, accuracy=65.661, wps=7829.1, ups=0.94, wpb=8369.1, bsz=308.8, num_updates=24100, lr=9.10975e-05, gnorm=0.514, clip=0, loss_scale=2, train_wall=63, gb_free=17.4, wall=19760
2023-08-20 17:52:03 | INFO | train_inner | epoch 017:    631 / 1474 loss=2, trans_loss=4.922, nll_loss=2.165, w2v_ctc_loss=0.739, task_loss=1.339, contrastive_loss=0.081, total=4159.94, n_correct=2739.23, ppl=4.49, accuracy=65.848, wps=13302.8, ups=1.6, wpb=8319.9, bsz=298.9, num_updates=24200, lr=9.09091e-05, gnorm=0.509, clip=0, loss_scale=2, train_wall=62, gb_free=15.3, wall=19822
2023-08-20 17:53:05 | INFO | train_inner | epoch 017:    731 / 1474 loss=2.016, trans_loss=4.926, nll_loss=2.171, w2v_ctc_loss=0.756, task_loss=1.265, contrastive_loss=0.159, total=4173.73, n_correct=2740.71, ppl=4.5, accuracy=65.666, wps=13418.5, ups=1.61, wpb=8347.5, bsz=311.6, num_updates=24300, lr=9.07218e-05, gnorm=0.526, clip=0, loss_scale=2, train_wall=61, gb_free=16.6, wall=19885
2023-08-20 17:54:07 | INFO | train_inner | epoch 017:    831 / 1474 loss=2.005, trans_loss=4.923, nll_loss=2.167, w2v_ctc_loss=0.746, task_loss=1.32, contrastive_loss=0.105, total=4087.82, n_correct=2686.99, ppl=4.49, accuracy=65.732, wps=13160.2, ups=1.61, wpb=8175.6, bsz=295.1, num_updates=24400, lr=9.05357e-05, gnorm=0.513, clip=0, loss_scale=2, train_wall=61, gb_free=13.1, wall=19947
2023-08-20 17:55:09 | INFO | train_inner | epoch 017:    931 / 1474 loss=2, trans_loss=4.923, nll_loss=2.167, w2v_ctc_loss=0.738, task_loss=1.26, contrastive_loss=0.103, total=4121.21, n_correct=2711.23, ppl=4.49, accuracy=65.787, wps=13383.6, ups=1.62, wpb=8242.4, bsz=308.5, num_updates=24500, lr=9.03508e-05, gnorm=0.518, clip=0, loss_scale=2, train_wall=61, gb_free=16.2, wall=20008
2023-08-20 17:56:12 | INFO | train_inner | epoch 017:   1031 / 1474 loss=2.006, trans_loss=4.925, nll_loss=2.17, w2v_ctc_loss=0.749, task_loss=1.341, contrastive_loss=0.102, total=4081.49, n_correct=2681.71, ppl=4.5, accuracy=65.704, wps=12961.1, ups=1.59, wpb=8163, bsz=297, num_updates=24600, lr=9.0167e-05, gnorm=0.536, clip=0, loss_scale=2, train_wall=62, gb_free=15.8, wall=20071
2023-08-20 17:57:14 | INFO | train_inner | epoch 017:   1131 / 1474 loss=1.997, trans_loss=4.919, nll_loss=2.162, w2v_ctc_loss=0.732, task_loss=1.31, contrastive_loss=0.091, total=4111.93, n_correct=2710.54, ppl=4.48, accuracy=65.919, wps=13318.6, ups=1.62, wpb=8223.9, bsz=301.6, num_updates=24700, lr=8.99843e-05, gnorm=0.519, clip=0, loss_scale=2, train_wall=61, gb_free=16.9, wall=20133
2023-08-20 17:58:17 | INFO | train_inner | epoch 017:   1231 / 1474 loss=2.064, trans_loss=4.934, nll_loss=2.182, w2v_ctc_loss=0.735, task_loss=1.26, contrastive_loss=0.674, total=4166.23, n_correct=2725.05, ppl=4.54, accuracy=65.408, wps=13186.5, ups=1.58, wpb=8332.5, bsz=324.8, num_updates=24800, lr=8.98027e-05, gnorm=0.538, clip=0, loss_scale=2, train_wall=63, gb_free=16.7, wall=20196
2023-08-20 17:59:19 | INFO | train_inner | epoch 017:   1331 / 1474 loss=1.998, trans_loss=4.922, nll_loss=2.166, w2v_ctc_loss=0.729, task_loss=1.31, contrastive_loss=0.105, total=4149.19, n_correct=2731.92, ppl=4.49, accuracy=65.842, wps=13314.7, ups=1.6, wpb=8298.4, bsz=302.9, num_updates=24900, lr=8.96221e-05, gnorm=0.515, clip=0, loss_scale=2, train_wall=62, gb_free=16.8, wall=20259
2023-08-20 18:00:22 | INFO | train_inner | epoch 017:   1431 / 1474 loss=2.001, trans_loss=4.924, nll_loss=2.169, w2v_ctc_loss=0.741, task_loss=1.322, contrastive_loss=0.092, total=4122.64, n_correct=2710.87, ppl=4.5, accuracy=65.756, wps=13097.6, ups=1.59, wpb=8245.3, bsz=304, num_updates=25000, lr=8.94427e-05, gnorm=0.52, clip=0, loss_scale=2, train_wall=62, gb_free=16.3, wall=20322
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:0')
2023-08-20 18:00:49 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:7')
2023-08-20 18:01:22 | INFO | dev_st | epoch 017 | valid on 'dev_st' subset | loss 4.003 | trans_loss 5.188 | nll_loss 2.458 | w2v_ctc_loss 1.331 | task_loss 4.557 | contrastive_loss 0.499 | total 4003.4 | n_correct 2643.4 | ppl 5.49 | accuracy 66.029 | uer 18.597 | wer 20.066 | raw_wer 20.066 | bleu 21.32 | wps 1611.2 | wpb 4003.4 | bsz 141.8 | num_updates 25043 | best_bleu 21.52
2023-08-20 18:01:22 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 17 @ 25043 updates
2023-08-20 18:01:22 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.3204.pt
2023-08-20 18:01:25 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.3204.pt
2023-08-20 18:01:31 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.3204.pt (epoch 17 @ 25043 updates, score 21.32) (writing took 8.580793322005775 seconds)
2023-08-20 18:01:31 | INFO | fairseq_cli.train | end of epoch 17 (average epoch stats below)
2023-08-20 18:01:31 | INFO | train | epoch 017 | loss 2.011 | trans_loss 4.922 | nll_loss 2.166 | w2v_ctc_loss 0.741 | task_loss 1.304 | contrastive_loss 0.192 | total 4138.3 | n_correct 2721.83 | ppl 4.49 | accuracy 65.772 | wps 12009.7 | ups 1.45 | wpb 8276.6 | bsz 305.6 | num_updates 25043 | lr 8.93659e-05 | gnorm 0.523 | clip 0 | loss_scale 2 | train_wall 912 | gb_free 16 | wall 20391
2023-08-20 18:01:32 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 18:01:32 | INFO | fairseq.trainer | begin training epoch 18
2023-08-20 18:01:32 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 18:02:15 | INFO | train_inner | epoch 018:     57 / 1474 loss=2.002, trans_loss=4.915, nll_loss=2.157, w2v_ctc_loss=0.75, task_loss=1.346, contrastive_loss=0.104, total=4119.33, n_correct=2714.08, ppl=4.46, accuracy=65.886, wps=7271.5, ups=0.88, wpb=8238.7, bsz=300.3, num_updates=25100, lr=8.92644e-05, gnorm=0.523, clip=0, loss_scale=2, train_wall=63, gb_free=17.2, wall=20435
2023-08-20 18:03:18 | INFO | train_inner | epoch 018:    157 / 1474 loss=2.01, trans_loss=4.896, nll_loss=2.133, w2v_ctc_loss=0.717, task_loss=1.22, contrastive_loss=0.343, total=4171.5, n_correct=2764.74, ppl=4.39, accuracy=66.277, wps=13349.3, ups=1.6, wpb=8343, bsz=316.9, num_updates=25200, lr=8.90871e-05, gnorm=0.522, clip=0, loss_scale=2, train_wall=62, gb_free=17.5, wall=20497
2023-08-20 18:04:20 | INFO | train_inner | epoch 018:    257 / 1474 loss=1.984, trans_loss=4.899, nll_loss=2.136, w2v_ctc_loss=0.726, task_loss=1.27, contrastive_loss=0.087, total=4148.68, n_correct=2753.48, ppl=4.39, accuracy=66.37, wps=13270.7, ups=1.6, wpb=8297.4, bsz=310.4, num_updates=25300, lr=8.89108e-05, gnorm=0.51, clip=0, loss_scale=2, train_wall=62, gb_free=17.4, wall=20560
2023-08-20 18:05:23 | INFO | train_inner | epoch 018:    357 / 1474 loss=1.993, trans_loss=4.907, nll_loss=2.147, w2v_ctc_loss=0.728, task_loss=1.322, contrastive_loss=0.114, total=4182.91, n_correct=2764.27, ppl=4.43, accuracy=66.085, wps=13338.5, ups=1.59, wpb=8365.8, bsz=302.8, num_updates=25400, lr=8.87357e-05, gnorm=0.513, clip=0, loss_scale=2, train_wall=62, gb_free=16.1, wall=20623
2023-08-20 18:06:26 | INFO | train_inner | epoch 018:    457 / 1474 loss=2.017, trans_loss=4.912, nll_loss=2.153, w2v_ctc_loss=0.737, task_loss=1.404, contrastive_loss=0.305, total=4072.48, n_correct=2683.46, ppl=4.45, accuracy=65.893, wps=12894, ups=1.58, wpb=8145, bsz=294.3, num_updates=25500, lr=8.85615e-05, gnorm=0.584, clip=0, loss_scale=2, train_wall=63, gb_free=16, wall=20686
2023-08-20 18:07:29 | INFO | train_inner | epoch 018:    557 / 1474 loss=1.98, trans_loss=4.894, nll_loss=2.13, w2v_ctc_loss=0.717, task_loss=1.163, contrastive_loss=0.112, total=4215.05, n_correct=2800.17, ppl=4.38, accuracy=66.433, wps=13493.5, ups=1.6, wpb=8430.1, bsz=328.2, num_updates=25600, lr=8.83883e-05, gnorm=0.517, clip=0, loss_scale=2, train_wall=62, gb_free=17.2, wall=20748
2023-08-20 18:08:31 | INFO | train_inner | epoch 018:    657 / 1474 loss=2.011, trans_loss=4.915, nll_loss=2.157, w2v_ctc_loss=0.74, task_loss=1.35, contrastive_loss=0.248, total=4092.43, n_correct=2698.03, ppl=4.46, accuracy=65.927, wps=13115.1, ups=1.6, wpb=8184.9, bsz=298.2, num_updates=25700, lr=8.82162e-05, gnorm=0.533, clip=0, loss_scale=2, train_wall=62, gb_free=15.5, wall=20811
2023-08-20 18:09:34 | INFO | train_inner | epoch 018:    757 / 1474 loss=2.024, trans_loss=4.912, nll_loss=2.153, w2v_ctc_loss=0.734, task_loss=1.241, contrastive_loss=0.428, total=4200.52, n_correct=2771.11, ppl=4.45, accuracy=65.971, wps=13288.3, ups=1.58, wpb=8401, bsz=323, num_updates=25800, lr=8.80451e-05, gnorm=0.525, clip=0, loss_scale=2, train_wall=63, gb_free=14.1, wall=20874
2023-08-20 18:10:37 | INFO | train_inner | epoch 018:    857 / 1474 loss=1.989, trans_loss=4.908, nll_loss=2.148, w2v_ctc_loss=0.729, task_loss=1.285, contrastive_loss=0.09, total=4191.43, n_correct=2771.82, ppl=4.43, accuracy=66.131, wps=13416.9, ups=1.6, wpb=8382.9, bsz=309, num_updates=25900, lr=8.7875e-05, gnorm=0.527, clip=0, loss_scale=2, train_wall=62, gb_free=15.5, wall=20936
2023-08-20 18:11:39 | INFO | train_inner | epoch 018:    957 / 1474 loss=1.983, trans_loss=4.9, nll_loss=2.138, w2v_ctc_loss=0.72, task_loss=1.244, contrastive_loss=0.097, total=4121.06, n_correct=2732.55, ppl=4.4, accuracy=66.307, wps=13340.6, ups=1.62, wpb=8242.1, bsz=308.9, num_updates=26000, lr=8.77058e-05, gnorm=0.519, clip=0, loss_scale=2, train_wall=61, gb_free=13.9, wall=20998
2023-08-20 18:11:39 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 18:12:13 | INFO | dev_st | epoch 018 | valid on 'dev_st' subset | loss 4.006 | trans_loss 5.191 | nll_loss 2.461 | w2v_ctc_loss 1.337 | task_loss 4.566 | contrastive_loss 0.492 | total 4003.4 | n_correct 2650.4 | ppl 5.51 | accuracy 66.204 | uer 18.777 | wer 20.551 | raw_wer 20.551 | bleu 21.62 | wps 1554.8 | wpb 4003.4 | bsz 141.8 | num_updates 26000 | best_bleu 21.62
2023-08-20 18:12:13 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 18 @ 26000 updates
2023-08-20 18:12:13 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_18_26000.pt
2023-08-20 18:12:15 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_18_26000.pt
2023-08-20 18:12:26 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_18_26000.pt (epoch 18 @ 26000 updates, score 21.62) (writing took 13.965803852013778 seconds)
2023-08-20 18:13:30 | INFO | train_inner | epoch 018:   1057 / 1474 loss=1.991, trans_loss=4.906, nll_loss=2.145, w2v_ctc_loss=0.728, task_loss=1.365, contrastive_loss=0.094, total=4133.99, n_correct=2734.95, ppl=4.42, accuracy=66.158, wps=7415.4, ups=0.9, wpb=8268, bsz=299.3, num_updates=26100, lr=8.75376e-05, gnorm=0.56, clip=0, loss_scale=4, train_wall=62, gb_free=17.6, wall=21110
2023-08-20 18:14:33 | INFO | train_inner | epoch 018:   1157 / 1474 loss=2.011, trans_loss=4.901, nll_loss=2.14, w2v_ctc_loss=0.732, task_loss=1.224, contrastive_loss=0.303, total=4159.99, n_correct=2751.58, ppl=4.41, accuracy=66.144, wps=13331, ups=1.6, wpb=8320, bsz=316.2, num_updates=26200, lr=8.73704e-05, gnorm=0.535, clip=0, loss_scale=4, train_wall=62, gb_free=16.2, wall=21172
2023-08-20 18:15:35 | INFO | train_inner | epoch 018:   1257 / 1474 loss=1.993, trans_loss=4.916, nll_loss=2.158, w2v_ctc_loss=0.731, task_loss=1.381, contrastive_loss=0.085, total=4104.17, n_correct=2710.46, ppl=4.46, accuracy=66.042, wps=13189.2, ups=1.61, wpb=8208.3, bsz=290.1, num_updates=26300, lr=8.72041e-05, gnorm=0.518, clip=0, loss_scale=4, train_wall=61, gb_free=15.7, wall=21234
2023-08-20 18:16:37 | INFO | train_inner | epoch 018:   1357 / 1474 loss=2.009, trans_loss=4.919, nll_loss=2.163, w2v_ctc_loss=0.753, task_loss=1.44, contrastive_loss=0.127, total=4041.44, n_correct=2659.14, ppl=4.48, accuracy=65.797, wps=13039.6, ups=1.61, wpb=8082.9, bsz=285.4, num_updates=26400, lr=8.70388e-05, gnorm=0.541, clip=0, loss_scale=4, train_wall=61, gb_free=17.5, wall=21296
2023-08-20 18:17:39 | INFO | train_inner | epoch 018:   1457 / 1474 loss=1.994, trans_loss=4.909, nll_loss=2.15, w2v_ctc_loss=0.738, task_loss=1.358, contrastive_loss=0.099, total=4130.96, n_correct=2731.06, ppl=4.44, accuracy=66.112, wps=13180, ups=1.6, wpb=8261.9, bsz=300.5, num_updates=26500, lr=8.68744e-05, gnorm=0.536, clip=0, loss_scale=4, train_wall=62, gb_free=10.2, wall=21359
2023-08-20 18:17:50 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 18:18:24 | INFO | dev_st | epoch 018 | valid on 'dev_st' subset | loss 4.016 | trans_loss 5.194 | nll_loss 2.466 | w2v_ctc_loss 1.375 | task_loss 4.554 | contrastive_loss 0.479 | total 4003.4 | n_correct 2645.4 | ppl 5.52 | accuracy 66.079 | uer 19.383 | wer 21.222 | raw_wer 21.222 | bleu 21.84 | wps 1547.5 | wpb 4003.4 | bsz 141.8 | num_updates 26517 | best_bleu 21.84
2023-08-20 18:18:24 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 18 @ 26517 updates
2023-08-20 18:18:24 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 18:18:32 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 18:18:39 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 18 @ 26517 updates, score 21.84) (writing took 14.574864012014586 seconds)
2023-08-20 18:18:39 | INFO | fairseq_cli.train | end of epoch 18 (average epoch stats below)
2023-08-20 18:18:39 | INFO | train | epoch 018 | loss 2 | trans_loss 4.907 | nll_loss 2.146 | w2v_ctc_loss 0.731 | task_loss 1.303 | contrastive_loss 0.187 | total 4138.65 | n_correct 2736 | ppl 4.43 | accuracy 66.108 | wps 11872.4 | ups 1.43 | wpb 8277.3 | bsz 305.7 | num_updates 26517 | lr 8.68466e-05 | gnorm 0.531 | clip 0 | loss_scale 4 | train_wall 912 | gb_free 15.5 | wall 21419
2023-08-20 18:18:39 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 18:18:39 | INFO | fairseq.trainer | begin training epoch 19
2023-08-20 18:18:39 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 18:19:39 | INFO | train_inner | epoch 019:     83 / 1474 loss=1.993, trans_loss=4.889, nll_loss=2.124, w2v_ctc_loss=0.726, task_loss=1.301, contrastive_loss=0.204, total=4100.13, n_correct=2721.79, ppl=4.36, accuracy=66.383, wps=6878.8, ups=0.84, wpb=8200.3, bsz=297.1, num_updates=26600, lr=8.6711e-05, gnorm=0.532, clip=0, loss_scale=4, train_wall=61, gb_free=15.5, wall=21478
2023-08-20 18:20:42 | INFO | train_inner | epoch 019:    183 / 1474 loss=1.988, trans_loss=4.885, nll_loss=2.119, w2v_ctc_loss=0.724, task_loss=1.217, contrastive_loss=0.172, total=4219.78, n_correct=2807.34, ppl=4.34, accuracy=66.528, wps=13393.5, ups=1.59, wpb=8439.6, bsz=323.2, num_updates=26700, lr=8.65485e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=62, gb_free=12.3, wall=21541
2023-08-20 18:21:44 | INFO | train_inner | epoch 019:    283 / 1474 loss=1.976, trans_loss=4.883, nll_loss=2.115, w2v_ctc_loss=0.723, task_loss=1.274, contrastive_loss=0.076, total=4192.4, n_correct=2790.52, ppl=4.33, accuracy=66.561, wps=13437.8, ups=1.6, wpb=8384.8, bsz=308.2, num_updates=26800, lr=8.63868e-05, gnorm=0.516, clip=0, loss_scale=4, train_wall=62, gb_free=15.6, wall=21604
2023-08-20 18:22:46 | INFO | train_inner | epoch 019:    383 / 1474 loss=2.001, trans_loss=4.888, nll_loss=2.122, w2v_ctc_loss=0.72, task_loss=1.275, contrastive_loss=0.286, total=4172.45, n_correct=2770.42, ppl=4.35, accuracy=66.398, wps=13386.6, ups=1.6, wpb=8344.9, bsz=312.3, num_updates=26900, lr=8.62261e-05, gnorm=0.556, clip=0, loss_scale=4, train_wall=62, gb_free=13.9, wall=21666
2023-08-20 18:23:49 | INFO | train_inner | epoch 019:    483 / 1474 loss=1.986, trans_loss=4.894, nll_loss=2.13, w2v_ctc_loss=0.732, task_loss=1.346, contrastive_loss=0.097, total=4100.34, n_correct=2719.57, ppl=4.38, accuracy=66.325, wps=13184, ups=1.61, wpb=8200.7, bsz=298.5, num_updates=27000, lr=8.60663e-05, gnorm=0.516, clip=0, loss_scale=4, train_wall=61, gb_free=13.8, wall=21728
2023-08-20 18:24:51 | INFO | train_inner | epoch 019:    583 / 1474 loss=1.984, trans_loss=4.885, nll_loss=2.118, w2v_ctc_loss=0.71, task_loss=1.272, contrastive_loss=0.226, total=4135.81, n_correct=2752.57, ppl=4.34, accuracy=66.555, wps=13355.4, ups=1.61, wpb=8271.6, bsz=306.5, num_updates=27100, lr=8.59074e-05, gnorm=0.515, clip=0, loss_scale=4, train_wall=61, gb_free=16.5, wall=21790
2023-08-20 18:25:53 | INFO | train_inner | epoch 019:    683 / 1474 loss=1.971, trans_loss=4.892, nll_loss=2.128, w2v_ctc_loss=0.704, task_loss=1.183, contrastive_loss=0.087, total=4201.16, n_correct=2797.31, ppl=4.37, accuracy=66.584, wps=13493, ups=1.61, wpb=8402.3, bsz=321.9, num_updates=27200, lr=8.57493e-05, gnorm=0.507, clip=0, loss_scale=4, train_wall=61, gb_free=16.8, wall=21853
2023-08-20 18:26:55 | INFO | train_inner | epoch 019:    783 / 1474 loss=1.985, trans_loss=4.89, nll_loss=2.125, w2v_ctc_loss=0.73, task_loss=1.308, contrastive_loss=0.111, total=4144.63, n_correct=2754.08, ppl=4.36, accuracy=66.449, wps=13258, ups=1.6, wpb=8289.3, bsz=305.6, num_updates=27300, lr=8.55921e-05, gnorm=0.526, clip=0, loss_scale=4, train_wall=62, gb_free=11.8, wall=21915
2023-08-20 18:27:58 | INFO | train_inner | epoch 019:    883 / 1474 loss=1.982, trans_loss=4.896, nll_loss=2.132, w2v_ctc_loss=0.724, task_loss=1.33, contrastive_loss=0.083, total=4151.05, n_correct=2755.32, ppl=4.38, accuracy=66.376, wps=13257.4, ups=1.6, wpb=8302.1, bsz=303.2, num_updates=27400, lr=8.54358e-05, gnorm=0.516, clip=0, loss_scale=4, train_wall=62, gb_free=15.8, wall=21978
2023-08-20 18:29:02 | INFO | train_inner | epoch 019:    983 / 1474 loss=2.024, trans_loss=4.902, nll_loss=2.141, w2v_ctc_loss=0.715, task_loss=1.314, contrastive_loss=0.546, total=4099.07, n_correct=2713.94, ppl=4.41, accuracy=66.209, wps=12892.9, ups=1.57, wpb=8198.1, bsz=307.5, num_updates=27500, lr=8.52803e-05, gnorm=0.524, clip=0, loss_scale=4, train_wall=63, gb_free=13.8, wall=22041
2023-08-20 18:30:04 | INFO | train_inner | epoch 019:   1083 / 1474 loss=1.991, trans_loss=4.899, nll_loss=2.137, w2v_ctc_loss=0.719, task_loss=1.371, contrastive_loss=0.166, total=4042.41, n_correct=2681.66, ppl=4.4, accuracy=66.338, wps=12957.8, ups=1.6, wpb=8084.8, bsz=293.6, num_updates=27600, lr=8.51257e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=22104
2023-08-20 18:31:07 | INFO | train_inner | epoch 019:   1183 / 1474 loss=2.014, trans_loss=4.902, nll_loss=2.14, w2v_ctc_loss=0.729, task_loss=1.334, contrastive_loss=0.328, total=4134.94, n_correct=2730.13, ppl=4.41, accuracy=66.026, wps=13064.8, ups=1.58, wpb=8269.9, bsz=305.9, num_updates=27700, lr=8.49719e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=63, gb_free=16.1, wall=22167
2023-08-20 18:32:09 | INFO | train_inner | epoch 019:   1283 / 1474 loss=1.986, trans_loss=4.9, nll_loss=2.137, w2v_ctc_loss=0.718, task_loss=1.312, contrastive_loss=0.123, total=4144.17, n_correct=2747.84, ppl=4.4, accuracy=66.306, wps=13367.2, ups=1.61, wpb=8288.3, bsz=301.4, num_updates=27800, lr=8.48189e-05, gnorm=0.511, clip=0, loss_scale=4, train_wall=61, gb_free=16.1, wall=22229
2023-08-20 18:33:12 | INFO | train_inner | epoch 019:   1383 / 1474 loss=1.986, trans_loss=4.896, nll_loss=2.133, w2v_ctc_loss=0.727, task_loss=1.329, contrastive_loss=0.099, total=4123.85, n_correct=2738.71, ppl=4.39, accuracy=66.411, wps=13233.2, ups=1.6, wpb=8247.7, bsz=300.7, num_updates=27900, lr=8.46668e-05, gnorm=0.518, clip=0, loss_scale=4, train_wall=61, gb_free=15.2, wall=22291
2023-08-20 18:34:09 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 18:34:42 | INFO | dev_st | epoch 019 | valid on 'dev_st' subset | loss 4.015 | trans_loss 5.189 | nll_loss 2.457 | w2v_ctc_loss 1.375 | task_loss 4.537 | contrastive_loss 0.493 | total 4003.4 | n_correct 2647.6 | ppl 5.49 | accuracy 66.134 | uer 19.022 | wer 20.961 | raw_wer 20.961 | bleu 21.01 | wps 1607.4 | wpb 4003.4 | bsz 141.8 | num_updates 27991 | best_bleu 21.84
2023-08-20 18:34:42 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 19 @ 27991 updates
2023-08-20 18:34:42 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.0100.pt
2023-08-20 18:34:45 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.0100.pt
2023-08-20 18:34:50 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.0100.pt (epoch 19 @ 27991 updates, score 21.01) (writing took 7.732504796993453 seconds)
2023-08-20 18:34:51 | INFO | fairseq_cli.train | end of epoch 19 (average epoch stats below)
2023-08-20 18:34:51 | INFO | train | epoch 019 | loss 1.99 | trans_loss 4.892 | nll_loss 2.128 | w2v_ctc_loss 0.721 | task_loss 1.301 | contrastive_loss 0.185 | total 4138.65 | n_correct 2748.14 | ppl 4.37 | accuracy 66.402 | wps 12559.4 | ups 1.52 | wpb 8277.3 | bsz 305.7 | num_updates 27991 | lr 8.4529e-05 | gnorm 0.524 | clip 0 | loss_scale 4 | train_wall 911 | gb_free 17 | wall 22390
2023-08-20 18:34:51 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 18:34:51 | INFO | fairseq.trainer | begin training epoch 20
2023-08-20 18:34:51 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 18:35:04 | INFO | train_inner | epoch 020:      9 / 1474 loss=1.991, trans_loss=4.886, nll_loss=2.12, w2v_ctc_loss=0.713, task_loss=1.319, contrastive_loss=0.272, total=4119.95, n_correct=2741.3, ppl=4.35, accuracy=66.537, wps=7356.7, ups=0.89, wpb=8239.9, bsz=303.3, num_updates=28000, lr=8.45154e-05, gnorm=0.545, clip=0, loss_scale=4, train_wall=62, gb_free=16.7, wall=22403
2023-08-20 18:35:04 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 18:35:37 | INFO | dev_st | epoch 020 | valid on 'dev_st' subset | loss 4.003 | trans_loss 5.193 | nll_loss 2.462 | w2v_ctc_loss 1.328 | task_loss 4.543 | contrastive_loss 0.493 | total 4003.4 | n_correct 2642.7 | ppl 5.51 | accuracy 66.011 | uer 18.931 | wer 20.902 | raw_wer 20.902 | bleu 21.1 | wps 1612.5 | wpb 4003.4 | bsz 141.8 | num_updates 28000 | best_bleu 21.84
2023-08-20 18:35:37 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 20 @ 28000 updates
2023-08-20 18:35:37 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_20_28000.pt
2023-08-20 18:35:39 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_20_28000.pt
2023-08-20 18:35:45 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_20_28000.pt (epoch 20 @ 28000 updates, score 21.1) (writing took 8.337696282018442 seconds)
2023-08-20 18:36:48 | INFO | train_inner | epoch 020:    109 / 1474 loss=1.962, trans_loss=4.866, nll_loss=2.094, w2v_ctc_loss=0.698, task_loss=1.255, contrastive_loss=0.108, total=4200.95, n_correct=2817.81, ppl=4.27, accuracy=67.076, wps=8021.6, ups=0.95, wpb=8401.9, bsz=314, num_updates=28100, lr=8.43649e-05, gnorm=0.505, clip=0, loss_scale=8, train_wall=62, gb_free=15, wall=22508
2023-08-20 18:37:52 | INFO | train_inner | epoch 020:    209 / 1474 loss=1.978, trans_loss=4.875, nll_loss=2.105, w2v_ctc_loss=0.706, task_loss=1.346, contrastive_loss=0.215, total=4157.8, n_correct=2774.84, ppl=4.3, accuracy=66.738, wps=13125.9, ups=1.58, wpb=8315.6, bsz=302.6, num_updates=28200, lr=8.42152e-05, gnorm=0.522, clip=0, loss_scale=8, train_wall=63, gb_free=15.2, wall=22571
2023-08-20 18:38:54 | INFO | train_inner | epoch 020:    309 / 1474 loss=1.961, trans_loss=4.869, nll_loss=2.098, w2v_ctc_loss=0.704, task_loss=1.183, contrastive_loss=0.088, total=4186.94, n_correct=2804.14, ppl=4.28, accuracy=66.973, wps=13419, ups=1.6, wpb=8373.9, bsz=324.3, num_updates=28300, lr=8.40663e-05, gnorm=0.528, clip=0, loss_scale=8, train_wall=62, gb_free=15.6, wall=22634
2023-08-20 18:39:57 | INFO | train_inner | epoch 020:    409 / 1474 loss=1.963, trans_loss=4.866, nll_loss=2.093, w2v_ctc_loss=0.703, task_loss=1.32, contrastive_loss=0.087, total=4104.42, n_correct=2749.83, ppl=4.27, accuracy=66.997, wps=13157.1, ups=1.6, wpb=8208.8, bsz=296.7, num_updates=28400, lr=8.39181e-05, gnorm=0.529, clip=0, loss_scale=8, train_wall=62, gb_free=15.6, wall=22696
2023-08-20 18:40:59 | INFO | train_inner | epoch 020:    509 / 1474 loss=1.985, trans_loss=4.88, nll_loss=2.111, w2v_ctc_loss=0.702, task_loss=1.326, contrastive_loss=0.266, total=4120.52, n_correct=2748.13, ppl=4.32, accuracy=66.694, wps=13245.6, ups=1.61, wpb=8241, bsz=302.3, num_updates=28500, lr=8.37708e-05, gnorm=0.512, clip=0, loss_scale=8, train_wall=61, gb_free=15.6, wall=22758
2023-08-20 18:42:01 | INFO | train_inner | epoch 020:    609 / 1474 loss=1.994, trans_loss=4.881, nll_loss=2.113, w2v_ctc_loss=0.713, task_loss=1.382, contrastive_loss=0.267, total=4088.74, n_correct=2723.17, ppl=4.32, accuracy=66.602, wps=13126, ups=1.61, wpb=8177.5, bsz=294.6, num_updates=28600, lr=8.36242e-05, gnorm=0.529, clip=0, loss_scale=8, train_wall=62, gb_free=11.9, wall=22821
2023-08-20 18:43:04 | INFO | train_inner | epoch 020:    709 / 1474 loss=1.973, trans_loss=4.881, nll_loss=2.112, w2v_ctc_loss=0.719, task_loss=1.301, contrastive_loss=0.079, total=4134.98, n_correct=2755.93, ppl=4.32, accuracy=66.649, wps=13235, ups=1.6, wpb=8270, bsz=300.5, num_updates=28700, lr=8.34784e-05, gnorm=0.516, clip=0, loss_scale=8, train_wall=62, gb_free=13.7, wall=22883
2023-08-20 18:44:06 | INFO | train_inner | epoch 020:    809 / 1474 loss=1.973, trans_loss=4.883, nll_loss=2.116, w2v_ctc_loss=0.716, task_loss=1.29, contrastive_loss=0.084, total=4145.82, n_correct=2764.56, ppl=4.33, accuracy=66.683, wps=13266, ups=1.6, wpb=8291.6, bsz=306.6, num_updates=28800, lr=8.33333e-05, gnorm=0.532, clip=0, loss_scale=8, train_wall=62, gb_free=12, wall=22946
2023-08-20 18:45:09 | INFO | train_inner | epoch 020:    909 / 1474 loss=2.03, trans_loss=4.886, nll_loss=2.121, w2v_ctc_loss=0.71, task_loss=1.232, contrastive_loss=0.652, total=4161.77, n_correct=2767.99, ppl=4.35, accuracy=66.51, wps=13161.1, ups=1.58, wpb=8323.5, bsz=324.4, num_updates=28900, lr=8.3189e-05, gnorm=0.542, clip=0, loss_scale=8, train_wall=63, gb_free=16, wall=23009
2023-08-20 18:46:12 | INFO | train_inner | epoch 020:   1009 / 1474 loss=1.969, trans_loss=4.881, nll_loss=2.113, w2v_ctc_loss=0.704, task_loss=1.305, contrastive_loss=0.094, total=4167.85, n_correct=2782.1, ppl=4.33, accuracy=66.751, wps=13255.8, ups=1.59, wpb=8335.7, bsz=306.3, num_updates=29000, lr=8.30455e-05, gnorm=0.527, clip=0, loss_scale=8, train_wall=62, gb_free=16.5, wall=23072
2023-08-20 18:46:53 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-20 18:47:15 | INFO | train_inner | epoch 020:   1110 / 1474 loss=1.999, trans_loss=4.882, nll_loss=2.115, w2v_ctc_loss=0.712, task_loss=1.271, contrastive_loss=0.331, total=4154.87, n_correct=2767.64, ppl=4.33, accuracy=66.612, wps=13147, ups=1.58, wpb=8309.7, bsz=311.5, num_updates=29100, lr=8.29027e-05, gnorm=0.514, clip=0, loss_scale=4, train_wall=62, gb_free=15.9, wall=23135
2023-08-20 18:48:18 | INFO | train_inner | epoch 020:   1210 / 1474 loss=1.978, trans_loss=4.877, nll_loss=2.108, w2v_ctc_loss=0.73, task_loss=1.453, contrastive_loss=0.075, total=4027.04, n_correct=2680.7, ppl=4.31, accuracy=66.568, wps=12870.6, ups=1.6, wpb=8054.1, bsz=282.7, num_updates=29200, lr=8.27606e-05, gnorm=0.523, clip=0, loss_scale=4, train_wall=62, gb_free=16, wall=23198
2023-08-20 18:49:21 | INFO | train_inner | epoch 020:   1310 / 1474 loss=1.971, trans_loss=4.882, nll_loss=2.115, w2v_ctc_loss=0.712, task_loss=1.351, contrastive_loss=0.084, total=4135.87, n_correct=2757.83, ppl=4.33, accuracy=66.681, wps=13122.1, ups=1.59, wpb=8271.7, bsz=300.8, num_updates=29300, lr=8.26192e-05, gnorm=0.515, clip=0, loss_scale=4, train_wall=62, gb_free=16.2, wall=23261
2023-08-20 18:50:24 | INFO | train_inner | epoch 020:   1410 / 1474 loss=1.973, trans_loss=4.881, nll_loss=2.113, w2v_ctc_loss=0.715, task_loss=1.376, contrastive_loss=0.079, total=4122.3, n_correct=2747.01, ppl=4.33, accuracy=66.638, wps=13175.7, ups=1.6, wpb=8244.6, bsz=294.5, num_updates=29400, lr=8.24786e-05, gnorm=0.513, clip=0, loss_scale=4, train_wall=62, gb_free=15.8, wall=23323
2023-08-20 18:51:03 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 18:51:36 | INFO | dev_st | epoch 020 | valid on 'dev_st' subset | loss 3.989 | trans_loss 5.182 | nll_loss 2.446 | w2v_ctc_loss 1.31 | task_loss 4.551 | contrastive_loss 0.484 | total 4003.4 | n_correct 2652.5 | ppl 5.45 | accuracy 66.256 | uer 18.215 | wer 20.022 | raw_wer 20.022 | bleu 21.43 | wps 1621.5 | wpb 4003.4 | bsz 141.8 | num_updates 29464 | best_bleu 21.84
2023-08-20 18:51:36 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 20 @ 29464 updates
2023-08-20 18:51:36 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.4302.pt
2023-08-20 18:51:39 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.4302.pt
2023-08-20 18:51:44 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.4302.pt (epoch 20 @ 29464 updates, score 21.43) (writing took 7.824973312031943 seconds)
2023-08-20 18:51:45 | INFO | fairseq_cli.train | end of epoch 20 (average epoch stats below)
2023-08-20 18:51:45 | INFO | train | epoch 020 | loss 1.979 | trans_loss 4.878 | nll_loss 2.109 | w2v_ctc_loss 0.71 | task_loss 1.304 | contrastive_loss 0.18 | total 4138.15 | n_correct 2761.36 | ppl 4.31 | accuracy 66.729 | wps 12020.9 | ups 1.45 | wpb 8276.3 | bsz 305.5 | num_updates 29464 | lr 8.2389e-05 | gnorm 0.522 | clip 0 | loss_scale 4 | train_wall 912 | gb_free 15.7 | wall 23404
2023-08-20 18:51:45 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 18:51:45 | INFO | fairseq.trainer | begin training epoch 21
2023-08-20 18:51:45 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 18:52:15 | INFO | train_inner | epoch 021:     36 / 1474 loss=1.986, trans_loss=4.877, nll_loss=2.109, w2v_ctc_loss=0.699, task_loss=1.244, contrastive_loss=0.307, total=4143.81, n_correct=2767.82, ppl=4.31, accuracy=66.794, wps=7465.8, ups=0.9, wpb=8287.6, bsz=315, num_updates=29500, lr=8.23387e-05, gnorm=0.52, clip=0, loss_scale=4, train_wall=61, gb_free=15.2, wall=23434
2023-08-20 18:52:40 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 2.0
2023-08-20 18:53:18 | INFO | train_inner | epoch 021:    137 / 1474 loss=1.959, trans_loss=4.859, nll_loss=2.085, w2v_ctc_loss=0.706, task_loss=1.258, contrastive_loss=0.08, total=4166.87, n_correct=2793.55, ppl=4.24, accuracy=67.042, wps=13237.8, ups=1.59, wpb=8333.7, bsz=310.2, num_updates=29600, lr=8.21995e-05, gnorm=0.529, clip=0, loss_scale=2, train_wall=62, gb_free=15.4, wall=23497
2023-08-20 18:54:20 | INFO | train_inner | epoch 021:    237 / 1474 loss=1.964, trans_loss=4.862, nll_loss=2.088, w2v_ctc_loss=0.689, task_loss=1.256, contrastive_loss=0.21, total=4152.28, n_correct=2785.04, ppl=4.25, accuracy=67.073, wps=13338.9, ups=1.61, wpb=8304.6, bsz=311.5, num_updates=29700, lr=8.2061e-05, gnorm=0.506, clip=0, loss_scale=2, train_wall=62, gb_free=16, wall=23560
2023-08-20 18:55:22 | INFO | train_inner | epoch 021:    337 / 1474 loss=1.976, trans_loss=4.864, nll_loss=2.092, w2v_ctc_loss=0.708, task_loss=1.282, contrastive_loss=0.214, total=4160.9, n_correct=2785.63, ppl=4.26, accuracy=66.948, wps=13325.3, ups=1.6, wpb=8321.8, bsz=312.1, num_updates=29800, lr=8.19232e-05, gnorm=0.518, clip=0, loss_scale=2, train_wall=62, gb_free=17.5, wall=23622
2023-08-20 18:56:25 | INFO | train_inner | epoch 021:    437 / 1474 loss=1.956, trans_loss=4.861, nll_loss=2.087, w2v_ctc_loss=0.698, task_loss=1.255, contrastive_loss=0.073, total=4175.77, n_correct=2802.34, ppl=4.25, accuracy=67.11, wps=13412.1, ups=1.61, wpb=8351.5, bsz=308.1, num_updates=29900, lr=8.17861e-05, gnorm=0.511, clip=0, loss_scale=2, train_wall=61, gb_free=17.3, wall=23684
2023-08-20 18:57:27 | INFO | train_inner | epoch 021:    537 / 1474 loss=1.957, trans_loss=4.856, nll_loss=2.081, w2v_ctc_loss=0.705, task_loss=1.355, contrastive_loss=0.068, total=4085.88, n_correct=2744.22, ppl=4.23, accuracy=67.163, wps=13180.7, ups=1.61, wpb=8171.8, bsz=294.4, num_updates=30000, lr=8.16497e-05, gnorm=0.513, clip=0, loss_scale=2, train_wall=61, gb_free=16.5, wall=23746
2023-08-20 18:57:27 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 18:58:00 | INFO | dev_st | epoch 021 | valid on 'dev_st' subset | loss 4.008 | trans_loss 5.189 | nll_loss 2.456 | w2v_ctc_loss 1.361 | task_loss 4.526 | contrastive_loss 0.475 | total 4003.4 | n_correct 2650.1 | ppl 5.49 | accuracy 66.196 | uer 18.331 | wer 20.085 | raw_wer 20.085 | bleu 21.52 | wps 1580.1 | wpb 4003.4 | bsz 141.8 | num_updates 30000 | best_bleu 21.84
2023-08-20 18:58:00 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 21 @ 30000 updates
2023-08-20 18:58:00 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_21_30000.pt
2023-08-20 18:58:03 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_21_30000.pt
2023-08-20 18:58:10 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_21_30000.pt (epoch 21 @ 30000 updates, score 21.52) (writing took 9.302749606024008 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:0')
2023-08-20 18:59:13 | INFO | train_inner | epoch 021:    637 / 1474 loss=1.985, trans_loss=4.861, nll_loss=2.088, w2v_ctc_loss=0.695, task_loss=1.284, contrastive_loss=0.403, total=4211.14, n_correct=2822.43, ppl=4.25, accuracy=67.023, wps=7919.3, ups=0.94, wpb=8422.3, bsz=316.7, num_updates=30100, lr=8.15139e-05, gnorm=0.512, clip=0, loss_scale=2, train_wall=62, gb_free=16.9, wall=23853
2023-08-20 19:00:16 | INFO | train_inner | epoch 021:    737 / 1474 loss=1.969, trans_loss=4.871, nll_loss=2.101, w2v_ctc_loss=0.701, task_loss=1.312, contrastive_loss=0.125, total=4149.91, n_correct=2772.92, ppl=4.29, accuracy=66.819, wps=13270.2, ups=1.6, wpb=8299.8, bsz=306.8, num_updates=30200, lr=8.13788e-05, gnorm=0.567, clip=0, loss_scale=2, train_wall=62, gb_free=16.9, wall=23915
2023-08-20 19:01:18 | INFO | train_inner | epoch 021:    837 / 1474 loss=1.975, trans_loss=4.877, nll_loss=2.108, w2v_ctc_loss=0.703, task_loss=1.36, contrastive_loss=0.153, total=4075.22, n_correct=2721.64, ppl=4.31, accuracy=66.785, wps=12979.1, ups=1.59, wpb=8150.4, bsz=296.9, num_updates=30300, lr=8.12444e-05, gnorm=0.519, clip=0, loss_scale=2, train_wall=62, gb_free=16.5, wall=23978
2023-08-20 19:02:21 | INFO | train_inner | epoch 021:    937 / 1474 loss=1.962, trans_loss=4.864, nll_loss=2.091, w2v_ctc_loss=0.704, task_loss=1.309, contrastive_loss=0.101, total=4092.55, n_correct=2743.62, ppl=4.26, accuracy=67.039, wps=13082.6, ups=1.6, wpb=8185.1, bsz=300.3, num_updates=30400, lr=8.11107e-05, gnorm=0.519, clip=0, loss_scale=2, train_wall=62, gb_free=12.5, wall=24041
2023-08-20 19:03:23 | INFO | train_inner | epoch 021:   1037 / 1474 loss=1.965, trans_loss=4.873, nll_loss=2.102, w2v_ctc_loss=0.703, task_loss=1.323, contrastive_loss=0.095, total=4113.67, n_correct=2752.12, ppl=4.29, accuracy=66.902, wps=13264.7, ups=1.61, wpb=8227.3, bsz=300, num_updates=30500, lr=8.09776e-05, gnorm=0.514, clip=0, loss_scale=2, train_wall=61, gb_free=15.1, wall=24103
2023-08-20 19:04:25 | INFO | train_inner | epoch 021:   1137 / 1474 loss=1.968, trans_loss=4.865, nll_loss=2.093, w2v_ctc_loss=0.711, task_loss=1.41, contrastive_loss=0.104, total=4108.87, n_correct=2750.41, ppl=4.26, accuracy=66.938, wps=13206.3, ups=1.61, wpb=8217.7, bsz=292.2, num_updates=30600, lr=8.08452e-05, gnorm=0.519, clip=0, loss_scale=2, train_wall=61, gb_free=16.1, wall=24165
2023-08-20 19:05:28 | INFO | train_inner | epoch 021:   1237 / 1474 loss=1.974, trans_loss=4.866, nll_loss=2.094, w2v_ctc_loss=0.702, task_loss=1.222, contrastive_loss=0.209, total=4174.95, n_correct=2795.34, ppl=4.27, accuracy=66.955, wps=13361.7, ups=1.6, wpb=8349.9, bsz=316.8, num_updates=30700, lr=8.07134e-05, gnorm=0.514, clip=0, loss_scale=2, train_wall=62, gb_free=14.9, wall=24227
2023-08-20 19:06:30 | INFO | train_inner | epoch 021:   1337 / 1474 loss=1.963, trans_loss=4.867, nll_loss=2.096, w2v_ctc_loss=0.699, task_loss=1.302, contrastive_loss=0.108, total=4125.79, n_correct=2766.98, ppl=4.27, accuracy=67.065, wps=13162.1, ups=1.6, wpb=8251.6, bsz=304.4, num_updates=30800, lr=8.05823e-05, gnorm=0.516, clip=0, loss_scale=2, train_wall=62, gb_free=10.5, wall=24290
2023-08-20 19:07:34 | INFO | train_inner | epoch 021:   1437 / 1474 loss=1.987, trans_loss=4.877, nll_loss=2.108, w2v_ctc_loss=0.719, task_loss=1.348, contrastive_loss=0.212, total=4143.19, n_correct=2762.98, ppl=4.31, accuracy=66.687, wps=13096.2, ups=1.58, wpb=8286.4, bsz=307.2, num_updates=30900, lr=8.04518e-05, gnorm=0.519, clip=0, loss_scale=2, train_wall=62, gb_free=15.8, wall=24353
2023-08-20 19:07:57 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:1')
2023-08-20 19:08:30 | INFO | dev_st | epoch 021 | valid on 'dev_st' subset | loss 3.989 | trans_loss 5.184 | nll_loss 2.45 | w2v_ctc_loss 1.311 | task_loss 4.544 | contrastive_loss 0.474 | total 4003.4 | n_correct 2653.9 | ppl 5.46 | accuracy 66.291 | uer 18.297 | wer 20.1 | raw_wer 20.1 | bleu 21.89 | wps 1561.6 | wpb 4003.4 | bsz 141.8 | num_updates 30937 | best_bleu 21.89
2023-08-20 19:08:30 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 21 @ 30937 updates
2023-08-20 19:08:30 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 19:08:37 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 19:08:44 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 21 @ 30937 updates, score 21.89) (writing took 13.301862769003492 seconds)
2023-08-20 19:08:44 | INFO | fairseq_cli.train | end of epoch 21 (average epoch stats below)
2023-08-20 19:08:44 | INFO | train | epoch 021 | loss 1.969 | trans_loss 4.866 | nll_loss 2.094 | w2v_ctc_loss 0.703 | task_loss 1.307 | contrastive_loss 0.164 | total 4137.02 | n_correct 2770.44 | ppl 4.27 | accuracy 66.967 | wps 11955.9 | ups 1.44 | wpb 8274 | bsz 305.1 | num_updates 30937 | lr 8.04037e-05 | gnorm 0.52 | clip 0 | loss_scale 2 | train_wall 910 | gb_free 15.1 | wall 24424
2023-08-20 19:08:44 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 19:08:44 | INFO | fairseq.trainer | begin training epoch 22
2023-08-20 19:08:44 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 19:09:31 | INFO | train_inner | epoch 022:     63 / 1474 loss=1.956, trans_loss=4.853, nll_loss=2.077, w2v_ctc_loss=0.702, task_loss=1.313, contrastive_loss=0.073, total=4135.51, n_correct=2781.42, ppl=4.22, accuracy=67.257, wps=7076.4, ups=0.86, wpb=8271, bsz=299.9, num_updates=31000, lr=8.03219e-05, gnorm=0.513, clip=0, loss_scale=2, train_wall=61, gb_free=16.1, wall=24470
2023-08-20 19:10:33 | INFO | train_inner | epoch 022:    163 / 1474 loss=1.966, trans_loss=4.849, nll_loss=2.072, w2v_ctc_loss=0.693, task_loss=1.332, contrastive_loss=0.22, total=4107.71, n_correct=2763.46, ppl=4.21, accuracy=67.275, wps=13090.6, ups=1.59, wpb=8215.4, bsz=306.6, num_updates=31100, lr=8.01927e-05, gnorm=0.515, clip=0, loss_scale=2, train_wall=62, gb_free=14.3, wall=24533
2023-08-20 19:11:36 | INFO | train_inner | epoch 022:    263 / 1474 loss=1.943, trans_loss=4.84, nll_loss=2.061, w2v_ctc_loss=0.679, task_loss=1.142, contrastive_loss=0.107, total=4275.18, n_correct=2890.58, ppl=4.17, accuracy=67.613, wps=13657.6, ups=1.6, wpb=8550.4, bsz=330.4, num_updates=31200, lr=8.00641e-05, gnorm=0.5, clip=0, loss_scale=2, train_wall=62, gb_free=16.6, wall=24596
2023-08-20 19:12:40 | INFO | train_inner | epoch 022:    363 / 1474 loss=1.997, trans_loss=4.857, nll_loss=2.082, w2v_ctc_loss=0.703, task_loss=1.312, contrastive_loss=0.42, total=4180.65, n_correct=2804.71, ppl=4.23, accuracy=67.088, wps=13029.5, ups=1.56, wpb=8361.3, bsz=311.7, num_updates=31300, lr=7.99361e-05, gnorm=0.527, clip=0, loss_scale=2, train_wall=64, gb_free=16.9, wall=24660
2023-08-20 19:13:43 | INFO | train_inner | epoch 022:    463 / 1474 loss=1.97, trans_loss=4.857, nll_loss=2.081, w2v_ctc_loss=0.701, task_loss=1.359, contrastive_loss=0.184, total=4146.77, n_correct=2783.32, ppl=4.23, accuracy=67.12, wps=13148.3, ups=1.59, wpb=8293.5, bsz=300.2, num_updates=31400, lr=7.98087e-05, gnorm=0.534, clip=0, loss_scale=2, train_wall=62, gb_free=15, wall=24723
2023-08-20 19:14:46 | INFO | train_inner | epoch 022:    563 / 1474 loss=1.951, trans_loss=4.851, nll_loss=2.073, w2v_ctc_loss=0.692, task_loss=1.329, contrastive_loss=0.081, total=4136.18, n_correct=2786.7, ppl=4.21, accuracy=67.374, wps=13160, ups=1.59, wpb=8272.4, bsz=302.8, num_updates=31500, lr=7.96819e-05, gnorm=0.511, clip=0, loss_scale=2, train_wall=62, gb_free=16.1, wall=24786
2023-08-20 19:15:48 | INFO | train_inner | epoch 022:    663 / 1474 loss=1.958, trans_loss=4.843, nll_loss=2.064, w2v_ctc_loss=0.679, task_loss=1.24, contrastive_loss=0.257, total=4145.05, n_correct=2797.26, ppl=4.18, accuracy=67.484, wps=13393.5, ups=1.62, wpb=8290.1, bsz=311.7, num_updates=31600, lr=7.95557e-05, gnorm=0.514, clip=0, loss_scale=4, train_wall=61, gb_free=12, wall=24848
2023-08-20 19:16:51 | INFO | train_inner | epoch 022:    763 / 1474 loss=1.954, trans_loss=4.849, nll_loss=2.072, w2v_ctc_loss=0.696, task_loss=1.337, contrastive_loss=0.09, total=4170.48, n_correct=2805.57, ppl=4.2, accuracy=67.272, wps=13276.8, ups=1.59, wpb=8341, bsz=304.2, num_updates=31700, lr=7.94301e-05, gnorm=0.51, clip=0, loss_scale=4, train_wall=62, gb_free=12.8, wall=24910
2023-08-20 19:17:54 | INFO | train_inner | epoch 022:    863 / 1474 loss=1.956, trans_loss=4.859, nll_loss=2.085, w2v_ctc_loss=0.697, task_loss=1.399, contrastive_loss=0.071, total=4080.42, n_correct=2737.55, ppl=4.24, accuracy=67.09, wps=13004.4, ups=1.59, wpb=8160.8, bsz=291, num_updates=31800, lr=7.93052e-05, gnorm=0.519, clip=0, loss_scale=4, train_wall=62, gb_free=16.2, wall=24973
2023-08-20 19:18:56 | INFO | train_inner | epoch 022:    963 / 1474 loss=1.949, trans_loss=4.849, nll_loss=2.072, w2v_ctc_loss=0.689, task_loss=1.316, contrastive_loss=0.086, total=4131.43, n_correct=2783.33, ppl=4.21, accuracy=67.37, wps=13161.2, ups=1.59, wpb=8262.9, bsz=303.8, num_updates=31900, lr=7.91808e-05, gnorm=0.517, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=25036
2023-08-20 19:19:59 | INFO | train_inner | epoch 022:   1063 / 1474 loss=1.97, trans_loss=4.845, nll_loss=2.068, w2v_ctc_loss=0.677, task_loss=1.244, contrastive_loss=0.397, total=4157.6, n_correct=2805.85, ppl=4.19, accuracy=67.487, wps=13260.8, ups=1.59, wpb=8315.2, bsz=314.3, num_updates=32000, lr=7.90569e-05, gnorm=0.511, clip=0, loss_scale=4, train_wall=62, gb_free=16.7, wall=25099
2023-08-20 19:19:59 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 19:20:33 | INFO | dev_st | epoch 022 | valid on 'dev_st' subset | loss 3.98 | trans_loss 5.179 | nll_loss 2.443 | w2v_ctc_loss 1.291 | task_loss 4.541 | contrastive_loss 0.479 | total 4003.4 | n_correct 2663.5 | ppl 5.44 | accuracy 66.531 | uer 17.673 | wer 19.388 | raw_wer 19.388 | bleu 22.12 | wps 1576.2 | wpb 4003.4 | bsz 141.8 | num_updates 32000 | best_bleu 22.12
2023-08-20 19:20:33 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 22 @ 32000 updates
2023-08-20 19:20:33 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_22_32000.pt
2023-08-20 19:20:35 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_22_32000.pt
2023-08-20 19:20:46 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_22_32000.pt (epoch 22 @ 32000 updates, score 22.12) (writing took 13.608098608034197 seconds)
2023-08-20 19:21:49 | INFO | train_inner | epoch 022:   1163 / 1474 loss=1.975, trans_loss=4.87, nll_loss=2.1, w2v_ctc_loss=0.707, task_loss=1.342, contrastive_loss=0.174, total=4100.88, n_correct=2741.79, ppl=4.29, accuracy=66.859, wps=7477.3, ups=0.91, wpb=8201.8, bsz=296.8, num_updates=32100, lr=7.89337e-05, gnorm=0.546, clip=0, loss_scale=4, train_wall=61, gb_free=16.9, wall=25208
2023-08-20 19:22:51 | INFO | train_inner | epoch 022:   1263 / 1474 loss=1.963, trans_loss=4.866, nll_loss=2.095, w2v_ctc_loss=0.692, task_loss=1.214, contrastive_loss=0.144, total=4171.08, n_correct=2796.72, ppl=4.27, accuracy=67.05, wps=13322.3, ups=1.6, wpb=8342.2, bsz=320.4, num_updates=32200, lr=7.8811e-05, gnorm=0.516, clip=0, loss_scale=4, train_wall=62, gb_free=11.6, wall=25271
2023-08-20 19:23:53 | INFO | train_inner | epoch 022:   1363 / 1474 loss=1.959, trans_loss=4.848, nll_loss=2.072, w2v_ctc_loss=0.689, task_loss=1.303, contrastive_loss=0.205, total=4069.83, n_correct=2738.86, ppl=4.2, accuracy=67.297, wps=13104, ups=1.61, wpb=8139.7, bsz=299.3, num_updates=32300, lr=7.86889e-05, gnorm=0.52, clip=0, loss_scale=4, train_wall=61, gb_free=15, wall=25333
2023-08-20 19:24:56 | INFO | train_inner | epoch 022:   1463 / 1474 loss=1.964, trans_loss=4.864, nll_loss=2.091, w2v_ctc_loss=0.705, task_loss=1.38, contrastive_loss=0.099, total=4087.39, n_correct=2738.66, ppl=4.26, accuracy=67.003, wps=13086.7, ups=1.6, wpb=8174.8, bsz=290.9, num_updates=32400, lr=7.85674e-05, gnorm=0.52, clip=0, loss_scale=4, train_wall=62, gb_free=15.1, wall=25396
2023-08-20 19:25:03 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 19:25:37 | INFO | dev_st | epoch 022 | valid on 'dev_st' subset | loss 3.982 | trans_loss 5.176 | nll_loss 2.439 | w2v_ctc_loss 1.3 | task_loss 4.52 | contrastive_loss 0.482 | total 4003.4 | n_correct 2663.2 | ppl 5.42 | accuracy 66.523 | uer 18.265 | wer 20.051 | raw_wer 20.051 | bleu 21.86 | wps 1531.6 | wpb 4003.4 | bsz 141.8 | num_updates 32411 | best_bleu 22.12
2023-08-20 19:25:37 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 22 @ 32411 updates
2023-08-20 19:25:37 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.8605.pt
2023-08-20 19:25:40 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.8605.pt
2023-08-20 19:25:45 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.8605.pt (epoch 22 @ 32411 updates, score 21.86) (writing took 7.986755635007285 seconds)
2023-08-20 19:25:45 | INFO | fairseq_cli.train | end of epoch 22 (average epoch stats below)
2023-08-20 19:25:45 | INFO | train | epoch 022 | loss 1.962 | trans_loss 4.853 | nll_loss 2.077 | w2v_ctc_loss 0.693 | task_loss 1.302 | contrastive_loss 0.177 | total 4138.65 | n_correct 2783.14 | ppl 4.22 | accuracy 67.248 | wps 11946.5 | ups 1.44 | wpb 8277.3 | bsz 305.7 | num_updates 32411 | lr 7.85541e-05 | gnorm 0.518 | clip 0 | loss_scale 4 | train_wall 913 | gb_free 11.2 | wall 25445
2023-08-20 19:25:46 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 19:25:46 | INFO | fairseq.trainer | begin training epoch 23
2023-08-20 19:25:46 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 19:26:48 | INFO | train_inner | epoch 023:     89 / 1474 loss=1.942, trans_loss=4.834, nll_loss=2.053, w2v_ctc_loss=0.688, task_loss=1.325, contrastive_loss=0.08, total=4093.48, n_correct=2771.82, ppl=4.15, accuracy=67.713, wps=7288.4, ups=0.89, wpb=8187, bsz=300.7, num_updates=32500, lr=7.84465e-05, gnorm=0.512, clip=0, loss_scale=4, train_wall=62, gb_free=15.8, wall=25508
2023-08-20 19:27:51 | INFO | train_inner | epoch 023:    189 / 1474 loss=1.942, trans_loss=4.832, nll_loss=2.049, w2v_ctc_loss=0.684, task_loss=1.384, contrastive_loss=0.082, total=4117.93, n_correct=2785.71, ppl=4.14, accuracy=67.648, wps=13098.2, ups=1.59, wpb=8235.9, bsz=295.9, num_updates=32600, lr=7.8326e-05, gnorm=0.515, clip=0, loss_scale=4, train_wall=62, gb_free=15.4, wall=25571
2023-08-20 19:28:54 | INFO | train_inner | epoch 023:    289 / 1474 loss=1.958, trans_loss=4.845, nll_loss=2.066, w2v_ctc_loss=0.678, task_loss=1.321, contrastive_loss=0.218, total=4142.43, n_correct=2792.86, ppl=4.19, accuracy=67.421, wps=13106.9, ups=1.58, wpb=8284.9, bsz=303.4, num_updates=32700, lr=7.82062e-05, gnorm=0.516, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=25634
2023-08-20 19:29:57 | INFO | train_inner | epoch 023:    389 / 1474 loss=1.936, trans_loss=4.828, nll_loss=2.044, w2v_ctc_loss=0.679, task_loss=1.346, contrastive_loss=0.068, total=4115.12, n_correct=2788.31, ppl=4.12, accuracy=67.758, wps=13210.3, ups=1.61, wpb=8230.2, bsz=294.4, num_updates=32800, lr=7.80869e-05, gnorm=0.546, clip=0, loss_scale=4, train_wall=62, gb_free=12.9, wall=25696
2023-08-20 19:30:59 | INFO | train_inner | epoch 023:    489 / 1474 loss=1.952, trans_loss=4.841, nll_loss=2.061, w2v_ctc_loss=0.681, task_loss=1.275, contrastive_loss=0.171, total=4156.86, n_correct=2808.04, ppl=4.17, accuracy=67.552, wps=13254.7, ups=1.59, wpb=8313.7, bsz=312.1, num_updates=32900, lr=7.79681e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=14.7, wall=25759
2023-08-20 19:32:01 | INFO | train_inner | epoch 023:    589 / 1474 loss=1.938, trans_loss=4.833, nll_loss=2.051, w2v_ctc_loss=0.682, task_loss=1.229, contrastive_loss=0.074, total=4172.99, n_correct=2826.18, ppl=4.14, accuracy=67.726, wps=13487.5, ups=1.62, wpb=8346, bsz=316.1, num_updates=33000, lr=7.78499e-05, gnorm=0.511, clip=0, loss_scale=4, train_wall=61, gb_free=15.5, wall=25821
2023-08-20 19:33:04 | INFO | train_inner | epoch 023:    689 / 1474 loss=1.953, trans_loss=4.845, nll_loss=2.067, w2v_ctc_loss=0.686, task_loss=1.306, contrastive_loss=0.144, total=4135.85, n_correct=2792.01, ppl=4.19, accuracy=67.508, wps=13272.1, ups=1.6, wpb=8271.7, bsz=301.9, num_updates=33100, lr=7.77322e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=13.7, wall=25883
2023-08-20 19:34:06 | INFO | train_inner | epoch 023:    789 / 1474 loss=1.95, trans_loss=4.843, nll_loss=2.064, w2v_ctc_loss=0.691, task_loss=1.312, contrastive_loss=0.102, total=4155.54, n_correct=2803.76, ppl=4.18, accuracy=67.47, wps=13250, ups=1.59, wpb=8311.1, bsz=306.6, num_updates=33200, lr=7.76151e-05, gnorm=0.507, clip=0, loss_scale=4, train_wall=62, gb_free=16.5, wall=25946
2023-08-20 19:35:08 | INFO | train_inner | epoch 023:    889 / 1474 loss=1.955, trans_loss=4.837, nll_loss=2.056, w2v_ctc_loss=0.68, task_loss=1.185, contrastive_loss=0.252, total=4180.56, n_correct=2827.74, ppl=4.16, accuracy=67.64, wps=13466.2, ups=1.61, wpb=8361.1, bsz=324.5, num_updates=33300, lr=7.74984e-05, gnorm=0.514, clip=0, loss_scale=4, train_wall=61, gb_free=16, wall=26008
2023-08-20 19:36:12 | INFO | train_inner | epoch 023:    989 / 1474 loss=1.992, trans_loss=4.843, nll_loss=2.064, w2v_ctc_loss=0.688, task_loss=1.307, contrastive_loss=0.579, total=4163.63, n_correct=2804.71, ppl=4.18, accuracy=67.362, wps=13085.4, ups=1.57, wpb=8327.3, bsz=309.2, num_updates=33400, lr=7.73823e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=63, gb_free=11.2, wall=26072
2023-08-20 19:37:15 | INFO | train_inner | epoch 023:   1089 / 1474 loss=1.952, trans_loss=4.848, nll_loss=2.07, w2v_ctc_loss=0.695, task_loss=1.385, contrastive_loss=0.085, total=4094.62, n_correct=2757.21, ppl=4.2, accuracy=67.337, wps=13041.6, ups=1.59, wpb=8189.2, bsz=291.3, num_updates=33500, lr=7.72667e-05, gnorm=0.529, clip=0, loss_scale=4, train_wall=62, gb_free=17, wall=26134
2023-08-20 19:38:18 | INFO | train_inner | epoch 023:   1189 / 1474 loss=1.949, trans_loss=4.85, nll_loss=2.074, w2v_ctc_loss=0.693, task_loss=1.293, contrastive_loss=0.076, total=4161.7, n_correct=2801.09, ppl=4.21, accuracy=67.306, wps=13158, ups=1.58, wpb=8323.4, bsz=309.2, num_updates=33600, lr=7.71517e-05, gnorm=0.513, clip=0, loss_scale=4, train_wall=63, gb_free=16.6, wall=26198
2023-08-20 19:39:21 | INFO | train_inner | epoch 023:   1289 / 1474 loss=1.942, trans_loss=4.843, nll_loss=2.064, w2v_ctc_loss=0.681, task_loss=1.269, contrastive_loss=0.092, total=4133.96, n_correct=2789.52, ppl=4.18, accuracy=67.478, wps=13205.1, ups=1.6, wpb=8267.9, bsz=309.3, num_updates=33700, lr=7.70371e-05, gnorm=0.516, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=26260
2023-08-20 19:40:24 | INFO | train_inner | epoch 023:   1389 / 1474 loss=1.968, trans_loss=4.856, nll_loss=2.081, w2v_ctc_loss=0.689, task_loss=1.301, contrastive_loss=0.232, total=4159.95, n_correct=2797.71, ppl=4.23, accuracy=67.253, wps=13227.4, ups=1.59, wpb=8319.9, bsz=308.8, num_updates=33800, lr=7.69231e-05, gnorm=0.523, clip=0, loss_scale=8, train_wall=62, gb_free=10.2, wall=26323
2023-08-20 19:41:17 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 19:41:50 | INFO | dev_st | epoch 023 | valid on 'dev_st' subset | loss 3.992 | trans_loss 5.172 | nll_loss 2.431 | w2v_ctc_loss 1.336 | task_loss 4.57 | contrastive_loss 0.494 | total 4003.4 | n_correct 2668.4 | ppl 5.39 | accuracy 66.653 | uer 17.949 | wer 19.544 | raw_wer 19.544 | bleu 22.2 | wps 1602.3 | wpb 4003.4 | bsz 141.8 | num_updates 33885 | best_bleu 22.2
2023-08-20 19:41:50 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 23 @ 33885 updates
2023-08-20 19:41:50 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 19:41:57 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 19:42:03 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 23 @ 33885 updates, score 22.2) (writing took 12.424346169980709 seconds)
2023-08-20 19:42:03 | INFO | fairseq_cli.train | end of epoch 23 (average epoch stats below)
2023-08-20 19:42:03 | INFO | train | epoch 023 | loss 1.953 | trans_loss 4.842 | nll_loss 2.062 | w2v_ctc_loss 0.685 | task_loss 1.303 | contrastive_loss 0.174 | total 4138.65 | n_correct 2793.8 | ppl 4.18 | accuracy 67.505 | wps 12478.7 | ups 1.51 | wpb 8277.3 | bsz 305.7 | num_updates 33885 | lr 7.68265e-05 | gnorm 0.52 | clip 0 | loss_scale 8 | train_wall 913 | gb_free 13.2 | wall 26423
2023-08-20 19:42:03 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 19:42:03 | INFO | fairseq.trainer | begin training epoch 24
2023-08-20 19:42:03 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 19:42:20 | INFO | train_inner | epoch 024:     15 / 1474 loss=1.983, trans_loss=4.849, nll_loss=2.072, w2v_ctc_loss=0.68, task_loss=1.289, contrastive_loss=0.441, total=4099.91, n_correct=2760.7, ppl=4.2, accuracy=67.336, wps=7041.6, ups=0.86, wpb=8199.8, bsz=308.7, num_updates=33900, lr=7.68095e-05, gnorm=0.532, clip=0, loss_scale=8, train_wall=62, gb_free=16.6, wall=26440
2023-08-20 19:43:23 | INFO | train_inner | epoch 024:    115 / 1474 loss=1.945, trans_loss=4.818, nll_loss=2.032, w2v_ctc_loss=0.667, task_loss=1.23, contrastive_loss=0.267, total=4147.74, n_correct=2821.95, ppl=4.09, accuracy=68.036, wps=13286.3, ups=1.6, wpb=8295.5, bsz=317.7, num_updates=34000, lr=7.66965e-05, gnorm=0.514, clip=0, loss_scale=8, train_wall=62, gb_free=15.3, wall=26502
2023-08-20 19:43:23 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 19:43:57 | INFO | dev_st | epoch 024 | valid on 'dev_st' subset | loss 3.99 | trans_loss 5.181 | nll_loss 2.444 | w2v_ctc_loss 1.315 | task_loss 4.539 | contrastive_loss 0.488 | total 4003.4 | n_correct 2657.9 | ppl 5.44 | accuracy 66.391 | uer 18.316 | wer 20.01 | raw_wer 20.01 | bleu 21.89 | wps 1531.9 | wpb 4003.4 | bsz 141.8 | num_updates 34000 | best_bleu 22.2
2023-08-20 19:43:57 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 24 @ 34000 updates
2023-08-20 19:43:57 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_24_34000.pt
2023-08-20 19:43:59 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_24_34000.pt
2023-08-20 19:44:06 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_24_34000.pt (epoch 24 @ 34000 updates, score 21.89) (writing took 8.927249981032219 seconds)
2023-08-20 19:45:09 | INFO | train_inner | epoch 024:    215 / 1474 loss=1.97, trans_loss=4.828, nll_loss=2.045, w2v_ctc_loss=0.662, task_loss=1.138, contrastive_loss=0.498, total=4244.96, n_correct=2880.99, ppl=4.13, accuracy=67.868, wps=7987.7, ups=0.94, wpb=8489.9, bsz=340, num_updates=34100, lr=7.6584e-05, gnorm=0.525, clip=0, loss_scale=8, train_wall=62, gb_free=15.2, wall=26608
2023-08-20 19:46:11 | INFO | train_inner | epoch 024:    315 / 1474 loss=1.931, trans_loss=4.826, nll_loss=2.041, w2v_ctc_loss=0.674, task_loss=1.254, contrastive_loss=0.07, total=4144.64, n_correct=2812.38, ppl=4.12, accuracy=67.856, wps=13286.6, ups=1.6, wpb=8289.3, bsz=309.2, num_updates=34200, lr=7.64719e-05, gnorm=0.513, clip=0, loss_scale=8, train_wall=62, gb_free=16.3, wall=26671
2023-08-20 19:47:14 | INFO | train_inner | epoch 024:    415 / 1474 loss=1.974, trans_loss=4.83, nll_loss=2.047, w2v_ctc_loss=0.691, task_loss=1.386, contrastive_loss=0.341, total=4152.59, n_correct=2806.63, ppl=4.13, accuracy=67.587, wps=13227.9, ups=1.59, wpb=8305.2, bsz=297.1, num_updates=34300, lr=7.63604e-05, gnorm=0.528, clip=0, loss_scale=8, train_wall=62, gb_free=10.4, wall=26734
2023-08-20 19:48:17 | INFO | train_inner | epoch 024:    515 / 1474 loss=1.948, trans_loss=4.827, nll_loss=2.043, w2v_ctc_loss=0.681, task_loss=1.34, contrastive_loss=0.204, total=4135.54, n_correct=2799.79, ppl=4.12, accuracy=67.701, wps=13119.5, ups=1.59, wpb=8271.1, bsz=300.8, num_updates=34400, lr=7.62493e-05, gnorm=0.558, clip=0, loss_scale=8, train_wall=62, gb_free=16.1, wall=26797
2023-08-20 19:49:20 | INFO | train_inner | epoch 024:    615 / 1474 loss=1.942, trans_loss=4.83, nll_loss=2.048, w2v_ctc_loss=0.677, task_loss=1.295, contrastive_loss=0.123, total=4163.63, n_correct=2818.9, ppl=4.14, accuracy=67.703, wps=13330.4, ups=1.6, wpb=8327.3, bsz=309.2, num_updates=34500, lr=7.61387e-05, gnorm=0.585, clip=0, loss_scale=8, train_wall=62, gb_free=16.3, wall=26859
2023-08-20 19:50:22 | INFO | train_inner | epoch 024:    715 / 1474 loss=1.949, trans_loss=4.839, nll_loss=2.058, w2v_ctc_loss=0.678, task_loss=1.342, contrastive_loss=0.157, total=4100.27, n_correct=2770.77, ppl=4.16, accuracy=67.575, wps=13149.6, ups=1.6, wpb=8200.5, bsz=295.4, num_updates=34600, lr=7.60286e-05, gnorm=0.558, clip=0, loss_scale=8, train_wall=61, gb_free=15.3, wall=26921
2023-08-20 19:51:25 | INFO | train_inner | epoch 024:    815 / 1474 loss=1.941, trans_loss=4.839, nll_loss=2.059, w2v_ctc_loss=0.678, task_loss=1.304, contrastive_loss=0.1, total=4129.03, n_correct=2790.43, ppl=4.17, accuracy=67.581, wps=13031.8, ups=1.58, wpb=8258.1, bsz=307.8, num_updates=34700, lr=7.5919e-05, gnorm=0.521, clip=0, loss_scale=8, train_wall=63, gb_free=17.2, wall=26985
2023-08-20 19:52:27 | INFO | train_inner | epoch 024:    915 / 1474 loss=1.945, trans_loss=4.836, nll_loss=2.054, w2v_ctc_loss=0.69, task_loss=1.462, contrastive_loss=0.062, total=4035.8, n_correct=2727.13, ppl=4.15, accuracy=67.573, wps=12987.5, ups=1.61, wpb=8071.6, bsz=278.8, num_updates=34800, lr=7.58098e-05, gnorm=0.54, clip=0, loss_scale=8, train_wall=61, gb_free=11.8, wall=27047
2023-08-20 19:53:30 | INFO | train_inner | epoch 024:   1015 / 1474 loss=1.938, trans_loss=4.835, nll_loss=2.054, w2v_ctc_loss=0.675, task_loss=1.361, contrastive_loss=0.07, total=4124.2, n_correct=2790.99, ppl=4.15, accuracy=67.673, wps=13173.1, ups=1.6, wpb=8248.4, bsz=295.7, num_updates=34900, lr=7.57011e-05, gnorm=0.563, clip=0, loss_scale=8, train_wall=62, gb_free=12.9, wall=27110
2023-08-20 19:54:33 | INFO | train_inner | epoch 024:   1115 / 1474 loss=1.945, trans_loss=4.824, nll_loss=2.04, w2v_ctc_loss=0.686, task_loss=1.242, contrastive_loss=0.15, total=4133.96, n_correct=2804.16, ppl=4.11, accuracy=67.832, wps=13214, ups=1.6, wpb=8267.9, bsz=310.6, num_updates=35000, lr=7.55929e-05, gnorm=0.599, clip=0, loss_scale=8, train_wall=62, gb_free=16, wall=27172
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:0')
2023-08-20 19:55:35 | INFO | train_inner | epoch 024:   1215 / 1474 loss=1.942, trans_loss=4.835, nll_loss=2.054, w2v_ctc_loss=0.675, task_loss=1.29, contrastive_loss=0.12, total=4152.6, n_correct=2809.67, ppl=4.15, accuracy=67.661, wps=13229.2, ups=1.59, wpb=8305.2, bsz=310.7, num_updates=35100, lr=7.54851e-05, gnorm=0.58, clip=0, loss_scale=8, train_wall=62, gb_free=17, wall=27235
2023-08-20 19:56:38 | INFO | train_inner | epoch 024:   1315 / 1474 loss=1.948, trans_loss=4.841, nll_loss=2.061, w2v_ctc_loss=0.692, task_loss=1.396, contrastive_loss=0.078, total=4108.12, n_correct=2773.44, ppl=4.17, accuracy=67.511, wps=13120, ups=1.6, wpb=8216.2, bsz=293.3, num_updates=35200, lr=7.53778e-05, gnorm=0.565, clip=0, loss_scale=8, train_wall=62, gb_free=12.5, wall=27298
2023-08-20 19:57:40 | INFO | train_inner | epoch 024:   1415 / 1474 loss=1.945, trans_loss=4.84, nll_loss=2.061, w2v_ctc_loss=0.689, task_loss=1.346, contrastive_loss=0.072, total=4099.36, n_correct=2767.7, ppl=4.17, accuracy=67.515, wps=13130, ups=1.6, wpb=8198.7, bsz=294.7, num_updates=35300, lr=7.5271e-05, gnorm=0.584, clip=0, loss_scale=8, train_wall=62, gb_free=14.8, wall=27360
2023-08-20 19:58:17 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:7')
2023-08-20 19:58:53 | INFO | dev_st | epoch 024 | valid on 'dev_st' subset | loss 3.99 | trans_loss 5.172 | nll_loss 2.432 | w2v_ctc_loss 1.333 | task_loss 4.556 | contrastive_loss 0.493 | total 4003.4 | n_correct 2662.9 | ppl 5.4 | accuracy 66.516 | uer 17.976 | wer 19.645 | raw_wer 19.645 | bleu 21.79 | wps 1464.8 | wpb 4003.4 | bsz 141.8 | num_updates 35359 | best_bleu 22.2
2023-08-20 19:58:53 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 24 @ 35359 updates
2023-08-20 19:58:53 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.7903.pt
2023-08-20 19:58:55 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.7903.pt
2023-08-20 19:59:00 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.7903.pt (epoch 24 @ 35359 updates, score 21.79) (writing took 7.478010332968552 seconds)
2023-08-20 19:59:01 | INFO | fairseq_cli.train | end of epoch 24 (average epoch stats below)
2023-08-20 19:59:01 | INFO | train | epoch 024 | loss 1.948 | trans_loss 4.832 | nll_loss 2.05 | w2v_ctc_loss 0.679 | task_loss 1.302 | contrastive_loss 0.174 | total 4138.65 | n_correct 2801.57 | ppl 4.14 | accuracy 67.693 | wps 11988.9 | ups 1.45 | wpb 8277.3 | bsz 305.7 | num_updates 35359 | lr 7.52082e-05 | gnorm 0.553 | clip 0 | loss_scale 8 | train_wall 912 | gb_free 15.8 | wall 27440
2023-08-20 19:59:01 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 19:59:01 | INFO | fairseq.trainer | begin training epoch 25
2023-08-20 19:59:01 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 19:59:34 | INFO | train_inner | epoch 025:     41 / 1474 loss=1.932, trans_loss=4.824, nll_loss=2.04, w2v_ctc_loss=0.673, task_loss=1.263, contrastive_loss=0.083, total=4161.08, n_correct=2826.17, ppl=4.11, accuracy=67.919, wps=7354.1, ups=0.88, wpb=8322.2, bsz=309.6, num_updates=35400, lr=7.51646e-05, gnorm=0.576, clip=0, loss_scale=8, train_wall=61, gb_free=16.3, wall=27473
2023-08-20 19:59:35 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-20 20:00:37 | INFO | train_inner | epoch 025:    142 / 1474 loss=1.923, trans_loss=4.811, nll_loss=2.023, w2v_ctc_loss=0.662, task_loss=1.263, contrastive_loss=0.082, total=4140.54, n_correct=2825.47, ppl=4.06, accuracy=68.239, wps=13130.4, ups=1.59, wpb=8281.1, bsz=309.8, num_updates=35500, lr=7.50587e-05, gnorm=0.546, clip=0, loss_scale=4, train_wall=62, gb_free=16.8, wall=27536
2023-08-20 20:01:40 | INFO | train_inner | epoch 025:    242 / 1474 loss=1.93, trans_loss=4.815, nll_loss=2.028, w2v_ctc_loss=0.673, task_loss=1.337, contrastive_loss=0.087, total=4122.7, n_correct=2804.91, ppl=4.08, accuracy=68.036, wps=13081.9, ups=1.59, wpb=8245.4, bsz=302.9, num_updates=35600, lr=7.49532e-05, gnorm=0.547, clip=0, loss_scale=4, train_wall=62, gb_free=16.4, wall=27599
2023-08-20 20:02:43 | INFO | train_inner | epoch 025:    342 / 1474 loss=1.936, trans_loss=4.815, nll_loss=2.026, w2v_ctc_loss=0.669, task_loss=1.386, contrastive_loss=0.15, total=4132.6, n_correct=2811.56, ppl=4.07, accuracy=68.034, wps=13064.2, ups=1.58, wpb=8265.2, bsz=294.3, num_updates=35700, lr=7.48481e-05, gnorm=0.515, clip=0, loss_scale=4, train_wall=62, gb_free=16.6, wall=27663
2023-08-20 20:03:46 | INFO | train_inner | epoch 025:    442 / 1474 loss=1.963, trans_loss=4.82, nll_loss=2.035, w2v_ctc_loss=0.689, task_loss=1.374, contrastive_loss=0.299, total=4169.31, n_correct=2827.65, ppl=4.1, accuracy=67.821, wps=13157.8, ups=1.58, wpb=8338.6, bsz=296.4, num_updates=35800, lr=7.47435e-05, gnorm=0.523, clip=0, loss_scale=4, train_wall=63, gb_free=14.9, wall=27726
2023-08-20 20:04:49 | INFO | train_inner | epoch 025:    542 / 1474 loss=1.932, trans_loss=4.826, nll_loss=2.042, w2v_ctc_loss=0.671, task_loss=1.264, contrastive_loss=0.087, total=4157.91, n_correct=2824.81, ppl=4.12, accuracy=67.938, wps=13308.8, ups=1.6, wpb=8315.8, bsz=314.5, num_updates=35900, lr=7.46393e-05, gnorm=0.506, clip=0, loss_scale=4, train_wall=62, gb_free=15.1, wall=27788
2023-08-20 20:05:52 | INFO | train_inner | epoch 025:    642 / 1474 loss=1.939, trans_loss=4.813, nll_loss=2.026, w2v_ctc_loss=0.669, task_loss=1.287, contrastive_loss=0.217, total=4158.52, n_correct=2830.15, ppl=4.07, accuracy=68.057, wps=13238.5, ups=1.59, wpb=8317, bsz=309.9, num_updates=36000, lr=7.45356e-05, gnorm=0.519, clip=0, loss_scale=4, train_wall=62, gb_free=16, wall=27851
2023-08-20 20:05:52 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 20:06:25 | INFO | dev_st | epoch 025 | valid on 'dev_st' subset | loss 3.982 | trans_loss 5.17 | nll_loss 2.429 | w2v_ctc_loss 1.317 | task_loss 4.539 | contrastive_loss 0.48 | total 4003.4 | n_correct 2665.7 | ppl 5.39 | accuracy 66.586 | uer 17.893 | wer 19.611 | raw_wer 19.611 | bleu 22.13 | wps 1620.4 | wpb 4003.4 | bsz 141.8 | num_updates 36000 | best_bleu 22.2
2023-08-20 20:06:25 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 25 @ 36000 updates
2023-08-20 20:06:25 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_25_36000.pt
2023-08-20 20:06:27 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_25_36000.pt
2023-08-20 20:06:34 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_25_36000.pt (epoch 25 @ 36000 updates, score 22.13) (writing took 8.697074513998814 seconds)
2023-08-20 20:07:37 | INFO | train_inner | epoch 025:    742 / 1474 loss=1.944, trans_loss=4.816, nll_loss=2.03, w2v_ctc_loss=0.673, task_loss=1.307, contrastive_loss=0.201, total=4138.4, n_correct=2811.54, ppl=4.08, accuracy=67.938, wps=7890.2, ups=0.95, wpb=8276.8, bsz=304.5, num_updates=36100, lr=7.44323e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=16, wall=27956
2023-08-20 20:08:39 | INFO | train_inner | epoch 025:    842 / 1474 loss=1.93, trans_loss=4.82, nll_loss=2.035, w2v_ctc_loss=0.671, task_loss=1.206, contrastive_loss=0.101, total=4171.94, n_correct=2836.97, ppl=4.1, accuracy=68.001, wps=13392.8, ups=1.61, wpb=8343.9, bsz=324, num_updates=36200, lr=7.43294e-05, gnorm=0.518, clip=0, loss_scale=4, train_wall=62, gb_free=15.2, wall=28019
2023-08-20 20:09:42 | INFO | train_inner | epoch 025:    942 / 1474 loss=1.946, trans_loss=4.825, nll_loss=2.041, w2v_ctc_loss=0.674, task_loss=1.254, contrastive_loss=0.213, total=4148.78, n_correct=2816, ppl=4.11, accuracy=67.875, wps=13162.3, ups=1.59, wpb=8297.6, bsz=314.3, num_updates=36300, lr=7.4227e-05, gnorm=0.54, clip=0, loss_scale=4, train_wall=62, gb_free=12, wall=28082
2023-08-20 20:10:45 | INFO | train_inner | epoch 025:   1042 / 1474 loss=1.966, trans_loss=4.83, nll_loss=2.048, w2v_ctc_loss=0.669, task_loss=1.292, contrastive_loss=0.434, total=4176.78, n_correct=2826.47, ppl=4.14, accuracy=67.671, wps=13236.8, ups=1.58, wpb=8353.6, bsz=310.2, num_updates=36400, lr=7.41249e-05, gnorm=0.517, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=28145
2023-08-20 20:11:47 | INFO | train_inner | epoch 025:   1142 / 1474 loss=1.933, trans_loss=4.825, nll_loss=2.041, w2v_ctc_loss=0.675, task_loss=1.393, contrastive_loss=0.064, total=4046.83, n_correct=2743.54, ppl=4.12, accuracy=67.795, wps=12969.5, ups=1.6, wpb=8093.7, bsz=287, num_updates=36500, lr=7.40233e-05, gnorm=0.526, clip=0, loss_scale=4, train_wall=62, gb_free=14.7, wall=28207
2023-08-20 20:12:50 | INFO | train_inner | epoch 025:   1242 / 1474 loss=1.932, trans_loss=4.828, nll_loss=2.044, w2v_ctc_loss=0.669, task_loss=1.33, contrastive_loss=0.077, total=4088.37, n_correct=2774.5, ppl=4.12, accuracy=67.863, wps=13179.8, ups=1.61, wpb=8176.7, bsz=295.1, num_updates=36600, lr=7.39221e-05, gnorm=0.545, clip=0, loss_scale=4, train_wall=61, gb_free=15.7, wall=28269
2023-08-20 20:13:52 | INFO | train_inner | epoch 025:   1342 / 1474 loss=1.949, trans_loss=4.823, nll_loss=2.038, w2v_ctc_loss=0.674, task_loss=1.29, contrastive_loss=0.259, total=4161.94, n_correct=2830.92, ppl=4.11, accuracy=68.019, wps=13322.5, ups=1.6, wpb=8323.9, bsz=307.5, num_updates=36700, lr=7.38213e-05, gnorm=0.513, clip=0, loss_scale=4, train_wall=62, gb_free=12.2, wall=28332
2023-08-20 20:14:55 | INFO | train_inner | epoch 025:   1442 / 1474 loss=1.951, trans_loss=4.837, nll_loss=2.057, w2v_ctc_loss=0.675, task_loss=1.304, contrastive_loss=0.181, total=4121.76, n_correct=2785.82, ppl=4.16, accuracy=67.588, wps=13017.8, ups=1.58, wpb=8243.5, bsz=308.1, num_updates=36800, lr=7.3721e-05, gnorm=0.525, clip=0, loss_scale=4, train_wall=63, gb_free=16.5, wall=28395
2023-08-20 20:15:15 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 20:15:49 | INFO | dev_st | epoch 025 | valid on 'dev_st' subset | loss 3.971 | trans_loss 5.168 | nll_loss 2.427 | w2v_ctc_loss 1.294 | task_loss 4.531 | contrastive_loss 0.466 | total 4003.4 | n_correct 2667.7 | ppl 5.38 | accuracy 66.636 | uer 17.623 | wer 19.347 | raw_wer 19.347 | bleu 21.95 | wps 1575.3 | wpb 4003.4 | bsz 141.8 | num_updates 36832 | best_bleu 22.2
2023-08-20 20:15:49 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 25 @ 36832 updates
2023-08-20 20:15:49 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.9504.pt
2023-08-20 20:15:52 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.9504.pt
2023-08-20 20:15:58 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.9504.pt (epoch 25 @ 36832 updates, score 21.95) (writing took 8.510370773030445 seconds)
2023-08-20 20:15:58 | INFO | fairseq_cli.train | end of epoch 25 (average epoch stats below)
2023-08-20 20:15:58 | INFO | train | epoch 025 | loss 1.941 | trans_loss 4.822 | nll_loss 2.037 | w2v_ctc_loss 0.672 | task_loss 1.303 | contrastive_loss 0.17 | total 4138.76 | n_correct 2810.98 | ppl 4.1 | accuracy 67.919 | wps 11983.7 | ups 1.45 | wpb 8277.5 | bsz 305.7 | num_updates 36832 | lr 7.36889e-05 | gnorm 0.527 | clip 0 | loss_scale 4 | train_wall 914 | gb_free 13.9 | wall 28458
2023-08-20 20:15:58 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 20:15:58 | INFO | fairseq.trainer | begin training epoch 26
2023-08-20 20:15:58 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 20:16:48 | INFO | train_inner | epoch 026:     68 / 1474 loss=1.927, trans_loss=4.808, nll_loss=2.019, w2v_ctc_loss=0.665, task_loss=1.235, contrastive_loss=0.116, total=4167.28, n_correct=2839.6, ppl=4.05, accuracy=68.14, wps=7389.2, ups=0.89, wpb=8334.6, bsz=315.4, num_updates=36900, lr=7.3621e-05, gnorm=0.52, clip=0, loss_scale=4, train_wall=62, gb_free=16.1, wall=28508
2023-08-20 20:17:52 | INFO | train_inner | epoch 026:    168 / 1474 loss=1.949, trans_loss=4.805, nll_loss=2.016, w2v_ctc_loss=0.644, task_loss=1.151, contrastive_loss=0.47, total=4268.44, n_correct=2918.89, ppl=4.04, accuracy=68.383, wps=13401, ups=1.57, wpb=8536.9, bsz=338.3, num_updates=37000, lr=7.35215e-05, gnorm=0.514, clip=0, loss_scale=4, train_wall=63, gb_free=15.8, wall=28571
2023-08-20 20:18:55 | INFO | train_inner | epoch 026:    268 / 1474 loss=1.938, trans_loss=4.804, nll_loss=2.013, w2v_ctc_loss=0.666, task_loss=1.288, contrastive_loss=0.24, total=4127.46, n_correct=2814.85, ppl=4.04, accuracy=68.198, wps=13141.7, ups=1.59, wpb=8254.9, bsz=308, num_updates=37100, lr=7.34223e-05, gnorm=0.513, clip=0, loss_scale=4, train_wall=62, gb_free=15.7, wall=28634
2023-08-20 20:19:57 | INFO | train_inner | epoch 026:    368 / 1474 loss=1.93, trans_loss=4.808, nll_loss=2.02, w2v_ctc_loss=0.662, task_loss=1.252, contrastive_loss=0.154, total=4159.09, n_correct=2839.17, ppl=4.05, accuracy=68.264, wps=13367.7, ups=1.61, wpb=8318.2, bsz=313.5, num_updates=37200, lr=7.33236e-05, gnorm=0.514, clip=0, loss_scale=4, train_wall=62, gb_free=15.7, wall=28696
2023-08-20 20:21:00 | INFO | train_inner | epoch 026:    468 / 1474 loss=1.941, trans_loss=4.802, nll_loss=2.012, w2v_ctc_loss=0.672, task_loss=1.252, contrastive_loss=0.255, total=4167.54, n_correct=2846.56, ppl=4.03, accuracy=68.303, wps=13254.1, ups=1.59, wpb=8335.1, bsz=314.7, num_updates=37300, lr=7.32252e-05, gnorm=0.568, clip=0, loss_scale=4, train_wall=62, gb_free=17.3, wall=28759
2023-08-20 20:22:03 | INFO | train_inner | epoch 026:    568 / 1474 loss=1.93, trans_loss=4.81, nll_loss=2.021, w2v_ctc_loss=0.676, task_loss=1.304, contrastive_loss=0.095, total=4158.38, n_correct=2832.88, ppl=4.06, accuracy=68.125, wps=13250.9, ups=1.59, wpb=8316.8, bsz=303.9, num_updates=37400, lr=7.31272e-05, gnorm=0.522, clip=0, loss_scale=4, train_wall=62, gb_free=16, wall=28822
2023-08-20 20:23:05 | INFO | train_inner | epoch 026:    668 / 1474 loss=1.925, trans_loss=4.812, nll_loss=2.023, w2v_ctc_loss=0.662, task_loss=1.339, contrastive_loss=0.073, total=4132.34, n_correct=2811.99, ppl=4.06, accuracy=68.048, wps=13132.7, ups=1.59, wpb=8264.7, bsz=297.7, num_updates=37500, lr=7.30297e-05, gnorm=0.605, clip=0, loss_scale=8, train_wall=62, gb_free=16, wall=28885
2023-08-20 20:24:08 | INFO | train_inner | epoch 026:    768 / 1474 loss=1.951, trans_loss=4.816, nll_loss=2.029, w2v_ctc_loss=0.667, task_loss=1.315, contrastive_loss=0.295, total=4092.35, n_correct=2782.76, ppl=4.08, accuracy=67.999, wps=13073.1, ups=1.6, wpb=8184.7, bsz=300.1, num_updates=37600, lr=7.29325e-05, gnorm=0.572, clip=0, loss_scale=8, train_wall=62, gb_free=16, wall=28948
2023-08-20 20:25:11 | INFO | train_inner | epoch 026:    868 / 1474 loss=1.932, trans_loss=4.814, nll_loss=2.026, w2v_ctc_loss=0.674, task_loss=1.306, contrastive_loss=0.097, total=4176.13, n_correct=2841.84, ppl=4.07, accuracy=68.05, wps=13342.6, ups=1.6, wpb=8352.3, bsz=305.9, num_updates=37700, lr=7.28357e-05, gnorm=0.535, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=29010
2023-08-20 20:26:12 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-20 20:26:14 | INFO | train_inner | epoch 026:    969 / 1474 loss=1.932, trans_loss=4.812, nll_loss=2.024, w2v_ctc_loss=0.652, task_loss=1.33, contrastive_loss=0.2, total=4148.58, n_correct=2826.7, ppl=4.07, accuracy=68.137, wps=13105.3, ups=1.58, wpb=8297.2, bsz=302.2, num_updates=37800, lr=7.27393e-05, gnorm=0.56, clip=0, loss_scale=4, train_wall=63, gb_free=17.1, wall=29074
2023-08-20 20:27:17 | INFO | train_inner | epoch 026:   1069 / 1474 loss=1.927, trans_loss=4.814, nll_loss=2.026, w2v_ctc_loss=0.671, task_loss=1.373, contrastive_loss=0.07, total=4115.98, n_correct=2801.46, ppl=4.07, accuracy=68.063, wps=13141.5, ups=1.6, wpb=8232, bsz=293.3, num_updates=37900, lr=7.26433e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=62, gb_free=14.9, wall=29136
2023-08-20 20:28:20 | INFO | train_inner | epoch 026:   1169 / 1474 loss=1.939, trans_loss=4.822, nll_loss=2.037, w2v_ctc_loss=0.671, task_loss=1.369, contrastive_loss=0.152, total=4120.78, n_correct=2797.21, ppl=4.1, accuracy=67.881, wps=13011.3, ups=1.58, wpb=8241.6, bsz=299.5, num_updates=38000, lr=7.25476e-05, gnorm=0.527, clip=0, loss_scale=4, train_wall=63, gb_free=16, wall=29200
2023-08-20 20:28:20 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 20:28:54 | INFO | dev_st | epoch 026 | valid on 'dev_st' subset | loss 3.98 | trans_loss 5.17 | nll_loss 2.43 | w2v_ctc_loss 1.326 | task_loss 4.576 | contrastive_loss 0.46 | total 4003.4 | n_correct 2672.7 | ppl 5.39 | accuracy 66.761 | uer 17.599 | wer 19.317 | raw_wer 19.317 | bleu 22.24 | wps 1522.8 | wpb 4003.4 | bsz 141.8 | num_updates 38000 | best_bleu 22.24
2023-08-20 20:28:54 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 26 @ 38000 updates
2023-08-20 20:28:54 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_26_38000.pt
2023-08-20 20:28:57 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_26_38000.pt
2023-08-20 20:29:08 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_26_38000.pt (epoch 26 @ 38000 updates, score 22.24) (writing took 13.20869360101642 seconds)
2023-08-20 20:30:11 | INFO | train_inner | epoch 026:   1269 / 1474 loss=1.94, trans_loss=4.829, nll_loss=2.045, w2v_ctc_loss=0.686, task_loss=1.446, contrastive_loss=0.076, total=4002.48, n_correct=2715.51, ppl=4.13, accuracy=67.846, wps=7206.6, ups=0.9, wpb=8005, bsz=280, num_updates=38100, lr=7.24524e-05, gnorm=0.764, clip=1, loss_scale=4, train_wall=62, gb_free=15.8, wall=29311
2023-08-20 20:31:14 | INFO | train_inner | epoch 026:   1369 / 1474 loss=1.923, trans_loss=4.818, nll_loss=2.032, w2v_ctc_loss=0.655, task_loss=1.297, contrastive_loss=0.095, total=4156.47, n_correct=2834.84, ppl=4.09, accuracy=68.203, wps=13164.1, ups=1.58, wpb=8312.9, bsz=312.4, num_updates=38200, lr=7.23575e-05, gnorm=0.538, clip=0, loss_scale=4, train_wall=62, gb_free=16.9, wall=29374
2023-08-20 20:32:17 | INFO | train_inner | epoch 026:   1469 / 1474 loss=1.922, trans_loss=4.813, nll_loss=2.026, w2v_ctc_loss=0.658, task_loss=1.262, contrastive_loss=0.086, total=4144.2, n_correct=2827.48, ppl=4.07, accuracy=68.227, wps=13238.9, ups=1.6, wpb=8288.4, bsz=312.6, num_updates=38300, lr=7.22629e-05, gnorm=0.569, clip=0, loss_scale=4, train_wall=62, gb_free=16, wall=29436
2023-08-20 20:32:20 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 20:32:53 | INFO | dev_st | epoch 026 | valid on 'dev_st' subset | loss 3.973 | trans_loss 5.17 | nll_loss 2.431 | w2v_ctc_loss 1.294 | task_loss 4.554 | contrastive_loss 0.466 | total 4003.4 | n_correct 2667.6 | ppl 5.39 | accuracy 66.633 | uer 17.875 | wer 19.608 | raw_wer 19.608 | bleu 22.16 | wps 1614.2 | wpb 4003.4 | bsz 141.8 | num_updates 38305 | best_bleu 22.24
2023-08-20 20:32:53 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 26 @ 38305 updates
2023-08-20 20:32:53 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_22.1603.pt
2023-08-20 20:32:56 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_22.1603.pt
2023-08-20 20:33:01 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_22.1603.pt (epoch 26 @ 38305 updates, score 22.16) (writing took 7.791716202045791 seconds)
2023-08-20 20:33:02 | INFO | fairseq_cli.train | end of epoch 26 (average epoch stats below)
2023-08-20 20:33:02 | INFO | train | epoch 026 | loss 1.934 | trans_loss 4.812 | nll_loss 2.024 | w2v_ctc_loss 0.665 | task_loss 1.303 | contrastive_loss 0.17 | total 4139.09 | n_correct 2820.18 | ppl 4.07 | accuracy 68.135 | wps 11911.7 | ups 1.44 | wpb 8278.2 | bsz 305.7 | num_updates 38305 | lr 7.22582e-05 | gnorm 0.557 | clip 0.1 | loss_scale 4 | train_wall 915 | gb_free 15.6 | wall 29482
2023-08-20 20:33:02 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 20:33:02 | INFO | fairseq.trainer | begin training epoch 27
2023-08-20 20:33:02 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 20:34:08 | INFO | train_inner | epoch 027:     95 / 1474 loss=1.906, trans_loss=4.779, nll_loss=1.98, w2v_ctc_loss=0.648, task_loss=1.396, contrastive_loss=0.056, total=4072.98, n_correct=2799.68, ppl=3.95, accuracy=68.738, wps=7352.8, ups=0.9, wpb=8146, bsz=284.4, num_updates=38400, lr=7.21688e-05, gnorm=0.536, clip=0, loss_scale=4, train_wall=61, gb_free=16.5, wall=29547
2023-08-20 20:34:41 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 2.0
2023-08-20 20:35:11 | INFO | train_inner | epoch 027:    196 / 1474 loss=1.909, trans_loss=4.79, nll_loss=1.995, w2v_ctc_loss=0.647, task_loss=1.247, contrastive_loss=0.096, total=4185.91, n_correct=2873.25, ppl=3.99, accuracy=68.641, wps=13186.8, ups=1.58, wpb=8371.8, bsz=322, num_updates=38500, lr=7.2075e-05, gnorm=0.511, clip=0, loss_scale=2, train_wall=62, gb_free=16.7, wall=29611
2023-08-20 20:36:14 | INFO | train_inner | epoch 027:    296 / 1474 loss=1.918, trans_loss=4.799, nll_loss=2.007, w2v_ctc_loss=0.661, task_loss=1.304, contrastive_loss=0.073, total=4164.1, n_correct=2851.51, ppl=4.02, accuracy=68.478, wps=13258.9, ups=1.59, wpb=8328.2, bsz=305.7, num_updates=38600, lr=7.19816e-05, gnorm=0.52, clip=0, loss_scale=2, train_wall=62, gb_free=16.2, wall=29674
2023-08-20 20:37:17 | INFO | train_inner | epoch 027:    396 / 1474 loss=1.959, trans_loss=4.807, nll_loss=2.018, w2v_ctc_loss=0.665, task_loss=1.358, contrastive_loss=0.432, total=4080.38, n_correct=2781.86, ppl=4.05, accuracy=68.176, wps=12867.3, ups=1.58, wpb=8160.8, bsz=298.1, num_updates=38700, lr=7.18885e-05, gnorm=0.524, clip=0, loss_scale=2, train_wall=63, gb_free=15.6, wall=29737
2023-08-20 20:38:21 | INFO | train_inner | epoch 027:    496 / 1474 loss=1.942, trans_loss=4.811, nll_loss=2.022, w2v_ctc_loss=0.658, task_loss=1.203, contrastive_loss=0.294, total=4239.9, n_correct=2892.1, ppl=4.06, accuracy=68.212, wps=13424.5, ups=1.58, wpb=8479.8, bsz=329.3, num_updates=38800, lr=7.17958e-05, gnorm=0.514, clip=0, loss_scale=2, train_wall=62, gb_free=14.5, wall=29800
2023-08-20 20:39:23 | INFO | train_inner | epoch 027:    596 / 1474 loss=1.931, trans_loss=4.8, nll_loss=2.008, w2v_ctc_loss=0.666, task_loss=1.276, contrastive_loss=0.18, total=4144.77, n_correct=2831.74, ppl=4.02, accuracy=68.321, wps=13298.9, ups=1.6, wpb=8289.5, bsz=313.3, num_updates=38900, lr=7.17035e-05, gnorm=0.533, clip=0, loss_scale=2, train_wall=61, gb_free=17.2, wall=29862
2023-08-20 20:40:26 | INFO | train_inner | epoch 027:    696 / 1474 loss=1.928, trans_loss=4.805, nll_loss=2.014, w2v_ctc_loss=0.665, task_loss=1.294, contrastive_loss=0.136, total=4167.31, n_correct=2845.27, ppl=4.04, accuracy=68.276, wps=13236.4, ups=1.59, wpb=8334.6, bsz=306.9, num_updates=39000, lr=7.16115e-05, gnorm=0.518, clip=0, loss_scale=2, train_wall=62, gb_free=16.2, wall=29926
2023-08-20 20:41:28 | INFO | train_inner | epoch 027:    796 / 1474 loss=1.925, trans_loss=4.806, nll_loss=2.016, w2v_ctc_loss=0.669, task_loss=1.363, contrastive_loss=0.075, total=4106.27, n_correct=2799.56, ppl=4.04, accuracy=68.178, wps=13189.9, ups=1.61, wpb=8212.5, bsz=293.9, num_updates=39100, lr=7.15199e-05, gnorm=0.545, clip=0, loss_scale=2, train_wall=61, gb_free=16.3, wall=29988
2023-08-20 20:42:31 | INFO | train_inner | epoch 027:    896 / 1474 loss=1.919, trans_loss=4.809, nll_loss=2.02, w2v_ctc_loss=0.658, task_loss=1.356, contrastive_loss=0.063, total=4106.26, n_correct=2803.91, ppl=4.05, accuracy=68.284, wps=13179.8, ups=1.6, wpb=8212.5, bsz=293.2, num_updates=39200, lr=7.14286e-05, gnorm=0.532, clip=0, loss_scale=2, train_wall=62, gb_free=16.5, wall=30050
2023-08-20 20:43:34 | INFO | train_inner | epoch 027:    996 / 1474 loss=1.949, trans_loss=4.805, nll_loss=2.015, w2v_ctc_loss=0.657, task_loss=1.281, contrastive_loss=0.423, total=4176.57, n_correct=2852.59, ppl=4.04, accuracy=68.3, wps=13200.6, ups=1.58, wpb=8353.1, bsz=312.8, num_updates=39300, lr=7.13376e-05, gnorm=0.519, clip=0, loss_scale=2, train_wall=63, gb_free=15.8, wall=30113
2023-08-20 20:44:36 | INFO | train_inner | epoch 027:   1096 / 1474 loss=1.919, trans_loss=4.803, nll_loss=2.013, w2v_ctc_loss=0.656, task_loss=1.28, contrastive_loss=0.097, total=4171.17, n_correct=2849.71, ppl=4.04, accuracy=68.319, wps=13327.8, ups=1.6, wpb=8342.3, bsz=311.2, num_updates=39400, lr=7.1247e-05, gnorm=0.516, clip=0, loss_scale=2, train_wall=62, gb_free=15.7, wall=30176
2023-08-20 20:45:39 | INFO | train_inner | epoch 027:   1196 / 1474 loss=1.926, trans_loss=4.808, nll_loss=2.018, w2v_ctc_loss=0.668, task_loss=1.408, contrastive_loss=0.088, total=4080.64, n_correct=2783.95, ppl=4.05, accuracy=68.223, wps=12995.3, ups=1.59, wpb=8161.3, bsz=290.2, num_updates=39500, lr=7.11568e-05, gnorm=0.537, clip=0, loss_scale=2, train_wall=62, gb_free=11.7, wall=30239
2023-08-20 20:46:42 | INFO | train_inner | epoch 027:   1296 / 1474 loss=1.934, trans_loss=4.806, nll_loss=2.017, w2v_ctc_loss=0.66, task_loss=1.372, contrastive_loss=0.201, total=4070.33, n_correct=2778.06, ppl=4.05, accuracy=68.251, wps=13007.4, ups=1.6, wpb=8140.7, bsz=294.9, num_updates=39600, lr=7.10669e-05, gnorm=0.522, clip=0, loss_scale=2, train_wall=62, gb_free=11.6, wall=30301
2023-08-20 20:47:44 | INFO | train_inner | epoch 027:   1396 / 1474 loss=1.928, trans_loss=4.808, nll_loss=2.019, w2v_ctc_loss=0.657, task_loss=1.23, contrastive_loss=0.171, total=4151.3, n_correct=2836.82, ppl=4.05, accuracy=68.336, wps=13417.5, ups=1.62, wpb=8302.6, bsz=313, num_updates=39700, lr=7.09773e-05, gnorm=0.522, clip=0, loss_scale=2, train_wall=61, gb_free=16.6, wall=30363
2023-08-20 20:48:32 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 20:49:07 | INFO | dev_st | epoch 027 | valid on 'dev_st' subset | loss 3.982 | trans_loss 5.174 | nll_loss 2.437 | w2v_ctc_loss 1.318 | task_loss 4.535 | contrastive_loss 0.463 | total 4003.4 | n_correct 2667.1 | ppl 5.42 | accuracy 66.621 | uer 18.069 | wer 19.88 | raw_wer 19.88 | bleu 21.9 | wps 1499.2 | wpb 4003.4 | bsz 141.8 | num_updates 39778 | best_bleu 22.24
2023-08-20 20:49:07 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 27 @ 39778 updates
2023-08-20 20:49:07 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.9004.pt
2023-08-20 20:49:10 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.9004.pt
2023-08-20 20:49:15 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.9004.pt (epoch 27 @ 39778 updates, score 21.9) (writing took 7.95197225298034 seconds)
2023-08-20 20:49:16 | INFO | fairseq_cli.train | end of epoch 27 (average epoch stats below)
2023-08-20 20:49:16 | INFO | train | epoch 027 | loss 1.927 | trans_loss 4.802 | nll_loss 2.011 | w2v_ctc_loss 0.659 | task_loss 1.304 | contrastive_loss 0.167 | total 4138.38 | n_correct 2828.5 | ppl 4.03 | accuracy 68.348 | wps 12521.5 | ups 1.51 | wpb 8276.8 | bsz 305.6 | num_updates 39778 | lr 7.09077e-05 | gnorm 0.524 | clip 0 | loss_scale 2 | train_wall 911 | gb_free 17.5 | wall 30455
2023-08-20 20:49:16 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 20:49:16 | INFO | fairseq.trainer | begin training epoch 28
2023-08-20 20:49:16 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 20:49:37 | INFO | train_inner | epoch 028:     22 / 1474 loss=1.907, trans_loss=4.795, nll_loss=2.002, w2v_ctc_loss=0.644, task_loss=1.251, contrastive_loss=0.073, total=4119.4, n_correct=2824.53, ppl=4.01, accuracy=68.567, wps=7279.4, ups=0.88, wpb=8238.8, bsz=307.4, num_updates=39800, lr=7.08881e-05, gnorm=0.516, clip=0, loss_scale=2, train_wall=61, gb_free=11, wall=30476
2023-08-20 20:50:39 | INFO | train_inner | epoch 028:    122 / 1474 loss=1.905, trans_loss=4.776, nll_loss=1.976, w2v_ctc_loss=0.653, task_loss=1.357, contrastive_loss=0.065, total=4110.19, n_correct=2832.28, ppl=3.93, accuracy=68.909, wps=13208.9, ups=1.61, wpb=8220.4, bsz=292.9, num_updates=39900, lr=7.07992e-05, gnorm=0.541, clip=0, loss_scale=2, train_wall=62, gb_free=16, wall=30539
2023-08-20 20:51:41 | INFO | train_inner | epoch 028:    222 / 1474 loss=1.907, trans_loss=4.788, nll_loss=1.993, w2v_ctc_loss=0.647, task_loss=1.237, contrastive_loss=0.081, total=4193.38, n_correct=2879.41, ppl=3.98, accuracy=68.666, wps=13442.3, ups=1.6, wpb=8386.8, bsz=315.1, num_updates=40000, lr=7.07107e-05, gnorm=0.514, clip=0, loss_scale=2, train_wall=62, gb_free=12.4, wall=30601
2023-08-20 20:51:41 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 20:52:17 | INFO | dev_st | epoch 028 | valid on 'dev_st' subset | loss 3.996 | trans_loss 5.183 | nll_loss 2.451 | w2v_ctc_loss 1.342 | task_loss 4.508 | contrastive_loss 0.472 | total 4003.4 | n_correct 2670.6 | ppl 5.47 | accuracy 66.708 | uer 18.209 | wer 20.253 | raw_wer 20.253 | bleu 22.07 | wps 1450.9 | wpb 4003.4 | bsz 141.8 | num_updates 40000 | best_bleu 22.24
2023-08-20 20:52:17 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 28 @ 40000 updates
2023-08-20 20:52:17 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_28_40000.pt
2023-08-20 20:52:20 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_28_40000.pt
2023-08-20 20:52:26 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_28_40000.pt (epoch 28 @ 40000 updates, score 22.07) (writing took 8.929019949981011 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:0')
2023-08-20 20:53:30 | INFO | train_inner | epoch 028:    322 / 1474 loss=1.974, trans_loss=4.794, nll_loss=2, w2v_ctc_loss=0.646, task_loss=1.306, contrastive_loss=0.735, total=4135.27, n_correct=2831.1, ppl=4, accuracy=68.462, wps=7630.3, ups=0.92, wpb=8270.5, bsz=314.1, num_updates=40100, lr=7.06225e-05, gnorm=0.529, clip=0, loss_scale=2, train_wall=62, gb_free=11.4, wall=30709
2023-08-20 20:54:32 | INFO | train_inner | epoch 028:    422 / 1474 loss=1.914, trans_loss=4.789, nll_loss=1.994, w2v_ctc_loss=0.662, task_loss=1.358, contrastive_loss=0.062, total=4085.11, n_correct=2801.59, ppl=3.98, accuracy=68.581, wps=13079.8, ups=1.6, wpb=8170.2, bsz=294.4, num_updates=40200, lr=7.05346e-05, gnorm=0.547, clip=0, loss_scale=2, train_wall=62, gb_free=16, wall=30772
2023-08-20 20:55:35 | INFO | train_inner | epoch 028:    522 / 1474 loss=1.911, trans_loss=4.791, nll_loss=1.996, w2v_ctc_loss=0.649, task_loss=1.327, contrastive_loss=0.087, total=4114.72, n_correct=2822.08, ppl=3.99, accuracy=68.585, wps=13198.2, ups=1.6, wpb=8229.4, bsz=300, num_updates=40300, lr=7.0447e-05, gnorm=0.516, clip=0, loss_scale=2, train_wall=62, gb_free=15.7, wall=30834
2023-08-20 20:56:37 | INFO | train_inner | epoch 028:    622 / 1474 loss=1.912, trans_loss=4.798, nll_loss=2.005, w2v_ctc_loss=0.655, task_loss=1.316, contrastive_loss=0.067, total=4177.38, n_correct=2861.82, ppl=4.02, accuracy=68.508, wps=13388.5, ups=1.6, wpb=8354.8, bsz=304.5, num_updates=40400, lr=7.03598e-05, gnorm=0.512, clip=0, loss_scale=2, train_wall=61, gb_free=16.2, wall=30897
2023-08-20 20:57:40 | INFO | train_inner | epoch 028:    722 / 1474 loss=1.932, trans_loss=4.8, nll_loss=2.009, w2v_ctc_loss=0.648, task_loss=1.189, contrastive_loss=0.29, total=4181.01, n_correct=2864.97, ppl=4.02, accuracy=68.523, wps=13373.3, ups=1.6, wpb=8362, bsz=326.7, num_updates=40500, lr=7.02728e-05, gnorm=0.519, clip=0, loss_scale=2, train_wall=62, gb_free=16.2, wall=30959
2023-08-20 20:58:42 | INFO | train_inner | epoch 028:    822 / 1474 loss=1.907, trans_loss=4.792, nll_loss=1.999, w2v_ctc_loss=0.647, task_loss=1.291, contrastive_loss=0.066, total=4084.54, n_correct=2805.17, ppl=4, accuracy=68.678, wps=13085.9, ups=1.6, wpb=8169.1, bsz=303.9, num_updates=40600, lr=7.01862e-05, gnorm=0.514, clip=0, loss_scale=4, train_wall=62, gb_free=16.4, wall=31022
2023-08-20 20:59:45 | INFO | train_inner | epoch 028:    922 / 1474 loss=1.929, trans_loss=4.8, nll_loss=2.007, w2v_ctc_loss=0.659, task_loss=1.339, contrastive_loss=0.182, total=4123.73, n_correct=2817.34, ppl=4.02, accuracy=68.32, wps=13075.9, ups=1.59, wpb=8247.5, bsz=301.6, num_updates=40700, lr=7.01e-05, gnorm=0.535, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=31085
2023-08-20 21:00:48 | INFO | train_inner | epoch 028:   1022 / 1474 loss=1.94, trans_loss=4.799, nll_loss=2.007, w2v_ctc_loss=0.661, task_loss=1.278, contrastive_loss=0.281, total=4178.85, n_correct=2859.31, ppl=4.02, accuracy=68.423, wps=13321.8, ups=1.59, wpb=8357.7, bsz=309.9, num_updates=40800, lr=7.0014e-05, gnorm=0.55, clip=0, loss_scale=4, train_wall=62, gb_free=16.5, wall=31148
2023-08-20 21:01:51 | INFO | train_inner | epoch 028:   1122 / 1474 loss=1.913, trans_loss=4.791, nll_loss=1.997, w2v_ctc_loss=0.654, task_loss=1.251, contrastive_loss=0.099, total=4213.43, n_correct=2886.85, ppl=3.99, accuracy=68.515, wps=13332.5, ups=1.58, wpb=8426.9, bsz=320.6, num_updates=40900, lr=6.99284e-05, gnorm=0.515, clip=0, loss_scale=4, train_wall=63, gb_free=17.4, wall=31211
2023-08-20 21:02:54 | INFO | train_inner | epoch 028:   1222 / 1474 loss=1.909, trans_loss=4.798, nll_loss=2.005, w2v_ctc_loss=0.642, task_loss=1.274, contrastive_loss=0.077, total=4113.96, n_correct=2819.97, ppl=4.01, accuracy=68.546, wps=13153.2, ups=1.6, wpb=8227.9, bsz=307.1, num_updates=41000, lr=6.9843e-05, gnorm=0.529, clip=0, loss_scale=4, train_wall=62, gb_free=12.2, wall=31273
2023-08-20 21:03:57 | INFO | train_inner | epoch 028:   1322 / 1474 loss=1.922, trans_loss=4.797, nll_loss=2.003, w2v_ctc_loss=0.661, task_loss=1.457, contrastive_loss=0.103, total=4070, n_correct=2782.16, ppl=4.01, accuracy=68.358, wps=12871.4, ups=1.58, wpb=8140, bsz=281.8, num_updates=41100, lr=6.9758e-05, gnorm=0.529, clip=0, loss_scale=4, train_wall=63, gb_free=16.8, wall=31337
2023-08-20 21:05:00 | INFO | train_inner | epoch 028:   1422 / 1474 loss=1.92, trans_loss=4.793, nll_loss=1.999, w2v_ctc_loss=0.652, task_loss=1.353, contrastive_loss=0.151, total=4154.59, n_correct=2846.14, ppl=4, accuracy=68.506, wps=13237.2, ups=1.59, wpb=8309.2, bsz=300.4, num_updates=41200, lr=6.96733e-05, gnorm=0.53, clip=0, loss_scale=4, train_wall=62, gb_free=15.7, wall=31399
2023-08-20 21:05:32 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:2')
2023-08-20 21:06:05 | INFO | dev_st | epoch 028 | valid on 'dev_st' subset | loss 3.979 | trans_loss 5.168 | nll_loss 2.426 | w2v_ctc_loss 1.317 | task_loss 4.563 | contrastive_loss 0.477 | total 4003.4 | n_correct 2673.5 | ppl 5.37 | accuracy 66.781 | uer 17.832 | wer 19.63 | raw_wer 19.63 | bleu 22.31 | wps 1624.8 | wpb 4003.4 | bsz 141.8 | num_updates 41252 | best_bleu 22.31
2023-08-20 21:06:05 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 28 @ 41252 updates
2023-08-20 21:06:05 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 21:06:12 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 21:06:19 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 28 @ 41252 updates, score 22.31) (writing took 13.895928618963808 seconds)
2023-08-20 21:06:19 | INFO | fairseq_cli.train | end of epoch 28 (average epoch stats below)
2023-08-20 21:06:19 | INFO | train | epoch 028 | loss 1.92 | trans_loss 4.793 | nll_loss 1.999 | w2v_ctc_loss 0.652 | task_loss 1.303 | contrastive_loss 0.166 | total 4138.65 | n_correct 2837.12 | ppl 4 | accuracy 68.552 | wps 11917.6 | ups 1.44 | wpb 8277.3 | bsz 305.7 | num_updates 41252 | lr 6.96294e-05 | gnorm 0.527 | clip 0 | loss_scale 4 | train_wall 912 | gb_free 16.1 | wall 31479
2023-08-20 21:06:20 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 21:06:20 | INFO | fairseq.trainer | begin training epoch 29
2023-08-20 21:06:20 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 21:06:57 | INFO | train_inner | epoch 029:     48 / 1474 loss=1.908, trans_loss=4.783, nll_loss=1.987, w2v_ctc_loss=0.649, task_loss=1.255, contrastive_loss=0.096, total=4163.69, n_correct=2864.12, ppl=3.96, accuracy=68.788, wps=7125.6, ups=0.86, wpb=8327.4, bsz=315, num_updates=41300, lr=6.95889e-05, gnorm=0.515, clip=0, loss_scale=4, train_wall=61, gb_free=16.6, wall=31516
2023-08-20 21:07:59 | INFO | train_inner | epoch 029:    148 / 1474 loss=1.915, trans_loss=4.785, nll_loss=1.988, w2v_ctc_loss=0.654, task_loss=1.282, contrastive_loss=0.126, total=4123.71, n_correct=2835.61, ppl=3.97, accuracy=68.764, wps=13154.3, ups=1.59, wpb=8247.4, bsz=307.9, num_updates=41400, lr=6.95048e-05, gnorm=0.517, clip=0, loss_scale=4, train_wall=62, gb_free=16.3, wall=31579
2023-08-20 21:09:02 | INFO | train_inner | epoch 029:    248 / 1474 loss=1.919, trans_loss=4.776, nll_loss=1.977, w2v_ctc_loss=0.631, task_loss=1.193, contrastive_loss=0.294, total=4192.44, n_correct=2886.75, ppl=3.94, accuracy=68.856, wps=13321.4, ups=1.59, wpb=8384.9, bsz=328.2, num_updates=41500, lr=6.9421e-05, gnorm=0.514, clip=0, loss_scale=4, train_wall=62, gb_free=16, wall=31642
2023-08-20 21:10:05 | INFO | train_inner | epoch 029:    348 / 1474 loss=1.916, trans_loss=4.794, nll_loss=1.999, w2v_ctc_loss=0.663, task_loss=1.397, contrastive_loss=0.071, total=4095.08, n_correct=2808.5, ppl=4, accuracy=68.582, wps=13055.8, ups=1.59, wpb=8190.2, bsz=291.2, num_updates=41600, lr=6.93375e-05, gnorm=0.52, clip=0, loss_scale=4, train_wall=62, gb_free=16.6, wall=31705
2023-08-20 21:11:08 | INFO | train_inner | epoch 029:    448 / 1474 loss=1.895, trans_loss=4.766, nll_loss=1.964, w2v_ctc_loss=0.64, task_loss=1.252, contrastive_loss=0.062, total=4155.97, n_correct=2873.05, ppl=3.9, accuracy=69.131, wps=13296.6, ups=1.6, wpb=8311.9, bsz=307.7, num_updates=41700, lr=6.92543e-05, gnorm=0.517, clip=0, loss_scale=4, train_wall=62, gb_free=14.4, wall=31767
2023-08-20 21:12:11 | INFO | train_inner | epoch 029:    548 / 1474 loss=1.931, trans_loss=4.791, nll_loss=1.996, w2v_ctc_loss=0.649, task_loss=1.386, contrastive_loss=0.244, total=4159.23, n_correct=2848.75, ppl=3.99, accuracy=68.492, wps=13223.8, ups=1.59, wpb=8318.5, bsz=295.2, num_updates=41800, lr=6.91714e-05, gnorm=0.528, clip=0, loss_scale=4, train_wall=62, gb_free=16.4, wall=31830
2023-08-20 21:13:13 | INFO | train_inner | epoch 029:    648 / 1474 loss=1.929, trans_loss=4.779, nll_loss=1.982, w2v_ctc_loss=0.643, task_loss=1.23, contrastive_loss=0.387, total=4139.5, n_correct=2850.44, ppl=3.95, accuracy=68.86, wps=13161.5, ups=1.59, wpb=8279, bsz=318.8, num_updates=41900, lr=6.90889e-05, gnorm=0.521, clip=0, loss_scale=4, train_wall=62, gb_free=15.8, wall=31893
2023-08-20 21:14:17 | INFO | train_inner | epoch 029:    748 / 1474 loss=1.917, trans_loss=4.781, nll_loss=1.984, w2v_ctc_loss=0.644, task_loss=1.204, contrastive_loss=0.212, total=4241.03, n_correct=2920.5, ppl=3.95, accuracy=68.863, wps=13438.6, ups=1.58, wpb=8482.1, bsz=328.7, num_updates=42000, lr=6.90066e-05, gnorm=0.516, clip=0, loss_scale=4, train_wall=62, gb_free=15.2, wall=31956
2023-08-20 21:14:17 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 21:14:51 | INFO | dev_st | epoch 029 | valid on 'dev_st' subset | loss 3.983 | trans_loss 5.168 | nll_loss 2.428 | w2v_ctc_loss 1.337 | task_loss 4.528 | contrastive_loss 0.465 | total 4003.4 | n_correct 2669.4 | ppl 5.38 | accuracy 66.678 | uer 17.527 | wer 19.414 | raw_wer 19.414 | bleu 22.26 | wps 1524.8 | wpb 4003.4 | bsz 141.8 | num_updates 42000 | best_bleu 22.31
2023-08-20 21:14:51 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 29 @ 42000 updates
2023-08-20 21:14:51 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_29_42000.pt
2023-08-20 21:14:54 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_29_42000.pt
2023-08-20 21:15:00 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_29_42000.pt (epoch 29 @ 42000 updates, score 22.26) (writing took 9.390946358034853 seconds)
2023-08-20 21:16:03 | INFO | train_inner | epoch 029:    848 / 1474 loss=1.909, trans_loss=4.793, nll_loss=1.999, w2v_ctc_loss=0.647, task_loss=1.43, contrastive_loss=0.062, total=4031.53, n_correct=2765.82, ppl=4, accuracy=68.605, wps=7571.9, ups=0.94, wpb=8063.1, bsz=282.9, num_updates=42100, lr=6.89246e-05, gnorm=0.537, clip=0, loss_scale=4, train_wall=61, gb_free=15.9, wall=32063
2023-08-20 21:17:05 | INFO | train_inner | epoch 029:    948 / 1474 loss=1.912, trans_loss=4.79, nll_loss=1.995, w2v_ctc_loss=0.656, task_loss=1.356, contrastive_loss=0.073, total=4082.22, n_correct=2801.27, ppl=3.99, accuracy=68.621, wps=13122.2, ups=1.61, wpb=8164.4, bsz=293.3, num_updates=42200, lr=6.88428e-05, gnorm=0.529, clip=0, loss_scale=4, train_wall=62, gb_free=15.9, wall=32125
2023-08-20 21:18:08 | INFO | train_inner | epoch 029:   1048 / 1474 loss=1.914, trans_loss=4.78, nll_loss=1.983, w2v_ctc_loss=0.639, task_loss=1.294, contrastive_loss=0.217, total=4134.44, n_correct=2846.33, ppl=3.95, accuracy=68.844, wps=13197.2, ups=1.6, wpb=8268.9, bsz=307.7, num_updates=42300, lr=6.87614e-05, gnorm=0.519, clip=0, loss_scale=4, train_wall=62, gb_free=16.7, wall=32188
2023-08-20 21:19:11 | INFO | train_inner | epoch 029:   1148 / 1474 loss=1.912, trans_loss=4.794, nll_loss=1.999, w2v_ctc_loss=0.657, task_loss=1.419, contrastive_loss=0.057, total=4080.4, n_correct=2797.08, ppl=4, accuracy=68.549, wps=12985.1, ups=1.59, wpb=8160.8, bsz=285.2, num_updates=42400, lr=6.86803e-05, gnorm=0.513, clip=0, loss_scale=4, train_wall=62, gb_free=11.6, wall=32250
2023-08-20 21:20:13 | INFO | train_inner | epoch 029:   1248 / 1474 loss=1.909, trans_loss=4.793, nll_loss=1.999, w2v_ctc_loss=0.65, task_loss=1.317, contrastive_loss=0.062, total=4158.63, n_correct=2852.14, ppl=4, accuracy=68.584, wps=13329.8, ups=1.6, wpb=8317.3, bsz=301.6, num_updates=42500, lr=6.85994e-05, gnorm=0.51, clip=0, loss_scale=4, train_wall=62, gb_free=16.2, wall=32313
2023-08-20 21:21:16 | INFO | train_inner | epoch 029:   1348 / 1474 loss=1.913, trans_loss=4.78, nll_loss=1.984, w2v_ctc_loss=0.638, task_loss=1.296, contrastive_loss=0.182, total=4159.66, n_correct=2864.41, ppl=3.95, accuracy=68.862, wps=13305.1, ups=1.6, wpb=8319.3, bsz=308.6, num_updates=42600, lr=6.85189e-05, gnorm=0.512, clip=0, loss_scale=8, train_wall=62, gb_free=16.3, wall=32375
2023-08-20 21:22:18 | INFO | train_inner | epoch 029:   1448 / 1474 loss=1.921, trans_loss=4.781, nll_loss=1.984, w2v_ctc_loss=0.648, task_loss=1.263, contrastive_loss=0.248, total=4169.01, n_correct=2868.78, ppl=3.96, accuracy=68.812, wps=13416.6, ups=1.61, wpb=8338, bsz=314.2, num_updates=42700, lr=6.84386e-05, gnorm=0.565, clip=0, loss_scale=8, train_wall=61, gb_free=17.5, wall=32438
2023-08-20 21:22:34 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 21:23:07 | INFO | dev_st | epoch 029 | valid on 'dev_st' subset | loss 3.969 | trans_loss 5.17 | nll_loss 2.43 | w2v_ctc_loss 1.288 | task_loss 4.547 | contrastive_loss 0.464 | total 4003.4 | n_correct 2675.9 | ppl 5.39 | accuracy 66.841 | uer 17.27 | wer 19.071 | raw_wer 19.071 | bleu 21.92 | wps 1639.6 | wpb 4003.4 | bsz 141.8 | num_updates 42726 | best_bleu 22.31
2023-08-20 21:23:07 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 29 @ 42726 updates
2023-08-20 21:23:07 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.9201.pt
2023-08-20 21:23:09 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.9201.pt
2023-08-20 21:23:15 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_21.9201.pt (epoch 29 @ 42726 updates, score 21.92) (writing took 8.486257121025119 seconds)
2023-08-20 21:23:16 | INFO | fairseq_cli.train | end of epoch 29 (average epoch stats below)
2023-08-20 21:23:16 | INFO | train | epoch 029 | loss 1.915 | trans_loss 4.784 | nll_loss 1.988 | w2v_ctc_loss 0.647 | task_loss 1.302 | contrastive_loss 0.164 | total 4138.65 | n_correct 2845.48 | ppl 3.97 | accuracy 68.754 | wps 12006.2 | ups 1.45 | wpb 8277.3 | bsz 305.7 | num_updates 42726 | lr 6.84178e-05 | gnorm 0.522 | clip 0 | loss_scale 8 | train_wall 912 | gb_free 15.6 | wall 32495
2023-08-20 21:23:16 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 21:23:16 | INFO | fairseq.trainer | begin training epoch 30
2023-08-20 21:23:16 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 21:24:10 | INFO | train_inner | epoch 030:     74 / 1474 loss=1.917, trans_loss=4.774, nll_loss=1.975, w2v_ctc_loss=0.634, task_loss=1.247, contrastive_loss=0.28, total=4172.13, n_correct=2878.09, ppl=3.93, accuracy=68.984, wps=7475.6, ups=0.9, wpb=8344.3, bsz=317.1, num_updates=42800, lr=6.83586e-05, gnorm=0.578, clip=0, loss_scale=8, train_wall=61, gb_free=15.5, wall=32549
2023-08-20 21:25:12 | INFO | train_inner | epoch 030:    174 / 1474 loss=1.9, trans_loss=4.759, nll_loss=1.956, w2v_ctc_loss=0.638, task_loss=1.213, contrastive_loss=0.138, total=4211.56, n_correct=2917.7, ppl=3.88, accuracy=69.278, wps=13404.2, ups=1.59, wpb=8423.1, bsz=320.5, num_updates=42900, lr=6.82789e-05, gnorm=0.521, clip=0, loss_scale=8, train_wall=62, gb_free=16.6, wall=32612
2023-08-20 21:26:15 | INFO | train_inner | epoch 030:    274 / 1474 loss=1.902, trans_loss=4.775, nll_loss=1.976, w2v_ctc_loss=0.647, task_loss=1.358, contrastive_loss=0.059, total=4115.07, n_correct=2835.68, ppl=3.93, accuracy=68.91, wps=13241.1, ups=1.61, wpb=8230.1, bsz=293.2, num_updates=43000, lr=6.81994e-05, gnorm=0.512, clip=0, loss_scale=8, train_wall=61, gb_free=15.3, wall=32674
2023-08-20 21:27:18 | INFO | train_inner | epoch 030:    374 / 1474 loss=1.89, trans_loss=4.765, nll_loss=1.963, w2v_ctc_loss=0.63, task_loss=1.289, contrastive_loss=0.062, total=4184.54, n_correct=2898.52, ppl=3.9, accuracy=69.267, wps=13266.4, ups=1.59, wpb=8369.1, bsz=309.3, num_updates=43100, lr=6.81203e-05, gnorm=0.507, clip=0, loss_scale=8, train_wall=62, gb_free=16.9, wall=32737
2023-08-20 21:28:20 | INFO | train_inner | epoch 030:    474 / 1474 loss=1.905, trans_loss=4.77, nll_loss=1.97, w2v_ctc_loss=0.629, task_loss=1.26, contrastive_loss=0.182, total=4121.08, n_correct=2847.91, ppl=3.92, accuracy=69.106, wps=13231.2, ups=1.61, wpb=8242.2, bsz=311.1, num_updates=43200, lr=6.80414e-05, gnorm=0.518, clip=0, loss_scale=8, train_wall=62, gb_free=14.4, wall=32800
2023-08-20 21:29:22 | INFO | train_inner | epoch 030:    574 / 1474 loss=1.903, trans_loss=4.775, nll_loss=1.976, w2v_ctc_loss=0.642, task_loss=1.264, contrastive_loss=0.107, total=4162.58, n_correct=2871.3, ppl=3.93, accuracy=68.979, wps=13427.9, ups=1.61, wpb=8325.2, bsz=312.1, num_updates=43300, lr=6.79628e-05, gnorm=0.522, clip=0, loss_scale=8, train_wall=61, gb_free=14.9, wall=32862
2023-08-20 21:30:25 | INFO | train_inner | epoch 030:    674 / 1474 loss=1.911, trans_loss=4.777, nll_loss=1.978, w2v_ctc_loss=0.652, task_loss=1.283, contrastive_loss=0.128, total=4192, n_correct=2883.26, ppl=3.94, accuracy=68.78, wps=13370.4, ups=1.59, wpb=8384, bsz=315.3, num_updates=43400, lr=6.78844e-05, gnorm=0.529, clip=0, loss_scale=8, train_wall=62, gb_free=15.3, wall=32924
2023-08-20 21:31:28 | INFO | train_inner | epoch 030:    774 / 1474 loss=1.931, trans_loss=4.78, nll_loss=1.982, w2v_ctc_loss=0.653, task_loss=1.329, contrastive_loss=0.296, total=4103.26, n_correct=2821.92, ppl=3.95, accuracy=68.773, wps=13057.2, ups=1.59, wpb=8206.5, bsz=302.6, num_updates=43500, lr=6.78064e-05, gnorm=0.525, clip=0, loss_scale=8, train_wall=62, gb_free=15.9, wall=32987
2023-08-20 21:32:30 | INFO | train_inner | epoch 030:    874 / 1474 loss=1.907, trans_loss=4.781, nll_loss=1.984, w2v_ctc_loss=0.646, task_loss=1.331, contrastive_loss=0.084, total=4111.51, n_correct=2833.2, ppl=3.95, accuracy=68.909, wps=13182.7, ups=1.6, wpb=8223, bsz=297.8, num_updates=43600, lr=6.77285e-05, gnorm=0.518, clip=0, loss_scale=8, train_wall=62, gb_free=15.7, wall=33050
2023-08-20 21:33:33 | INFO | train_inner | epoch 030:    974 / 1474 loss=1.908, trans_loss=4.783, nll_loss=1.986, w2v_ctc_loss=0.649, task_loss=1.345, contrastive_loss=0.082, total=4125.95, n_correct=2835.36, ppl=3.96, accuracy=68.72, wps=13185.8, ups=1.6, wpb=8251.9, bsz=298.7, num_updates=43700, lr=6.7651e-05, gnorm=0.516, clip=0, loss_scale=8, train_wall=62, gb_free=16.2, wall=33112
2023-08-20 21:34:36 | INFO | train_inner | epoch 030:   1074 / 1474 loss=1.923, trans_loss=4.783, nll_loss=1.985, w2v_ctc_loss=0.643, task_loss=1.46, contrastive_loss=0.248, total=4096.17, n_correct=2812.59, ppl=3.96, accuracy=68.664, wps=12904.1, ups=1.58, wpb=8192.3, bsz=281.5, num_updates=43800, lr=6.75737e-05, gnorm=0.546, clip=0, loss_scale=8, train_wall=63, gb_free=15.8, wall=33176
2023-08-20 21:35:39 | INFO | train_inner | epoch 030:   1174 / 1474 loss=1.907, trans_loss=4.773, nll_loss=1.974, w2v_ctc_loss=0.629, task_loss=1.25, contrastive_loss=0.203, total=4168.92, n_correct=2879.61, ppl=3.93, accuracy=69.073, wps=13280.4, ups=1.59, wpb=8337.8, bsz=314.8, num_updates=43900, lr=6.74967e-05, gnorm=0.516, clip=0, loss_scale=8, train_wall=62, gb_free=17.3, wall=33238
2023-08-20 21:36:42 | INFO | train_inner | epoch 030:   1274 / 1474 loss=1.908, trans_loss=4.783, nll_loss=1.986, w2v_ctc_loss=0.651, task_loss=1.442, contrastive_loss=0.071, total=4038.68, n_correct=2775.41, ppl=3.96, accuracy=68.721, wps=12763.8, ups=1.58, wpb=8077.4, bsz=284.1, num_updates=44000, lr=6.742e-05, gnorm=0.526, clip=0, loss_scale=8, train_wall=63, gb_free=14.5, wall=33302
2023-08-20 21:36:42 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 21:37:15 | INFO | dev_st | epoch 030 | valid on 'dev_st' subset | loss 3.968 | trans_loss 5.165 | nll_loss 2.424 | w2v_ctc_loss 1.287 | task_loss 4.568 | contrastive_loss 0.473 | total 4003.4 | n_correct 2672.9 | ppl 5.36 | accuracy 66.766 | uer 17.434 | wer 19.138 | raw_wer 19.138 | bleu 22.15 | wps 1632.8 | wpb 4003.4 | bsz 141.8 | num_updates 44000 | best_bleu 22.31
2023-08-20 21:37:15 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 30 @ 44000 updates
2023-08-20 21:37:15 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_30_44000.pt
2023-08-20 21:37:18 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_30_44000.pt
2023-08-20 21:37:25 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_30_44000.pt (epoch 30 @ 44000 updates, score 22.15) (writing took 10.07263393199537 seconds)
2023-08-20 21:38:29 | INFO | train_inner | epoch 030:   1374 / 1474 loss=1.897, trans_loss=4.777, nll_loss=1.979, w2v_ctc_loss=0.635, task_loss=1.222, contrastive_loss=0.086, total=4167.64, n_correct=2873.44, ppl=3.94, accuracy=68.946, wps=7804.9, ups=0.94, wpb=8335.3, bsz=321.9, num_updates=44100, lr=6.73435e-05, gnorm=0.519, clip=0, loss_scale=8, train_wall=61, gb_free=16.3, wall=33408
2023-08-20 21:39:31 | INFO | train_inner | epoch 030:   1474 / 1474 loss=1.924, trans_loss=4.781, nll_loss=1.984, w2v_ctc_loss=0.63, task_loss=1.229, contrastive_loss=0.383, total=4117.91, n_correct=2835.43, ppl=3.96, accuracy=68.856, wps=13243.3, ups=1.61, wpb=8235.8, bsz=312.2, num_updates=44200, lr=6.72673e-05, gnorm=0.517, clip=0, loss_scale=8, train_wall=61, gb_free=16.7, wall=33471
2023-08-20 21:39:31 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 21:40:04 | INFO | dev_st | epoch 030 | valid on 'dev_st' subset | loss 3.964 | trans_loss 5.167 | nll_loss 2.425 | w2v_ctc_loss 1.276 | task_loss 4.561 | contrastive_loss 0.463 | total 4003.4 | n_correct 2675.2 | ppl 5.37 | accuracy 66.823 | uer 17.434 | wer 19.246 | raw_wer 19.246 | bleu 22.17 | wps 1616.1 | wpb 4003.4 | bsz 141.8 | num_updates 44200 | best_bleu 22.31
2023-08-20 21:40:04 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 30 @ 44200 updates
2023-08-20 21:40:04 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_22.1703.pt
2023-08-20 21:40:07 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_22.1703.pt
2023-08-20 21:40:13 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint.best_bleu_22.1703.pt (epoch 30 @ 44200 updates, score 22.17) (writing took 9.013967498962302 seconds)
2023-08-20 21:40:13 | INFO | fairseq_cli.train | end of epoch 30 (average epoch stats below)
2023-08-20 21:40:13 | INFO | train | epoch 030 | loss 1.909 | trans_loss 4.776 | nll_loss 1.977 | w2v_ctc_loss 0.64 | task_loss 1.302 | contrastive_loss 0.163 | total 4138.65 | n_correct 2852.86 | ppl 3.94 | accuracy 68.932 | wps 11986.8 | ups 1.45 | wpb 8277.3 | bsz 305.7 | num_updates 44200 | lr 6.72673e-05 | gnorm 0.525 | clip 0 | loss_scale 8 | train_wall 913 | gb_free 16.7 | wall 33513
2023-08-20 21:40:14 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 21:40:14 | INFO | fairseq.trainer | begin training epoch 31
2023-08-20 21:40:14 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 21:41:24 | INFO | train_inner | epoch 031:    100 / 1474 loss=1.898, trans_loss=4.765, nll_loss=1.962, w2v_ctc_loss=0.643, task_loss=1.376, contrastive_loss=0.075, total=4085.38, n_correct=2822.03, ppl=3.9, accuracy=69.076, wps=7265.4, ups=0.89, wpb=8170.8, bsz=293.4, num_updates=44300, lr=6.71913e-05, gnorm=0.528, clip=0, loss_scale=8, train_wall=62, gb_free=14.6, wall=33583
2023-08-20 21:42:26 | INFO | train_inner | epoch 031:    200 / 1474 loss=1.896, trans_loss=4.765, nll_loss=1.962, w2v_ctc_loss=0.633, task_loss=1.345, contrastive_loss=0.094, total=4139.51, n_correct=2863.3, ppl=3.9, accuracy=69.17, wps=13295.7, ups=1.61, wpb=8279, bsz=299.4, num_updates=44400, lr=6.71156e-05, gnorm=0.521, clip=0, loss_scale=8, train_wall=61, gb_free=11.4, wall=33645
2023-08-20 21:43:29 | INFO | train_inner | epoch 031:    300 / 1474 loss=1.905, trans_loss=4.761, nll_loss=1.957, w2v_ctc_loss=0.633, task_loss=1.333, contrastive_loss=0.19, total=4148.01, n_correct=2871.36, ppl=3.88, accuracy=69.223, wps=13102.3, ups=1.58, wpb=8296, bsz=301.1, num_updates=44500, lr=6.70402e-05, gnorm=0.51, clip=0, loss_scale=8, train_wall=63, gb_free=12.8, wall=33709
2023-08-20 21:44:31 | INFO | train_inner | epoch 031:    400 / 1474 loss=1.898, trans_loss=4.772, nll_loss=1.972, w2v_ctc_loss=0.634, task_loss=1.421, contrastive_loss=0.071, total=4095.42, n_correct=2824.98, ppl=3.92, accuracy=68.979, wps=13173.1, ups=1.61, wpb=8190.8, bsz=286.3, num_updates=44600, lr=6.6965e-05, gnorm=0.516, clip=0, loss_scale=16, train_wall=62, gb_free=13, wall=33771
2023-08-20 21:45:34 | INFO | train_inner | epoch 031:    500 / 1474 loss=1.896, trans_loss=4.765, nll_loss=1.962, w2v_ctc_loss=0.639, task_loss=1.357, contrastive_loss=0.078, total=4115.61, n_correct=2842.96, ppl=3.9, accuracy=69.077, wps=13059.2, ups=1.59, wpb=8231.2, bsz=300.6, num_updates=44700, lr=6.689e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=62, gb_free=16, wall=33834
2023-08-20 21:46:37 | INFO | train_inner | epoch 031:    600 / 1474 loss=1.894, trans_loss=4.766, nll_loss=1.965, w2v_ctc_loss=0.635, task_loss=1.374, contrastive_loss=0.066, total=4075.9, n_correct=2816.22, ppl=3.9, accuracy=69.094, wps=13104, ups=1.61, wpb=8151.8, bsz=293.3, num_updates=44800, lr=6.68153e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=61, gb_free=11.4, wall=33896
2023-08-20 21:47:39 | INFO | train_inner | epoch 031:    700 / 1474 loss=1.889, trans_loss=4.763, nll_loss=1.961, w2v_ctc_loss=0.628, task_loss=1.241, contrastive_loss=0.068, total=4208.99, n_correct=2912.3, ppl=3.89, accuracy=69.192, wps=13552, ups=1.61, wpb=8418, bsz=315.1, num_updates=44900, lr=6.67409e-05, gnorm=0.514, clip=0, loss_scale=16, train_wall=61, gb_free=17.5, wall=33958
2023-08-20 21:48:42 | INFO | train_inner | epoch 031:    800 / 1474 loss=1.911, trans_loss=4.772, nll_loss=1.972, w2v_ctc_loss=0.634, task_loss=1.353, contrastive_loss=0.197, total=4104.19, n_correct=2827.82, ppl=3.92, accuracy=68.901, wps=12911.6, ups=1.57, wpb=8208.4, bsz=297.4, num_updates=45000, lr=6.66667e-05, gnorm=0.598, clip=0, loss_scale=16, train_wall=63, gb_free=14.9, wall=34022
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:0')
2023-08-20 21:49:45 | INFO | train_inner | epoch 031:    900 / 1474 loss=1.897, trans_loss=4.761, nll_loss=1.957, w2v_ctc_loss=0.639, task_loss=1.375, contrastive_loss=0.093, total=4099.13, n_correct=2836.3, ppl=3.88, accuracy=69.193, wps=13158.5, ups=1.61, wpb=8198.3, bsz=294.3, num_updates=45100, lr=6.65927e-05, gnorm=0.551, clip=0, loss_scale=16, train_wall=61, gb_free=14.8, wall=34084
2023-08-20 21:50:47 | INFO | train_inner | epoch 031:   1000 / 1474 loss=1.911, trans_loss=4.774, nll_loss=1.975, w2v_ctc_loss=0.629, task_loss=1.215, contrastive_loss=0.254, total=4186.81, n_correct=2891.11, ppl=3.93, accuracy=69.053, wps=13401.8, ups=1.6, wpb=8373.6, bsz=320.9, num_updates=45200, lr=6.6519e-05, gnorm=0.521, clip=0, loss_scale=16, train_wall=62, gb_free=12.9, wall=34147
2023-08-20 21:51:38 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-20 21:51:50 | INFO | train_inner | epoch 031:   1101 / 1474 loss=1.901, trans_loss=4.769, nll_loss=1.968, w2v_ctc_loss=0.63, task_loss=1.269, contrastive_loss=0.149, total=4153.64, n_correct=2872.36, ppl=3.91, accuracy=69.153, wps=13244, ups=1.59, wpb=8307.3, bsz=315.5, num_updates=45300, lr=6.64455e-05, gnorm=0.538, clip=0, loss_scale=8, train_wall=62, gb_free=14.8, wall=34209
2023-08-20 21:52:52 | INFO | train_inner | epoch 031:   1201 / 1474 loss=1.918, trans_loss=4.769, nll_loss=1.969, w2v_ctc_loss=0.628, task_loss=1.211, contrastive_loss=0.383, total=4190.99, n_correct=2897.13, ppl=3.91, accuracy=69.128, wps=13518, ups=1.61, wpb=8382, bsz=323, num_updates=45400, lr=6.63723e-05, gnorm=0.509, clip=0, loss_scale=8, train_wall=61, gb_free=16.9, wall=34271
2023-08-20 21:53:55 | INFO | train_inner | epoch 031:   1301 / 1474 loss=1.897, trans_loss=4.777, nll_loss=1.979, w2v_ctc_loss=0.636, task_loss=1.176, contrastive_loss=0.077, total=4226.19, n_correct=2912.61, ppl=3.94, accuracy=68.918, wps=13371.7, ups=1.58, wpb=8452.4, bsz=325.1, num_updates=45500, lr=6.62994e-05, gnorm=0.531, clip=0, loss_scale=8, train_wall=62, gb_free=16.6, wall=34335
2023-08-20 21:54:58 | INFO | train_inner | epoch 031:   1401 / 1474 loss=1.939, trans_loss=4.771, nll_loss=1.972, w2v_ctc_loss=0.635, task_loss=1.194, contrastive_loss=0.484, total=4192.11, n_correct=2891.98, ppl=3.92, accuracy=68.986, wps=13296.6, ups=1.59, wpb=8384.2, bsz=327, num_updates=45600, lr=6.62266e-05, gnorm=0.535, clip=0, loss_scale=8, train_wall=62, gb_free=15.9, wall=34398
2023-08-20 21:55:43 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2809, device='cuda:2')
2023-08-20 21:56:18 | INFO | dev_st | epoch 031 | valid on 'dev_st' subset | loss 3.972 | trans_loss 5.172 | nll_loss 2.431 | w2v_ctc_loss 1.289 | task_loss 4.542 | contrastive_loss 0.478 | total 4003.4 | n_correct 2672.7 | ppl 5.39 | accuracy 66.761 | uer 17.333 | wer 19.384 | raw_wer 19.384 | bleu 22.38 | wps 1470.5 | wpb 4003.4 | bsz 141.8 | num_updates 45673 | best_bleu 22.38
2023-08-20 21:56:18 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 31 @ 45673 updates
2023-08-20 21:56:18 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 21:56:27 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 21:56:33 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 31 @ 45673 updates, score 22.38) (writing took 15.18527802202152 seconds)
2023-08-20 21:56:34 | INFO | fairseq_cli.train | end of epoch 31 (average epoch stats below)
2023-08-20 21:56:34 | INFO | train | epoch 031 | loss 1.903 | trans_loss 4.768 | nll_loss 1.967 | w2v_ctc_loss 0.634 | task_loss 1.303 | contrastive_loss 0.161 | total 4139.08 | n_correct 2859.15 | ppl 3.91 | accuracy 69.077 | wps 12435.1 | ups 1.5 | wpb 8278.2 | bsz 305.8 | num_updates 45673 | lr 6.61737e-05 | gnorm 0.529 | clip 0 | loss_scale 8 | train_wall 910 | gb_free 11.6 | wall 34494
2023-08-20 21:56:34 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 21:56:34 | INFO | fairseq.trainer | begin training epoch 32
2023-08-20 21:56:34 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 21:56:58 | INFO | train_inner | epoch 032:     27 / 1474 loss=1.894, trans_loss=4.765, nll_loss=1.962, w2v_ctc_loss=0.639, task_loss=1.361, contrastive_loss=0.063, total=4051.41, n_correct=2801.77, ppl=3.9, accuracy=69.155, wps=6740.8, ups=0.83, wpb=8102.8, bsz=291.6, num_updates=45700, lr=6.61541e-05, gnorm=0.525, clip=0, loss_scale=8, train_wall=61, gb_free=15.4, wall=34518
2023-08-20 21:58:01 | INFO | train_inner | epoch 032:    127 / 1474 loss=1.878, trans_loss=4.744, nll_loss=1.936, w2v_ctc_loss=0.616, task_loss=1.222, contrastive_loss=0.077, total=4208.32, n_correct=2930.56, ppl=3.83, accuracy=69.637, wps=13393.4, ups=1.59, wpb=8416.6, bsz=319.1, num_updates=45800, lr=6.60819e-05, gnorm=0.525, clip=0, loss_scale=8, train_wall=62, gb_free=11.2, wall=34581
2023-08-20 21:59:04 | INFO | train_inner | epoch 032:    227 / 1474 loss=1.889, trans_loss=4.762, nll_loss=1.959, w2v_ctc_loss=0.629, task_loss=1.24, contrastive_loss=0.09, total=4157.86, n_correct=2879.61, ppl=3.89, accuracy=69.257, wps=13302, ups=1.6, wpb=8315.7, bsz=320.3, num_updates=45900, lr=6.60098e-05, gnorm=0.535, clip=0, loss_scale=8, train_wall=62, gb_free=14, wall=34643
2023-08-20 22:00:07 | INFO | train_inner | epoch 032:    327 / 1474 loss=1.881, trans_loss=4.746, nll_loss=1.939, w2v_ctc_loss=0.619, task_loss=1.235, contrastive_loss=0.082, total=4179.17, n_correct=2909.29, ppl=3.83, accuracy=69.614, wps=13288.5, ups=1.59, wpb=8358.3, bsz=313.4, num_updates=46000, lr=6.5938e-05, gnorm=0.527, clip=0, loss_scale=8, train_wall=62, gb_free=16.7, wall=34706
2023-08-20 22:00:07 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 22:00:40 | INFO | dev_st | epoch 032 | valid on 'dev_st' subset | loss 3.986 | trans_loss 5.17 | nll_loss 2.428 | w2v_ctc_loss 1.34 | task_loss 4.564 | contrastive_loss 0.47 | total 4003.4 | n_correct 2678.2 | ppl 5.38 | accuracy 66.898 | uer 17.527 | wer 19.324 | raw_wer 19.324 | bleu 22.46 | wps 1555.4 | wpb 4003.4 | bsz 141.8 | num_updates 46000 | best_bleu 22.46
2023-08-20 22:00:40 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 32 @ 46000 updates
2023-08-20 22:00:40 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_32_46000.pt
2023-08-20 22:00:43 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_32_46000.pt
2023-08-20 22:00:55 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_32_46000.pt (epoch 32 @ 46000 updates, score 22.46) (writing took 14.57365839096019 seconds)
2023-08-20 22:01:58 | INFO | train_inner | epoch 032:    427 / 1474 loss=1.885, trans_loss=4.75, nll_loss=1.943, w2v_ctc_loss=0.627, task_loss=1.257, contrastive_loss=0.08, total=4179.5, n_correct=2904.45, ppl=3.85, accuracy=69.493, wps=7517.5, ups=0.9, wpb=8359, bsz=312.2, num_updates=46100, lr=6.58665e-05, gnorm=0.518, clip=0, loss_scale=8, train_wall=61, gb_free=17.5, wall=34817
2023-08-20 22:03:01 | INFO | train_inner | epoch 032:    527 / 1474 loss=1.908, trans_loss=4.762, nll_loss=1.959, w2v_ctc_loss=0.632, task_loss=1.282, contrastive_loss=0.227, total=4188.83, n_correct=2897, ppl=3.89, accuracy=69.16, wps=13242, ups=1.58, wpb=8377.7, bsz=313.9, num_updates=46200, lr=6.57952e-05, gnorm=0.516, clip=0, loss_scale=8, train_wall=63, gb_free=12.4, wall=34881
2023-08-20 22:04:04 | INFO | train_inner | epoch 032:    627 / 1474 loss=1.896, trans_loss=4.764, nll_loss=1.961, w2v_ctc_loss=0.635, task_loss=1.369, contrastive_loss=0.088, total=4133.19, n_correct=2856.95, ppl=3.89, accuracy=69.122, wps=13116.6, ups=1.59, wpb=8266.4, bsz=298.7, num_updates=46300, lr=6.57241e-05, gnorm=0.514, clip=0, loss_scale=8, train_wall=62, gb_free=16.9, wall=34944
2023-08-20 22:05:07 | INFO | train_inner | epoch 032:    727 / 1474 loss=1.892, trans_loss=4.762, nll_loss=1.959, w2v_ctc_loss=0.638, task_loss=1.312, contrastive_loss=0.063, total=4162.1, n_correct=2882.2, ppl=3.89, accuracy=69.249, wps=13247.9, ups=1.59, wpb=8324.2, bsz=304.3, num_updates=46400, lr=6.56532e-05, gnorm=0.512, clip=0, loss_scale=8, train_wall=62, gb_free=15.4, wall=35007
2023-08-20 22:06:09 | INFO | train_inner | epoch 032:    827 / 1474 loss=1.889, trans_loss=4.76, nll_loss=1.956, w2v_ctc_loss=0.629, task_loss=1.361, contrastive_loss=0.06, total=4107.86, n_correct=2845.76, ppl=3.88, accuracy=69.276, wps=13155.3, ups=1.6, wpb=8215.7, bsz=292.6, num_updates=46500, lr=6.55826e-05, gnorm=0.532, clip=0, loss_scale=8, train_wall=62, gb_free=15.4, wall=35069
2023-08-20 22:07:12 | INFO | train_inner | epoch 032:    927 / 1474 loss=1.885, trans_loss=4.758, nll_loss=1.954, w2v_ctc_loss=0.624, task_loss=1.334, contrastive_loss=0.06, total=4146.9, n_correct=2875.38, ppl=3.87, accuracy=69.338, wps=13286.2, ups=1.6, wpb=8293.8, bsz=300.4, num_updates=46600, lr=6.55122e-05, gnorm=0.514, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=35131
2023-08-20 22:08:14 | INFO | train_inner | epoch 032:   1027 / 1474 loss=1.91, trans_loss=4.766, nll_loss=1.963, w2v_ctc_loss=0.636, task_loss=1.295, contrastive_loss=0.247, total=4112.45, n_correct=2841.95, ppl=3.9, accuracy=69.106, wps=13203, ups=1.61, wpb=8224.9, bsz=304.3, num_updates=46700, lr=6.5442e-05, gnorm=0.519, clip=0, loss_scale=8, train_wall=62, gb_free=16.8, wall=35194
2023-08-20 22:09:17 | INFO | train_inner | epoch 032:   1127 / 1474 loss=1.902, trans_loss=4.762, nll_loss=1.958, w2v_ctc_loss=0.634, task_loss=1.556, contrastive_loss=0.127, total=4015.2, n_correct=2776.38, ppl=3.89, accuracy=69.147, wps=12739.7, ups=1.59, wpb=8030.4, bsz=269.7, num_updates=46800, lr=6.5372e-05, gnorm=0.521, clip=0, loss_scale=8, train_wall=62, gb_free=13.9, wall=35257
2023-08-20 22:10:20 | INFO | train_inner | epoch 032:   1227 / 1474 loss=1.925, trans_loss=4.774, nll_loss=1.975, w2v_ctc_loss=0.636, task_loss=1.279, contrastive_loss=0.322, total=4158.99, n_correct=2866.65, ppl=3.93, accuracy=68.927, wps=13319.7, ups=1.6, wpb=8318, bsz=312.1, num_updates=46900, lr=6.53023e-05, gnorm=0.533, clip=0, loss_scale=8, train_wall=62, gb_free=15.7, wall=35319
2023-08-20 22:11:22 | INFO | train_inner | epoch 032:   1327 / 1474 loss=1.892, trans_loss=4.763, nll_loss=1.96, w2v_ctc_loss=0.635, task_loss=1.331, contrastive_loss=0.06, total=4079.56, n_correct=2820.19, ppl=3.89, accuracy=69.13, wps=13069.2, ups=1.6, wpb=8159.1, bsz=297.9, num_updates=47000, lr=6.52328e-05, gnorm=0.537, clip=0, loss_scale=8, train_wall=62, gb_free=16.7, wall=35382
2023-08-20 22:12:25 | INFO | train_inner | epoch 032:   1427 / 1474 loss=1.937, trans_loss=4.768, nll_loss=1.967, w2v_ctc_loss=0.641, task_loss=1.321, contrastive_loss=0.523, total=4107.37, n_correct=2833.47, ppl=3.91, accuracy=68.985, wps=13100.9, ups=1.59, wpb=8214.7, bsz=304.2, num_updates=47100, lr=6.51635e-05, gnorm=0.536, clip=0, loss_scale=8, train_wall=62, gb_free=17, wall=35444
2023-08-20 22:12:54 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 22:13:28 | INFO | dev_st | epoch 032 | valid on 'dev_st' subset | loss 3.984 | trans_loss 5.169 | nll_loss 2.427 | w2v_ctc_loss 1.329 | task_loss 4.567 | contrastive_loss 0.476 | total 4003.4 | n_correct 2671.8 | ppl 5.38 | accuracy 66.738 | uer 17.745 | wer 19.705 | raw_wer 19.705 | bleu 22.06 | wps 1527.6 | wpb 4003.4 | bsz 141.8 | num_updates 47147 | best_bleu 22.46
2023-08-20 22:13:28 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 32 @ 47147 updates
2023-08-20 22:13:28 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-20 22:13:35 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-20 22:13:35 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_last.pt (epoch 32 @ 47147 updates, score 22.06) (writing took 6.8574940279941075 seconds)
2023-08-20 22:13:35 | INFO | fairseq_cli.train | end of epoch 32 (average epoch stats below)
2023-08-20 22:13:35 | INFO | train | epoch 032 | loss 1.898 | trans_loss 4.76 | nll_loss 1.956 | w2v_ctc_loss 0.63 | task_loss 1.304 | contrastive_loss 0.16 | total 4138.65 | n_correct 2866.12 | ppl 3.88 | accuracy 69.253 | wps 11948.5 | ups 1.44 | wpb 8277.3 | bsz 305.7 | num_updates 47147 | lr 6.5131e-05 | gnorm 0.524 | clip 0 | loss_scale 8 | train_wall 913 | gb_free 16.1 | wall 35515
2023-08-20 22:13:35 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 22:13:35 | INFO | fairseq.trainer | begin training epoch 33
2023-08-20 22:13:35 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 22:14:16 | INFO | train_inner | epoch 033:     53 / 1474 loss=1.902, trans_loss=4.756, nll_loss=1.952, w2v_ctc_loss=0.617, task_loss=1.235, contrastive_loss=0.255, total=4146.91, n_correct=2877.71, ppl=3.87, accuracy=69.394, wps=7450.3, ups=0.9, wpb=8293.8, bsz=319.7, num_updates=47200, lr=6.50945e-05, gnorm=0.523, clip=0, loss_scale=8, train_wall=62, gb_free=15.7, wall=35556
2023-08-20 22:15:18 | INFO | train_inner | epoch 033:    153 / 1474 loss=1.876, trans_loss=4.742, nll_loss=1.932, w2v_ctc_loss=0.613, task_loss=1.397, contrastive_loss=0.049, total=4073.36, n_correct=2834.79, ppl=3.82, accuracy=69.593, wps=13056.8, ups=1.6, wpb=8146.7, bsz=285.1, num_updates=47300, lr=6.50256e-05, gnorm=0.524, clip=0, loss_scale=8, train_wall=62, gb_free=16.4, wall=35618
2023-08-20 22:16:21 | INFO | train_inner | epoch 033:    253 / 1474 loss=1.914, trans_loss=4.749, nll_loss=1.943, w2v_ctc_loss=0.62, task_loss=1.101, contrastive_loss=0.36, total=4283.64, n_correct=2977.09, ppl=3.84, accuracy=69.499, wps=13640.4, ups=1.59, wpb=8567.3, bsz=347.6, num_updates=47400, lr=6.4957e-05, gnorm=0.525, clip=0, loss_scale=16, train_wall=62, gb_free=16, wall=35681
2023-08-20 22:17:24 | INFO | train_inner | epoch 033:    353 / 1474 loss=1.889, trans_loss=4.752, nll_loss=1.946, w2v_ctc_loss=0.63, task_loss=1.326, contrastive_loss=0.088, total=4131.27, n_correct=2868.8, ppl=3.85, accuracy=69.441, wps=13126.3, ups=1.59, wpb=8262.5, bsz=302.3, num_updates=47500, lr=6.48886e-05, gnorm=0.523, clip=0, loss_scale=16, train_wall=62, gb_free=15.7, wall=35744
2023-08-20 22:18:26 | INFO | train_inner | epoch 033:    453 / 1474 loss=1.869, trans_loss=4.737, nll_loss=1.926, w2v_ctc_loss=0.609, task_loss=1.24, contrastive_loss=0.058, total=4135.1, n_correct=2888.8, ppl=3.8, accuracy=69.86, wps=13397.5, ups=1.62, wpb=8270.2, bsz=309.7, num_updates=47600, lr=6.48204e-05, gnorm=0.511, clip=0, loss_scale=16, train_wall=61, gb_free=15.1, wall=35806
2023-08-20 22:19:28 | INFO | train_inner | epoch 033:    553 / 1474 loss=1.892, trans_loss=4.755, nll_loss=1.949, w2v_ctc_loss=0.631, task_loss=1.355, contrastive_loss=0.093, total=4132.78, n_correct=2865.52, ppl=3.86, accuracy=69.336, wps=13240.4, ups=1.6, wpb=8265.6, bsz=294.2, num_updates=47700, lr=6.47524e-05, gnorm=0.515, clip=0, loss_scale=16, train_wall=62, gb_free=17.4, wall=35868
2023-08-20 22:20:31 | INFO | train_inner | epoch 033:    653 / 1474 loss=1.898, trans_loss=4.763, nll_loss=1.959, w2v_ctc_loss=0.625, task_loss=1.338, contrastive_loss=0.16, total=4156.26, n_correct=2875.76, ppl=3.89, accuracy=69.191, wps=13240.8, ups=1.59, wpb=8312.5, bsz=300.7, num_updates=47800, lr=6.46846e-05, gnorm=0.515, clip=0, loss_scale=16, train_wall=62, gb_free=15.7, wall=35931
2023-08-20 22:21:34 | INFO | train_inner | epoch 033:    753 / 1474 loss=1.893, trans_loss=4.758, nll_loss=1.954, w2v_ctc_loss=0.641, task_loss=1.407, contrastive_loss=0.06, total=4074.99, n_correct=2824.32, ppl=3.87, accuracy=69.309, wps=13019.8, ups=1.6, wpb=8150, bsz=288.2, num_updates=47900, lr=6.46171e-05, gnorm=0.522, clip=0, loss_scale=16, train_wall=62, gb_free=15.8, wall=35993
2023-08-20 22:22:36 | INFO | train_inner | epoch 033:    853 / 1474 loss=1.888, trans_loss=4.75, nll_loss=1.944, w2v_ctc_loss=0.611, task_loss=1.247, contrastive_loss=0.194, total=4127.6, n_correct=2870.57, ppl=3.85, accuracy=69.546, wps=13257, ups=1.61, wpb=8255.2, bsz=315.3, num_updates=48000, lr=6.45497e-05, gnorm=0.511, clip=0, loss_scale=16, train_wall=61, gb_free=15.6, wall=36056
2023-08-20 22:22:36 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 22:23:10 | INFO | dev_st | epoch 033 | valid on 'dev_st' subset | loss 3.988 | trans_loss 5.17 | nll_loss 2.427 | w2v_ctc_loss 1.349 | task_loss 4.547 | contrastive_loss 0.463 | total 4003.4 | n_correct 2677.5 | ppl 5.38 | accuracy 66.881 | uer 17.23 | wer 19.097 | raw_wer 19.097 | bleu 21.91 | wps 1590.7 | wpb 4003.4 | bsz 141.8 | num_updates 48000 | best_bleu 22.46
2023-08-20 22:23:10 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 33 @ 48000 updates
2023-08-20 22:23:10 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_33_48000.pt
2023-08-20 22:23:12 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_33_48000.pt
2023-08-20 22:23:17 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_33_48000.pt (epoch 33 @ 48000 updates, score 21.91) (writing took 7.676263404020574 seconds)
2023-08-20 22:24:20 | INFO | train_inner | epoch 033:    953 / 1474 loss=1.888, trans_loss=4.753, nll_loss=1.948, w2v_ctc_loss=0.632, task_loss=1.288, contrastive_loss=0.078, total=4157.37, n_correct=2886, ppl=3.86, accuracy=69.419, wps=8000.4, ups=0.96, wpb=8314.7, bsz=310.1, num_updates=48100, lr=6.44826e-05, gnorm=0.518, clip=0, loss_scale=16, train_wall=62, gb_free=17.1, wall=36160
2023-08-20 22:25:23 | INFO | train_inner | epoch 033:   1053 / 1474 loss=1.907, trans_loss=4.751, nll_loss=1.944, w2v_ctc_loss=0.624, task_loss=1.318, contrastive_loss=0.281, total=4134.8, n_correct=2867.62, ppl=3.85, accuracy=69.353, wps=13082.7, ups=1.58, wpb=8269.6, bsz=306, num_updates=48200, lr=6.44157e-05, gnorm=0.525, clip=0, loss_scale=16, train_wall=63, gb_free=15.3, wall=36223
2023-08-20 22:26:26 | INFO | train_inner | epoch 033:   1153 / 1474 loss=1.904, trans_loss=4.761, nll_loss=1.958, w2v_ctc_loss=0.619, task_loss=1.303, contrastive_loss=0.261, total=4181.58, n_correct=2895.82, ppl=3.88, accuracy=69.252, wps=13289.8, ups=1.59, wpb=8363.2, bsz=310, num_updates=48300, lr=6.43489e-05, gnorm=0.526, clip=0, loss_scale=16, train_wall=62, gb_free=14.7, wall=36286
2023-08-20 22:27:29 | INFO | train_inner | epoch 033:   1253 / 1474 loss=1.886, trans_loss=4.752, nll_loss=1.946, w2v_ctc_loss=0.629, task_loss=1.366, contrastive_loss=0.068, total=4115.76, n_correct=2858.99, ppl=3.85, accuracy=69.464, wps=13127, ups=1.59, wpb=8231.5, bsz=294.7, num_updates=48400, lr=6.42824e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=62, gb_free=16.3, wall=36348
2023-08-20 22:28:32 | INFO | train_inner | epoch 033:   1353 / 1474 loss=1.888, trans_loss=4.757, nll_loss=1.953, w2v_ctc_loss=0.627, task_loss=1.28, contrastive_loss=0.093, total=4120.69, n_correct=2859.69, ppl=3.87, accuracy=69.398, wps=13080.2, ups=1.59, wpb=8241.4, bsz=311.9, num_updates=48500, lr=6.42161e-05, gnorm=0.534, clip=0, loss_scale=16, train_wall=62, gb_free=16.4, wall=36411
2023-08-20 22:29:35 | INFO | train_inner | epoch 033:   1453 / 1474 loss=1.912, trans_loss=4.754, nll_loss=1.949, w2v_ctc_loss=0.62, task_loss=1.298, contrastive_loss=0.396, total=4125.28, n_correct=2858.05, ppl=3.86, accuracy=69.281, wps=12994.2, ups=1.57, wpb=8250.6, bsz=308.7, num_updates=48600, lr=6.415e-05, gnorm=0.523, clip=0, loss_scale=16, train_wall=63, gb_free=16.6, wall=36475
2023-08-20 22:29:48 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 22:30:21 | INFO | dev_st | epoch 033 | valid on 'dev_st' subset | loss 3.97 | trans_loss 5.167 | nll_loss 2.424 | w2v_ctc_loss 1.299 | task_loss 4.553 | contrastive_loss 0.465 | total 4003.4 | n_correct 2677.9 | ppl 5.37 | accuracy 66.891 | uer 17.288 | wer 19.145 | raw_wer 19.145 | bleu 22.55 | wps 1615.8 | wpb 4003.4 | bsz 141.8 | num_updates 48621 | best_bleu 22.55
2023-08-20 22:30:21 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 33 @ 48621 updates
2023-08-20 22:30:21 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 22:30:29 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-20 22:30:36 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_best.pt (epoch 33 @ 48621 updates, score 22.55) (writing took 15.063787931052502 seconds)
2023-08-20 22:30:37 | INFO | fairseq_cli.train | end of epoch 33 (average epoch stats below)
2023-08-20 22:30:37 | INFO | train | epoch 033 | loss 1.893 | trans_loss 4.752 | nll_loss 1.946 | w2v_ctc_loss 0.624 | task_loss 1.302 | contrastive_loss 0.158 | total 4138.65 | n_correct 2873.43 | ppl 3.85 | accuracy 69.429 | wps 11942.9 | ups 1.44 | wpb 8277.3 | bsz 305.7 | num_updates 48621 | lr 6.41362e-05 | gnorm 0.521 | clip 0 | loss_scale 16 | train_wall 913 | gb_free 17.5 | wall 36536
2023-08-20 22:30:37 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-20 22:30:37 | INFO | fairseq.trainer | begin training epoch 34
2023-08-20 22:30:37 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-20 22:31:34 | INFO | train_inner | epoch 034:     79 / 1474 loss=1.876, trans_loss=4.739, nll_loss=1.929, w2v_ctc_loss=0.618, task_loss=1.287, contrastive_loss=0.068, total=4131.47, n_correct=2876.69, ppl=3.81, accuracy=69.629, wps=6992, ups=0.85, wpb=8262.9, bsz=301.7, num_updates=48700, lr=6.40841e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=62, gb_free=16.3, wall=36593
2023-08-20 22:32:36 | INFO | train_inner | epoch 034:    179 / 1474 loss=1.874, trans_loss=4.73, nll_loss=1.917, w2v_ctc_loss=0.617, task_loss=1.36, contrastive_loss=0.071, total=4065.88, n_correct=2841.73, ppl=3.78, accuracy=69.892, wps=12951.9, ups=1.59, wpb=8131.8, bsz=295.1, num_updates=48800, lr=6.40184e-05, gnorm=0.523, clip=0, loss_scale=16, train_wall=62, gb_free=15.6, wall=36656
2023-08-20 22:33:39 | INFO | train_inner | epoch 034:    279 / 1474 loss=1.923, trans_loss=4.752, nll_loss=1.946, w2v_ctc_loss=0.614, task_loss=1.216, contrastive_loss=0.47, total=4246.3, n_correct=2948, ppl=3.85, accuracy=69.425, wps=13489, ups=1.59, wpb=8492.6, bsz=328.7, num_updates=48900, lr=6.39529e-05, gnorm=0.535, clip=0, loss_scale=16, train_wall=62, gb_free=17.5, wall=36719
2023-08-20 22:34:42 | INFO | train_inner | epoch 034:    379 / 1474 loss=1.888, trans_loss=4.733, nll_loss=1.921, w2v_ctc_loss=0.608, task_loss=1.237, contrastive_loss=0.255, total=4156.17, n_correct=2902.05, ppl=3.79, accuracy=69.825, wps=13305.7, ups=1.6, wpb=8312.3, bsz=316.7, num_updates=49000, lr=6.38877e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=62, gb_free=17.4, wall=36781
2023-08-20 22:35:45 | INFO | train_inner | epoch 034:    479 / 1474 loss=1.883, trans_loss=4.745, nll_loss=1.935, w2v_ctc_loss=0.626, task_loss=1.434, contrastive_loss=0.06, total=4070.55, n_correct=2830.06, ppl=3.83, accuracy=69.525, wps=12981.2, ups=1.59, wpb=8141.1, bsz=284.6, num_updates=49100, lr=6.38226e-05, gnorm=0.524, clip=0, loss_scale=16, train_wall=62, gb_free=17.1, wall=36844
2023-08-20 22:36:47 | INFO | train_inner | epoch 034:    579 / 1474 loss=1.873, trans_loss=4.734, nll_loss=1.922, w2v_ctc_loss=0.613, task_loss=1.326, contrastive_loss=0.063, total=4119.38, n_correct=2876.33, ppl=3.79, accuracy=69.824, wps=13259.7, ups=1.61, wpb=8238.8, bsz=300.3, num_updates=49200, lr=6.37577e-05, gnorm=0.526, clip=0, loss_scale=16, train_wall=61, gb_free=12.6, wall=36906
2023-08-20 22:37:49 | INFO | train_inner | epoch 034:    679 / 1474 loss=1.874, trans_loss=4.742, nll_loss=1.932, w2v_ctc_loss=0.615, task_loss=1.321, contrastive_loss=0.057, total=4124.83, n_correct=2876.15, ppl=3.82, accuracy=69.728, wps=13272.8, ups=1.61, wpb=8249.7, bsz=300.2, num_updates=49300, lr=6.3693e-05, gnorm=0.515, clip=0, loss_scale=16, train_wall=61, gb_free=13.9, wall=36968
2023-08-20 22:38:51 | INFO | train_inner | epoch 034:    779 / 1474 loss=1.896, trans_loss=4.76, nll_loss=1.956, w2v_ctc_loss=0.615, task_loss=1.366, contrastive_loss=0.186, total=4082.07, n_correct=2829.88, ppl=3.88, accuracy=69.325, wps=13054.8, ups=1.6, wpb=8164.1, bsz=295, num_updates=49400, lr=6.36285e-05, gnorm=0.524, clip=0, loss_scale=32, train_wall=62, gb_free=15.2, wall=37031
2023-08-20 22:39:54 | INFO | train_inner | epoch 034:    879 / 1474 loss=1.888, trans_loss=4.75, nll_loss=1.944, w2v_ctc_loss=0.624, task_loss=1.376, contrastive_loss=0.099, total=4100.9, n_correct=2852.26, ppl=3.85, accuracy=69.552, wps=13024.2, ups=1.59, wpb=8201.8, bsz=296.6, num_updates=49500, lr=6.35642e-05, gnorm=0.536, clip=0, loss_scale=32, train_wall=62, gb_free=11.7, wall=37094
2023-08-20 22:40:57 | INFO | train_inner | epoch 034:    979 / 1474 loss=1.887, trans_loss=4.749, nll_loss=1.943, w2v_ctc_loss=0.629, task_loss=1.279, contrastive_loss=0.092, total=4168.39, n_correct=2895.01, ppl=3.84, accuracy=69.452, wps=13268.6, ups=1.59, wpb=8336.8, bsz=311.9, num_updates=49600, lr=6.35001e-05, gnorm=0.535, clip=0, loss_scale=32, train_wall=62, gb_free=15.5, wall=37157
2023-08-20 22:41:59 | INFO | train_inner | epoch 034:   1079 / 1474 loss=1.879, trans_loss=4.747, nll_loss=1.938, w2v_ctc_loss=0.621, task_loss=1.261, contrastive_loss=0.065, total=4150.57, n_correct=2888.82, ppl=3.83, accuracy=69.601, wps=13419.8, ups=1.62, wpb=8301.1, bsz=308.5, num_updates=49700, lr=6.34361e-05, gnorm=0.515, clip=0, loss_scale=32, train_wall=61, gb_free=16.5, wall=37219
2023-08-20 22:43:01 | INFO | train_inner | epoch 034:   1179 / 1474 loss=1.883, trans_loss=4.749, nll_loss=1.942, w2v_ctc_loss=0.618, task_loss=1.349, contrastive_loss=0.085, total=4098.77, n_correct=2850.22, ppl=3.84, accuracy=69.538, wps=13166.8, ups=1.61, wpb=8197.5, bsz=297.1, num_updates=49800, lr=6.33724e-05, gnorm=0.52, clip=0, loss_scale=32, train_wall=61, gb_free=16.6, wall=37281
2023-08-20 22:44:04 | INFO | train_inner | epoch 034:   1279 / 1474 loss=1.88, trans_loss=4.744, nll_loss=1.936, w2v_ctc_loss=0.622, task_loss=1.313, contrastive_loss=0.06, total=4150.54, n_correct=2886.96, ppl=3.83, accuracy=69.556, wps=13247.2, ups=1.6, wpb=8301.1, bsz=301, num_updates=49900, lr=6.33089e-05, gnorm=0.521, clip=0, loss_scale=32, train_wall=62, gb_free=16.8, wall=37344
2023-08-20 22:45:07 | INFO | train_inner | epoch 034:   1379 / 1474 loss=1.897, trans_loss=4.753, nll_loss=1.947, w2v_ctc_loss=0.627, task_loss=1.248, contrastive_loss=0.176, total=4196.91, n_correct=2909.77, ppl=3.86, accuracy=69.331, wps=13345.8, ups=1.59, wpb=8393.8, bsz=321.4, num_updates=50000, lr=6.32456e-05, gnorm=0.521, clip=0, loss_scale=32, train_wall=62, gb_free=15.7, wall=37406
2023-08-20 22:45:07 | INFO | fairseq_cli.train | Stopping training due to num_updates: 50000 >= max_update: 50000
2023-08-20 22:45:07 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-20 22:45:42 | INFO | dev_st | epoch 034 | valid on 'dev_st' subset | loss 3.971 | trans_loss 5.169 | nll_loss 2.425 | w2v_ctc_loss 1.291 | task_loss 4.566 | contrastive_loss 0.473 | total 4003.4 | n_correct 2677.4 | ppl 5.37 | accuracy 66.878 | uer 17.222 | wer 19.145 | raw_wer 19.145 | bleu 22 | wps 1522.3 | wpb 4003.4 | bsz 141.8 | num_updates 50000 | best_bleu 22.55
2023-08-20 22:45:42 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 34 @ 50000 updates
2023-08-20 22:45:42 | INFO | fairseq.trainer | Saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_34_50000.pt
2023-08-20 22:45:44 | INFO | fairseq.trainer | Finished saving checkpoint to /mnt/zhangyh/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_34_50000.pt
2023-08-20 22:45:50 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0820_doubleCL_AT_sentence_mixup0.5_alpha1.5_mt0.5/checkpoint_34_50000.pt (epoch 34 @ 50000 updates, score 22.0) (writing took 8.201520060014445 seconds)
2023-08-20 22:45:51 | INFO | fairseq_cli.train | end of epoch 34 (average epoch stats below)
2023-08-20 22:45:51 | INFO | train | epoch 034 | loss 1.886 | trans_loss 4.745 | nll_loss 1.936 | w2v_ctc_loss 0.619 | task_loss 1.312 | contrastive_loss 0.133 | total 4133.04 | n_correct 2876.09 | ppl 3.83 | accuracy 69.588 | wps 12474 | ups 1.51 | wpb 8266.1 | bsz 304.2 | num_updates 50000 | lr 6.32456e-05 | gnorm 0.524 | clip 0 | loss_scale 32 | train_wall 853 | gb_free 15.7 | wall 37450
2023-08-20 22:45:51 | INFO | fairseq_cli.train | done training in 37405.5 seconds
Exception in thread Thread-7:
Traceback (most recent call last):
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/tensorboardX/event_file_writer.py", line 202, in run
    data = self._queue.get(True, queue_wait_duration)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/queues.py", line 111, in get
Exception in thread Thread-6:
Traceback (most recent call last):
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    res = self._recv_bytes()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 216, in recv_bytes
    buf = self._recv_bytes(maxlength)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 414, in _recv_bytes
    buf = self._recv(4)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 383, in _recv
    raise EOFError
EOFError
    self.run()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/tensorboardX/event_file_writer.py", line 202, in run
    data = self._queue.get(True, queue_wait_duration)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/queues.py", line 111, in get
    res = self._recv_bytes()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 216, in recv_bytes
    buf = self._recv_bytes(maxlength)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 414, in _recv_bytes
    buf = self._recv(4)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 383, in _recv
    raise EOFError
EOFError
Exception in thread Thread-3:
Traceback (most recent call last):
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/threading.py", line 932, in _bootstrap_inner
    self.run()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/site-packages/tensorboardX/event_file_writer.py", line 202, in run
    data = self._queue.get(True, queue_wait_duration)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/queues.py", line 111, in get
    res = self._recv_bytes()
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 216, in recv_bytes
    buf = self._recv_bytes(maxlength)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 414, in _recv_bytes
    buf = self._recv(4)
  File "/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/connection.py", line 383, in _recv
    raise EOFError
EOFError
/mnt/zhangyh/miniconda3/envs/at/lib/python3.8/multiprocessing/resource_tracker.py:216: UserWarning: resource_tracker: There appear to be 1472 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
