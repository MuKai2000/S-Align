2023-08-21 15:54:38 | INFO | fairseq.distributed.utils | distributed init (rank 6): tcp://localhost:15520
2023-08-21 15:54:38 | INFO | fairseq.distributed.utils | distributed init (rank 1): tcp://localhost:15520
2023-08-21 15:54:38 | INFO | fairseq.distributed.utils | distributed init (rank 2): tcp://localhost:15520
2023-08-21 15:54:38 | INFO | fairseq.distributed.utils | distributed init (rank 0): tcp://localhost:15520
2023-08-21 15:54:38 | INFO | fairseq.distributed.utils | distributed init (rank 4): tcp://localhost:15520
2023-08-21 15:54:38 | INFO | fairseq.distributed.utils | distributed init (rank 7): tcp://localhost:15520
2023-08-21 15:54:38 | INFO | fairseq.distributed.utils | distributed init (rank 5): tcp://localhost:15520
2023-08-21 15:54:38 | INFO | fairseq.distributed.utils | distributed init (rank 3): tcp://localhost:15520
2023-08-21 15:54:38 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 7
2023-08-21 15:54:38 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 4
2023-08-21 15:54:38 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 5
2023-08-21 15:54:38 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 3
2023-08-21 15:54:39 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 6
2023-08-21 15:54:39 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 1
2023-08-21 15:54:39 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 0
2023-08-21 15:54:39 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:1 to store for rank: 2
2023-08-21 15:54:39 | INFO | torch.distributed.distributed_c10d | Rank 2: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-21 15:54:39 | INFO | fairseq.distributed.utils | initialized host capios as rank 2
2023-08-21 15:54:39 | INFO | torch.distributed.distributed_c10d | Rank 6: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-21 15:54:39 | INFO | fairseq.distributed.utils | initialized host capios as rank 6
2023-08-21 15:54:39 | INFO | torch.distributed.distributed_c10d | Rank 3: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-21 15:54:39 | INFO | torch.distributed.distributed_c10d | Rank 1: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-21 15:54:39 | INFO | fairseq.distributed.utils | initialized host capios as rank 1
2023-08-21 15:54:39 | INFO | fairseq.distributed.utils | initialized host capios as rank 3
2023-08-21 15:54:39 | INFO | torch.distributed.distributed_c10d | Rank 7: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-21 15:54:39 | INFO | fairseq.distributed.utils | initialized host capios as rank 7
2023-08-21 15:54:39 | INFO | torch.distributed.distributed_c10d | Rank 0: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-21 15:54:39 | INFO | fairseq.distributed.utils | initialized host capios as rank 0
2023-08-21 15:54:39 | INFO | torch.distributed.distributed_c10d | Rank 4: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-21 15:54:39 | INFO | torch.distributed.distributed_c10d | Rank 5: Completed store-based barrier for key:store_based_barrier_key:1 with 8 nodes.
2023-08-21 15:54:39 | INFO | fairseq.distributed.utils | initialized host capios as rank 4
2023-08-21 15:54:39 | INFO | fairseq.distributed.utils | initialized host capios as rank 5
2023-08-21 15:54:41 | INFO | fairseq_cli.train | {'_name': None, 'common': {'_name': None, 'no_progress_bar': True, 'log_interval': 100, 'log_format': None, 'log_file': None, 'aim_repo': None, 'aim_run_hash': None, 'tensorboard_logdir': './checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5', 'wandb_project': None, 'azureml_logging': False, 'seed': 1, 'cpu': False, 'tpu': False, 'bf16': False, 'memory_efficient_bf16': False, 'fp16': True, 'memory_efficient_fp16': False, 'fp16_no_flatten_grads': False, 'fp16_init_scale': 128, 'fp16_scale_window': None, 'fp16_scale_tolerance': 0.0, 'on_cpu_convert_precision': False, 'min_loss_scale': 0.0001, 'threshold_loss_scale': None, 'amp': False, 'amp_batch_retries': 2, 'amp_init_scale': 128, 'amp_scale_window': None, 'user_dir': None, 'empty_cache_freq': 0, 'all_gather_list_size': 16384, 'model_parallel_size': 1, 'quantization_config_path': None, 'profile': False, 'reset_logging': False, 'suppress_crashes': False, 'use_plasma_view': False, 'plasma_path': '/tmp/plasma'}, 'common_eval': {'_name': None, 'path': None, 'post_process': 'sentencepiece', 'quiet': False, 'model_overrides': '{}', 'results_path': None}, 'distributed_training': {'_name': None, 'distributed_world_size': 8, 'distributed_num_procs': 8, 'distributed_rank': 0, 'distributed_backend': 'nccl', 'distributed_init_method': 'tcp://localhost:15520', 'distributed_port': -1, 'device_id': 0, 'distributed_no_spawn': False, 'ddp_backend': 'no_c10d', 'ddp_comm_hook': 'none', 'bucket_cap_mb': 25, 'fix_batches_to_gpus': False, 'find_unused_parameters': False, 'gradient_as_bucket_view': False, 'fast_stat_sync': False, 'heartbeat_timeout': -1, 'broadcast_buffers': False, 'slowmo_momentum': None, 'slowmo_base_algorithm': 'localsgd', 'localsgd_frequency': 3, 'nprocs_per_node': 8, 'pipeline_model_parallel': False, 'pipeline_balance': None, 'pipeline_devices': None, 'pipeline_chunks': 0, 'pipeline_encoder_balance': None, 'pipeline_encoder_devices': None, 'pipeline_decoder_balance': None, 'pipeline_decoder_devices': None, 'pipeline_checkpoint': 'never', 'zero_sharding': 'none', 'fp16': True, 'memory_efficient_fp16': False, 'tpu': False, 'no_reshard_after_forward': False, 'fp32_reduce_scatter': False, 'cpu_offload': False, 'use_sharded_state': False, 'not_fsdp_flatten_parameters': False}, 'dataset': {'_name': None, 'num_workers': 2, 'skip_invalid_size_inputs_valid_test': True, 'max_tokens': 15000, 'batch_size': None, 'required_batch_size_multiple': 8, 'required_seq_len_multiple': 1, 'dataset_impl': None, 'data_buffer_size': 10, 'train_subset': 'train_st,train_asr', 'valid_subset': 'dev_st', 'combine_valid_subsets': None, 'ignore_unused_valid_subsets': False, 'validate_interval': 1, 'validate_interval_updates': 0, 'validate_after_updates': 0, 'fixed_validation_seed': None, 'disable_validation': False, 'max_tokens_valid': 15000, 'batch_size_valid': None, 'max_valid_steps': None, 'curriculum': 0, 'gen_subset': 'test', 'num_shards': 1, 'shard_id': 0, 'grouped_shuffling': False, 'update_epoch_batch_itr': False, 'update_ordered_indices_seed': False}, 'optimization': {'_name': None, 'max_epoch': 100, 'max_update': 50000, 'stop_time_hours': 0.0, 'clip_norm': 10.0, 'sentence_avg': False, 'update_freq': [1], 'lr': [0.0002], 'stop_min_lr': -1.0, 'use_bmuf': False, 'skip_remainder_batch': False}, 'checkpoint': {'_name': None, 'save_dir': './checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5', 'restore_file': 'checkpoint_last.pt', 'continue_once': None, 'finetune_from_model': None, 'reset_dataloader': False, 'reset_lr_scheduler': False, 'reset_meters': False, 'reset_optimizer': False, 'optimizer_overrides': '{}', 'save_interval': 1, 'save_interval_updates': 2000, 'keep_interval_updates': 5, 'keep_interval_updates_pattern': -1, 'keep_last_epochs': 2, 'keep_best_checkpoints': 10, 'no_save': False, 'no_epoch_checkpoints': True, 'no_last_checkpoints': False, 'no_save_optimizer_state': False, 'best_checkpoint_metric': 'bleu', 'maximize_best_checkpoint_metric': True, 'patience': -1, 'checkpoint_suffix': '', 'checkpoint_shard_count': 1, 'load_checkpoint_on_all_dp_ranks': False, 'write_checkpoints_asynchronously': False, 'model_parallel_size': 1}, 'bmuf': {'_name': None, 'block_lr': 1.0, 'block_momentum': 0.875, 'global_sync_iter': 50, 'warmup_iterations': 500, 'use_nbm': False, 'average_sync': False, 'distributed_world_size': 8}, 'generation': {'_name': None, 'beam': 5, 'beam_mt': 0, 'nbest': 1, 'max_len_a': 0.0, 'max_len_b': 200, 'max_len_a_mt': 0.0, 'max_len_b_mt': 200, 'min_len': 1, 'match_source_len': False, 'unnormalized': False, 'no_early_stop': False, 'no_beamable_mm': False, 'lenpen': 1.0, 'lenpen_mt': 1.0, 'unkpen': 0.0, 'replace_unk': None, 'sacrebleu': False, 'score_reference': False, 'prefix_size': 0, 'no_repeat_ngram_size': 0, 'sampling': False, 'sampling_topk': -1, 'sampling_topp': -1.0, 'constraints': None, 'temperature': 1.0, 'diverse_beam_groups': -1, 'diverse_beam_strength': 0.5, 'diversity_rate': -1.0, 'print_alignment': None, 'print_step': False, 'lm_path': None, 'lm_weight': 0.0, 'iter_decode_eos_penalty': 0.0, 'iter_decode_max_iter': 10, 'iter_decode_force_max_iter': False, 'iter_decode_with_beam': 1, 'iter_decode_with_external_reranker': False, 'retain_iter_history': False, 'retain_dropout': False, 'retain_dropout_modules': None, 'decoding_format': None, 'no_seed_provided': False, 'eos_token': None}, 'eval_lm': {'_name': None, 'output_word_probs': False, 'output_word_stats': False, 'context_window': 0, 'softmax_batch': 9223372036854775807}, 'interactive': {'_name': None, 'buffer_size': 0, 'input': '-'}, 'model': Namespace(_name='s2t_joint', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_low_pos=False, at_nomute=False, at_nopad=True, at_scale=1.0, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=1.5, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_ende_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/workspace/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=15000, max_tokens_valid=15000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=-0.1, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/workspace/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, simul_type=None, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/workspace/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=True, use_two_contrastive=True, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/workspace/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'task': Namespace(_name='joint_triple_pretraining_merge', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_low_pos=False, at_nomute=False, at_nopad=True, at_scale=1.0, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=1.5, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_ende_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/workspace/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=15000, max_tokens_valid=15000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=-0.1, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/workspace/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, simul_type=None, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/workspace/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=True, use_two_contrastive=True, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/workspace/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'criterion': Namespace(_name='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', activation_dropout=0.1, activation_fn='relu', adam_betas='(0.9,0.98)', adam_eps=1e-08, adapter_dim=4096, adapter_dropout=0.0, adapter_layers=0, adaptive_input=False, adaptive_softmax_cutoff=None, adaptive_softmax_dropout=0, add_position_embed=True, add_position_embed_after_ctc=True, add_proj_norm=False, adversarial_training=True, aim_repo=None, aim_run_hash=None, all_gather_list_size=16384, amp=False, amp_batch_retries=2, amp_init_scale=128, amp_scale_window=None, apply_mask=True, arch='s2t_joint', at_adapte_win=False, at_level='sentence', at_low_pos=False, at_nomute=False, at_nopad=True, at_scale=1.0, attention_dropout=0.1, avg_shrink=False, azureml_logging=False, ban_cl_step=-1, batch_size=None, batch_size_valid=None, best_checkpoint_metric='bleu', bf16=False, bpe=None, broadcast_buffers=False, bucket_cap_mb=25, checkpoint_shard_count=1, checkpoint_suffix='', clip_norm=10.0, cluster_embed_path='', cnn_module_kernel=31, combine_valid_subsets=None, config_yaml='config_st.yaml', continue_once=None, contrastive_alpha=1.5, contrastive_beta=1.0, contrastive_temperature=0.1, conv_channels=512, conv_kernel_sizes='5,5', cpu=False, cpu_offload=False, criterion='label_smoothed_cross_entropy_with_w2v_ctc_shrink_joint_AT_merge', ctc_weight=0.3, curriculum=0, data='data_all_ende_lcrm', data_buffer_size=10, dataset_impl=None, ddp_backend='no_c10d', ddp_comm_hook='none', decoder_attention_heads=8, decoder_embed_dim=512, decoder_embed_path='/workspace/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline', decoder_ffn_embed_dim=2048, decoder_input_dim=512, decoder_layerdrop=0.0, decoder_layers=6, decoder_learned_pos=False, decoder_normalize_before=True, decoder_output_dim=512, decrease_step=0, device_id=0, disable_validation=False, distributed_backend='nccl', distributed_init_method=None, distributed_no_spawn=False, distributed_num_procs=8, distributed_port=-1, distributed_rank=0, distributed_world_size=8, dropout=0.1, dropout_input=0.0, ema_decay=0.9999, ema_fp32=False, ema_seed_model=None, ema_start_update=0, ema_update_freq=1, embed_path='', embedding_l2norm=False, empty_cache_freq=0, encoder_attention_heads=8, encoder_embed_dim=512, encoder_ffn_embed_dim=2048, encoder_layers=6, encoder_normalize_before=True, eos=2, eval_bleu=True, eval_bleu_args='{}', eval_bleu_detok='space', eval_bleu_detok_args='{}', eval_bleu_remove_bpe='sentencepiece', eval_tokenized_bleu=True, fast_stat_sync=False, feature_grad_mult=0.0, final_dropout=0.1, find_unused_parameters=False, finetune_from_model=None, fix_batches_to_gpus=False, fixed_validation_seed=None, fp16=True, fp16_adam_stats=False, fp16_init_scale=128, fp16_no_flatten_grads=False, fp16_scale_tolerance=0.0, fp16_scale_window=None, fp32_reduce_scatter=False, freeze_finetune_updates=3000, gen_subset='test', get_similarity=False, gradient_as_bucket_view=False, grouped_shuffling=False, heartbeat_timeout=-1, ignore_prefix_size=0, ignore_unused_valid_subsets=False, is_shrink='uniq', keep_best_checkpoints=10, keep_interval_updates=5, keep_interval_updates_pattern=-1, keep_last_epochs=2, keep_mt_task=True, label_smoothing=0.2, latent_temp=(1, 0.1, 0.999995), layerdrop=0.0, load_checkpoint_on_all_dp_ranks=False, localsgd_frequency=3, log_file=None, log_format=None, log_interval=100, lookback=False, lr=[0.0002], lr_scheduler='inverse_sqrt', macaron_style=False, mask_channel_length=6, mask_channel_other=0, mask_channel_prob=0.25, mask_channel_selection='static', mask_length=10, mask_other=0, mask_prob=0.5, mask_selection='static', max_epoch=100, max_position_ctc=0, max_source_positions=6000, max_target_positions=1024, max_tokens=15000, max_tokens_valid=15000, max_update=50000, max_valid_steps=None, maximize_best_checkpoint_metric=True, memory_efficient_bf16=False, memory_efficient_fp16=False, merge_mt_st=True, min_loss_scale=0.0001, mixup_for_whole_model=False, mixup_rate=-0.1, model_parallel_size=1, mt_model_args=None, mt_model_filter_size=0, mt_model_path='/workspace/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt', no_epoch_checkpoints=True, no_last_checkpoints=False, no_mask_channel_overlap=False, no_mask_overlap=False, no_progress_bar=True, no_reshard_after_forward=False, no_save=False, no_save_optimizer_state=False, no_scale_embedding=False, no_seed_provided=False, no_token_positional_embeddings=False, normalize=False, not_fsdp_flatten_parameters=False, nprocs_per_node=8, num_shards=1, num_workers=2, on_cpu_convert_precision=False, optimizer='adam', optimizer_overrides='{}', pad=1, patience=-1, pipeline_balance=None, pipeline_checkpoint='never', pipeline_chunks=0, pipeline_decoder_balance=None, pipeline_decoder_devices=None, pipeline_devices=None, pipeline_encoder_balance=None, pipeline_encoder_devices=None, pipeline_model_parallel=False, plasma_path='/tmp/plasma', position_unit_size=0, post_process='sentencepiece', profile=False, quant_noise_pq=0, quantization_config_path=None, rel_pos_type='legacy', relative_attn=False, report_accuracy=True, required_batch_size_multiple=8, required_seq_len_multiple=1, reset_dataloader=False, reset_logging=False, reset_lr_scheduler=False, reset_meters=False, reset_optimizer=False, restore_file='checkpoint_last.pt', save_dir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5', save_interval=1, save_interval_updates=2000, scoring='bleu', sead_layers=6, seed=1, sentence_avg=False, shard_id=0, share_ctc_embed=True, share_decoder_input_output_embed=True, share_two_encoders=True, simul_type=None, skip_invalid_size_inputs_valid_test=True, skip_remainder_batch=False, slowmo_base_algorithm='localsgd', slowmo_momentum=None, stop_min_lr=-1.0, stop_time_hours=0, store_ema=False, suppress_crashes=False, task='joint_triple_pretraining_merge', tensorboard_logdir='./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5', text_conv_kernel=0, threshold_loss_scale=None, tokenizer=None, tpu=False, train_config='/workspace/fairseq-AT/egs/pretrain-all/conf/train_shrink_AT_zyh.yaml', train_st_without_ctc=False, train_subset='train_st,train_asr', transfer_proj=False, unk=3, update_epoch_batch_itr=False, update_freq=[1], update_ordered_indices_seed=False, use_bmuf=False, use_cnn_module=True, use_ctc_cluster=False, use_ctc_loss=True, use_ctc_shrink=True, use_double_ctc=False, use_old_adam=False, use_plasma_view=False, use_sharded_state=False, use_token_contrastive=True, use_two_contrastive=True, use_w2v_ctc=True, user_dir=None, valid_subset='dev_st', validate_after_updates=0, validate_interval=1, validate_interval_updates=0, w2v_args=None, w2v_path='/workspace/pretrain/hubert_base_ls960.pt', wandb_project=None, warmup_init_lr=1e-07, warmup_updates=5000, weight_decay=0.0, weight_steps=5000, word_align=False, write_checkpoints_asynchronously=False, zero_infinity=True, zero_sharding='none', zero_triu=False), 'optimizer': {'_name': 'adam', 'adam_betas': '(0.9,0.98)', 'adam_eps': 1e-08, 'weight_decay': 0.0, 'use_old_adam': False, 'fp16_adam_stats': False, 'tpu': False, 'lr': [0.0002]}, 'lr_scheduler': {'_name': 'inverse_sqrt', 'warmup_updates': 5000, 'warmup_init_lr': 1e-07, 'lr': [0.0002]}, 'scoring': {'_name': 'bleu', 'pad': 1, 'eos': 2, 'unk': 3}, 'bpe': None, 'tokenizer': None, 'ema': {'_name': None, 'store_ema': False, 'ema_decay': 0.9999, 'ema_start_update': 0, 'ema_seed_model': None, 'ema_update_freq': 1, 'ema_fp32': False}, 'simul_type': None}
2023-08-21 15:54:41 | INFO | fairseq.tasks.joint_triple_pretraining_merge | dictionary size (dict.wrd.txt): 10,000
2023-08-21 15:54:41 | INFO | fairseq.tasks.joint_triple_pretraining_merge | asr dictionary size (dict.wrd.txt): 10,000
2023-08-21 15:54:41 | INFO | fairseq.tasks.joint_triple_pretraining_merge | cluster dictionary size (kmeans100.convert.txt): 5,224
2023-08-21 15:54:41 | INFO | fairseq.tasks.joint_triple_pretraining_merge | Initial task weight: asr 1.0: mt 0.5
2023-08-21 15:54:41 | INFO | root | load pretrained embeddings: /workspace/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline
2023-08-21 15:54:46 | INFO | fairseq.tasks.hubert_pretraining | current directory is /workspace/fairseq-AT/egs/pretrain-all
2023-08-21 15:54:46 | INFO | fairseq.tasks.hubert_pretraining | HubertPretrainingTask Config {'_name': 'hubert_pretraining', 'data': 'data_all_ende_lcrm', 'fine_tuning': False, 'labels': ['layer6.km500'], 'label_dir': None, 'label_rate': 50.0, 'sample_rate': 16000, 'normalize': False, 'enable_padding': False, 'max_keep_size': None, 'max_sample_size': 250000, 'min_sample_size': 32000, 'single_target': False, 'random_crop': True, 'pad_audio': False}
2023-08-21 15:54:46 | INFO | fairseq.models.hubert.hubert | HubertModel Config: {'_name': 'hubert', 'label_rate': 50.0, 'extractor_mode': default, 'encoder_layers': 12, 'encoder_embed_dim': 768, 'encoder_ffn_embed_dim': 3072, 'encoder_attention_heads': 12, 'activation_fn': gelu, 'layer_type': transformer, 'dropout': 0.1, 'attention_dropout': 0.1, 'activation_dropout': 0.1, 'encoder_layerdrop': 0.0, 'dropout_input': 0.0, 'dropout_features': 0.1, 'final_dim': 256, 'untie_final_proj': False, 'layer_norm_first': False, 'conv_feature_layers': '[(512,10,5)] + [(512,3,2)] * 4 + [(512,2,2)] * 2', 'conv_bias': False, 'logit_temp': 0.1, 'target_glu': False, 'feature_grad_mult': 0.0, 'mask_length': 10, 'mask_prob': 0.5, 'mask_selection': static, 'mask_other': 0.0, 'no_mask_overlap': False, 'mask_min_space': 1, 'mask_channel_length': 6, 'mask_channel_prob': 0.25, 'mask_channel_selection': static, 'mask_channel_other': 0.0, 'no_mask_channel_overlap': False, 'mask_channel_min_space': 1, 'conv_pos': 128, 'conv_pos_groups': 16, 'latent_temp': [2.0, 0.5, 0.999995], 'skip_masked': False, 'skip_nomask': False, 'checkpoint_activations': False, 'required_seq_len_multiple': 2, 'depthwise_conv_kernel_size': 31, 'attn_type': '', 'pos_enc_type': 'abs', 'fp16': True}
2023-08-21 15:54:47 | INFO | root | load pretrained hubert
2023-08-21 15:54:51 | INFO | root | load pretrained embedding as ctc proj: /workspace/fairseq-AT/egs/machine_translation/pretrain_embeddings_wmt_ende_baseline
2023-08-21 15:54:51 | INFO | root | load pretrained encoder: /workspace/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt
2023-08-21 15:54:52 | INFO | root | load pretrained decoder: /workspace/fairseq-AT/egs/machine_translation/checkpoints/wmt-en2de/ende-baseline/last8.ensemble.pt
2023-08-21 15:54:52 | INFO | root | share the sematic adapter and textual encoder
2023-08-21 15:54:52 | INFO | fairseq_cli.train | S2TJoint(
  (acoustic_encoder): AcousticEncoder(
    (compress_ffn): Linear(in_features=768, out_features=512, bias=True)
    (proj): Linear(in_features=512, out_features=10000, bias=False)
    (w2v_model): HubertModel(
      (feature_extractor): ConvFeatureExtractionModel(
        (conv_layers): ModuleList(
          (0): Sequential(
            (0): Conv1d(1, 512, kernel_size=(10,), stride=(5,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): Fp32GroupNorm(512, 512, eps=1e-05, affine=True)
            (3): GELU(approximate='none')
          )
          (1-4): 4 x Sequential(
            (0): Conv1d(512, 512, kernel_size=(3,), stride=(2,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): GELU(approximate='none')
          )
          (5-6): 2 x Sequential(
            (0): Conv1d(512, 512, kernel_size=(2,), stride=(2,), bias=False)
            (1): Dropout(p=0.0, inplace=False)
            (2): GELU(approximate='none')
          )
        )
      )
      (post_extract_proj): Linear(in_features=512, out_features=768, bias=True)
      (dropout_input): Dropout(p=0.0, inplace=False)
      (dropout_features): Dropout(p=0.1, inplace=False)
      (encoder): TransformerEncoder(
        (pos_conv): Sequential(
          (0): Conv1d(768, 768, kernel_size=(128,), stride=(1,), padding=(64,), groups=16)
          (1): SamePad()
          (2): GELU(approximate='none')
        )
        (layers): ModuleList(
          (0-11): 12 x TransformerSentenceEncoderLayer(
            (self_attn): MultiheadAttention(
              (dropout_module): FairseqDropout()
              (k_proj): Linear(in_features=768, out_features=768, bias=True)
              (v_proj): Linear(in_features=768, out_features=768, bias=True)
              (q_proj): Linear(in_features=768, out_features=768, bias=True)
              (out_proj): Linear(in_features=768, out_features=768, bias=True)
            )
            (dropout1): Dropout(p=0.1, inplace=False)
            (dropout2): Dropout(p=0.1, inplace=False)
            (dropout3): Dropout(p=0.1, inplace=False)
            (self_attn_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)
            (fc1): Linear(in_features=768, out_features=3072, bias=True)
            (fc2): Linear(in_features=3072, out_features=768, bias=True)
            (final_layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)
          )
        )
        (layer_norm): LayerNorm((768,), eps=1e-05, elementwise_affine=True)
      )
      (layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
      (final_proj): None
    )
    (noad): NormalAdapter(
      (subsample): Conv1dSubsampler(
        (conv_layers): ModuleList(
          (0): Conv1d(512, 512, kernel_size=(5,), stride=(2,), padding=(2,))
          (1): Conv1d(256, 1024, kernel_size=(5,), stride=(2,), padding=(2,))
        )
      )
      (layers): ModuleList()
    )
    (sead): SemanticAdapter(
      (embed_positions): SinusoidalPositionalEmbedding()
      (layers): ModuleList(
        (0-5): 6 x TransformerEncoderLayerBase(
          (self_attn): MultiheadAttention(
            (dropout_module): FairseqDropout()
            (k_proj): Linear(in_features=512, out_features=512, bias=True)
            (v_proj): Linear(in_features=512, out_features=512, bias=True)
            (q_proj): Linear(in_features=512, out_features=512, bias=True)
            (out_proj): Linear(in_features=512, out_features=512, bias=True)
          )
          (self_attn_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
          (dropout_module): FairseqDropout()
          (activation_dropout_module): FairseqDropout()
          (fc1): Linear(in_features=512, out_features=2048, bias=True)
          (fc2): Linear(in_features=2048, out_features=512, bias=True)
          (final_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
        )
      )
      (layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
    )
    (final_dropout): Dropout(p=0.1, inplace=False)
    (shrink_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
  )
  (textual_encoder): MTModelEncoder(
    (dropout_module): FairseqDropout()
    (embed_tokens): Embedding(10000, 512, padding_idx=1)
    (embed_positions): SinusoidalPositionalEmbedding()
    (layers): ModuleList(
      (0-5): 6 x TransformerEncoderLayerBase(
        (self_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (self_attn_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
        (dropout_module): FairseqDropout()
        (activation_dropout_module): FairseqDropout()
        (fc1): Linear(in_features=512, out_features=2048, bias=True)
        (fc2): Linear(in_features=2048, out_features=512, bias=True)
        (final_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
      )
    )
    (layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
  )
  (decoder): TransformerDecoderScriptable(
    (dropout_module): FairseqDropout()
    (embed_tokens): Embedding(10000, 512, padding_idx=1)
    (embed_positions): SinusoidalPositionalEmbedding()
    (layers): ModuleList(
      (0-5): 6 x TransformerDecoderLayerBase(
        (dropout_module): FairseqDropout()
        (self_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (activation_dropout_module): FairseqDropout()
        (self_attn_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
        (encoder_attn): MultiheadAttention(
          (dropout_module): FairseqDropout()
          (k_proj): Linear(in_features=512, out_features=512, bias=True)
          (v_proj): Linear(in_features=512, out_features=512, bias=True)
          (q_proj): Linear(in_features=512, out_features=512, bias=True)
          (out_proj): Linear(in_features=512, out_features=512, bias=True)
        )
        (encoder_attn_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
        (fc1): Linear(in_features=512, out_features=2048, bias=True)
        (fc2): Linear(in_features=2048, out_features=512, bias=True)
        (final_layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
      )
    )
    (layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
    (output_projection): Linear(in_features=512, out_features=10000, bias=False)
  )
  (task_net): TaskNetwork(
    (layer_norm): LayerNorm((512,), eps=1e-05, elementwise_affine=True)
    (down_proj): Linear(in_features=512, out_features=256, bias=True)
    (up_proj): Linear(in_features=256, out_features=512, bias=True)
    (dropout_module): FairseqDropout()
    (task_proj): Linear(in_features=512, out_features=1, bias=False)
  )
)
2023-08-21 15:54:52 | INFO | fairseq_cli.train | task: JointTriplePretrainingMergeTask
2023-08-21 15:54:52 | INFO | fairseq_cli.train | model: S2TJoint
2023-08-21 15:54:52 | INFO | fairseq_cli.train | criterion: LabelSmoothedCrossEntropywithW2vCtcShrinkJointATMerge
2023-08-21 15:54:52 | INFO | fairseq_cli.train | num. shared model params: 147,044,480 (num. trained: 147,044,480)
2023-08-21 15:54:52 | INFO | fairseq_cli.train | num. expert model params: 0 (num. trained: 0)
2023-08-21 15:54:52 | INFO | fairseq.tasks.speech_to_text | pre-tokenizer: {'tokenizer': None}
2023-08-21 15:54:52 | INFO | fairseq.tasks.speech_to_text | tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/workspace/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-21 15:54:52 | INFO | fairseq.tasks.joint_triple_pretraining_merge | src tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/workspace/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-21 15:54:52 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="dev_st", n_samples=1418, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-21 15:54:57 | INFO | torch.distributed.distributed_c10d | Added key: store_based_barrier_key:2 to store for rank: 0
2023-08-21 15:55:01 | INFO | torch.distributed.distributed_c10d | Rank 0: Completed store-based barrier for key:store_based_barrier_key:2 with 8 nodes.
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- textual_encoder.embed_tokens.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- decoder.embed_tokens.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.weight <- decoder.output_projection.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.0.0.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.1.0.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.2.0.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.3.0.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.4.0.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.5.0.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- acoustic_encoder.w2v_model.feature_extractor.conv_layers.6.0.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- decoder.output_projection.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.proj.bias <- task_net.task_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.k_proj.weight <- textual_encoder.layers.0.self_attn.k_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.k_proj.bias <- textual_encoder.layers.0.self_attn.k_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.v_proj.weight <- textual_encoder.layers.0.self_attn.v_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.v_proj.bias <- textual_encoder.layers.0.self_attn.v_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.q_proj.weight <- textual_encoder.layers.0.self_attn.q_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.q_proj.bias <- textual_encoder.layers.0.self_attn.q_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.out_proj.weight <- textual_encoder.layers.0.self_attn.out_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn.out_proj.bias <- textual_encoder.layers.0.self_attn.out_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn_layer_norm.weight <- textual_encoder.layers.0.self_attn_layer_norm.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.self_attn_layer_norm.bias <- textual_encoder.layers.0.self_attn_layer_norm.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc1.weight <- textual_encoder.layers.0.fc1.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc1.bias <- textual_encoder.layers.0.fc1.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc2.weight <- textual_encoder.layers.0.fc2.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.fc2.bias <- textual_encoder.layers.0.fc2.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.final_layer_norm.weight <- textual_encoder.layers.0.final_layer_norm.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.0.final_layer_norm.bias <- textual_encoder.layers.0.final_layer_norm.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.k_proj.weight <- textual_encoder.layers.1.self_attn.k_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.k_proj.bias <- textual_encoder.layers.1.self_attn.k_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.v_proj.weight <- textual_encoder.layers.1.self_attn.v_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.v_proj.bias <- textual_encoder.layers.1.self_attn.v_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.q_proj.weight <- textual_encoder.layers.1.self_attn.q_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.q_proj.bias <- textual_encoder.layers.1.self_attn.q_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.out_proj.weight <- textual_encoder.layers.1.self_attn.out_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn.out_proj.bias <- textual_encoder.layers.1.self_attn.out_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn_layer_norm.weight <- textual_encoder.layers.1.self_attn_layer_norm.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.self_attn_layer_norm.bias <- textual_encoder.layers.1.self_attn_layer_norm.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc1.weight <- textual_encoder.layers.1.fc1.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc1.bias <- textual_encoder.layers.1.fc1.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc2.weight <- textual_encoder.layers.1.fc2.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.fc2.bias <- textual_encoder.layers.1.fc2.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.final_layer_norm.weight <- textual_encoder.layers.1.final_layer_norm.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.1.final_layer_norm.bias <- textual_encoder.layers.1.final_layer_norm.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.k_proj.weight <- textual_encoder.layers.2.self_attn.k_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.k_proj.bias <- textual_encoder.layers.2.self_attn.k_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.v_proj.weight <- textual_encoder.layers.2.self_attn.v_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.v_proj.bias <- textual_encoder.layers.2.self_attn.v_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.q_proj.weight <- textual_encoder.layers.2.self_attn.q_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.q_proj.bias <- textual_encoder.layers.2.self_attn.q_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.out_proj.weight <- textual_encoder.layers.2.self_attn.out_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn.out_proj.bias <- textual_encoder.layers.2.self_attn.out_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn_layer_norm.weight <- textual_encoder.layers.2.self_attn_layer_norm.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.self_attn_layer_norm.bias <- textual_encoder.layers.2.self_attn_layer_norm.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc1.weight <- textual_encoder.layers.2.fc1.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc1.bias <- textual_encoder.layers.2.fc1.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc2.weight <- textual_encoder.layers.2.fc2.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.fc2.bias <- textual_encoder.layers.2.fc2.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.final_layer_norm.weight <- textual_encoder.layers.2.final_layer_norm.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.2.final_layer_norm.bias <- textual_encoder.layers.2.final_layer_norm.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.k_proj.weight <- textual_encoder.layers.3.self_attn.k_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.k_proj.bias <- textual_encoder.layers.3.self_attn.k_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.v_proj.weight <- textual_encoder.layers.3.self_attn.v_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.v_proj.bias <- textual_encoder.layers.3.self_attn.v_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.q_proj.weight <- textual_encoder.layers.3.self_attn.q_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.q_proj.bias <- textual_encoder.layers.3.self_attn.q_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.out_proj.weight <- textual_encoder.layers.3.self_attn.out_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn.out_proj.bias <- textual_encoder.layers.3.self_attn.out_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn_layer_norm.weight <- textual_encoder.layers.3.self_attn_layer_norm.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.self_attn_layer_norm.bias <- textual_encoder.layers.3.self_attn_layer_norm.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc1.weight <- textual_encoder.layers.3.fc1.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc1.bias <- textual_encoder.layers.3.fc1.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc2.weight <- textual_encoder.layers.3.fc2.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.fc2.bias <- textual_encoder.layers.3.fc2.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.final_layer_norm.weight <- textual_encoder.layers.3.final_layer_norm.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.3.final_layer_norm.bias <- textual_encoder.layers.3.final_layer_norm.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.k_proj.weight <- textual_encoder.layers.4.self_attn.k_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.k_proj.bias <- textual_encoder.layers.4.self_attn.k_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.v_proj.weight <- textual_encoder.layers.4.self_attn.v_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.v_proj.bias <- textual_encoder.layers.4.self_attn.v_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.q_proj.weight <- textual_encoder.layers.4.self_attn.q_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.q_proj.bias <- textual_encoder.layers.4.self_attn.q_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.out_proj.weight <- textual_encoder.layers.4.self_attn.out_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn.out_proj.bias <- textual_encoder.layers.4.self_attn.out_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn_layer_norm.weight <- textual_encoder.layers.4.self_attn_layer_norm.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.self_attn_layer_norm.bias <- textual_encoder.layers.4.self_attn_layer_norm.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc1.weight <- textual_encoder.layers.4.fc1.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc1.bias <- textual_encoder.layers.4.fc1.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc2.weight <- textual_encoder.layers.4.fc2.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.fc2.bias <- textual_encoder.layers.4.fc2.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.final_layer_norm.weight <- textual_encoder.layers.4.final_layer_norm.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.4.final_layer_norm.bias <- textual_encoder.layers.4.final_layer_norm.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.k_proj.weight <- textual_encoder.layers.5.self_attn.k_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.k_proj.bias <- textual_encoder.layers.5.self_attn.k_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.v_proj.weight <- textual_encoder.layers.5.self_attn.v_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.v_proj.bias <- textual_encoder.layers.5.self_attn.v_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.q_proj.weight <- textual_encoder.layers.5.self_attn.q_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.q_proj.bias <- textual_encoder.layers.5.self_attn.q_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.out_proj.weight <- textual_encoder.layers.5.self_attn.out_proj.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn.out_proj.bias <- textual_encoder.layers.5.self_attn.out_proj.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn_layer_norm.weight <- textual_encoder.layers.5.self_attn_layer_norm.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.self_attn_layer_norm.bias <- textual_encoder.layers.5.self_attn_layer_norm.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc1.weight <- textual_encoder.layers.5.fc1.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc1.bias <- textual_encoder.layers.5.fc1.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc2.weight <- textual_encoder.layers.5.fc2.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.fc2.bias <- textual_encoder.layers.5.fc2.bias
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.final_layer_norm.weight <- textual_encoder.layers.5.final_layer_norm.weight
2023-08-21 15:55:01 | INFO | fairseq.trainer | detected shared parameter: acoustic_encoder.sead.layers.5.final_layer_norm.bias <- textual_encoder.layers.5.final_layer_norm.bias
2023-08-21 15:55:02 | INFO | fairseq.utils | ***********************CUDA enviroments for all 8 workers***********************
2023-08-21 15:55:02 | INFO | fairseq.utils | rank   0: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-21 15:55:02 | INFO | fairseq.utils | rank   1: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-21 15:55:02 | INFO | fairseq.utils | rank   2: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-21 15:55:02 | INFO | fairseq.utils | rank   3: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-21 15:55:02 | INFO | fairseq.utils | rank   4: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-21 15:55:02 | INFO | fairseq.utils | rank   5: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-21 15:55:02 | INFO | fairseq.utils | rank   6: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-21 15:55:02 | INFO | fairseq.utils | rank   7: capabilities =  8.6  ; total memory = 23.691 GB ; name = NVIDIA GeForce RTX 3090                 
2023-08-21 15:55:02 | INFO | fairseq.utils | ***********************CUDA enviroments for all 8 workers***********************
2023-08-21 15:55:02 | INFO | fairseq_cli.train | training on 8 devices (GPUs/TPUs)
2023-08-21 15:55:02 | INFO | fairseq_cli.train | max tokens per device = 15000 and max sentences per device = None
2023-08-21 15:55:02 | INFO | fairseq.trainer | Preparing to load checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-21 15:55:02 | INFO | fairseq.trainer | No existing checkpoint found ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-21 15:55:02 | INFO | fairseq.trainer | loading train data for epoch 1
2023-08-21 15:55:02 | INFO | fairseq.tasks.speech_to_text | pre-tokenizer: {'tokenizer': None}
2023-08-21 15:55:02 | INFO | fairseq.tasks.speech_to_text | tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/workspace/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-21 15:55:02 | INFO | fairseq.tasks.joint_triple_pretraining_merge | src tokenizer: {'bpe': 'sentencepiece', 'sentencepiece_model': '/workspace/fairseq-AT/egs/pretrain-all/data_all_ende_lcrm/sentencepiece.bpe.model'}
2023-08-21 15:55:03 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="train_asr", n_samples=225277, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-21 15:55:05 | INFO | fairseq.data.audio.triple_dataset | TripleDataset(split="train_st", n_samples=225277, prepend_tgt_lang_tag=False, shuffle=False, transforms=None)
2023-08-21 15:55:47 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 15:55:47 | INFO | fairseq.trainer | begin training epoch 1
2023-08-21 15:55:47 | INFO | fairseq_cli.train | Start iterating over samples
True False
None None None
2023-08-21 15:55:57 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 64.0
True False
None None None
2023-08-21 15:55:58 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 32.0
2023-08-21 15:56:00 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
True False
None None None
True False
None None None
2023-08-21 15:56:26 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
True False
None None None
True False
None None None
2023-08-21 15:56:50 | INFO | train_inner | epoch 001:    104 / 1474 loss=22.679, trans_loss=5.874, nll_loss=4.682, w2v_ctc_loss=22.323, task_loss=1.67, contrastive_loss=6.525, total=4227.47, n_correct=123.22, ppl=25.67, accuracy=2.915, wps=23617.7, ups=1.88, wpb=12610.9, bsz=477.5, num_updates=100, lr=4.098e-06, gnorm=2.842, clip=0, loss_scale=8, train_wall=56, gb_free=18.6, wall=109
2023-08-21 15:57:42 | INFO | train_inner | epoch 001:    204 / 1474 loss=19.525, trans_loss=5.871, nll_loss=4.706, w2v_ctc_loss=17.565, task_loss=1.632, contrastive_loss=6.481, total=4117.95, n_correct=114.32, ppl=26.1, accuracy=2.776, wps=23971.9, ups=1.95, wpb=12295.5, bsz=458, num_updates=200, lr=8.096e-06, gnorm=7.012, clip=16, loss_scale=8, train_wall=51, gb_free=18.8, wall=160
2023-08-21 15:58:33 | INFO | train_inner | epoch 001:    304 / 1474 loss=12.627, trans_loss=5.891, nll_loss=4.771, w2v_ctc_loss=7.008, task_loss=1.569, contrastive_loss=6.404, total=4076.47, n_correct=107.98, ppl=27.31, accuracy=2.649, wps=23669, ups=1.94, wpb=12176.8, bsz=439.1, num_updates=300, lr=1.2094e-05, gnorm=2.293, clip=0, loss_scale=8, train_wall=51, gb_free=19.6, wall=211
2023-08-21 15:59:24 | INFO | train_inner | epoch 001:    404 / 1474 loss=12.124, trans_loss=5.877, nll_loss=4.789, w2v_ctc_loss=6.104, task_loss=1.334, contrastive_loss=6.509, total=4180.9, n_correct=100.77, ppl=27.64, accuracy=2.41, wps=24441.7, ups=1.96, wpb=12484.3, bsz=462.7, num_updates=400, lr=1.6092e-05, gnorm=1.349, clip=0, loss_scale=8, train_wall=51, gb_free=19, wall=262
2023-08-21 16:00:16 | INFO | train_inner | epoch 001:    504 / 1474 loss=11.973, trans_loss=5.877, nll_loss=4.813, w2v_ctc_loss=5.797, task_loss=1.209, contrastive_loss=6.677, total=4193.47, n_correct=112.42, ppl=28.11, accuracy=2.681, wps=24357.8, ups=1.94, wpb=12530, bsz=488.9, num_updates=500, lr=2.009e-05, gnorm=0.869, clip=0, loss_scale=8, train_wall=51, gb_free=19.3, wall=314
2023-08-21 16:01:07 | INFO | train_inner | epoch 001:    604 / 1474 loss=11.754, trans_loss=5.902, nll_loss=4.844, w2v_ctc_loss=5.611, task_loss=1.204, contrastive_loss=6.52, total=4117.91, n_correct=114.67, ppl=28.73, accuracy=2.785, wps=24033.4, ups=1.96, wpb=12280.9, bsz=469.7, num_updates=600, lr=2.4088e-05, gnorm=0.701, clip=0, loss_scale=8, train_wall=51, gb_free=18.8, wall=365
2023-08-21 16:01:57 | INFO | train_inner | epoch 001:    704 / 1474 loss=11.573, trans_loss=5.977, nll_loss=4.935, w2v_ctc_loss=5.433, task_loss=1.234, contrastive_loss=6.264, total=4156.95, n_correct=93.68, ppl=30.59, accuracy=2.254, wps=24515.3, ups=1.97, wpb=12412.9, bsz=458.6, num_updates=700, lr=2.8086e-05, gnorm=1.048, clip=0, loss_scale=8, train_wall=50, gb_free=19.5, wall=416
2023-08-21 16:02:49 | INFO | train_inner | epoch 001:    804 / 1474 loss=11.299, trans_loss=5.995, nll_loss=4.946, w2v_ctc_loss=5.16, task_loss=1.22, contrastive_loss=6.244, total=4122.35, n_correct=84.26, ppl=30.83, accuracy=2.044, wps=24004.6, ups=1.95, wpb=12300.9, bsz=462.7, num_updates=800, lr=3.2084e-05, gnorm=1.607, clip=0, loss_scale=8, train_wall=51, gb_free=19.5, wall=467
2023-08-21 16:03:40 | INFO | train_inner | epoch 001:    904 / 1474 loss=11.123, trans_loss=6.082, nll_loss=5.055, w2v_ctc_loss=4.947, task_loss=1.233, contrastive_loss=6.037, total=4168.3, n_correct=68.24, ppl=33.23, accuracy=1.637, wps=24392.1, ups=1.96, wpb=12447.1, bsz=458.4, num_updates=900, lr=3.6082e-05, gnorm=1.703, clip=0, loss_scale=8, train_wall=51, gb_free=18.8, wall=518
2023-08-21 16:04:31 | INFO | train_inner | epoch 001:   1004 / 1474 loss=10.945, trans_loss=6.137, nll_loss=5.12, w2v_ctc_loss=4.724, task_loss=1.239, contrastive_loss=6.007, total=4135.11, n_correct=60.01, ppl=34.78, accuracy=1.451, wps=24110.9, ups=1.95, wpb=12352.4, bsz=458.1, num_updates=1000, lr=4.008e-05, gnorm=2.205, clip=0, loss_scale=8, train_wall=51, gb_free=19, wall=569
2023-08-21 16:05:21 | INFO | train_inner | epoch 001:   1104 / 1474 loss=10.708, trans_loss=6.182, nll_loss=5.171, w2v_ctc_loss=4.559, task_loss=1.267, contrastive_loss=5.813, total=4152.99, n_correct=50.55, ppl=36.02, accuracy=1.217, wps=24664.2, ups=1.99, wpb=12385.9, bsz=453.2, num_updates=1100, lr=4.4078e-05, gnorm=2.53, clip=0, loss_scale=8, train_wall=50, gb_free=18.7, wall=619
2023-08-21 16:06:12 | INFO | train_inner | epoch 001:   1204 / 1474 loss=10.47, trans_loss=6.159, nll_loss=5.144, w2v_ctc_loss=4.445, task_loss=1.328, contrastive_loss=5.587, total=4126.86, n_correct=46.65, ppl=35.35, accuracy=1.13, wps=24172.6, ups=1.96, wpb=12326.4, bsz=436.5, num_updates=1200, lr=4.8076e-05, gnorm=2.911, clip=0, loss_scale=8, train_wall=51, gb_free=19.5, wall=670
2023-08-21 16:07:02 | INFO | train_inner | epoch 001:   1304 / 1474 loss=10.305, trans_loss=6.187, nll_loss=5.177, w2v_ctc_loss=4.322, task_loss=1.239, contrastive_loss=5.431, total=4059.86, n_correct=40.47, ppl=36.17, accuracy=0.997, wps=24195.5, ups=2, wpb=12120.2, bsz=444.9, num_updates=1300, lr=5.2074e-05, gnorm=2.973, clip=0, loss_scale=8, train_wall=50, gb_free=19.3, wall=720
2023-08-21 16:07:53 | INFO | train_inner | epoch 001:   1404 / 1474 loss=10.093, trans_loss=6.186, nll_loss=5.178, w2v_ctc_loss=4.216, task_loss=1.266, contrastive_loss=5.563, total=4130.35, n_correct=42.41, ppl=36.21, accuracy=1.027, wps=24052.4, ups=1.95, wpb=12342.1, bsz=451.7, num_updates=1400, lr=5.6072e-05, gnorm=3.118, clip=0, loss_scale=8, train_wall=51, gb_free=19, wall=772
2023-08-21 16:08:29 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
True False
None None None
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
/usr/local/lib/python3.8/dist-packages/torch/nn/functional.py:4999: UserWarning: Support for mismatched key_padding_mask and attn_mask is deprecated. Use same type for both instead.
  warnings.warn(
2023-08-21 16:09:04 | INFO | dev_st | epoch 001 | valid on 'dev_st' subset | loss 13.59 | trans_loss 13.652 | nll_loss 13.429 | w2v_ctc_loss 5.534 | task_loss 7.545 | contrastive_loss 7.627 | total 4003.4 | n_correct 36.7 | ppl 11032.1 | accuracy 0.917 | uer 68.261 | wer 68.215 | raw_wer 68.215 | bleu 0 | wps 1418.1 | wpb 4003.4 | bsz 141.8 | num_updates 1470
2023-08-21 16:09:04 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 1 @ 1470 updates
2023-08-21 16:09:04 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 16:09:06 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 16:09:09 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 1 @ 1470 updates, score 0.0) (writing took 5.0942119979299605 seconds)
2023-08-21 16:09:09 | INFO | fairseq_cli.train | end of epoch 1 (average epoch stats below)
2023-08-21 16:09:09 | INFO | train | epoch 001 | loss 12.542 | trans_loss 6.02 | nll_loss 4.96 | w2v_ctc_loss 7.171 | task_loss 1.325 | contrastive_loss 6.117 | total 4139.69 | n_correct 81.1531 | ppl 31.13 | accuracy 1.96 | wps 22937.5 | ups 1.86 | wpb 12358.9 | bsz 458.8 | num_updates 1470 | lr 5.88706e-05 | gnorm 2.405 | clip 1.1 | loss_scale 8 | train_wall 748 | gb_free 18.9 | wall 847
2023-08-21 16:09:09 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 16:09:09 | INFO | fairseq.trainer | begin training epoch 2
2023-08-21 16:09:09 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 16:09:31 | INFO | train_inner | epoch 002:     30 / 1474 loss=9.905, trans_loss=6.156, nll_loss=5.134, w2v_ctc_loss=4.118, task_loss=1.194, contrastive_loss=5.396, total=4156.68, n_correct=47.94, ppl=35.11, accuracy=1.153, wps=12650.3, ups=1.02, wpb=12397, bsz=469.7, num_updates=1500, lr=6.007e-05, gnorm=3.217, clip=0, loss_scale=8, train_wall=51, gb_free=19, wall=870
2023-08-21 16:10:22 | INFO | train_inner | epoch 002:    130 / 1474 loss=9.692, trans_loss=6.148, nll_loss=5.124, w2v_ctc_loss=4.078, task_loss=1.259, contrastive_loss=5.089, total=4153.21, n_correct=47.14, ppl=34.88, accuracy=1.135, wps=24562, ups=1.98, wpb=12389.7, bsz=453.1, num_updates=1600, lr=6.4068e-05, gnorm=3.417, clip=0, loss_scale=8, train_wall=50, gb_free=18.7, wall=920
2023-08-21 16:11:13 | INFO | train_inner | epoch 002:    230 / 1474 loss=9.65, trans_loss=6.172, nll_loss=5.16, w2v_ctc_loss=3.956, task_loss=1.085, contrastive_loss=5.211, total=4205.43, n_correct=39.78, ppl=35.76, accuracy=0.946, wps=24746.6, ups=1.97, wpb=12558.6, bsz=495, num_updates=1700, lr=6.8066e-05, gnorm=3.243, clip=0, loss_scale=8, train_wall=50, gb_free=18.9, wall=971
2023-08-21 16:12:03 | INFO | train_inner | epoch 002:    330 / 1474 loss=9.315, trans_loss=6.164, nll_loss=5.15, w2v_ctc_loss=3.935, task_loss=1.277, contrastive_loss=4.707, total=4134.76, n_correct=37.57, ppl=35.5, accuracy=0.909, wps=24405.7, ups=1.98, wpb=12343.6, bsz=445.5, num_updates=1800, lr=7.2064e-05, gnorm=3.298, clip=0, loss_scale=8, train_wall=50, gb_free=18.3, wall=1022
2023-08-21 16:12:53 | INFO | train_inner | epoch 002:    430 / 1474 loss=9.081, trans_loss=6.164, nll_loss=5.155, w2v_ctc_loss=3.903, task_loss=1.4, contrastive_loss=4.329, total=4029.31, n_correct=33.83, ppl=35.63, accuracy=0.84, wps=23957, ups=1.99, wpb=12043.9, bsz=413.4, num_updates=1900, lr=7.6062e-05, gnorm=3.191, clip=0, loss_scale=8, train_wall=50, gb_free=19.1, wall=1072
2023-08-21 16:13:44 | INFO | train_inner | epoch 002:    530 / 1474 loss=9.034, trans_loss=6.153, nll_loss=5.134, w2v_ctc_loss=3.784, task_loss=1.211, contrastive_loss=4.585, total=4182.35, n_correct=35.42, ppl=35.12, accuracy=0.847, wps=24702.8, ups=1.98, wpb=12478, bsz=468.5, num_updates=2000, lr=8.006e-05, gnorm=2.99, clip=0, loss_scale=8, train_wall=50, gb_free=18.7, wall=1122
2023-08-21 16:13:44 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 16:14:18 | INFO | dev_st | epoch 002 | valid on 'dev_st' subset | loss 12.775 | trans_loss 13.427 | nll_loss 13.148 | w2v_ctc_loss 4.964 | task_loss 7.545 | contrastive_loss 6.376 | total 4003.4 | n_correct 37.2 | ppl 9079.91 | accuracy 0.929 | uer 62.748 | wer 62.611 | raw_wer 62.611 | bleu 0 | wps 1453.5 | wpb 4003.4 | bsz 141.8 | num_updates 2000 | best_bleu 0
2023-08-21 16:14:18 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 2 @ 2000 updates
2023-08-21 16:14:18 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_2_2000.pt
2023-08-21 16:14:20 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_2_2000.pt
2023-08-21 16:14:27 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_2_2000.pt (epoch 2 @ 2000 updates, score 0.0) (writing took 8.849121432052925 seconds)
2023-08-21 16:15:17 | INFO | train_inner | epoch 002:    630 / 1474 loss=8.783, trans_loss=6.144, nll_loss=5.125, w2v_ctc_loss=3.715, task_loss=1.235, contrastive_loss=4.17, total=4127.74, n_correct=38.9, ppl=34.9, accuracy=0.942, wps=13209.7, ups=1.07, wpb=12318, bsz=449.2, num_updates=2100, lr=8.4058e-05, gnorm=2.983, clip=0, loss_scale=8, train_wall=50, gb_free=18.5, wall=1216
2023-08-21 16:16:07 | INFO | train_inner | epoch 002:    730 / 1474 loss=8.64, trans_loss=6.128, nll_loss=5.107, w2v_ctc_loss=3.67, task_loss=1.245, contrastive_loss=4.253, total=4140.87, n_correct=39.31, ppl=34.47, accuracy=0.949, wps=24592.8, ups=1.99, wpb=12361.1, bsz=458.4, num_updates=2200, lr=8.8056e-05, gnorm=3.154, clip=0, loss_scale=16, train_wall=50, gb_free=18.9, wall=1266
2023-08-21 16:16:58 | INFO | train_inner | epoch 002:    830 / 1474 loss=8.518, trans_loss=6.107, nll_loss=5.083, w2v_ctc_loss=3.628, task_loss=1.257, contrastive_loss=4.188, total=4167.27, n_correct=43.12, ppl=33.9, accuracy=1.035, wps=24486.4, ups=1.97, wpb=12448.5, bsz=461.2, num_updates=2300, lr=9.2054e-05, gnorm=3.095, clip=0, loss_scale=16, train_wall=50, gb_free=19, wall=1317
2023-08-21 16:17:50 | INFO | train_inner | epoch 002:    930 / 1474 loss=8.307, trans_loss=6.095, nll_loss=5.069, w2v_ctc_loss=3.55, task_loss=1.281, contrastive_loss=4.031, total=4104.57, n_correct=44.09, ppl=33.57, accuracy=1.074, wps=23944, ups=1.95, wpb=12254.5, bsz=445.4, num_updates=2400, lr=9.6052e-05, gnorm=2.865, clip=0, loss_scale=16, train_wall=51, gb_free=19.3, wall=1368
2023-08-21 16:18:40 | INFO | train_inner | epoch 002:   1030 / 1474 loss=8.128, trans_loss=6.081, nll_loss=5.053, w2v_ctc_loss=3.49, task_loss=1.256, contrastive_loss=3.76, total=4101.39, n_correct=45.39, ppl=33.2, accuracy=1.107, wps=24032.9, ups=1.96, wpb=12244.9, bsz=455, num_updates=2500, lr=0.00010005, gnorm=2.613, clip=0, loss_scale=16, train_wall=51, gb_free=18.8, wall=1419
2023-08-21 16:19:31 | INFO | train_inner | epoch 002:   1130 / 1474 loss=8.116, trans_loss=6.087, nll_loss=5.062, w2v_ctc_loss=3.41, task_loss=1.124, contrastive_loss=4.064, total=4197.97, n_correct=46.03, ppl=33.4, accuracy=1.096, wps=24595.7, ups=1.96, wpb=12531.7, bsz=489.8, num_updates=2600, lr=0.000104048, gnorm=2.452, clip=0, loss_scale=16, train_wall=51, gb_free=19, wall=1470
2023-08-21 16:20:22 | INFO | train_inner | epoch 002:   1230 / 1474 loss=7.988, trans_loss=6.08, nll_loss=5.053, w2v_ctc_loss=3.374, task_loss=1.146, contrastive_loss=3.915, total=4224.76, n_correct=46.69, ppl=33.2, accuracy=1.105, wps=24839.5, ups=1.97, wpb=12605.5, bsz=492.8, num_updates=2700, lr=0.000108046, gnorm=2.464, clip=0, loss_scale=16, train_wall=50, gb_free=18.7, wall=1521
2023-08-21 16:21:12 | INFO | train_inner | epoch 002:   1330 / 1474 loss=7.749, trans_loss=6.074, nll_loss=5.051, w2v_ctc_loss=3.345, task_loss=1.198, contrastive_loss=3.329, total=4149.37, n_correct=47.37, ppl=33.16, accuracy=1.142, wps=24930.9, ups=2.01, wpb=12400.8, bsz=460.4, num_updates=2800, lr=0.000112044, gnorm=2.343, clip=0, loss_scale=16, train_wall=49, gb_free=19.6, wall=1570
2023-08-21 16:22:02 | INFO | train_inner | epoch 002:   1430 / 1474 loss=7.626, trans_loss=6.086, nll_loss=5.066, w2v_ctc_loss=3.303, task_loss=1.341, contrastive_loss=3.43, total=4055.67, n_correct=44.41, ppl=33.49, accuracy=1.095, wps=24217.4, ups=2, wpb=12110.2, bsz=440, num_updates=2900, lr=0.000116042, gnorm=2.363, clip=0, loss_scale=16, train_wall=50, gb_free=19.1, wall=1620
2023-08-21 16:22:24 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 16:22:58 | INFO | dev_st | epoch 002 | valid on 'dev_st' subset | loss 11.702 | trans_loss 13.219 | nll_loss 12.942 | w2v_ctc_loss 4.249 | task_loss 7.545 | contrastive_loss 4.5 | total 4003.4 | n_correct 56.7 | ppl 7869.05 | accuracy 1.416 | uer 54.896 | wer 55.587 | raw_wer 55.587 | bleu 0 | wps 1437 | wpb 4003.4 | bsz 141.8 | num_updates 2944 | best_bleu 0
2023-08-21 16:22:58 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 2 @ 2944 updates
2023-08-21 16:22:58 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 16:23:03 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 16:23:06 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 2 @ 2944 updates, score 0.0) (writing took 7.519082261947915 seconds)
2023-08-21 16:23:06 | INFO | fairseq_cli.train | end of epoch 2 (average epoch stats below)
2023-08-21 16:23:06 | INFO | train | epoch 002 | loss 8.611 | trans_loss 6.12 | nll_loss 5.099 | w2v_ctc_loss 3.651 | task_loss 1.234 | contrastive_loss 4.216 | total 4138.65 | n_correct 42.3175 | ppl 34.27 | accuracy 1.022 | wps 21756.8 | ups 1.76 | wpb 12355.8 | bsz 458.5 | num_updates 2944 | lr 0.000117801 | gnorm 2.881 | clip 0 | loss_scale 16 | train_wall 739 | gb_free 19 | wall 1684
2023-08-21 16:23:06 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 16:23:06 | INFO | fairseq.trainer | begin training epoch 3
2023-08-21 16:23:06 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 16:23:42 | INFO | train_inner | epoch 003:     56 / 1474 loss=7.465, trans_loss=6.08, nll_loss=5.058, w2v_ctc_loss=3.244, task_loss=1.28, contrastive_loss=3.158, total=4065.2, n_correct=46.64, ppl=33.3, accuracy=1.147, wps=12163.6, ups=1, wpb=12134.6, bsz=439.6, num_updates=3000, lr=0.00012004, gnorm=2.168, clip=0, loss_scale=16, train_wall=50, gb_free=19.6, wall=1720
2023-08-21 16:23:42 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-21 16:23:43 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 4.0
2023-08-21 16:23:44 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 2.0
2023-08-21 16:25:01 | INFO | train_inner | epoch 003:    159 / 1474 loss=6.527, trans_loss=5.439, nll_loss=4.236, w2v_ctc_loss=3.007, task_loss=0.845, contrastive_loss=2.739, total=4158.14, n_correct=244.8, ppl=18.84, accuracy=5.887, wps=15755, ups=1.27, wpb=12416.3, bsz=462.2, num_updates=3100, lr=0.000124038, gnorm=5.586, clip=9, loss_scale=2, train_wall=78, gb_free=16.1, wall=1799
2023-08-21 16:26:19 | INFO | train_inner | epoch 003:    259 / 1474 loss=5.615, trans_loss=5.159, nll_loss=3.876, w2v_ctc_loss=2.705, task_loss=0.867, contrastive_loss=2.198, total=4155.72, n_correct=428.54, ppl=14.69, accuracy=10.312, wps=15868.6, ups=1.28, wpb=12415.9, bsz=465.5, num_updates=3200, lr=0.000128036, gnorm=3.146, clip=0, loss_scale=2, train_wall=78, gb_free=17.3, wall=1877
2023-08-21 16:27:36 | INFO | train_inner | epoch 003:    359 / 1474 loss=5.205, trans_loss=5.017, nll_loss=3.683, w2v_ctc_loss=2.566, task_loss=0.855, contrastive_loss=2.038, total=4154.07, n_correct=533.55, ppl=12.85, accuracy=12.844, wps=16008.6, ups=1.29, wpb=12396.6, bsz=464.9, num_updates=3300, lr=0.000132034, gnorm=2.742, clip=0, loss_scale=2, train_wall=77, gb_free=15.1, wall=1955
2023-08-21 16:28:55 | INFO | train_inner | epoch 003:    459 / 1474 loss=4.796, trans_loss=4.878, nll_loss=3.496, w2v_ctc_loss=2.445, task_loss=0.841, contrastive_loss=1.59, total=4212.17, n_correct=641.33, ppl=11.28, accuracy=15.226, wps=15925.3, ups=1.27, wpb=12572.6, bsz=473.8, num_updates=3400, lr=0.000136032, gnorm=2.503, clip=0, loss_scale=2, train_wall=79, gb_free=15.3, wall=2033
2023-08-21 16:30:12 | INFO | train_inner | epoch 003:    559 / 1474 loss=4.456, trans_loss=4.742, nll_loss=3.318, w2v_ctc_loss=2.328, task_loss=0.918, contrastive_loss=1.408, total=4081.04, n_correct=730.86, ppl=9.97, accuracy=17.909, wps=15770.6, ups=1.29, wpb=12190.8, bsz=440.1, num_updates=3500, lr=0.00014003, gnorm=2.288, clip=0, loss_scale=2, train_wall=77, gb_free=16.1, wall=2111
2023-08-21 16:31:31 | INFO | train_inner | epoch 003:    659 / 1474 loss=4.197, trans_loss=4.496, nll_loss=2.985, w2v_ctc_loss=2.221, task_loss=0.814, contrastive_loss=1.542, total=4231.09, n_correct=1025.73, ppl=7.92, accuracy=24.243, wps=16036.4, ups=1.27, wpb=12615.6, bsz=484.4, num_updates=3600, lr=0.000144028, gnorm=2.064, clip=0, loss_scale=2, train_wall=78, gb_free=15.6, wall=2189
2023-08-21 16:32:48 | INFO | train_inner | epoch 003:    759 / 1474 loss=3.861, trans_loss=4.294, nll_loss=2.725, w2v_ctc_loss=2.169, task_loss=0.823, contrastive_loss=1.007, total=4160.74, n_correct=1252.65, ppl=6.61, accuracy=30.106, wps=16206.1, ups=1.3, wpb=12428.5, bsz=469.2, num_updates=3700, lr=0.000148026, gnorm=1.931, clip=0, loss_scale=2, train_wall=76, gb_free=16.5, wall=2266
2023-08-21 16:34:05 | INFO | train_inner | epoch 003:    859 / 1474 loss=3.68, trans_loss=4.237, nll_loss=2.652, w2v_ctc_loss=2.098, task_loss=0.868, contrastive_loss=0.876, total=4160.47, n_correct=1332.47, ppl=6.29, accuracy=32.027, wps=16102.8, ups=1.3, wpb=12423.6, bsz=455.4, num_updates=3800, lr=0.000152024, gnorm=1.792, clip=0, loss_scale=2, train_wall=77, gb_free=15.9, wall=2343
2023-08-21 16:35:23 | INFO | train_inner | epoch 003:    959 / 1474 loss=3.593, trans_loss=4.197, nll_loss=2.6, w2v_ctc_loss=2.044, task_loss=0.834, contrastive_loss=0.89, total=4162.26, n_correct=1394.58, ppl=6.06, accuracy=33.505, wps=15964.9, ups=1.29, wpb=12416.1, bsz=467.9, num_updates=3900, lr=0.000156022, gnorm=1.723, clip=0, loss_scale=2, train_wall=77, gb_free=17.6, wall=2421
2023-08-21 16:36:40 | INFO | train_inner | epoch 003:   1059 / 1474 loss=3.483, trans_loss=4.165, nll_loss=2.561, w2v_ctc_loss=2.016, task_loss=0.911, contrastive_loss=0.764, total=4062.67, n_correct=1393.61, ppl=5.9, accuracy=34.303, wps=15737.5, ups=1.3, wpb=12131.7, bsz=443.2, num_updates=4000, lr=0.00016002, gnorm=1.67, clip=0, loss_scale=2, train_wall=77, gb_free=15.3, wall=2498
2023-08-21 16:36:40 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 16:37:09 | INFO | dev_st | epoch 003 | valid on 'dev_st' subset | loss 5.775 | trans_loss 7.146 | nll_loss 4.966 | w2v_ctc_loss 2.254 | task_loss 4.206 | contrastive_loss 1.112 | total 4003.4 | n_correct 1502.8 | ppl 31.25 | accuracy 37.538 | uer 31.564 | wer 32.818 | raw_wer 32.818 | bleu 1.65 | wps 1638.8 | wpb 4003.4 | bsz 141.8 | num_updates 4000 | best_bleu 1.65
2023-08-21 16:37:09 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 3 @ 4000 updates
2023-08-21 16:37:09 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_3_4000.pt
2023-08-21 16:37:12 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_3_4000.pt
2023-08-21 16:37:19 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_3_4000.pt (epoch 3 @ 4000 updates, score 1.65) (writing took 9.79341891396325 seconds)
2023-08-21 16:38:36 | INFO | train_inner | epoch 003:   1159 / 1474 loss=3.388, trans_loss=4.146, nll_loss=2.536, w2v_ctc_loss=1.958, task_loss=0.924, contrastive_loss=0.691, total=4046.76, n_correct=1414.65, ppl=5.8, accuracy=34.958, wps=10383.4, ups=0.86, wpb=12078.6, bsz=433.9, num_updates=4100, lr=0.000164018, gnorm=1.599, clip=0, loss_scale=2, train_wall=77, gb_free=15.7, wall=2615
2023-08-21 16:39:53 | INFO | train_inner | epoch 003:   1259 / 1474 loss=3.298, trans_loss=4.114, nll_loss=2.495, w2v_ctc_loss=1.908, task_loss=0.91, contrastive_loss=0.625, total=4064.26, n_correct=1459.37, ppl=5.64, accuracy=35.907, wps=15864, ups=1.31, wpb=12137.6, bsz=434, num_updates=4200, lr=0.000168016, gnorm=1.516, clip=0, loss_scale=2, train_wall=76, gb_free=16.3, wall=2691
2023-08-21 16:41:10 | INFO | train_inner | epoch 003:   1359 / 1474 loss=3.282, trans_loss=4.081, nll_loss=2.453, w2v_ctc_loss=1.858, task_loss=0.866, contrastive_loss=0.814, total=4137.36, n_correct=1532.08, ppl=5.47, accuracy=37.03, wps=15915.6, ups=1.29, wpb=12352.2, bsz=461.5, num_updates=4300, lr=0.000172014, gnorm=1.505, clip=0, loss_scale=2, train_wall=77, gb_free=15.7, wall=2769
2023-08-21 16:42:28 | INFO | train_inner | epoch 003:   1459 / 1474 loss=3.239, trans_loss=4.056, nll_loss=2.421, w2v_ctc_loss=1.84, task_loss=0.82, contrastive_loss=0.774, total=4207.75, n_correct=1601.47, ppl=5.36, accuracy=38.06, wps=16131.1, ups=1.28, wpb=12567.9, bsz=476.7, num_updates=4400, lr=0.000176012, gnorm=1.55, clip=0, loss_scale=2, train_wall=78, gb_free=17.1, wall=2847
2023-08-21 16:42:40 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 16:43:09 | INFO | dev_st | epoch 003 | valid on 'dev_st' subset | loss 5.395 | trans_loss 6.759 | nll_loss 4.455 | w2v_ctc_loss 2.074 | task_loss 4.161 | contrastive_loss 0.896 | total 4003.4 | n_correct 1705.4 | ppl 21.94 | accuracy 42.599 | uer 30.014 | wer 31.024 | raw_wer 31.024 | bleu 3.98 | wps 1733.2 | wpb 4003.4 | bsz 141.8 | num_updates 4415 | best_bleu 3.98
2023-08-21 16:43:09 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 3 @ 4415 updates
2023-08-21 16:43:09 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 16:43:14 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 16:43:18 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 3 @ 4415 updates, score 3.98) (writing took 8.778425200027414 seconds)
2023-08-21 16:43:18 | INFO | fairseq_cli.train | end of epoch 3 (average epoch stats below)
2023-08-21 16:43:18 | INFO | train | epoch 003 | loss 4.304 | trans_loss 4.558 | nll_loss 3.077 | w2v_ctc_loss 2.261 | task_loss 0.879 | contrastive_loss 1.357 | total 4139.62 | n_correct 1036.14 | ppl 8.44 | accuracy 25.03 | wps 14999.3 | ups 1.21 | wpb 12358.7 | bsz 458.8 | num_updates 4415 | lr 0.000176612 | gnorm 2.245 | clip 0.6 | loss_scale 2 | train_wall 1121 | gb_free 15.9 | wall 2896
2023-08-21 16:43:18 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 16:43:18 | INFO | fairseq.trainer | begin training epoch 4
2023-08-21 16:43:18 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 16:44:30 | INFO | train_inner | epoch 004:     85 / 1474 loss=3.05, trans_loss=4.018, nll_loss=2.369, w2v_ctc_loss=1.778, task_loss=0.897, contrastive_loss=0.445, total=4095.18, n_correct=1611.07, ppl=5.17, accuracy=39.341, wps=9998.3, ups=0.82, wpb=12222.9, bsz=437.8, num_updates=4500, lr=0.00018001, gnorm=1.359, clip=0, loss_scale=2, train_wall=76, gb_free=12.1, wall=2969
2023-08-21 16:45:48 | INFO | train_inner | epoch 004:    185 / 1474 loss=3.032, trans_loss=3.982, nll_loss=2.323, w2v_ctc_loss=1.751, task_loss=0.816, contrastive_loss=0.501, total=4178.83, n_correct=1694.09, ppl=5, accuracy=40.54, wps=16185.7, ups=1.3, wpb=12476.1, bsz=469.5, num_updates=4600, lr=0.000184008, gnorm=1.357, clip=0, loss_scale=2, train_wall=77, gb_free=14.4, wall=3046
2023-08-21 16:47:06 | INFO | train_inner | epoch 004:    285 / 1474 loss=3.05, trans_loss=3.964, nll_loss=2.301, w2v_ctc_loss=1.743, task_loss=0.873, contrastive_loss=0.739, total=4142.3, n_correct=1710.8, ppl=4.93, accuracy=41.301, wps=15863.9, ups=1.28, wpb=12373.8, bsz=460.7, num_updates=4700, lr=0.000188006, gnorm=1.421, clip=0, loss_scale=2, train_wall=78, gb_free=12.8, wall=3124
2023-08-21 16:48:22 | INFO | train_inner | epoch 004:    385 / 1474 loss=2.945, trans_loss=3.944, nll_loss=2.273, w2v_ctc_loss=1.721, task_loss=0.894, contrastive_loss=0.415, total=4124.92, n_correct=1741.19, ppl=4.83, accuracy=42.211, wps=16122.9, ups=1.31, wpb=12307.7, bsz=444.2, num_updates=4800, lr=0.000192004, gnorm=1.338, clip=0, loss_scale=2, train_wall=76, gb_free=11.9, wall=3200
2023-08-21 16:49:40 | INFO | train_inner | epoch 004:    485 / 1474 loss=3.081, trans_loss=3.91, nll_loss=2.231, w2v_ctc_loss=1.682, task_loss=0.782, contrastive_loss=1.21, total=4216.09, n_correct=1834.07, ppl=4.7, accuracy=43.502, wps=16130.1, ups=1.28, wpb=12585.8, bsz=497.6, num_updates=4900, lr=0.000196002, gnorm=1.374, clip=0, loss_scale=2, train_wall=78, gb_free=16.4, wall=3278
2023-08-21 16:50:57 | INFO | train_inner | epoch 004:    585 / 1474 loss=2.927, trans_loss=3.886, nll_loss=2.2, w2v_ctc_loss=1.692, task_loss=0.804, contrastive_loss=0.561, total=4231.12, n_correct=1883.36, ppl=4.59, accuracy=44.512, wps=16346.2, ups=1.29, wpb=12629.4, bsz=490.1, num_updates=5000, lr=0.0002, gnorm=1.313, clip=0, loss_scale=2, train_wall=77, gb_free=15.7, wall=3356
mt_weight tensor(0.5000)
asr_weight tensor(0.5129, device='cuda:0')
2023-08-21 16:52:16 | INFO | train_inner | epoch 004:    685 / 1474 loss=2.882, trans_loss=3.872, nll_loss=2.178, w2v_ctc_loss=1.664, task_loss=0.892, contrastive_loss=0.637, total=4176.95, n_correct=1885.75, ppl=4.53, accuracy=45.147, wps=15777.5, ups=1.27, wpb=12451, bsz=455.2, num_updates=5100, lr=0.00019803, gnorm=0.916, clip=0, loss_scale=4, train_wall=78, gb_free=14.7, wall=3434
2023-08-21 16:53:33 | INFO | train_inner | epoch 004:    785 / 1474 loss=2.811, trans_loss=3.846, nll_loss=2.15, w2v_ctc_loss=1.669, task_loss=0.952, contrastive_loss=0.381, total=4016.91, n_correct=1842.28, ppl=4.44, accuracy=45.863, wps=15585.9, ups=1.3, wpb=11995.1, bsz=418.7, num_updates=5200, lr=0.000196116, gnorm=0.888, clip=0, loss_scale=4, train_wall=77, gb_free=15.7, wall=3511
2023-08-21 16:54:51 | INFO | train_inner | epoch 004:    885 / 1474 loss=2.865, trans_loss=3.818, nll_loss=2.114, w2v_ctc_loss=1.644, task_loss=0.865, contrastive_loss=0.719, total=4183.4, n_correct=1958.86, ppl=4.33, accuracy=46.825, wps=15960.6, ups=1.28, wpb=12493.2, bsz=465.4, num_updates=5300, lr=0.000194257, gnorm=0.834, clip=0, loss_scale=4, train_wall=78, gb_free=15.1, wall=3590
2023-08-21 16:56:09 | INFO | train_inner | epoch 004:    985 / 1474 loss=2.79, trans_loss=3.802, nll_loss=2.094, w2v_ctc_loss=1.642, task_loss=0.88, contrastive_loss=0.464, total=4128.78, n_correct=1961.9, ppl=4.27, accuracy=47.518, wps=15853.8, ups=1.29, wpb=12332, bsz=456.8, num_updates=5400, lr=0.00019245, gnorm=0.914, clip=0, loss_scale=4, train_wall=77, gb_free=15.5, wall=3667
2023-08-21 16:57:26 | INFO | train_inner | epoch 004:   1085 / 1474 loss=2.765, trans_loss=3.797, nll_loss=2.086, w2v_ctc_loss=1.639, task_loss=0.929, contrastive_loss=0.416, total=4080.2, n_correct=1954.27, ppl=4.25, accuracy=47.896, wps=15744.1, ups=1.29, wpb=12179.1, bsz=437.7, num_updates=5500, lr=0.000190693, gnorm=0.864, clip=0, loss_scale=4, train_wall=77, gb_free=15.7, wall=3745
2023-08-21 16:58:44 | INFO | train_inner | epoch 004:   1185 / 1474 loss=2.786, trans_loss=3.773, nll_loss=2.058, w2v_ctc_loss=1.607, task_loss=0.81, contrastive_loss=0.63, total=4163.45, n_correct=2035.41, ppl=4.16, accuracy=48.888, wps=16095.9, ups=1.29, wpb=12436, bsz=485.6, num_updates=5600, lr=0.000188982, gnorm=0.784, clip=0, loss_scale=4, train_wall=77, gb_free=14.8, wall=3822
2023-08-21 17:00:01 | INFO | train_inner | epoch 004:   1285 / 1474 loss=2.739, trans_loss=3.754, nll_loss=2.033, w2v_ctc_loss=1.59, task_loss=0.828, contrastive_loss=0.548, total=4152.41, n_correct=2054.82, ppl=4.09, accuracy=49.485, wps=16079, ups=1.3, wpb=12401.3, bsz=471.4, num_updates=5700, lr=0.000187317, gnorm=0.791, clip=0, loss_scale=4, train_wall=77, gb_free=12.4, wall=3899
2023-08-21 17:01:17 | INFO | train_inner | epoch 004:   1385 / 1474 loss=2.65, trans_loss=3.74, nll_loss=2.015, w2v_ctc_loss=1.577, task_loss=0.892, contrastive_loss=0.303, total=4103.57, n_correct=2053, ppl=4.04, accuracy=50.03, wps=16170, ups=1.32, wpb=12255.2, bsz=437.9, num_updates=5800, lr=0.000185695, gnorm=0.744, clip=0, loss_scale=4, train_wall=75, gb_free=16.4, wall=3975
2023-08-21 17:02:26 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.5129, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.5129, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.5129, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.5129, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.5129, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.5129, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.5129, device='cuda:3')
2023-08-21 17:02:50 | INFO | dev_st | epoch 004 | valid on 'dev_st' subset | loss 4.623 | trans_loss 5.845 | nll_loss 3.273 | w2v_ctc_loss 1.778 | task_loss 4.389 | contrastive_loss 0.658 | total 4003.4 | n_correct 2242.6 | ppl 9.67 | accuracy 56.017 | uer 25.91 | wer 27.482 | raw_wer 27.482 | bleu 13.85 | wps 2238.5 | wpb 4003.4 | bsz 141.8 | num_updates 5889 | best_bleu 13.85
2023-08-21 17:02:50 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 4 @ 5889 updates
2023-08-21 17:02:50 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 17:02:54 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 17:02:59 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 4 @ 5889 updates, score 13.85) (writing took 8.798152399947867 seconds)
2023-08-21 17:02:59 | INFO | fairseq_cli.train | end of epoch 4 (average epoch stats below)
2023-08-21 17:02:59 | INFO | train | epoch 004 | loss 2.868 | trans_loss 3.856 | nll_loss 2.162 | w2v_ctc_loss 1.663 | task_loss 0.865 | contrastive_loss 0.565 | total 4138.65 | n_correct 1886.01 | ppl 4.47 | accuracy 45.571 | wps 15424.7 | ups 1.25 | wpb 12355.8 | bsz 458.5 | num_updates 5889 | lr 0.000184287 | gnorm 1.043 | clip 0 | loss_scale 4 | train_wall 1135 | gb_free 14.5 | wall 4077
2023-08-21 17:02:59 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 17:02:59 | INFO | fairseq.trainer | begin training epoch 5
2023-08-21 17:02:59 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 17:03:14 | INFO | train_inner | epoch 005:     11 / 1474 loss=2.631, trans_loss=3.731, nll_loss=2.002, w2v_ctc_loss=1.55, task_loss=0.906, contrastive_loss=0.339, total=4031.51, n_correct=2029.66, ppl=4.01, accuracy=50.345, wps=10262.4, ups=0.85, wpb=12037.5, bsz=436.7, num_updates=5900, lr=0.000184115, gnorm=0.772, clip=0, loss_scale=4, train_wall=77, gb_free=13.9, wall=4092
2023-08-21 17:04:32 | INFO | train_inner | epoch 005:    111 / 1474 loss=2.565, trans_loss=3.689, nll_loss=1.948, w2v_ctc_loss=1.466, task_loss=0.772, contrastive_loss=0.372, total=4256.63, n_correct=2208.24, ppl=3.86, accuracy=51.878, wps=16332.2, ups=1.28, wpb=12710, bsz=500.1, num_updates=6000, lr=0.000182574, gnorm=0.702, clip=0, loss_scale=4, train_wall=77, gb_free=15.8, wall=4170
2023-08-21 17:04:32 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 17:04:55 | INFO | dev_st | epoch 005 | valid on 'dev_st' subset | loss 4.608 | trans_loss 5.808 | nll_loss 3.228 | w2v_ctc_loss 1.812 | task_loss 4.36 | contrastive_loss 0.656 | total 4003.4 | n_correct 2270.3 | ppl 9.37 | accuracy 56.709 | uer 25.554 | wer 27.139 | raw_wer 27.139 | bleu 13.76 | wps 2343.1 | wpb 4003.4 | bsz 141.8 | num_updates 6000 | best_bleu 13.85
2023-08-21 17:04:55 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 5 @ 6000 updates
2023-08-21 17:04:55 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_5_6000.pt
2023-08-21 17:04:58 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_5_6000.pt
2023-08-21 17:05:02 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_5_6000.pt (epoch 5 @ 6000 updates, score 13.76) (writing took 6.6752979420125484 seconds)
2023-08-21 17:06:19 | INFO | train_inner | epoch 005:    211 / 1474 loss=2.639, trans_loss=3.689, nll_loss=1.947, w2v_ctc_loss=1.481, task_loss=0.806, contrastive_loss=0.766, total=4186.83, n_correct=2175.61, ppl=3.86, accuracy=51.963, wps=11665.3, ups=0.93, wpb=12492.2, bsz=485.3, num_updates=6100, lr=0.000181071, gnorm=0.693, clip=0, loss_scale=4, train_wall=76, gb_free=15.7, wall=4277
2023-08-21 17:07:36 | INFO | train_inner | epoch 005:    311 / 1474 loss=2.578, trans_loss=3.676, nll_loss=1.935, w2v_ctc_loss=1.494, task_loss=0.887, contrastive_loss=0.479, total=4094.07, n_correct=2129.03, ppl=3.82, accuracy=52.003, wps=15935.4, ups=1.3, wpb=12241.2, bsz=446, num_updates=6200, lr=0.000179605, gnorm=0.711, clip=0, loss_scale=4, train_wall=76, gb_free=15.8, wall=4354
2023-08-21 17:08:54 | INFO | train_inner | epoch 005:    411 / 1474 loss=2.605, trans_loss=3.665, nll_loss=1.921, w2v_ctc_loss=1.464, task_loss=0.85, contrastive_loss=0.653, total=4140.39, n_correct=2175.86, ppl=3.79, accuracy=52.552, wps=15802.7, ups=1.28, wpb=12372.8, bsz=467.9, num_updates=6300, lr=0.000178174, gnorm=0.769, clip=0, loss_scale=4, train_wall=78, gb_free=15.7, wall=4432
2023-08-21 17:10:11 | INFO | train_inner | epoch 005:    511 / 1474 loss=2.493, trans_loss=3.665, nll_loss=1.919, w2v_ctc_loss=1.465, task_loss=0.969, contrastive_loss=0.243, total=4026.21, n_correct=2115.7, ppl=3.78, accuracy=52.548, wps=15650.6, ups=1.3, wpb=12028.8, bsz=418.1, num_updates=6400, lr=0.000176777, gnorm=0.681, clip=0, loss_scale=4, train_wall=76, gb_free=16.7, wall=4509
2023-08-21 17:11:29 | INFO | train_inner | epoch 005:    611 / 1474 loss=2.547, trans_loss=3.664, nll_loss=1.914, w2v_ctc_loss=1.444, task_loss=0.897, contrastive_loss=0.57, total=4109.94, n_correct=2177.55, ppl=3.77, accuracy=52.983, wps=15682.4, ups=1.28, wpb=12260.2, bsz=449.8, num_updates=6500, lr=0.000175412, gnorm=0.668, clip=0, loss_scale=4, train_wall=78, gb_free=15, wall=4587
2023-08-21 17:12:46 | INFO | train_inner | epoch 005:    711 / 1474 loss=2.55, trans_loss=3.654, nll_loss=1.904, w2v_ctc_loss=1.441, task_loss=0.816, contrastive_loss=0.524, total=4176.83, n_correct=2230.51, ppl=3.74, accuracy=53.402, wps=16109.6, ups=1.29, wpb=12467.5, bsz=483.6, num_updates=6600, lr=0.000174078, gnorm=0.665, clip=0, loss_scale=4, train_wall=77, gb_free=16.7, wall=4665
2023-08-21 17:14:04 | INFO | train_inner | epoch 005:    811 / 1474 loss=2.504, trans_loss=3.645, nll_loss=1.892, w2v_ctc_loss=1.44, task_loss=0.897, contrastive_loss=0.391, total=4127.9, n_correct=2210, ppl=3.71, accuracy=53.538, wps=15831.1, ups=1.28, wpb=12321.2, bsz=447.5, num_updates=6700, lr=0.000172774, gnorm=0.701, clip=0, loss_scale=4, train_wall=77, gb_free=15.3, wall=4743
2023-08-21 17:15:21 | INFO | train_inner | epoch 005:    911 / 1474 loss=2.454, trans_loss=3.632, nll_loss=1.876, w2v_ctc_loss=1.418, task_loss=0.892, contrastive_loss=0.307, total=4101.19, n_correct=2216.17, ppl=3.67, accuracy=54.037, wps=15923.2, ups=1.3, wpb=12245.9, bsz=447.9, num_updates=6800, lr=0.000171499, gnorm=0.645, clip=0, loss_scale=4, train_wall=76, gb_free=16.8, wall=4820
2023-08-21 17:16:38 | INFO | train_inner | epoch 005:   1011 / 1474 loss=2.482, trans_loss=3.635, nll_loss=1.879, w2v_ctc_loss=1.416, task_loss=0.86, contrastive_loss=0.458, total=4164.27, n_correct=2253.14, ppl=3.68, accuracy=54.106, wps=16156.5, ups=1.3, wpb=12430.2, bsz=462, num_updates=6900, lr=0.000170251, gnorm=0.637, clip=0, loss_scale=4, train_wall=77, gb_free=14.6, wall=4896
2023-08-21 17:17:57 | INFO | train_inner | epoch 005:   1111 / 1474 loss=2.502, trans_loss=3.627, nll_loss=1.868, w2v_ctc_loss=1.425, task_loss=0.867, contrastive_loss=0.469, total=4168.94, n_correct=2270.34, ppl=3.65, accuracy=54.458, wps=15861.7, ups=1.28, wpb=12436.1, bsz=464.1, num_updates=7000, lr=0.000169031, gnorm=0.649, clip=0, loss_scale=4, train_wall=78, gb_free=16.2, wall=4975
2023-08-21 17:19:14 | INFO | train_inner | epoch 005:   1211 / 1474 loss=2.423, trans_loss=3.621, nll_loss=1.861, w2v_ctc_loss=1.397, task_loss=0.88, contrastive_loss=0.275, total=4171.16, n_correct=2280.79, ppl=3.63, accuracy=54.68, wps=15997.6, ups=1.29, wpb=12443.2, bsz=456.3, num_updates=7100, lr=0.000167836, gnorm=0.628, clip=0, loss_scale=8, train_wall=77, gb_free=15.5, wall=5053
2023-08-21 17:20:32 | INFO | train_inner | epoch 005:   1311 / 1474 loss=2.392, trans_loss=3.612, nll_loss=1.85, w2v_ctc_loss=1.384, task_loss=0.884, contrastive_loss=0.215, total=4126.97, n_correct=2269.9, ppl=3.61, accuracy=55.002, wps=15942.2, ups=1.29, wpb=12317.9, bsz=443.4, num_updates=7200, lr=0.000166667, gnorm=0.63, clip=0, loss_scale=8, train_wall=77, gb_free=15.1, wall=5130
2023-08-21 17:21:49 | INFO | train_inner | epoch 005:   1411 / 1474 loss=2.416, trans_loss=3.61, nll_loss=1.849, w2v_ctc_loss=1.377, task_loss=0.873, contrastive_loss=0.331, total=4138.54, n_correct=2279.7, ppl=3.6, accuracy=55.085, wps=15996.2, ups=1.29, wpb=12359.3, bsz=459, num_updates=7300, lr=0.000165521, gnorm=0.622, clip=0, loss_scale=8, train_wall=77, gb_free=16.4, wall=5207
2023-08-21 17:22:38 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 17:23:01 | INFO | dev_st | epoch 005 | valid on 'dev_st' subset | loss 4.374 | trans_loss 5.585 | nll_loss 2.949 | w2v_ctc_loss 1.579 | task_loss 4.431 | contrastive_loss 0.61 | total 4003.4 | n_correct 2397.6 | ppl 7.72 | accuracy 59.889 | uer 24.291 | wer 25.752 | raw_wer 25.752 | bleu 17.09 | wps 2399.8 | wpb 4003.4 | bsz 141.8 | num_updates 7363 | best_bleu 17.09
2023-08-21 17:23:01 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 5 @ 7363 updates
2023-08-21 17:23:01 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 17:23:05 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 17:23:09 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 5 @ 7363 updates, score 17.09) (writing took 8.810308799962513 seconds)
2023-08-21 17:23:09 | INFO | fairseq_cli.train | end of epoch 5 (average epoch stats below)
2023-08-21 17:23:09 | INFO | train | epoch 005 | loss 2.508 | trans_loss 3.647 | nll_loss 1.896 | w2v_ctc_loss 1.436 | task_loss 0.867 | contrastive_loss 0.433 | total 4138.65 | n_correct 2214.42 | ppl 3.72 | accuracy 53.506 | wps 15043 | ups 1.22 | wpb 12355.8 | bsz 458.5 | num_updates 7363 | lr 0.000164812 | gnorm 0.671 | clip 0 | loss_scale 8 | train_wall 1135 | gb_free 15.8 | wall 5288
2023-08-21 17:23:10 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 17:23:10 | INFO | fairseq.trainer | begin training epoch 6
2023-08-21 17:23:10 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 17:23:45 | INFO | train_inner | epoch 006:     37 / 1474 loss=2.402, trans_loss=3.594, nll_loss=1.827, w2v_ctc_loss=1.373, task_loss=0.893, contrastive_loss=0.331, total=4113.87, n_correct=2285.82, ppl=3.55, accuracy=55.564, wps=10543.1, ups=0.86, wpb=12276.7, bsz=447.4, num_updates=7400, lr=0.000164399, gnorm=0.635, clip=0, loss_scale=8, train_wall=77, gb_free=17.5, wall=5324
2023-08-21 17:25:03 | INFO | train_inner | epoch 006:    137 / 1474 loss=2.361, trans_loss=3.566, nll_loss=1.793, w2v_ctc_loss=1.315, task_loss=0.859, contrastive_loss=0.413, total=4161.2, n_correct=2340.42, ppl=3.46, accuracy=56.244, wps=15987.8, ups=1.29, wpb=12428.5, bsz=458.1, num_updates=7500, lr=0.000163299, gnorm=0.604, clip=0, loss_scale=8, train_wall=77, gb_free=16.5, wall=5401
2023-08-21 17:26:20 | INFO | train_inner | epoch 006:    237 / 1474 loss=2.354, trans_loss=3.579, nll_loss=1.81, w2v_ctc_loss=1.356, task_loss=0.934, contrastive_loss=0.234, total=4110.12, n_correct=2294.74, ppl=3.51, accuracy=55.831, wps=15896, ups=1.29, wpb=12279.2, bsz=437.3, num_updates=7600, lr=0.000162221, gnorm=0.745, clip=0, loss_scale=8, train_wall=77, gb_free=16.8, wall=5479
2023-08-21 17:27:40 | INFO | train_inner | epoch 006:    337 / 1474 loss=2.462, trans_loss=3.568, nll_loss=1.795, w2v_ctc_loss=1.304, task_loss=0.813, contrastive_loss=0.833, total=4170.52, n_correct=2346.4, ppl=3.47, accuracy=56.262, wps=15597.2, ups=1.25, wpb=12453.1, bsz=488.4, num_updates=7700, lr=0.000161165, gnorm=0.645, clip=0, loss_scale=8, train_wall=79, gb_free=15.2, wall=5558
2023-08-21 17:28:57 | INFO | train_inner | epoch 006:    437 / 1474 loss=2.314, trans_loss=3.559, nll_loss=1.783, w2v_ctc_loss=1.303, task_loss=0.833, contrastive_loss=0.257, total=4154.89, n_correct=2362.4, ppl=3.44, accuracy=56.858, wps=16230.9, ups=1.31, wpb=12405.6, bsz=470.4, num_updates=7800, lr=0.000160128, gnorm=0.607, clip=0, loss_scale=8, train_wall=76, gb_free=16, wall=5635
2023-08-21 17:30:14 | INFO | train_inner | epoch 006:    537 / 1474 loss=2.311, trans_loss=3.561, nll_loss=1.785, w2v_ctc_loss=1.314, task_loss=0.862, contrastive_loss=0.235, total=4174.46, n_correct=2372.48, ppl=3.45, accuracy=56.833, wps=16169.4, ups=1.3, wpb=12460.1, bsz=458.3, num_updates=7900, lr=0.000159111, gnorm=0.597, clip=0, loss_scale=8, train_wall=77, gb_free=16.9, wall=5712
2023-08-21 17:31:30 | INFO | train_inner | epoch 006:    637 / 1474 loss=2.331, trans_loss=3.56, nll_loss=1.784, w2v_ctc_loss=1.299, task_loss=0.825, contrastive_loss=0.349, total=4145.19, n_correct=2356.35, ppl=3.44, accuracy=56.845, wps=16169.7, ups=1.31, wpb=12372.7, bsz=470.9, num_updates=8000, lr=0.000158114, gnorm=0.612, clip=0, loss_scale=8, train_wall=76, gb_free=15.4, wall=5789
2023-08-21 17:31:30 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 17:31:54 | INFO | dev_st | epoch 006 | valid on 'dev_st' subset | loss 4.325 | trans_loss 5.517 | nll_loss 2.863 | w2v_ctc_loss 1.592 | task_loss 4.497 | contrastive_loss 0.58 | total 4003.4 | n_correct 2442.3 | ppl 7.28 | accuracy 61.006 | uer 23.64 | wer 25.185 | raw_wer 25.185 | bleu 17.63 | wps 2260.1 | wpb 4003.4 | bsz 141.8 | num_updates 8000 | best_bleu 17.63
2023-08-21 17:31:54 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 6 @ 8000 updates
2023-08-21 17:31:54 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_6_8000.pt
2023-08-21 17:31:57 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_6_8000.pt
2023-08-21 17:32:04 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_6_8000.pt (epoch 6 @ 8000 updates, score 17.63) (writing took 10.085610409965739 seconds)
2023-08-21 17:33:22 | INFO | train_inner | epoch 006:    737 / 1474 loss=2.315, trans_loss=3.56, nll_loss=1.785, w2v_ctc_loss=1.316, task_loss=0.885, contrastive_loss=0.253, total=4151.01, n_correct=2365.27, ppl=3.45, accuracy=56.981, wps=11081, ups=0.89, wpb=12393.7, bsz=454.2, num_updates=8100, lr=0.000157135, gnorm=0.592, clip=0, loss_scale=8, train_wall=77, gb_free=12.6, wall=5900
2023-08-21 17:34:39 | INFO | train_inner | epoch 006:    837 / 1474 loss=2.298, trans_loss=3.56, nll_loss=1.784, w2v_ctc_loss=1.306, task_loss=0.921, contrastive_loss=0.221, total=4108.83, n_correct=2335.63, ppl=3.44, accuracy=56.844, wps=15836.3, ups=1.29, wpb=12267.1, bsz=439.4, num_updates=8200, lr=0.000156174, gnorm=0.585, clip=0, loss_scale=8, train_wall=77, gb_free=16.8, wall=5978
2023-08-21 17:35:57 | INFO | train_inner | epoch 006:    937 / 1474 loss=2.344, trans_loss=3.559, nll_loss=1.783, w2v_ctc_loss=1.309, task_loss=0.913, contrastive_loss=0.408, total=4076.46, n_correct=2323.57, ppl=3.44, accuracy=57, wps=15701.8, ups=1.29, wpb=12166, bsz=443, num_updates=8300, lr=0.00015523, gnorm=0.596, clip=0, loss_scale=8, train_wall=77, gb_free=12.2, wall=6055
2023-08-21 17:37:14 | INFO | train_inner | epoch 006:   1037 / 1474 loss=2.36, trans_loss=3.545, nll_loss=1.765, w2v_ctc_loss=1.287, task_loss=0.814, contrastive_loss=0.558, total=4175.9, n_correct=2396, ppl=3.4, accuracy=57.377, wps=16160.4, ups=1.3, wpb=12465, bsz=480.4, num_updates=8400, lr=0.000154303, gnorm=0.605, clip=0, loss_scale=8, train_wall=77, gb_free=13.8, wall=6132
2023-08-21 17:38:31 | INFO | train_inner | epoch 006:   1137 / 1474 loss=2.285, trans_loss=3.544, nll_loss=1.765, w2v_ctc_loss=1.296, task_loss=0.956, contrastive_loss=0.227, total=4077.2, n_correct=2334.5, ppl=3.4, accuracy=57.257, wps=15828.5, ups=1.3, wpb=12172.7, bsz=430.6, num_updates=8500, lr=0.000153393, gnorm=0.589, clip=0, loss_scale=8, train_wall=77, gb_free=15.9, wall=6209
2023-08-21 17:39:49 | INFO | train_inner | epoch 006:   1237 / 1474 loss=2.402, trans_loss=3.534, nll_loss=1.754, w2v_ctc_loss=1.277, task_loss=0.854, contrastive_loss=0.848, total=4133.46, n_correct=2382.49, ppl=3.37, accuracy=57.639, wps=15881.5, ups=1.29, wpb=12346.4, bsz=470.3, num_updates=8600, lr=0.000152499, gnorm=0.594, clip=0, loss_scale=8, train_wall=77, gb_free=11.8, wall=6287
2023-08-21 17:41:05 | INFO | train_inner | epoch 006:   1337 / 1474 loss=2.258, trans_loss=3.538, nll_loss=1.755, w2v_ctc_loss=1.276, task_loss=0.862, contrastive_loss=0.197, total=4127.77, n_correct=2388.86, ppl=3.38, accuracy=57.873, wps=16091, ups=1.31, wpb=12312.7, bsz=454.1, num_updates=8700, lr=0.00015162, gnorm=0.585, clip=0, loss_scale=8, train_wall=76, gb_free=16.6, wall=6364
2023-08-21 17:42:23 | INFO | train_inner | epoch 006:   1437 / 1474 loss=2.255, trans_loss=3.531, nll_loss=1.748, w2v_ctc_loss=1.273, task_loss=0.872, contrastive_loss=0.206, total=4190.32, n_correct=2431.94, ppl=3.36, accuracy=58.037, wps=16124.3, ups=1.29, wpb=12507.6, bsz=460.5, num_updates=8800, lr=0.000150756, gnorm=0.575, clip=0, loss_scale=8, train_wall=77, gb_free=16.5, wall=6441
2023-08-21 17:42:51 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 17:43:15 | INFO | dev_st | epoch 006 | valid on 'dev_st' subset | loss 4.246 | trans_loss 5.437 | nll_loss 2.77 | w2v_ctc_loss 1.534 | task_loss 4.504 | contrastive_loss 0.551 | total 4003.4 | n_correct 2484.4 | ppl 6.82 | accuracy 62.057 | uer 22.494 | wer 24.093 | raw_wer 24.093 | bleu 18.61 | wps 2225.9 | wpb 4003.4 | bsz 141.8 | num_updates 8837 | best_bleu 18.61
2023-08-21 17:43:15 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 6 @ 8837 updates
2023-08-21 17:43:15 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 17:43:20 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 17:43:24 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 6 @ 8837 updates, score 18.61) (writing took 9.066314866999164 seconds)
2023-08-21 17:43:24 | INFO | fairseq_cli.train | end of epoch 6 (average epoch stats below)
2023-08-21 17:43:24 | INFO | train | epoch 006 | loss 2.33 | trans_loss 3.554 | nll_loss 1.778 | w2v_ctc_loss 1.301 | task_loss 0.869 | contrastive_loss 0.372 | total 4138.65 | n_correct 2358.95 | ppl 3.43 | accuracy 56.998 | wps 14991 | ups 1.21 | wpb 12355.8 | bsz 458.5 | num_updates 8837 | lr 0.00015044 | gnorm 0.608 | clip 0 | loss_scale 8 | train_wall 1134 | gb_free 14.6 | wall 6503
2023-08-21 17:43:25 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 17:43:25 | INFO | fairseq.trainer | begin training epoch 7
2023-08-21 17:43:25 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 17:44:21 | INFO | train_inner | epoch 007:     63 / 1474 loss=2.224, trans_loss=3.515, nll_loss=1.729, w2v_ctc_loss=1.238, task_loss=0.847, contrastive_loss=0.23, total=4110.43, n_correct=2399.88, ppl=3.31, accuracy=58.385, wps=10403.3, ups=0.85, wpb=12272.9, bsz=462.8, num_updates=8900, lr=0.000149906, gnorm=0.563, clip=0, loss_scale=8, train_wall=77, gb_free=17, wall=6559
2023-08-21 17:45:38 | INFO | train_inner | epoch 007:    163 / 1474 loss=2.237, trans_loss=3.508, nll_loss=1.718, w2v_ctc_loss=1.225, task_loss=0.88, contrastive_loss=0.372, total=4109.53, n_correct=2407.18, ppl=3.29, accuracy=58.576, wps=15887.1, ups=1.29, wpb=12269.6, bsz=454.1, num_updates=9000, lr=0.000149071, gnorm=0.56, clip=0, loss_scale=8, train_wall=77, gb_free=13.2, wall=6636
2023-08-21 17:46:55 | INFO | train_inner | epoch 007:    263 / 1474 loss=2.203, trans_loss=3.502, nll_loss=1.71, w2v_ctc_loss=1.229, task_loss=0.869, contrastive_loss=0.195, total=4133.29, n_correct=2434.81, ppl=3.27, accuracy=58.907, wps=16131.4, ups=1.31, wpb=12335.8, bsz=455.5, num_updates=9100, lr=0.00014825, gnorm=0.559, clip=0, loss_scale=8, train_wall=76, gb_free=14.8, wall=6713
2023-08-21 17:48:12 | INFO | train_inner | epoch 007:    363 / 1474 loss=2.301, trans_loss=3.508, nll_loss=1.718, w2v_ctc_loss=1.215, task_loss=0.843, contrastive_loss=0.708, total=4194.76, n_correct=2463.26, ppl=3.29, accuracy=58.722, wps=16131.7, ups=1.29, wpb=12518.2, bsz=477.6, num_updates=9200, lr=0.000147442, gnorm=0.559, clip=0, loss_scale=16, train_wall=77, gb_free=12.6, wall=6790
2023-08-21 17:49:29 | INFO | train_inner | epoch 007:    463 / 1474 loss=2.272, trans_loss=3.504, nll_loss=1.715, w2v_ctc_loss=1.215, task_loss=0.86, contrastive_loss=0.56, total=4153.22, n_correct=2442.77, ppl=3.28, accuracy=58.816, wps=16057.3, ups=1.29, wpb=12403.3, bsz=463, num_updates=9300, lr=0.000146647, gnorm=0.559, clip=0, loss_scale=16, train_wall=77, gb_free=16.4, wall=6868
2023-08-21 17:50:46 | INFO | train_inner | epoch 007:    563 / 1474 loss=2.193, trans_loss=3.501, nll_loss=1.708, w2v_ctc_loss=1.214, task_loss=0.848, contrastive_loss=0.207, total=4168.14, n_correct=2464.48, ppl=3.27, accuracy=59.127, wps=16150.5, ups=1.3, wpb=12434.7, bsz=459.8, num_updates=9400, lr=0.000145865, gnorm=0.551, clip=0, loss_scale=16, train_wall=77, gb_free=16.5, wall=6945
2023-08-21 17:52:05 | INFO | train_inner | epoch 007:    663 / 1474 loss=2.179, trans_loss=3.497, nll_loss=1.703, w2v_ctc_loss=1.207, task_loss=0.862, contrastive_loss=0.184, total=4157.82, n_correct=2463.75, ppl=3.26, accuracy=59.256, wps=15835.9, ups=1.28, wpb=12406.4, bsz=455.4, num_updates=9500, lr=0.000145095, gnorm=0.55, clip=0, loss_scale=16, train_wall=78, gb_free=15.1, wall=7023
2023-08-21 17:53:22 | INFO | train_inner | epoch 007:    763 / 1474 loss=2.178, trans_loss=3.491, nll_loss=1.698, w2v_ctc_loss=1.209, task_loss=0.912, contrastive_loss=0.179, total=4122.1, n_correct=2440.68, ppl=3.24, accuracy=59.21, wps=15926, ups=1.29, wpb=12308.4, bsz=446.2, num_updates=9600, lr=0.000144338, gnorm=0.551, clip=0, loss_scale=16, train_wall=77, gb_free=15.3, wall=7100
2023-08-21 17:54:40 | INFO | train_inner | epoch 007:    863 / 1474 loss=2.186, trans_loss=3.499, nll_loss=1.707, w2v_ctc_loss=1.209, task_loss=0.877, contrastive_loss=0.213, total=4147.23, n_correct=2451.67, ppl=3.27, accuracy=59.116, wps=15947.5, ups=1.29, wpb=12377.6, bsz=460.9, num_updates=9700, lr=0.000143592, gnorm=0.571, clip=0, loss_scale=16, train_wall=77, gb_free=17.2, wall=7178
2023-08-21 17:55:57 | INFO | train_inner | epoch 007:    963 / 1474 loss=2.22, trans_loss=3.49, nll_loss=1.697, w2v_ctc_loss=1.194, task_loss=0.828, contrastive_loss=0.396, total=4140.14, n_correct=2459.82, ppl=3.24, accuracy=59.414, wps=16015.2, ups=1.3, wpb=12359.1, bsz=474.6, num_updates=9800, lr=0.000142857, gnorm=0.566, clip=0, loss_scale=16, train_wall=77, gb_free=15.5, wall=7255
2023-08-21 17:57:14 | INFO | train_inner | epoch 007:   1063 / 1474 loss=2.169, trans_loss=3.498, nll_loss=1.707, w2v_ctc_loss=1.209, task_loss=0.915, contrastive_loss=0.154, total=4103.51, n_correct=2429.52, ppl=3.26, accuracy=59.206, wps=15967.9, ups=1.3, wpb=12251.1, bsz=437.5, num_updates=9900, lr=0.000142134, gnorm=0.548, clip=0, loss_scale=16, train_wall=76, gb_free=16.4, wall=7332
2023-08-21 17:58:22 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-21 17:58:32 | INFO | train_inner | epoch 007:   1164 / 1474 loss=2.254, trans_loss=3.482, nll_loss=1.689, w2v_ctc_loss=1.194, task_loss=0.867, contrastive_loss=0.56, total=4115.79, n_correct=2448.57, ppl=3.22, accuracy=59.492, wps=15645.7, ups=1.27, wpb=12298, bsz=460.5, num_updates=10000, lr=0.000141421, gnorm=0.567, clip=0, loss_scale=8, train_wall=78, gb_free=16.3, wall=7410
2023-08-21 17:58:32 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 17:58:55 | INFO | dev_st | epoch 007 | valid on 'dev_st' subset | loss 4.17 | trans_loss 5.371 | nll_loss 2.686 | w2v_ctc_loss 1.444 | task_loss 4.508 | contrastive_loss 0.534 | total 4003.4 | n_correct 2527.1 | ppl 6.43 | accuracy 63.124 | uer 21.339 | wer 23.221 | raw_wer 23.221 | bleu 19.41 | wps 2326.8 | wpb 4003.4 | bsz 141.8 | num_updates 10000 | best_bleu 19.41
2023-08-21 17:58:55 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 7 @ 10000 updates
2023-08-21 17:58:55 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_7_10000.pt
2023-08-21 17:58:58 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_7_10000.pt
2023-08-21 17:59:05 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_7_10000.pt (epoch 7 @ 10000 updates, score 19.41) (writing took 9.771415891009383 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:0')
2023-08-21 18:00:22 | INFO | train_inner | epoch 007:   1264 / 1474 loss=2.163, trans_loss=3.485, nll_loss=1.692, w2v_ctc_loss=1.191, task_loss=0.884, contrastive_loss=0.202, total=4129.16, n_correct=2456.75, ppl=3.23, accuracy=59.498, wps=11192.8, ups=0.91, wpb=12331, bsz=448.9, num_updates=10100, lr=0.00014072, gnorm=0.419, clip=0, loss_scale=8, train_wall=77, gb_free=16.4, wall=7521
2023-08-21 18:01:39 | INFO | train_inner | epoch 007:   1364 / 1474 loss=2.19, trans_loss=3.478, nll_loss=1.683, w2v_ctc_loss=1.199, task_loss=0.809, contrastive_loss=0.266, total=4177.71, n_correct=2494.57, ppl=3.21, accuracy=59.711, wps=16270.2, ups=1.3, wpb=12473.7, bsz=478.6, num_updates=10200, lr=0.000140028, gnorm=0.42, clip=0, loss_scale=8, train_wall=76, gb_free=16.2, wall=7597
2023-08-21 18:02:58 | INFO | train_inner | epoch 007:   1464 / 1474 loss=2.211, trans_loss=3.482, nll_loss=1.689, w2v_ctc_loss=1.199, task_loss=0.937, contrastive_loss=0.402, total=4107.01, n_correct=2449.2, ppl=3.23, accuracy=59.635, wps=15562.6, ups=1.27, wpb=12270.2, bsz=442.8, num_updates=10300, lr=0.000139347, gnorm=0.424, clip=0, loss_scale=8, train_wall=78, gb_free=12.7, wall=7676
2023-08-21 18:03:05 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:6')
2023-08-21 18:03:28 | INFO | dev_st | epoch 007 | valid on 'dev_st' subset | loss 4.159 | trans_loss 5.354 | nll_loss 2.663 | w2v_ctc_loss 1.458 | task_loss 4.563 | contrastive_loss 0.516 | total 4003.4 | n_correct 2536.1 | ppl 6.33 | accuracy 63.349 | uer 21.527 | wer 23.303 | raw_wer 23.303 | bleu 19.73 | wps 2437.4 | wpb 4003.4 | bsz 141.8 | num_updates 10310 | best_bleu 19.73
2023-08-21 18:03:28 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 7 @ 10310 updates
2023-08-21 18:03:28 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 18:03:33 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 18:03:37 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 7 @ 10310 updates, score 19.73) (writing took 8.834809181978926 seconds)
2023-08-21 18:03:37 | INFO | fairseq_cli.train | end of epoch 7 (average epoch stats below)
2023-08-21 18:03:37 | INFO | train | epoch 007 | loss 2.211 | trans_loss 3.495 | nll_loss 1.703 | w2v_ctc_loss 1.209 | task_loss 0.871 | contrastive_loss 0.325 | total 4137.22 | n_correct 2447.99 | ppl 3.26 | accuracy 59.17 | wps 15004.3 | ups 1.21 | wpb 12351.6 | bsz 457.8 | num_updates 10310 | lr 0.000139279 | gnorm 0.529 | clip 0 | loss_scale 8 | train_wall 1134 | gb_free 12.7 | wall 7715
2023-08-21 18:03:37 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 18:03:37 | INFO | fairseq.trainer | begin training epoch 8
2023-08-21 18:03:37 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 18:04:53 | INFO | train_inner | epoch 008:     90 / 1474 loss=2.131, trans_loss=3.472, nll_loss=1.67, w2v_ctc_loss=1.165, task_loss=0.925, contrastive_loss=0.188, total=4106.01, n_correct=2469.23, ppl=3.18, accuracy=60.137, wps=10586.2, ups=0.86, wpb=12242.2, bsz=440.9, num_updates=10400, lr=0.000138675, gnorm=0.413, clip=0, loss_scale=8, train_wall=76, gb_free=16.8, wall=7792
2023-08-21 18:06:11 | INFO | train_inner | epoch 008:    190 / 1474 loss=2.133, trans_loss=3.461, nll_loss=1.656, w2v_ctc_loss=1.157, task_loss=0.94, contrastive_loss=0.229, total=4043.12, n_correct=2442.04, ppl=3.15, accuracy=60.4, wps=15620.6, ups=1.3, wpb=12058.4, bsz=430, num_updates=10500, lr=0.000138013, gnorm=0.417, clip=0, loss_scale=8, train_wall=77, gb_free=12.8, wall=7869
2023-08-21 18:07:27 | INFO | train_inner | epoch 008:    290 / 1474 loss=2.131, trans_loss=3.456, nll_loss=1.652, w2v_ctc_loss=1.157, task_loss=0.816, contrastive_loss=0.217, total=4207.9, n_correct=2547.78, ppl=3.14, accuracy=60.548, wps=16376.4, ups=1.3, wpb=12558.3, bsz=488.1, num_updates=10600, lr=0.000137361, gnorm=0.415, clip=0, loss_scale=8, train_wall=76, gb_free=13.5, wall=7946
2023-08-21 18:08:46 | INFO | train_inner | epoch 008:    390 / 1474 loss=2.152, trans_loss=3.46, nll_loss=1.657, w2v_ctc_loss=1.17, task_loss=0.914, contrastive_loss=0.278, total=4134.6, n_correct=2498.36, ppl=3.15, accuracy=60.426, wps=15657.6, ups=1.27, wpb=12337.2, bsz=444.7, num_updates=10700, lr=0.000136717, gnorm=0.412, clip=0, loss_scale=8, train_wall=78, gb_free=17, wall=8025
2023-08-21 18:10:04 | INFO | train_inner | epoch 008:    490 / 1474 loss=2.271, trans_loss=3.458, nll_loss=1.656, w2v_ctc_loss=1.152, task_loss=0.784, contrastive_loss=0.784, total=4196.6, n_correct=2534.31, ppl=3.15, accuracy=60.39, wps=16082.7, ups=1.28, wpb=12528.1, bsz=501.4, num_updates=10800, lr=0.000136083, gnorm=0.436, clip=0, loss_scale=8, train_wall=77, gb_free=12.3, wall=8102
2023-08-21 18:11:21 | INFO | train_inner | epoch 008:    590 / 1474 loss=2.12, trans_loss=3.455, nll_loss=1.655, w2v_ctc_loss=1.172, task_loss=0.947, contrastive_loss=0.15, total=4065.55, n_correct=2452.38, ppl=3.15, accuracy=60.321, wps=15783.7, ups=1.3, wpb=12153.4, bsz=428.3, num_updates=10900, lr=0.000135457, gnorm=0.416, clip=0, loss_scale=8, train_wall=77, gb_free=15.8, wall=8179
2023-08-21 18:12:38 | INFO | train_inner | epoch 008:    690 / 1474 loss=2.113, trans_loss=3.45, nll_loss=1.645, w2v_ctc_loss=1.162, task_loss=0.9, contrastive_loss=0.166, total=4135.41, n_correct=2511.82, ppl=3.13, accuracy=60.739, wps=16043.5, ups=1.3, wpb=12343.8, bsz=447.2, num_updates=11000, lr=0.00013484, gnorm=0.408, clip=0, loss_scale=8, train_wall=77, gb_free=15.5, wall=8256
2023-08-21 18:13:55 | INFO | train_inner | epoch 008:    790 / 1474 loss=2.143, trans_loss=3.445, nll_loss=1.642, w2v_ctc_loss=1.153, task_loss=0.88, contrastive_loss=0.338, total=4128.86, n_correct=2509.94, ppl=3.12, accuracy=60.79, wps=16063.3, ups=1.3, wpb=12339, bsz=452.1, num_updates=11100, lr=0.000134231, gnorm=0.412, clip=0, loss_scale=8, train_wall=76, gb_free=15.8, wall=8333
2023-08-21 18:15:12 | INFO | train_inner | epoch 008:    890 / 1474 loss=2.145, trans_loss=3.45, nll_loss=1.647, w2v_ctc_loss=1.142, task_loss=0.839, contrastive_loss=0.343, total=4166.92, n_correct=2533.01, ppl=3.13, accuracy=60.789, wps=16179.4, ups=1.3, wpb=12446.8, bsz=471.5, num_updates=11200, lr=0.000133631, gnorm=0.416, clip=0, loss_scale=8, train_wall=77, gb_free=14, wall=8410
2023-08-21 18:16:29 | INFO | train_inner | epoch 008:    990 / 1474 loss=2.098, trans_loss=3.448, nll_loss=1.644, w2v_ctc_loss=1.144, task_loss=0.836, contrastive_loss=0.162, total=4150.39, n_correct=2531.97, ppl=3.12, accuracy=61.006, wps=16111.6, ups=1.3, wpb=12390.2, bsz=462.8, num_updates=11300, lr=0.000133038, gnorm=0.412, clip=0, loss_scale=8, train_wall=76, gb_free=16.9, wall=8487
2023-08-21 18:17:46 | INFO | train_inner | epoch 008:   1090 / 1474 loss=2.184, trans_loss=3.45, nll_loss=1.645, w2v_ctc_loss=1.143, task_loss=0.861, contrastive_loss=0.605, total=4197.39, n_correct=2549.37, ppl=3.13, accuracy=60.737, wps=16132.9, ups=1.29, wpb=12529.5, bsz=466.4, num_updates=11400, lr=0.000132453, gnorm=0.41, clip=0, loss_scale=8, train_wall=77, gb_free=16.4, wall=8565
2023-08-21 18:19:03 | INFO | train_inner | epoch 008:   1190 / 1474 loss=2.108, trans_loss=3.442, nll_loss=1.638, w2v_ctc_loss=1.149, task_loss=0.821, contrastive_loss=0.177, total=4180.55, n_correct=2547.88, ppl=3.11, accuracy=60.946, wps=16279.8, ups=1.3, wpb=12487.2, bsz=472.7, num_updates=11500, lr=0.000131876, gnorm=0.407, clip=0, loss_scale=8, train_wall=76, gb_free=16.9, wall=8641
2023-08-21 18:20:19 | INFO | train_inner | epoch 008:   1290 / 1474 loss=2.12, trans_loss=3.447, nll_loss=1.643, w2v_ctc_loss=1.155, task_loss=0.91, contrastive_loss=0.222, total=4062.6, n_correct=2467.52, ppl=3.12, accuracy=60.737, wps=15924.9, ups=1.31, wpb=12135.3, bsz=437.8, num_updates=11600, lr=0.000131306, gnorm=0.415, clip=0, loss_scale=8, train_wall=76, gb_free=12.6, wall=8718
2023-08-21 18:21:36 | INFO | train_inner | epoch 008:   1390 / 1474 loss=2.145, trans_loss=3.447, nll_loss=1.644, w2v_ctc_loss=1.143, task_loss=0.846, contrastive_loss=0.346, total=4159.11, n_correct=2538.04, ppl=3.12, accuracy=61.024, wps=16214.3, ups=1.31, wpb=12419, bsz=468.7, num_updates=11700, lr=0.000130744, gnorm=0.409, clip=0, loss_scale=8, train_wall=76, gb_free=12.9, wall=8794
2023-08-21 18:22:40 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 18:23:04 | INFO | dev_st | epoch 008 | valid on 'dev_st' subset | loss 4.118 | trans_loss 5.308 | nll_loss 2.604 | w2v_ctc_loss 1.424 | task_loss 4.586 | contrastive_loss 0.516 | total 4003.4 | n_correct 2563 | ppl 6.08 | accuracy 64.021 | uer 20.638 | wer 22.363 | raw_wer 22.363 | bleu 19.9 | wps 2304.9 | wpb 4003.4 | bsz 141.8 | num_updates 11784 | best_bleu 19.9
2023-08-21 18:23:04 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 8 @ 11784 updates
2023-08-21 18:23:04 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 18:23:08 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 18:23:13 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 8 @ 11784 updates, score 19.9) (writing took 8.78131923393812 seconds)
2023-08-21 18:23:13 | INFO | fairseq_cli.train | end of epoch 8 (average epoch stats below)
2023-08-21 18:23:13 | INFO | train | epoch 008 | loss 2.142 | trans_loss 3.452 | nll_loss 1.649 | w2v_ctc_loss 1.153 | task_loss 0.869 | contrastive_loss 0.311 | total 4138.65 | n_correct 2510.99 | ppl 3.14 | accuracy 60.672 | wps 15487.5 | ups 1.25 | wpb 12355.8 | bsz 458.5 | num_updates 11784 | lr 0.000130277 | gnorm 0.414 | clip 0 | loss_scale 8 | train_wall 1130 | gb_free 16.5 | wall 8891
2023-08-21 18:23:13 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 18:23:13 | INFO | fairseq.trainer | begin training epoch 9
2023-08-21 18:23:13 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 18:23:33 | INFO | train_inner | epoch 009:     16 / 1474 loss=2.156, trans_loss=3.441, nll_loss=1.634, w2v_ctc_loss=1.128, task_loss=0.851, contrastive_loss=0.536, total=4121.25, n_correct=2521.64, ppl=3.1, accuracy=61.186, wps=10506.8, ups=0.85, wpb=12298.5, bsz=466, num_updates=11800, lr=0.000130189, gnorm=0.405, clip=0, loss_scale=8, train_wall=77, gb_free=17.4, wall=8911
2023-08-21 18:24:50 | INFO | train_inner | epoch 009:    116 / 1474 loss=2.068, trans_loss=3.416, nll_loss=1.603, w2v_ctc_loss=1.101, task_loss=0.818, contrastive_loss=0.208, total=4191.82, n_correct=2594.27, ppl=3.04, accuracy=61.889, wps=16227, ups=1.3, wpb=12518.2, bsz=479.9, num_updates=11900, lr=0.000129641, gnorm=0.403, clip=0, loss_scale=8, train_wall=77, gb_free=15.6, wall=8988
2023-08-21 18:26:07 | INFO | train_inner | epoch 009:    216 / 1474 loss=2.051, trans_loss=3.421, nll_loss=1.608, w2v_ctc_loss=1.106, task_loss=0.936, contrastive_loss=0.136, total=4061.27, n_correct=2504.24, ppl=3.05, accuracy=61.661, wps=15679.5, ups=1.29, wpb=12126.5, bsz=431.4, num_updates=12000, lr=0.000129099, gnorm=0.405, clip=0, loss_scale=8, train_wall=77, gb_free=17.2, wall=9066
2023-08-21 18:26:07 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 18:26:33 | INFO | dev_st | epoch 009 | valid on 'dev_st' subset | loss 4.103 | trans_loss 5.303 | nll_loss 2.596 | w2v_ctc_loss 1.381 | task_loss 4.555 | contrastive_loss 0.527 | total 4003.4 | n_correct 2571.6 | ppl 6.05 | accuracy 64.235 | uer 20.341 | wer 22.009 | raw_wer 22.009 | bleu 20.33 | wps 2076.6 | wpb 4003.4 | bsz 141.8 | num_updates 12000 | best_bleu 20.33
2023-08-21 18:26:33 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 9 @ 12000 updates
2023-08-21 18:26:33 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_9_12000.pt
2023-08-21 18:26:35 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_9_12000.pt
2023-08-21 18:26:42 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_9_12000.pt (epoch 9 @ 12000 updates, score 20.33) (writing took 9.762458637007512 seconds)
2023-08-21 18:28:00 | INFO | train_inner | epoch 009:    316 / 1474 loss=2.061, trans_loss=3.409, nll_loss=1.596, w2v_ctc_loss=1.09, task_loss=0.821, contrastive_loss=0.227, total=4146.43, n_correct=2571.62, ppl=3.02, accuracy=62.02, wps=11050.6, ups=0.89, wpb=12389.9, bsz=474.6, num_updates=12100, lr=0.000128565, gnorm=0.403, clip=0, loss_scale=16, train_wall=76, gb_free=15.7, wall=9178
2023-08-21 18:29:17 | INFO | train_inner | epoch 009:    416 / 1474 loss=2.054, trans_loss=3.424, nll_loss=1.613, w2v_ctc_loss=1.099, task_loss=0.853, contrastive_loss=0.164, total=4194.84, n_correct=2588.03, ppl=3.06, accuracy=61.696, wps=16091.6, ups=1.28, wpb=12524.6, bsz=466.7, num_updates=12200, lr=0.000128037, gnorm=0.401, clip=0, loss_scale=16, train_wall=77, gb_free=15.8, wall=9256
2023-08-21 18:30:34 | INFO | train_inner | epoch 009:    516 / 1474 loss=2.094, trans_loss=3.424, nll_loss=1.612, w2v_ctc_loss=1.123, task_loss=0.908, contrastive_loss=0.263, total=4124.3, n_correct=2537.24, ppl=3.06, accuracy=61.519, wps=16035.5, ups=1.3, wpb=12310.3, bsz=439.5, num_updates=12300, lr=0.000127515, gnorm=0.404, clip=0, loss_scale=16, train_wall=76, gb_free=11, wall=9332
2023-08-21 18:31:51 | INFO | train_inner | epoch 009:    616 / 1474 loss=2.05, trans_loss=3.415, nll_loss=1.604, w2v_ctc_loss=1.096, task_loss=0.891, contrastive_loss=0.18, total=4120.96, n_correct=2549.95, ppl=3.04, accuracy=61.878, wps=15984.7, ups=1.3, wpb=12316.4, bsz=453.4, num_updates=12400, lr=0.000127, gnorm=0.404, clip=0, loss_scale=16, train_wall=77, gb_free=15.8, wall=9410
2023-08-21 18:33:08 | INFO | train_inner | epoch 009:    716 / 1474 loss=2.108, trans_loss=3.422, nll_loss=1.612, w2v_ctc_loss=1.121, task_loss=0.885, contrastive_loss=0.349, total=4088.53, n_correct=2521.28, ppl=3.06, accuracy=61.667, wps=15870.3, ups=1.3, wpb=12213.7, bsz=451.4, num_updates=12500, lr=0.000126491, gnorm=0.413, clip=0, loss_scale=16, train_wall=77, gb_free=16.6, wall=9486
2023-08-21 18:34:26 | INFO | train_inner | epoch 009:    816 / 1474 loss=2.183, trans_loss=3.416, nll_loss=1.606, w2v_ctc_loss=1.11, task_loss=0.784, contrastive_loss=0.632, total=4220.43, n_correct=2607.5, ppl=3.04, accuracy=61.783, wps=16122.7, ups=1.28, wpb=12611.1, bsz=501.1, num_updates=12600, lr=0.000125988, gnorm=0.422, clip=0, loss_scale=16, train_wall=78, gb_free=14, wall=9565
2023-08-21 18:35:39 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-21 18:35:45 | INFO | train_inner | epoch 009:    917 / 1474 loss=2.052, trans_loss=3.42, nll_loss=1.606, w2v_ctc_loss=1.113, task_loss=0.931, contrastive_loss=0.142, total=4126.01, n_correct=2551.52, ppl=3.04, accuracy=61.84, wps=15582.4, ups=1.27, wpb=12312.3, bsz=435.1, num_updates=12700, lr=0.000125491, gnorm=0.4, clip=0, loss_scale=8, train_wall=79, gb_free=11.3, wall=9644
2023-08-21 18:37:03 | INFO | train_inner | epoch 009:   1017 / 1474 loss=2.06, trans_loss=3.425, nll_loss=1.614, w2v_ctc_loss=1.112, task_loss=0.97, contrastive_loss=0.165, total=4101.32, n_correct=2529.37, ppl=3.06, accuracy=61.672, wps=15837, ups=1.29, wpb=12242.4, bsz=424.9, num_updates=12800, lr=0.000125, gnorm=0.401, clip=0, loss_scale=8, train_wall=77, gb_free=15.4, wall=9721
2023-08-21 18:38:20 | INFO | train_inner | epoch 009:   1117 / 1474 loss=2.064, trans_loss=3.424, nll_loss=1.608, w2v_ctc_loss=1.1, task_loss=0.823, contrastive_loss=0.202, total=4172.83, n_correct=2583.12, ppl=3.05, accuracy=61.903, wps=16173.8, ups=1.3, wpb=12437.9, bsz=471.9, num_updates=12900, lr=0.000124515, gnorm=0.403, clip=0, loss_scale=8, train_wall=76, gb_free=15.9, wall=9798
2023-08-21 18:39:38 | INFO | train_inner | epoch 009:   1217 / 1474 loss=2.068, trans_loss=3.42, nll_loss=1.609, w2v_ctc_loss=1.121, task_loss=0.917, contrastive_loss=0.173, total=4138.15, n_correct=2555.77, ppl=3.05, accuracy=61.761, wps=15785.1, ups=1.28, wpb=12357.2, bsz=448.8, num_updates=13000, lr=0.000124035, gnorm=0.405, clip=0, loss_scale=8, train_wall=78, gb_free=15.7, wall=9876
2023-08-21 18:40:55 | INFO | train_inner | epoch 009:   1317 / 1474 loss=2.135, trans_loss=3.413, nll_loss=1.599, w2v_ctc_loss=1.094, task_loss=0.793, contrastive_loss=0.549, total=4205.27, n_correct=2607.08, ppl=3.03, accuracy=61.996, wps=16248, ups=1.29, wpb=12548.1, bsz=491.2, num_updates=13100, lr=0.00012356, gnorm=0.402, clip=0, loss_scale=8, train_wall=77, gb_free=16.2, wall=9953
2023-08-21 18:42:12 | INFO | train_inner | epoch 009:   1417 / 1474 loss=2.05, trans_loss=3.426, nll_loss=1.614, w2v_ctc_loss=1.11, task_loss=0.935, contrastive_loss=0.134, total=4071.37, n_correct=2516.89, ppl=3.06, accuracy=61.819, wps=15843.6, ups=1.3, wpb=12147.5, bsz=429, num_updates=13200, lr=0.000123091, gnorm=0.401, clip=0, loss_scale=8, train_wall=76, gb_free=14.4, wall=10030
2023-08-21 18:42:55 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 18:43:18 | INFO | dev_st | epoch 009 | valid on 'dev_st' subset | loss 4.081 | trans_loss 5.274 | nll_loss 2.567 | w2v_ctc_loss 1.384 | task_loss 4.547 | contrastive_loss 0.515 | total 4003.4 | n_correct 2580.7 | ppl 5.93 | accuracy 64.463 | uer 19.879 | wer 21.621 | raw_wer 21.621 | bleu 20.24 | wps 2471.4 | wpb 4003.4 | bsz 141.8 | num_updates 13257 | best_bleu 20.33
2023-08-21 18:43:18 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 9 @ 13257 updates
2023-08-21 18:43:18 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_20.2408.pt
2023-08-21 18:43:20 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_20.2408.pt
2023-08-21 18:43:24 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_20.2408.pt (epoch 9 @ 13257 updates, score 20.24) (writing took 5.6829897739226 seconds)
2023-08-21 18:43:24 | INFO | fairseq_cli.train | end of epoch 9 (average epoch stats below)
2023-08-21 18:43:24 | INFO | train | epoch 009 | loss 2.08 | trans_loss 3.419 | nll_loss 1.607 | w2v_ctc_loss 1.107 | task_loss 0.872 | contrastive_loss 0.265 | total 4136.88 | n_correct 2556.95 | ppl 3.05 | accuracy 61.809 | wps 15023.5 | ups 1.22 | wpb 12350.7 | bsz 457.4 | num_updates 13257 | lr 0.000122827 | gnorm 0.405 | clip 0 | loss_scale 8 | train_wall 1133 | gb_free 11.1 | wall 10102
2023-08-21 18:43:24 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 18:43:24 | INFO | fairseq.trainer | begin training epoch 10
2023-08-21 18:43:24 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 18:44:04 | INFO | train_inner | epoch 010:     43 / 1474 loss=2.07, trans_loss=3.407, nll_loss=1.591, w2v_ctc_loss=1.08, task_loss=0.814, contrastive_loss=0.314, total=4113.02, n_correct=2567.27, ppl=3.01, accuracy=62.418, wps=10917.5, ups=0.89, wpb=12276.4, bsz=475.9, num_updates=13300, lr=0.000122628, gnorm=0.401, clip=0, loss_scale=8, train_wall=76, gb_free=15.9, wall=10143
2023-08-21 18:45:21 | INFO | train_inner | epoch 010:    143 / 1474 loss=2.004, trans_loss=3.391, nll_loss=1.572, w2v_ctc_loss=1.056, task_loss=0.836, contrastive_loss=0.16, total=4234.99, n_correct=2663.44, ppl=2.97, accuracy=62.891, wps=16374.8, ups=1.29, wpb=12647.2, bsz=473.2, num_updates=13400, lr=0.000122169, gnorm=0.389, clip=0, loss_scale=8, train_wall=77, gb_free=16, wall=10220
2023-08-21 18:46:38 | INFO | train_inner | epoch 010:    243 / 1474 loss=2.062, trans_loss=3.389, nll_loss=1.566, w2v_ctc_loss=1.066, task_loss=0.854, contrastive_loss=0.406, total=4131.11, n_correct=2597.52, ppl=2.96, accuracy=62.877, wps=16034.4, ups=1.3, wpb=12328.7, bsz=463.9, num_updates=13500, lr=0.000121716, gnorm=0.4, clip=0, loss_scale=8, train_wall=76, gb_free=15.7, wall=10297
2023-08-21 18:47:56 | INFO | train_inner | epoch 010:    343 / 1474 loss=2.022, trans_loss=3.388, nll_loss=1.57, w2v_ctc_loss=1.059, task_loss=0.878, contrastive_loss=0.24, total=4135.65, n_correct=2597.11, ppl=2.97, accuracy=62.798, wps=15991.5, ups=1.29, wpb=12362.4, bsz=454, num_updates=13600, lr=0.000121268, gnorm=0.401, clip=0, loss_scale=8, train_wall=77, gb_free=15.3, wall=10374
2023-08-21 18:49:15 | INFO | train_inner | epoch 010:    443 / 1474 loss=2.083, trans_loss=3.392, nll_loss=1.572, w2v_ctc_loss=1.049, task_loss=0.834, contrastive_loss=0.583, total=4199.14, n_correct=2634.83, ppl=2.97, accuracy=62.747, wps=15888.1, ups=1.27, wpb=12535.9, bsz=482.3, num_updates=13700, lr=0.000120824, gnorm=0.399, clip=0, loss_scale=8, train_wall=78, gb_free=16.5, wall=10453
2023-08-21 18:50:32 | INFO | train_inner | epoch 010:    543 / 1474 loss=2.023, trans_loss=3.403, nll_loss=1.583, w2v_ctc_loss=1.083, task_loss=0.948, contrastive_loss=0.144, total=4094.23, n_correct=2557.91, ppl=3, accuracy=62.476, wps=15837.4, ups=1.3, wpb=12209.6, bsz=433.2, num_updates=13800, lr=0.000120386, gnorm=0.4, clip=0, loss_scale=8, train_wall=77, gb_free=13.9, wall=10530
2023-08-21 18:51:49 | INFO | train_inner | epoch 010:    643 / 1474 loss=2.066, trans_loss=3.397, nll_loss=1.577, w2v_ctc_loss=1.07, task_loss=0.814, contrastive_loss=0.366, total=4182.84, n_correct=2622.66, ppl=2.98, accuracy=62.7, wps=16130.5, ups=1.29, wpb=12481.2, bsz=481.3, num_updates=13900, lr=0.000119952, gnorm=0.403, clip=0, loss_scale=8, train_wall=77, gb_free=16.3, wall=10607
2023-08-21 18:53:06 | INFO | train_inner | epoch 010:    743 / 1474 loss=2.024, trans_loss=3.395, nll_loss=1.576, w2v_ctc_loss=1.087, task_loss=0.874, contrastive_loss=0.142, total=4120.62, n_correct=2580.09, ppl=2.98, accuracy=62.614, wps=16091.1, ups=1.31, wpb=12301.2, bsz=451.7, num_updates=14000, lr=0.000119523, gnorm=0.4, clip=0, loss_scale=8, train_wall=76, gb_free=16.3, wall=10684
2023-08-21 18:53:06 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 18:53:29 | INFO | dev_st | epoch 010 | valid on 'dev_st' subset | loss 4.085 | trans_loss 5.254 | nll_loss 2.538 | w2v_ctc_loss 1.442 | task_loss 4.585 | contrastive_loss 0.521 | total 4003.4 | n_correct 2601.1 | ppl 5.81 | accuracy 64.972 | uer 20.293 | wer 22.158 | raw_wer 22.158 | bleu 20.67 | wps 2379.5 | wpb 4003.4 | bsz 141.8 | num_updates 14000 | best_bleu 20.67
2023-08-21 18:53:29 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 10 @ 14000 updates
2023-08-21 18:53:29 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_10_14000.pt
2023-08-21 18:53:31 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_10_14000.pt
2023-08-21 18:53:39 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_10_14000.pt (epoch 10 @ 14000 updates, score 20.67) (writing took 10.257793157943524 seconds)
2023-08-21 18:54:57 | INFO | train_inner | epoch 010:    843 / 1474 loss=2.004, trans_loss=3.392, nll_loss=1.573, w2v_ctc_loss=1.059, task_loss=0.856, contrastive_loss=0.15, total=4132.62, n_correct=2593.2, ppl=2.97, accuracy=62.75, wps=11067, ups=0.9, wpb=12339.2, bsz=457.4, num_updates=14100, lr=0.000119098, gnorm=0.394, clip=0, loss_scale=8, train_wall=77, gb_free=16.2, wall=10795
2023-08-21 18:56:14 | INFO | train_inner | epoch 010:    943 / 1474 loss=2.032, trans_loss=3.392, nll_loss=1.57, w2v_ctc_loss=1.07, task_loss=0.836, contrastive_loss=0.218, total=4160.84, n_correct=2614.6, ppl=2.97, accuracy=62.838, wps=16165.6, ups=1.3, wpb=12411.3, bsz=467.9, num_updates=14200, lr=0.000118678, gnorm=0.399, clip=0, loss_scale=8, train_wall=76, gb_free=15.4, wall=10872
2023-08-21 18:57:32 | INFO | train_inner | epoch 010:   1043 / 1474 loss=2.019, trans_loss=3.392, nll_loss=1.572, w2v_ctc_loss=1.075, task_loss=0.954, contrastive_loss=0.17, total=4059.22, n_correct=2544.77, ppl=2.97, accuracy=62.691, wps=15514.6, ups=1.28, wpb=12120, bsz=431.2, num_updates=14300, lr=0.000118262, gnorm=0.404, clip=0, loss_scale=8, train_wall=78, gb_free=8.9, wall=10950
2023-08-21 18:58:48 | INFO | train_inner | epoch 010:   1143 / 1474 loss=2.02, trans_loss=3.401, nll_loss=1.584, w2v_ctc_loss=1.085, task_loss=0.965, contrastive_loss=0.141, total=4045.82, n_correct=2526.51, ppl=3, accuracy=62.447, wps=15816.3, ups=1.31, wpb=12079.3, bsz=422.8, num_updates=14400, lr=0.000117851, gnorm=0.403, clip=0, loss_scale=8, train_wall=76, gb_free=12.4, wall=11027
2023-08-21 19:00:05 | INFO | train_inner | epoch 010:   1243 / 1474 loss=2.011, trans_loss=3.384, nll_loss=1.567, w2v_ctc_loss=1.081, task_loss=0.886, contrastive_loss=0.134, total=4107.6, n_correct=2577.05, ppl=2.96, accuracy=62.739, wps=15974, ups=1.3, wpb=12284.6, bsz=446.5, num_updates=14500, lr=0.000117444, gnorm=0.407, clip=0, loss_scale=8, train_wall=76, gb_free=16.1, wall=11104
2023-08-21 19:01:23 | INFO | train_inner | epoch 010:   1343 / 1474 loss=2.011, trans_loss=3.39, nll_loss=1.571, w2v_ctc_loss=1.073, task_loss=0.886, contrastive_loss=0.155, total=4127.69, n_correct=2597.51, ppl=2.97, accuracy=62.929, wps=15910.3, ups=1.29, wpb=12326.4, bsz=452.2, num_updates=14600, lr=0.000117041, gnorm=0.397, clip=0, loss_scale=8, train_wall=77, gb_free=15.6, wall=11181
2023-08-21 19:02:41 | INFO | train_inner | epoch 010:   1443 / 1474 loss=2.132, trans_loss=3.4, nll_loss=1.581, w2v_ctc_loss=1.058, task_loss=0.818, contrastive_loss=0.637, total=4195.02, n_correct=2626.89, ppl=2.99, accuracy=62.619, wps=16019.7, ups=1.28, wpb=12514.1, bsz=483, num_updates=14700, lr=0.000116642, gnorm=0.411, clip=0, loss_scale=8, train_wall=78, gb_free=15.9, wall=11259
2023-08-21 19:03:05 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 19:03:29 | INFO | dev_st | epoch 010 | valid on 'dev_st' subset | loss 4.053 | trans_loss 5.242 | nll_loss 2.526 | w2v_ctc_loss 1.367 | task_loss 4.536 | contrastive_loss 0.513 | total 4003.4 | n_correct 2608.3 | ppl 5.76 | accuracy 65.152 | uer 19.173 | wer 20.842 | raw_wer 20.842 | bleu 20.8 | wps 2215.4 | wpb 4003.4 | bsz 141.8 | num_updates 14731 | best_bleu 20.8
2023-08-21 19:03:29 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 10 @ 14731 updates
2023-08-21 19:03:29 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 19:03:33 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 19:03:38 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 10 @ 14731 updates, score 20.8) (writing took 8.931428809999488 seconds)
2023-08-21 19:03:38 | INFO | fairseq_cli.train | end of epoch 10 (average epoch stats below)
2023-08-21 19:03:38 | INFO | train | epoch 010 | loss 2.039 | trans_loss 3.393 | nll_loss 1.574 | w2v_ctc_loss 1.068 | task_loss 0.869 | contrastive_loss 0.282 | total 4138.65 | n_correct 2596.21 | ppl 2.98 | accuracy 62.731 | wps 15000.7 | ups 1.21 | wpb 12355.8 | bsz 458.5 | num_updates 14731 | lr 0.00011652 | gnorm 0.401 | clip 0 | loss_scale 8 | train_wall 1133 | gb_free 16.9 | wall 11316
2023-08-21 19:03:38 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 19:03:38 | INFO | fairseq.trainer | begin training epoch 11
2023-08-21 19:03:38 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 19:04:38 | INFO | train_inner | epoch 011:     69 / 1474 loss=2.009, trans_loss=3.371, nll_loss=1.545, w2v_ctc_loss=1.04, task_loss=0.811, contrastive_loss=0.301, total=4166, n_correct=2645.17, ppl=2.92, accuracy=63.494, wps=10647.3, ups=0.86, wpb=12436.1, bsz=475.7, num_updates=14800, lr=0.000116248, gnorm=0.394, clip=0, loss_scale=16, train_wall=76, gb_free=17.6, wall=11376
2023-08-21 19:05:56 | INFO | train_inner | epoch 011:    169 / 1474 loss=1.978, trans_loss=3.373, nll_loss=1.55, w2v_ctc_loss=1.039, task_loss=0.891, contrastive_loss=0.148, total=4100.74, n_correct=2601.36, ppl=2.93, accuracy=63.436, wps=15726, ups=1.28, wpb=12251.1, bsz=450.6, num_updates=14900, lr=0.000115857, gnorm=0.397, clip=0, loss_scale=16, train_wall=77, gb_free=14, wall=11454
2023-08-21 19:07:12 | INFO | train_inner | epoch 011:    269 / 1474 loss=1.962, trans_loss=3.369, nll_loss=1.543, w2v_ctc_loss=1.03, task_loss=0.898, contrastive_loss=0.125, total=4115.58, n_correct=2613.88, ppl=2.91, accuracy=63.512, wps=15967, ups=1.3, wpb=12290.6, bsz=444.2, num_updates=15000, lr=0.00011547, gnorm=0.389, clip=0, loss_scale=16, train_wall=77, gb_free=15.7, wall=11531
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:0')
2023-08-21 19:08:05 | INFO | train_inner | epoch 011:    369 / 1474 loss=2.062, trans_loss=5.009, nll_loss=2.297, w2v_ctc_loss=0.773, task_loss=1.339, contrastive_loss=0.107, total=4094.16, n_correct=2598.38, ppl=4.91, accuracy=63.466, wps=15524.1, ups=1.89, wpb=8227.1, bsz=296.5, num_updates=15100, lr=0.000115087, gnorm=0.527, clip=0, loss_scale=16, train_wall=53, gb_free=12.3, wall=11584
2023-08-21 19:08:59 | INFO | train_inner | epoch 011:    469 / 1474 loss=2.097, trans_loss=5.043, nll_loss=2.321, w2v_ctc_loss=0.774, task_loss=1.354, contrastive_loss=0.343, total=4112.8, n_correct=2592.32, ppl=5, accuracy=63.031, wps=15286.8, ups=1.86, wpb=8225.6, bsz=302.2, num_updates=15200, lr=0.000114708, gnorm=0.537, clip=0, loss_scale=16, train_wall=53, gb_free=16.7, wall=11638
2023-08-21 19:09:53 | INFO | train_inner | epoch 011:    569 / 1474 loss=2.094, trans_loss=5.04, nll_loss=2.316, w2v_ctc_loss=0.782, task_loss=1.405, contrastive_loss=0.336, total=4071.06, n_correct=2573.65, ppl=4.98, accuracy=63.218, wps=15049.3, ups=1.85, wpb=8142.1, bsz=292.6, num_updates=15300, lr=0.000114332, gnorm=0.534, clip=0, loss_scale=16, train_wall=54, gb_free=15.8, wall=11692
2023-08-21 19:10:47 | INFO | train_inner | epoch 011:    669 / 1474 loss=2.099, trans_loss=5.03, nll_loss=2.304, w2v_ctc_loss=0.775, task_loss=1.281, contrastive_loss=0.457, total=4156.4, n_correct=2637.61, ppl=4.94, accuracy=63.459, wps=15542.1, ups=1.87, wpb=8312.8, bsz=310.2, num_updates=15400, lr=0.000113961, gnorm=0.526, clip=0, loss_scale=16, train_wall=53, gb_free=15.7, wall=11745
2023-08-21 19:11:41 | INFO | train_inner | epoch 011:    769 / 1474 loss=2.073, trans_loss=5.042, nll_loss=2.319, w2v_ctc_loss=0.787, task_loss=1.322, contrastive_loss=0.107, total=4169.17, n_correct=2640.44, ppl=4.99, accuracy=63.333, wps=15529.1, ups=1.86, wpb=8338.3, bsz=304.8, num_updates=15500, lr=0.000113592, gnorm=0.527, clip=0, loss_scale=16, train_wall=53, gb_free=11.6, wall=11799
2023-08-21 19:12:34 | INFO | train_inner | epoch 011:    869 / 1474 loss=2.07, trans_loss=5.041, nll_loss=2.318, w2v_ctc_loss=0.78, task_loss=1.362, contrastive_loss=0.09, total=4120.01, n_correct=2606.18, ppl=4.99, accuracy=63.257, wps=15478.7, ups=1.88, wpb=8240, bsz=293.5, num_updates=15600, lr=0.000113228, gnorm=0.531, clip=0, loss_scale=16, train_wall=53, gb_free=12.9, wall=11852
2023-08-21 19:13:27 | INFO | train_inner | epoch 011:    969 / 1474 loss=2.071, trans_loss=5.04, nll_loss=2.318, w2v_ctc_loss=0.783, task_loss=1.321, contrastive_loss=0.112, total=4145.45, n_correct=2626.7, ppl=4.99, accuracy=63.363, wps=15597.1, ups=1.88, wpb=8290.9, bsz=303.7, num_updates=15700, lr=0.000112867, gnorm=0.522, clip=0, loss_scale=16, train_wall=53, gb_free=16.6, wall=11905
2023-08-21 19:14:20 | INFO | train_inner | epoch 011:   1069 / 1474 loss=2.073, trans_loss=5.035, nll_loss=2.312, w2v_ctc_loss=0.783, task_loss=1.279, contrastive_loss=0.141, total=4141.18, n_correct=2625.72, ppl=4.97, accuracy=63.405, wps=15575.3, ups=1.88, wpb=8282.4, bsz=309.4, num_updates=15800, lr=0.000112509, gnorm=0.526, clip=0, loss_scale=16, train_wall=53, gb_free=16.2, wall=11959
2023-08-21 19:15:14 | INFO | train_inner | epoch 011:   1169 / 1474 loss=2.075, trans_loss=5.043, nll_loss=2.322, w2v_ctc_loss=0.788, task_loss=1.309, contrastive_loss=0.118, total=4173.93, n_correct=2637.71, ppl=5, accuracy=63.195, wps=15600.2, ups=1.87, wpb=8347.9, bsz=307.2, num_updates=15900, lr=0.000112154, gnorm=0.524, clip=0, loss_scale=16, train_wall=53, gb_free=16.6, wall=12012
2023-08-21 19:16:08 | INFO | train_inner | epoch 011:   1269 / 1474 loss=2.086, trans_loss=5.035, nll_loss=2.311, w2v_ctc_loss=0.786, task_loss=1.251, contrastive_loss=0.244, total=4174.26, n_correct=2644.5, ppl=4.96, accuracy=63.353, wps=15373, ups=1.84, wpb=8348.5, bsz=314.4, num_updates=16000, lr=0.000111803, gnorm=0.534, clip=0, loss_scale=16, train_wall=54, gb_free=17, wall=12066
2023-08-21 19:16:08 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:6')
2023-08-21 19:16:32 | INFO | dev_st | epoch 011 | valid on 'dev_st' subset | loss 4.062 | trans_loss 5.236 | nll_loss 2.517 | w2v_ctc_loss 1.413 | task_loss 4.563 | contrastive_loss 0.509 | total 4003.4 | n_correct 2613.3 | ppl 5.72 | accuracy 65.277 | uer 19.786 | wer 21.602 | raw_wer 21.602 | bleu 20.76 | wps 2258.1 | wpb 4003.4 | bsz 141.8 | num_updates 16000 | best_bleu 20.8
2023-08-21 19:16:32 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 11 @ 16000 updates
2023-08-21 19:16:32 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_11_16000.pt
2023-08-21 19:16:34 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_11_16000.pt
2023-08-21 19:16:39 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_11_16000.pt (epoch 11 @ 16000 updates, score 20.76) (writing took 6.673707633046433 seconds)
2023-08-21 19:17:33 | INFO | train_inner | epoch 011:   1369 / 1474 loss=2.106, trans_loss=5.032, nll_loss=2.308, w2v_ctc_loss=0.768, task_loss=1.205, contrastive_loss=0.562, total=4191.56, n_correct=2655.76, ppl=4.95, accuracy=63.36, wps=9810.2, ups=1.17, wpb=8383.1, bsz=327.7, num_updates=16100, lr=0.000111456, gnorm=0.541, clip=0, loss_scale=16, train_wall=54, gb_free=17.2, wall=12152
2023-08-21 19:18:27 | INFO | train_inner | epoch 011:   1469 / 1474 loss=2.066, trans_loss=5.037, nll_loss=2.315, w2v_ctc_loss=0.774, task_loss=1.252, contrastive_loss=0.125, total=4161.81, n_correct=2641.52, ppl=4.98, accuracy=63.47, wps=15582, ups=1.87, wpb=8323.6, bsz=313.2, num_updates=16200, lr=0.000111111, gnorm=0.527, clip=0, loss_scale=16, train_wall=53, gb_free=16.4, wall=12205
2023-08-21 19:18:30 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 19:18:53 | INFO | dev_st | epoch 011 | valid on 'dev_st' subset | loss 4.04 | trans_loss 5.226 | nll_loss 2.503 | w2v_ctc_loss 1.362 | task_loss 4.58 | contrastive_loss 0.503 | total 4003.4 | n_correct 2620.1 | ppl 5.67 | accuracy 65.447 | uer 19.085 | wer 20.767 | raw_wer 20.767 | bleu 20.99 | wps 2355.9 | wpb 4003.4 | bsz 141.8 | num_updates 16205 | best_bleu 20.99
2023-08-21 19:18:53 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 11 @ 16205 updates
2023-08-21 19:18:53 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 19:18:57 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 19:19:02 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 11 @ 16205 updates, score 20.99) (writing took 9.019113608053885 seconds)
2023-08-21 19:19:02 | INFO | fairseq_cli.train | end of epoch 11 (average epoch stats below)
2023-08-21 19:19:02 | INFO | train | epoch 011 | loss 2.054 | trans_loss 4.62 | nll_loss 2.121 | w2v_ctc_loss 0.843 | task_loss 1.195 | contrastive_loss 0.206 | total 4138.65 | n_correct 2622.32 | ppl 4.35 | accuracy 63.362 | wps 14393.3 | ups 1.6 | wpb 9023.7 | bsz 333.5 | num_updates 16205 | lr 0.000111094 | gnorm 0.505 | clip 0 | loss_scale 16 | train_wall 847 | gb_free 16.8 | wall 12240
2023-08-21 19:19:02 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 19:19:02 | INFO | fairseq.trainer | begin training epoch 12
2023-08-21 19:19:02 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 19:20:00 | INFO | train_inner | epoch 012:     95 / 1474 loss=2.052, trans_loss=4.997, nll_loss=2.262, w2v_ctc_loss=0.759, task_loss=1.256, contrastive_loss=0.187, total=4139.2, n_correct=2655.95, ppl=4.8, accuracy=64.166, wps=8915.5, ups=1.08, wpb=8278.4, bsz=312.5, num_updates=16300, lr=0.00011077, gnorm=0.521, clip=0, loss_scale=16, train_wall=53, gb_free=15.6, wall=12298
2023-08-21 19:20:53 | INFO | train_inner | epoch 012:    195 / 1474 loss=2.049, trans_loss=5.003, nll_loss=2.269, w2v_ctc_loss=0.768, task_loss=1.338, contrastive_loss=0.094, total=4126.87, n_correct=2638.54, ppl=4.82, accuracy=63.936, wps=15480.6, ups=1.88, wpb=8253.7, bsz=295.9, num_updates=16400, lr=0.000110432, gnorm=0.528, clip=0, loss_scale=16, train_wall=53, gb_free=16.1, wall=12351
2023-08-21 19:21:47 | INFO | train_inner | epoch 012:    295 / 1474 loss=2.046, trans_loss=5.001, nll_loss=2.267, w2v_ctc_loss=0.75, task_loss=1.218, contrastive_loss=0.145, total=4203.54, n_correct=2696.35, ppl=4.81, accuracy=64.145, wps=15622, ups=1.86, wpb=8407.1, bsz=321.1, num_updates=16500, lr=0.000110096, gnorm=0.523, clip=0, loss_scale=16, train_wall=53, gb_free=14.2, wall=12405
2023-08-21 19:22:41 | INFO | train_inner | epoch 012:    395 / 1474 loss=2.048, trans_loss=5.004, nll_loss=2.271, w2v_ctc_loss=0.762, task_loss=1.277, contrastive_loss=0.121, total=4149.28, n_correct=2657.7, ppl=4.83, accuracy=64.052, wps=15431.9, ups=1.86, wpb=8298.6, bsz=307.1, num_updates=16600, lr=0.000109764, gnorm=0.521, clip=0, loss_scale=16, train_wall=53, gb_free=14.7, wall=12459
2023-08-21 19:23:34 | INFO | train_inner | epoch 012:    495 / 1474 loss=2.061, trans_loss=5.018, nll_loss=2.29, w2v_ctc_loss=0.774, task_loss=1.316, contrastive_loss=0.134, total=4106.46, n_correct=2623.99, ppl=4.89, accuracy=63.899, wps=15405, ups=1.88, wpb=8212.9, bsz=301.2, num_updates=16700, lr=0.000109435, gnorm=0.526, clip=0, loss_scale=16, train_wall=53, gb_free=17.4, wall=12512
2023-08-21 19:24:28 | INFO | train_inner | epoch 012:    595 / 1474 loss=2.063, trans_loss=5.005, nll_loss=2.272, w2v_ctc_loss=0.765, task_loss=1.241, contrastive_loss=0.255, total=4190.91, n_correct=2683.46, ppl=4.83, accuracy=64.03, wps=15444.5, ups=1.84, wpb=8381.8, bsz=316.5, num_updates=16800, lr=0.000109109, gnorm=0.528, clip=0, loss_scale=32, train_wall=54, gb_free=15.5, wall=12567
2023-08-21 19:25:11 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-21 19:25:22 | INFO | train_inner | epoch 012:    696 / 1474 loss=2.07, trans_loss=5.002, nll_loss=2.27, w2v_ctc_loss=0.75, task_loss=1.2, contrastive_loss=0.436, total=4198.71, n_correct=2694.94, ppl=4.82, accuracy=64.185, wps=15561.5, ups=1.85, wpb=8397.4, bsz=323.9, num_updates=16900, lr=0.000108786, gnorm=0.52, clip=0, loss_scale=16, train_wall=54, gb_free=16.2, wall=12621
2023-08-21 19:26:16 | INFO | train_inner | epoch 012:    796 / 1474 loss=2.048, trans_loss=5.001, nll_loss=2.267, w2v_ctc_loss=0.764, task_loss=1.322, contrastive_loss=0.115, total=4094.06, n_correct=2627.1, ppl=4.81, accuracy=64.169, wps=15312.1, ups=1.87, wpb=8188.1, bsz=298.2, num_updates=17000, lr=0.000108465, gnorm=0.53, clip=0, loss_scale=16, train_wall=53, gb_free=14.4, wall=12674
2023-08-21 19:27:09 | INFO | train_inner | epoch 012:    896 / 1474 loss=2.065, trans_loss=5.009, nll_loss=2.278, w2v_ctc_loss=0.769, task_loss=1.341, contrastive_loss=0.207, total=4163.5, n_correct=2662.06, ppl=4.85, accuracy=63.938, wps=15497.9, ups=1.86, wpb=8327, bsz=305.1, num_updates=17100, lr=0.000108148, gnorm=0.528, clip=0, loss_scale=16, train_wall=53, gb_free=12.2, wall=12728
2023-08-21 19:28:03 | INFO | train_inner | epoch 012:    996 / 1474 loss=2.062, trans_loss=5.01, nll_loss=2.28, w2v_ctc_loss=0.769, task_loss=1.321, contrastive_loss=0.231, total=4124.99, n_correct=2637.17, ppl=4.86, accuracy=63.932, wps=15418.3, ups=1.87, wpb=8250, bsz=302.7, num_updates=17200, lr=0.000107833, gnorm=0.529, clip=0, loss_scale=16, train_wall=53, gb_free=10.6, wall=12781
2023-08-21 19:28:06 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-21 19:28:57 | INFO | train_inner | epoch 012:   1097 / 1474 loss=2.055, trans_loss=5.012, nll_loss=2.281, w2v_ctc_loss=0.778, task_loss=1.428, contrastive_loss=0.083, total=4021.26, n_correct=2571.94, ppl=4.86, accuracy=63.959, wps=14987.9, ups=1.86, wpb=8042.5, bsz=279.6, num_updates=17300, lr=0.000107521, gnorm=0.529, clip=0, loss_scale=8, train_wall=53, gb_free=11.6, wall=12835
2023-08-21 19:29:50 | INFO | train_inner | epoch 012:   1197 / 1474 loss=2.078, trans_loss=5.028, nll_loss=2.303, w2v_ctc_loss=0.781, task_loss=1.272, contrastive_loss=0.248, total=4187.55, n_correct=2664.57, ppl=4.94, accuracy=63.631, wps=15613.6, ups=1.86, wpb=8375.1, bsz=317.5, num_updates=17400, lr=0.000107211, gnorm=0.529, clip=0, loss_scale=8, train_wall=53, gb_free=15.6, wall=12889
2023-08-21 19:30:44 | INFO | train_inner | epoch 012:   1297 / 1474 loss=2.058, trans_loss=5.011, nll_loss=2.28, w2v_ctc_loss=0.785, task_loss=1.454, contrastive_loss=0.093, total=4075.32, n_correct=2602.09, ppl=4.86, accuracy=63.85, wps=15244.8, ups=1.87, wpb=8150.6, bsz=287, num_updates=17500, lr=0.000106904, gnorm=0.535, clip=0, loss_scale=8, train_wall=53, gb_free=16.7, wall=12942
2023-08-21 19:31:37 | INFO | train_inner | epoch 012:   1397 / 1474 loss=2.071, trans_loss=5.021, nll_loss=2.294, w2v_ctc_loss=0.766, task_loss=1.319, contrastive_loss=0.293, total=4137.07, n_correct=2638.13, ppl=4.9, accuracy=63.768, wps=15449.6, ups=1.87, wpb=8274.1, bsz=305.6, num_updates=17600, lr=0.0001066, gnorm=0.53, clip=0, loss_scale=8, train_wall=53, gb_free=16.7, wall=12996
2023-08-21 19:32:18 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 19:32:43 | INFO | dev_st | epoch 012 | valid on 'dev_st' subset | loss 4.056 | trans_loss 5.218 | nll_loss 2.493 | w2v_ctc_loss 1.432 | task_loss 4.582 | contrastive_loss 0.513 | total 4003.4 | n_correct 2622.5 | ppl 5.63 | accuracy 65.507 | uer 19.598 | wer 21.382 | raw_wer 21.382 | bleu 21.15 | wps 2244.5 | wpb 4003.4 | bsz 141.8 | num_updates 17677 | best_bleu 21.15
2023-08-21 19:32:43 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 12 @ 17677 updates
2023-08-21 19:32:43 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 19:32:47 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 19:32:52 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 12 @ 17677 updates, score 21.15) (writing took 9.16182790696621 seconds)
2023-08-21 19:32:52 | INFO | fairseq_cli.train | end of epoch 12 (average epoch stats below)
2023-08-21 19:32:52 | INFO | train | epoch 012 | loss 2.059 | trans_loss 5.009 | nll_loss 2.278 | w2v_ctc_loss 0.767 | task_loss 1.307 | contrastive_loss 0.187 | total 4136.44 | n_correct 2646.27 | ppl 4.85 | accuracy 63.975 | wps 14672.1 | ups 1.77 | wpb 8272.9 | bsz 304.9 | num_updates 17677 | lr 0.000106368 | gnorm 0.527 | clip 0 | loss_scale 8 | train_wall 783 | gb_free 12.4 | wall 13070
2023-08-21 19:32:52 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 19:32:52 | INFO | fairseq.trainer | begin training epoch 13
2023-08-21 19:32:52 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 19:33:12 | INFO | train_inner | epoch 013:     23 / 1474 loss=2.055, trans_loss=5.013, nll_loss=2.283, w2v_ctc_loss=0.777, task_loss=1.346, contrastive_loss=0.103, total=4092.72, n_correct=2617.56, ppl=4.87, accuracy=63.956, wps=8675.7, ups=1.06, wpb=8185.4, bsz=296.2, num_updates=17700, lr=0.000106299, gnorm=0.526, clip=0, loss_scale=8, train_wall=53, gb_free=16, wall=13090
2023-08-21 19:34:05 | INFO | train_inner | epoch 013:    123 / 1474 loss=2.036, trans_loss=4.982, nll_loss=2.243, w2v_ctc_loss=0.75, task_loss=1.299, contrastive_loss=0.128, total=4178.31, n_correct=2694.06, ppl=4.73, accuracy=64.477, wps=15599.3, ups=1.87, wpb=8356.6, bsz=304, num_updates=17800, lr=0.000106, gnorm=0.519, clip=0, loss_scale=8, train_wall=53, gb_free=16.4, wall=13144
2023-08-21 19:35:00 | INFO | train_inner | epoch 013:    223 / 1474 loss=2.077, trans_loss=4.991, nll_loss=2.255, w2v_ctc_loss=0.75, task_loss=1.221, contrastive_loss=0.551, total=4188.38, n_correct=2698.09, ppl=4.77, accuracy=64.418, wps=15392.4, ups=1.84, wpb=8376.8, bsz=326.5, num_updates=17900, lr=0.000105703, gnorm=0.521, clip=0, loss_scale=8, train_wall=54, gb_free=14.1, wall=13198
2023-08-21 19:35:53 | INFO | train_inner | epoch 013:    323 / 1474 loss=2.028, trans_loss=4.975, nll_loss=2.233, w2v_ctc_loss=0.745, task_loss=1.357, contrastive_loss=0.1, total=4101.73, n_correct=2656.57, ppl=4.7, accuracy=64.767, wps=15355.2, ups=1.87, wpb=8203.5, bsz=293.4, num_updates=18000, lr=0.000105409, gnorm=0.522, clip=0, loss_scale=8, train_wall=53, gb_free=17.4, wall=13251
2023-08-21 19:35:53 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 19:36:18 | INFO | dev_st | epoch 013 | valid on 'dev_st' subset | loss 4.034 | trans_loss 5.22 | nll_loss 2.494 | w2v_ctc_loss 1.347 | task_loss 4.547 | contrastive_loss 0.519 | total 4003.4 | n_correct 2625.1 | ppl 5.63 | accuracy 65.572 | uer 19.083 | wer 20.782 | raw_wer 20.782 | bleu 21.43 | wps 2142.3 | wpb 4003.4 | bsz 141.8 | num_updates 18000 | best_bleu 21.43
2023-08-21 19:36:18 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 13 @ 18000 updates
2023-08-21 19:36:18 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_13_18000.pt
2023-08-21 19:36:21 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_13_18000.pt
2023-08-21 19:36:28 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_13_18000.pt (epoch 13 @ 18000 updates, score 21.43) (writing took 9.956844325060956 seconds)
2023-08-21 19:37:22 | INFO | train_inner | epoch 013:    423 / 1474 loss=2.038, trans_loss=4.98, nll_loss=2.24, w2v_ctc_loss=0.747, task_loss=1.196, contrastive_loss=0.189, total=4205.54, n_correct=2719.52, ppl=4.72, accuracy=64.665, wps=9412.8, ups=1.12, wpb=8411.1, bsz=323.5, num_updates=18100, lr=0.000105118, gnorm=0.521, clip=0, loss_scale=8, train_wall=53, gb_free=16.4, wall=13341
2023-08-21 19:38:16 | INFO | train_inner | epoch 013:    523 / 1474 loss=2.049, trans_loss=4.988, nll_loss=2.251, w2v_ctc_loss=0.754, task_loss=1.263, contrastive_loss=0.255, total=4185.31, n_correct=2692.93, ppl=4.76, accuracy=64.342, wps=15491.1, ups=1.85, wpb=8370.6, bsz=316.7, num_updates=18200, lr=0.000104828, gnorm=0.523, clip=0, loss_scale=8, train_wall=54, gb_free=16.7, wall=13395
2023-08-21 19:39:10 | INFO | train_inner | epoch 013:    623 / 1474 loss=2.028, trans_loss=4.982, nll_loss=2.243, w2v_ctc_loss=0.751, task_loss=1.282, contrastive_loss=0.094, total=4157.86, n_correct=2690.77, ppl=4.73, accuracy=64.715, wps=15524.7, ups=1.87, wpb=8315.7, bsz=306.4, num_updates=18300, lr=0.000104542, gnorm=0.518, clip=0, loss_scale=8, train_wall=53, gb_free=16.9, wall=13448
2023-08-21 19:40:04 | INFO | train_inner | epoch 013:    723 / 1474 loss=2.041, trans_loss=4.987, nll_loss=2.248, w2v_ctc_loss=0.767, task_loss=1.434, contrastive_loss=0.094, total=4099, n_correct=2640.79, ppl=4.75, accuracy=64.425, wps=15233.8, ups=1.86, wpb=8198, bsz=286.3, num_updates=18400, lr=0.000104257, gnorm=0.534, clip=0, loss_scale=8, train_wall=53, gb_free=15.7, wall=13502
2023-08-21 19:40:58 | INFO | train_inner | epoch 013:    823 / 1474 loss=2.046, trans_loss=4.991, nll_loss=2.255, w2v_ctc_loss=0.755, task_loss=1.322, contrastive_loss=0.173, total=4122.84, n_correct=2649.55, ppl=4.77, accuracy=64.265, wps=15146.9, ups=1.84, wpb=8245.7, bsz=305.7, num_updates=18500, lr=0.000103975, gnorm=0.532, clip=0, loss_scale=8, train_wall=54, gb_free=16.8, wall=13557
2023-08-21 19:41:51 | INFO | train_inner | epoch 013:    923 / 1474 loss=2.035, trans_loss=4.985, nll_loss=2.248, w2v_ctc_loss=0.752, task_loss=1.328, contrastive_loss=0.108, total=4100.74, n_correct=2646.4, ppl=4.75, accuracy=64.535, wps=15406.3, ups=1.88, wpb=8201.5, bsz=296.8, num_updates=18600, lr=0.000103695, gnorm=0.527, clip=0, loss_scale=8, train_wall=53, gb_free=15.7, wall=13610
2023-08-21 19:42:45 | INFO | train_inner | epoch 013:   1023 / 1474 loss=2.056, trans_loss=4.995, nll_loss=2.26, w2v_ctc_loss=0.767, task_loss=1.392, contrastive_loss=0.207, total=4080.72, n_correct=2617.97, ppl=4.79, accuracy=64.155, wps=15273, ups=1.87, wpb=8161.4, bsz=292.3, num_updates=18700, lr=0.000103418, gnorm=0.525, clip=0, loss_scale=8, train_wall=53, gb_free=17.1, wall=13663
2023-08-21 19:43:39 | INFO | train_inner | epoch 013:   1123 / 1474 loss=2.036, trans_loss=4.978, nll_loss=2.238, w2v_ctc_loss=0.747, task_loss=1.286, contrastive_loss=0.178, total=4103.17, n_correct=2652.55, ppl=4.72, accuracy=64.646, wps=15312.2, ups=1.87, wpb=8206.3, bsz=305.6, num_updates=18800, lr=0.000103142, gnorm=0.528, clip=0, loss_scale=8, train_wall=53, gb_free=17.3, wall=13717
2023-08-21 19:44:32 | INFO | train_inner | epoch 013:   1223 / 1474 loss=2.039, trans_loss=4.991, nll_loss=2.255, w2v_ctc_loss=0.76, task_loss=1.383, contrastive_loss=0.097, total=4124.88, n_correct=2657, ppl=4.77, accuracy=64.414, wps=15296, ups=1.85, wpb=8249.8, bsz=296.7, num_updates=18900, lr=0.000102869, gnorm=0.516, clip=0, loss_scale=8, train_wall=54, gb_free=17.4, wall=13771
2023-08-21 19:45:26 | INFO | train_inner | epoch 013:   1323 / 1474 loss=2.052, trans_loss=4.98, nll_loss=2.242, w2v_ctc_loss=0.758, task_loss=1.289, contrastive_loss=0.294, total=4108.18, n_correct=2657.39, ppl=4.73, accuracy=64.685, wps=15268.2, ups=1.86, wpb=8216.4, bsz=308.4, num_updates=19000, lr=0.000102598, gnorm=0.525, clip=0, loss_scale=8, train_wall=53, gb_free=16, wall=13825
2023-08-21 19:46:20 | INFO | train_inner | epoch 013:   1423 / 1474 loss=2.058, trans_loss=4.989, nll_loss=2.253, w2v_ctc_loss=0.753, task_loss=1.288, contrastive_loss=0.317, total=4171.47, n_correct=2684.67, ppl=4.77, accuracy=64.358, wps=15439.8, ups=1.85, wpb=8342.9, bsz=310.5, num_updates=19100, lr=0.000102329, gnorm=0.532, clip=0, loss_scale=8, train_wall=54, gb_free=14.8, wall=13879
2023-08-21 19:46:48 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 19:47:11 | INFO | dev_st | epoch 013 | valid on 'dev_st' subset | loss 4.029 | trans_loss 5.205 | nll_loss 2.474 | w2v_ctc_loss 1.376 | task_loss 4.548 | contrastive_loss 0.506 | total 4003.4 | n_correct 2634.6 | ppl 5.56 | accuracy 65.809 | uer 19.25 | wer 21.017 | raw_wer 21.017 | bleu 21.11 | wps 2439 | wpb 4003.4 | bsz 141.8 | num_updates 19151 | best_bleu 21.43
2023-08-21 19:47:11 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 13 @ 19151 updates
2023-08-21 19:47:11 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.1102.pt
2023-08-21 19:47:13 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.1102.pt
2023-08-21 19:47:17 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.1102.pt (epoch 13 @ 19151 updates, score 21.11) (writing took 5.608124468009919 seconds)
2023-08-21 19:47:17 | INFO | fairseq_cli.train | end of epoch 13 (average epoch stats below)
2023-08-21 19:47:17 | INFO | train | epoch 013 | loss 2.044 | trans_loss 4.985 | nll_loss 2.247 | w2v_ctc_loss 0.754 | task_loss 1.304 | contrastive_loss 0.198 | total 4138.65 | n_correct 2669.52 | ppl 4.75 | accuracy 64.502 | wps 14108.8 | ups 1.7 | wpb 8277.3 | bsz 305.7 | num_updates 19151 | lr 0.000102193 | gnorm 0.524 | clip 0 | loss_scale 8 | train_wall 786 | gb_free 17.3 | wall 13935
2023-08-21 19:47:17 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 19:47:17 | INFO | fairseq.trainer | begin training epoch 14
2023-08-21 19:47:17 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 19:47:50 | INFO | train_inner | epoch 014:     49 / 1474 loss=2.019, trans_loss=4.957, nll_loss=2.213, w2v_ctc_loss=0.742, task_loss=1.198, contrastive_loss=0.117, total=4182.69, n_correct=2721.9, ppl=4.63, accuracy=65.075, wps=9286.9, ups=1.11, wpb=8365.4, bsz=322.3, num_updates=19200, lr=0.000102062, gnorm=0.519, clip=0, loss_scale=8, train_wall=53, gb_free=15.6, wall=13969
2023-08-21 19:48:43 | INFO | train_inner | epoch 014:    149 / 1474 loss=2.01, trans_loss=4.947, nll_loss=2.198, w2v_ctc_loss=0.738, task_loss=1.297, contrastive_loss=0.086, total=4086.4, n_correct=2668.14, ppl=4.59, accuracy=65.293, wps=15460.3, ups=1.89, wpb=8172.8, bsz=301.5, num_updates=19300, lr=0.000101797, gnorm=0.519, clip=0, loss_scale=16, train_wall=52, gb_free=16.6, wall=14022
2023-08-21 19:49:37 | INFO | train_inner | epoch 014:    249 / 1474 loss=2.041, trans_loss=4.966, nll_loss=2.222, w2v_ctc_loss=0.744, task_loss=1.371, contrastive_loss=0.299, total=4103.37, n_correct=2659.96, ppl=4.67, accuracy=64.824, wps=15355.8, ups=1.87, wpb=8206.7, bsz=294, num_updates=19400, lr=0.000101535, gnorm=0.538, clip=0, loss_scale=16, train_wall=53, gb_free=16.8, wall=14075
2023-08-21 19:50:30 | INFO | train_inner | epoch 014:    349 / 1474 loss=2.022, trans_loss=4.963, nll_loss=2.22, w2v_ctc_loss=0.737, task_loss=1.222, contrastive_loss=0.15, total=4168.35, n_correct=2714.11, ppl=4.66, accuracy=65.112, wps=15598.5, ups=1.87, wpb=8336.7, bsz=318.7, num_updates=19500, lr=0.000101274, gnorm=0.521, clip=0, loss_scale=16, train_wall=53, gb_free=15.9, wall=14129
2023-08-21 19:51:23 | INFO | train_inner | epoch 014:    449 / 1474 loss=2.019, trans_loss=4.965, nll_loss=2.222, w2v_ctc_loss=0.734, task_loss=1.278, contrastive_loss=0.116, total=4155.83, n_correct=2698.86, ppl=4.67, accuracy=64.942, wps=15617.9, ups=1.88, wpb=8311.7, bsz=306.7, num_updates=19600, lr=0.000101015, gnorm=0.517, clip=0, loss_scale=16, train_wall=53, gb_free=15.5, wall=14182
2023-08-21 19:52:17 | INFO | train_inner | epoch 014:    549 / 1474 loss=2.032, trans_loss=4.968, nll_loss=2.224, w2v_ctc_loss=0.759, task_loss=1.414, contrastive_loss=0.107, total=4064.87, n_correct=2628.03, ppl=4.67, accuracy=64.652, wps=15178.3, ups=1.87, wpb=8129.7, bsz=288.5, num_updates=19700, lr=0.000100759, gnorm=0.528, clip=0, loss_scale=16, train_wall=53, gb_free=17.5, wall=14235
2023-08-21 19:53:11 | INFO | train_inner | epoch 014:    649 / 1474 loss=2.036, trans_loss=4.969, nll_loss=2.226, w2v_ctc_loss=0.744, task_loss=1.293, contrastive_loss=0.23, total=4167.34, n_correct=2701.69, ppl=4.68, accuracy=64.83, wps=15513.6, ups=1.86, wpb=8334.7, bsz=307.8, num_updates=19800, lr=0.000100504, gnorm=0.521, clip=0, loss_scale=16, train_wall=53, gb_free=16.8, wall=14289
2023-08-21 19:54:04 | INFO | train_inner | epoch 014:    749 / 1474 loss=2.019, trans_loss=4.955, nll_loss=2.209, w2v_ctc_loss=0.747, task_loss=1.276, contrastive_loss=0.101, total=4142.94, n_correct=2696.95, ppl=4.62, accuracy=65.097, wps=15561.3, ups=1.88, wpb=8285.9, bsz=308.6, num_updates=19900, lr=0.000100251, gnorm=0.524, clip=0, loss_scale=16, train_wall=53, gb_free=16.1, wall=14342
2023-08-21 19:54:57 | INFO | train_inner | epoch 014:    849 / 1474 loss=2.044, trans_loss=4.959, nll_loss=2.215, w2v_ctc_loss=0.743, task_loss=1.243, contrastive_loss=0.326, total=4173.06, n_correct=2711.77, ppl=4.64, accuracy=64.983, wps=15606.5, ups=1.87, wpb=8346.1, bsz=319.1, num_updates=20000, lr=0.0001, gnorm=0.526, clip=0, loss_scale=16, train_wall=53, gb_free=12.3, wall=14396
2023-08-21 19:54:57 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 19:55:20 | INFO | dev_st | epoch 014 | valid on 'dev_st' subset | loss 4.03 | trans_loss 5.202 | nll_loss 2.472 | w2v_ctc_loss 1.393 | task_loss 4.565 | contrastive_loss 0.496 | total 4003.4 | n_correct 2633.2 | ppl 5.55 | accuracy 65.774 | uer 18.931 | wer 20.637 | raw_wer 20.637 | bleu 21.24 | wps 2456.7 | wpb 4003.4 | bsz 141.8 | num_updates 20000 | best_bleu 21.43
2023-08-21 19:55:20 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 14 @ 20000 updates
2023-08-21 19:55:20 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_14_20000.pt
2023-08-21 19:55:22 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_14_20000.pt
2023-08-21 19:55:27 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_14_20000.pt (epoch 14 @ 20000 updates, score 21.24) (writing took 6.796004542033188 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:0')
2023-08-21 19:56:21 | INFO | train_inner | epoch 014:    949 / 1474 loss=2.029, trans_loss=4.964, nll_loss=2.221, w2v_ctc_loss=0.739, task_loss=1.298, contrastive_loss=0.186, total=4166.71, n_correct=2700.43, ppl=4.66, accuracy=64.81, wps=9982.8, ups=1.2, wpb=8333.4, bsz=310.6, num_updates=20100, lr=9.97509e-05, gnorm=0.516, clip=0, loss_scale=16, train_wall=53, gb_free=16, wall=14479
2023-08-21 19:57:15 | INFO | train_inner | epoch 014:   1049 / 1474 loss=2.026, trans_loss=4.965, nll_loss=2.222, w2v_ctc_loss=0.741, task_loss=1.324, contrastive_loss=0.143, total=4145.57, n_correct=2695.56, ppl=4.67, accuracy=65.023, wps=15267.7, ups=1.84, wpb=8291.1, bsz=301.1, num_updates=20200, lr=9.95037e-05, gnorm=0.521, clip=0, loss_scale=16, train_wall=54, gb_free=17, wall=14534
2023-08-21 19:58:09 | INFO | train_inner | epoch 014:   1149 / 1474 loss=2.079, trans_loss=4.968, nll_loss=2.226, w2v_ctc_loss=0.748, task_loss=1.23, contrastive_loss=0.673, total=4219.9, n_correct=2735.44, ppl=4.68, accuracy=64.822, wps=15543.9, ups=1.84, wpb=8439.8, bsz=325.2, num_updates=20300, lr=9.92583e-05, gnorm=0.521, clip=0, loss_scale=16, train_wall=54, gb_free=16, wall=14588
2023-08-21 19:59:03 | INFO | train_inner | epoch 014:   1249 / 1474 loss=2.03, trans_loss=4.973, nll_loss=2.231, w2v_ctc_loss=0.758, task_loss=1.513, contrastive_loss=0.077, total=4032.06, n_correct=2609.38, ppl=4.7, accuracy=64.716, wps=15108.9, ups=1.87, wpb=8064.1, bsz=274.4, num_updates=20400, lr=9.90148e-05, gnorm=0.525, clip=0, loss_scale=16, train_wall=53, gb_free=17.3, wall=14641
2023-08-21 19:59:56 | INFO | train_inner | epoch 014:   1349 / 1474 loss=2.016, trans_loss=4.965, nll_loss=2.222, w2v_ctc_loss=0.736, task_loss=1.237, contrastive_loss=0.101, total=4205.07, n_correct=2734.35, ppl=4.67, accuracy=65.025, wps=15783.6, ups=1.88, wpb=8410.1, bsz=317.3, num_updates=20500, lr=9.8773e-05, gnorm=0.517, clip=0, loss_scale=16, train_wall=53, gb_free=16.2, wall=14695
2023-08-21 20:00:50 | INFO | train_inner | epoch 014:   1449 / 1474 loss=2.031, trans_loss=4.969, nll_loss=2.228, w2v_ctc_loss=0.741, task_loss=1.301, contrastive_loss=0.177, total=4126.44, n_correct=2676.79, ppl=4.68, accuracy=64.869, wps=15466.7, ups=1.87, wpb=8252.9, bsz=303.9, num_updates=20600, lr=9.85329e-05, gnorm=0.518, clip=0, loss_scale=16, train_wall=53, gb_free=15.8, wall=14748
2023-08-21 20:01:03 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:2')
2023-08-21 20:01:27 | INFO | dev_st | epoch 014 | valid on 'dev_st' subset | loss 4.018 | trans_loss 5.193 | nll_loss 2.462 | w2v_ctc_loss 1.375 | task_loss 4.578 | contrastive_loss 0.489 | total 4003.4 | n_correct 2639.5 | ppl 5.51 | accuracy 65.931 | uer 19.101 | wer 21.039 | raw_wer 21.039 | bleu 21.14 | wps 2310.8 | wpb 4003.4 | bsz 141.8 | num_updates 20625 | best_bleu 21.43
2023-08-21 20:01:27 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 14 @ 20625 updates
2023-08-21 20:01:27 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.1401.pt
2023-08-21 20:01:29 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.1401.pt
2023-08-21 20:01:33 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_21.1401.pt (epoch 14 @ 20625 updates, score 21.14) (writing took 5.746803226065822 seconds)
2023-08-21 20:01:33 | INFO | fairseq_cli.train | end of epoch 14 (average epoch stats below)
2023-08-21 20:01:33 | INFO | train | epoch 014 | loss 2.031 | trans_loss 4.964 | nll_loss 2.22 | w2v_ctc_loss 0.743 | task_loss 1.303 | contrastive_loss 0.196 | total 4138.65 | n_correct 2687.32 | ppl 4.66 | accuracy 64.932 | wps 14254.2 | ups 1.72 | wpb 8277.3 | bsz 305.7 | num_updates 20625 | lr 9.84732e-05 | gnorm 0.522 | clip 0 | loss_scale 16 | train_wall 783 | gb_free 15.9 | wall 14791
2023-08-21 20:01:33 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 20:01:33 | INFO | fairseq.trainer | begin training epoch 15
2023-08-21 20:01:33 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 20:02:20 | INFO | train_inner | epoch 015:     75 / 1474 loss=2.027, trans_loss=4.951, nll_loss=2.204, w2v_ctc_loss=0.73, task_loss=1.31, contrastive_loss=0.278, total=4090.99, n_correct=2670.5, ppl=4.61, accuracy=65.278, wps=9055.7, ups=1.11, wpb=8182, bsz=300.8, num_updates=20700, lr=9.82946e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=53, gb_free=16.5, wall=14838
2023-08-21 20:03:13 | INFO | train_inner | epoch 015:    175 / 1474 loss=2.007, trans_loss=4.941, nll_loss=2.191, w2v_ctc_loss=0.734, task_loss=1.353, contrastive_loss=0.096, total=4115.56, n_correct=2693.52, ppl=4.57, accuracy=65.447, wps=15353, ups=1.87, wpb=8231.1, bsz=298.5, num_updates=20800, lr=9.80581e-05, gnorm=0.518, clip=0, loss_scale=16, train_wall=53, gb_free=16.4, wall=14892
2023-08-21 20:04:07 | INFO | train_inner | epoch 015:    275 / 1474 loss=2.003, trans_loss=4.944, nll_loss=2.194, w2v_ctc_loss=0.725, task_loss=1.268, contrastive_loss=0.084, total=4182.19, n_correct=2739.99, ppl=4.57, accuracy=65.516, wps=15670.7, ups=1.87, wpb=8364.4, bsz=310.5, num_updates=20900, lr=9.78232e-05, gnorm=0.516, clip=0, loss_scale=16, train_wall=53, gb_free=16, wall=14945
2023-08-21 20:05:00 | INFO | train_inner | epoch 015:    375 / 1474 loss=2.006, trans_loss=4.936, nll_loss=2.184, w2v_ctc_loss=0.724, task_loss=1.303, contrastive_loss=0.121, total=4172.52, n_correct=2731.24, ppl=4.54, accuracy=65.458, wps=15603.3, ups=1.87, wpb=8345, bsz=307.7, num_updates=21000, lr=9.759e-05, gnorm=0.527, clip=0, loss_scale=16, train_wall=53, gb_free=16.2, wall=14999
2023-08-21 20:05:54 | INFO | train_inner | epoch 015:    475 / 1474 loss=2.026, trans_loss=4.941, nll_loss=2.19, w2v_ctc_loss=0.722, task_loss=1.368, contrastive_loss=0.308, total=4076.84, n_correct=2664.77, ppl=4.56, accuracy=65.364, wps=15144.1, ups=1.86, wpb=8153.7, bsz=293.4, num_updates=21100, lr=9.73585e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=53, gb_free=16.3, wall=15053
2023-08-21 20:06:48 | INFO | train_inner | epoch 015:    575 / 1474 loss=2.014, trans_loss=4.944, nll_loss=2.194, w2v_ctc_loss=0.737, task_loss=1.33, contrastive_loss=0.129, total=4156.05, n_correct=2714.63, ppl=4.58, accuracy=65.318, wps=15523.4, ups=1.87, wpb=8312.1, bsz=302.8, num_updates=21200, lr=9.71286e-05, gnorm=0.525, clip=0, loss_scale=16, train_wall=53, gb_free=11.2, wall=15106
2023-08-21 20:07:41 | INFO | train_inner | epoch 015:    675 / 1474 loss=2.019, trans_loss=4.937, nll_loss=2.186, w2v_ctc_loss=0.732, task_loss=1.332, contrastive_loss=0.204, total=4118.87, n_correct=2693.91, ppl=4.55, accuracy=65.404, wps=15328.3, ups=1.86, wpb=8237.7, bsz=303, num_updates=21300, lr=9.69003e-05, gnorm=0.526, clip=0, loss_scale=32, train_wall=53, gb_free=16.5, wall=15160
2023-08-21 20:08:35 | INFO | train_inner | epoch 015:    775 / 1474 loss=2.01, trans_loss=4.945, nll_loss=2.197, w2v_ctc_loss=0.737, task_loss=1.311, contrastive_loss=0.099, total=4176.64, n_correct=2728.12, ppl=4.58, accuracy=65.319, wps=15503.3, ups=1.86, wpb=8353.3, bsz=305.3, num_updates=21400, lr=9.66736e-05, gnorm=0.516, clip=0, loss_scale=32, train_wall=53, gb_free=13.6, wall=15214
2023-08-21 20:09:28 | INFO | train_inner | epoch 015:    875 / 1474 loss=2.012, trans_loss=4.95, nll_loss=2.203, w2v_ctc_loss=0.737, task_loss=1.409, contrastive_loss=0.091, total=4056.99, n_correct=2645.55, ppl=4.6, accuracy=65.21, wps=15325.7, ups=1.89, wpb=8114, bsz=288, num_updates=21500, lr=9.64486e-05, gnorm=0.526, clip=0, loss_scale=32, train_wall=52, gb_free=17, wall=15267
2023-08-21 20:10:21 | INFO | train_inner | epoch 015:    975 / 1474 loss=2.019, trans_loss=4.943, nll_loss=2.194, w2v_ctc_loss=0.728, task_loss=1.295, contrastive_loss=0.254, total=4134.44, n_correct=2706.33, ppl=4.58, accuracy=65.458, wps=15572.5, ups=1.88, wpb=8268.9, bsz=304.8, num_updates=21600, lr=9.6225e-05, gnorm=0.523, clip=0, loss_scale=32, train_wall=53, gb_free=15.6, wall=15320
2023-08-21 20:11:16 | INFO | train_inner | epoch 015:   1075 / 1474 loss=2.057, trans_loss=4.955, nll_loss=2.21, w2v_ctc_loss=0.734, task_loss=1.223, contrastive_loss=0.562, total=4185.02, n_correct=2726.25, ppl=4.63, accuracy=65.143, wps=15339.9, ups=1.83, wpb=8370, bsz=324.2, num_updates=21700, lr=9.60031e-05, gnorm=0.529, clip=0, loss_scale=32, train_wall=54, gb_free=16.3, wall=15374
2023-08-21 20:12:09 | INFO | train_inner | epoch 015:   1175 / 1474 loss=2.006, trans_loss=4.941, nll_loss=2.192, w2v_ctc_loss=0.715, task_loss=1.159, contrastive_loss=0.183, total=4187.68, n_correct=2745.46, ppl=4.57, accuracy=65.56, wps=15753.5, ups=1.88, wpb=8375.4, bsz=329.7, num_updates=21800, lr=9.57826e-05, gnorm=0.527, clip=0, loss_scale=32, train_wall=53, gb_free=16.3, wall=15428
2023-08-21 20:13:03 | INFO | train_inner | epoch 015:   1275 / 1474 loss=2.014, trans_loss=4.944, nll_loss=2.195, w2v_ctc_loss=0.746, task_loss=1.344, contrastive_loss=0.095, total=4141.6, n_correct=2702.05, ppl=4.58, accuracy=65.242, wps=15404.5, ups=1.86, wpb=8283.2, bsz=301.1, num_updates=21900, lr=9.55637e-05, gnorm=0.529, clip=0, loss_scale=32, train_wall=53, gb_free=12.9, wall=15481
2023-08-21 20:13:56 | INFO | train_inner | epoch 015:   1375 / 1474 loss=2.006, trans_loss=4.943, nll_loss=2.194, w2v_ctc_loss=0.734, task_loss=1.348, contrastive_loss=0.077, total=4099.6, n_correct=2679.37, ppl=4.58, accuracy=65.357, wps=15371.1, ups=1.87, wpb=8199.2, bsz=293.2, num_updates=22000, lr=9.53463e-05, gnorm=0.522, clip=0, loss_scale=32, train_wall=53, gb_free=13.9, wall=15535
2023-08-21 20:13:56 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 20:14:19 | INFO | dev_st | epoch 015 | valid on 'dev_st' subset | loss 4.004 | trans_loss 5.189 | nll_loss 2.454 | w2v_ctc_loss 1.337 | task_loss 4.553 | contrastive_loss 0.492 | total 4003.4 | n_correct 2649.5 | ppl 5.48 | accuracy 66.181 | uer 18.724 | wer 20.51 | raw_wer 20.51 | bleu 21.64 | wps 2447.5 | wpb 4003.4 | bsz 141.8 | num_updates 22000 | best_bleu 21.64
2023-08-21 20:14:19 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 15 @ 22000 updates
2023-08-21 20:14:19 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_15_22000.pt
2023-08-21 20:14:21 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_15_22000.pt
2023-08-21 20:14:29 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_15_22000.pt (epoch 15 @ 22000 updates, score 21.64) (writing took 10.067389053991064 seconds)
2023-08-21 20:15:23 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 20:15:46 | INFO | dev_st | epoch 015 | valid on 'dev_st' subset | loss 4.011 | trans_loss 5.188 | nll_loss 2.457 | w2v_ctc_loss 1.358 | task_loss 4.561 | contrastive_loss 0.504 | total 4003.4 | n_correct 2644.5 | ppl 5.49 | accuracy 66.056 | uer 18.626 | wer 20.439 | raw_wer 20.439 | bleu 21.7 | wps 2457.8 | wpb 4003.4 | bsz 141.8 | num_updates 22099 | best_bleu 21.7
2023-08-21 20:15:46 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 15 @ 22099 updates
2023-08-21 20:15:46 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 20:15:51 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 20:15:55 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 15 @ 22099 updates, score 21.7) (writing took 9.070585691952147 seconds)
2023-08-21 20:15:55 | INFO | fairseq_cli.train | end of epoch 15 (average epoch stats below)
2023-08-21 20:15:55 | INFO | train | epoch 015 | loss 2.016 | trans_loss 4.944 | nll_loss 2.195 | w2v_ctc_loss 0.731 | task_loss 1.303 | contrastive_loss 0.191 | total 4138.65 | n_correct 2705.24 | ppl 4.58 | accuracy 65.365 | wps 14143.6 | ups 1.71 | wpb 8277.3 | bsz 305.7 | num_updates 22099 | lr 9.51325e-05 | gnorm 0.523 | clip 0 | loss_scale 32 | train_wall 783 | gb_free 16.6 | wall 15654
2023-08-21 20:15:56 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 20:15:56 | INFO | fairseq.trainer | begin training epoch 16
2023-08-21 20:15:56 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 20:16:03 | INFO | train_inner | epoch 016:      1 / 1474 loss=2.024, trans_loss=4.951, nll_loss=2.205, w2v_ctc_loss=0.73, task_loss=1.249, contrastive_loss=0.234, total=4149.9, n_correct=2706.49, ppl=4.61, accuracy=65.218, wps=6552.7, ups=0.79, wpb=8299.8, bsz=316.3, num_updates=22100, lr=9.51303e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=54, gb_free=17.1, wall=15661
2023-08-21 20:16:56 | INFO | train_inner | epoch 016:    101 / 1474 loss=1.995, trans_loss=4.925, nll_loss=2.171, w2v_ctc_loss=0.717, task_loss=1.251, contrastive_loss=0.122, total=4118.73, n_correct=2711.23, ppl=4.5, accuracy=65.827, wps=15578.2, ups=1.89, wpb=8237.5, bsz=314, num_updates=22200, lr=9.49158e-05, gnorm=0.526, clip=0, loss_scale=32, train_wall=52, gb_free=15.9, wall=15714
2023-08-21 20:17:49 | INFO | train_inner | epoch 016:    201 / 1474 loss=1.987, trans_loss=4.916, nll_loss=2.159, w2v_ctc_loss=0.71, task_loss=1.341, contrastive_loss=0.084, total=4106.45, n_correct=2708.33, ppl=4.47, accuracy=65.953, wps=15396.9, ups=1.87, wpb=8212.9, bsz=297.4, num_updates=22300, lr=9.47027e-05, gnorm=0.516, clip=0, loss_scale=32, train_wall=53, gb_free=16.1, wall=15768
2023-08-21 20:18:43 | INFO | train_inner | epoch 016:    301 / 1474 loss=2.01, trans_loss=4.927, nll_loss=2.174, w2v_ctc_loss=0.723, task_loss=1.291, contrastive_loss=0.222, total=4169.65, n_correct=2739.2, ppl=4.51, accuracy=65.694, wps=15530.7, ups=1.86, wpb=8339.3, bsz=309.9, num_updates=22400, lr=9.44911e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=53, gb_free=10.3, wall=15821
2023-08-21 20:19:36 | INFO | train_inner | epoch 016:    401 / 1474 loss=2.011, trans_loss=4.922, nll_loss=2.166, w2v_ctc_loss=0.726, task_loss=1.395, contrastive_loss=0.251, total=4063.79, n_correct=2670.87, ppl=4.49, accuracy=65.724, wps=15309.2, ups=1.88, wpb=8127.6, bsz=286.5, num_updates=22500, lr=9.42809e-05, gnorm=0.528, clip=0, loss_scale=32, train_wall=53, gb_free=12.1, wall=15874
2023-08-21 20:20:30 | INFO | train_inner | epoch 016:    501 / 1474 loss=1.998, trans_loss=4.927, nll_loss=2.173, w2v_ctc_loss=0.719, task_loss=1.249, contrastive_loss=0.137, total=4179.53, n_correct=2752.49, ppl=4.51, accuracy=65.856, wps=15388.2, ups=1.84, wpb=8359.1, bsz=319.5, num_updates=22600, lr=9.40721e-05, gnorm=0.52, clip=0, loss_scale=32, train_wall=54, gb_free=17.5, wall=15929
2023-08-21 20:21:23 | INFO | train_inner | epoch 016:    601 / 1474 loss=1.998, trans_loss=4.931, nll_loss=2.177, w2v_ctc_loss=0.727, task_loss=1.312, contrastive_loss=0.078, total=4121.37, n_correct=2706.8, ppl=4.52, accuracy=65.677, wps=15633.1, ups=1.9, wpb=8242.7, bsz=297.5, num_updates=22700, lr=9.38647e-05, gnorm=0.52, clip=0, loss_scale=32, train_wall=52, gb_free=17.5, wall=15981
2023-08-21 20:22:16 | INFO | train_inner | epoch 016:    701 / 1474 loss=1.996, trans_loss=4.927, nll_loss=2.173, w2v_ctc_loss=0.728, task_loss=1.336, contrastive_loss=0.079, total=4099.17, n_correct=2695.29, ppl=4.51, accuracy=65.752, wps=15495.9, ups=1.89, wpb=8198.3, bsz=297.5, num_updates=22800, lr=9.36586e-05, gnorm=0.515, clip=0, loss_scale=32, train_wall=52, gb_free=16.4, wall=16034
2023-08-21 20:23:10 | INFO | train_inner | epoch 016:    801 / 1474 loss=2.001, trans_loss=4.923, nll_loss=2.167, w2v_ctc_loss=0.71, task_loss=1.244, contrastive_loss=0.195, total=4184.53, n_correct=2756.29, ppl=4.49, accuracy=65.869, wps=15619.5, ups=1.87, wpb=8369.1, bsz=313, num_updates=22900, lr=9.34539e-05, gnorm=0.514, clip=0, loss_scale=32, train_wall=53, gb_free=13, wall=16088
2023-08-21 20:24:03 | INFO | train_inner | epoch 016:    901 / 1474 loss=2.003, trans_loss=4.926, nll_loss=2.172, w2v_ctc_loss=0.718, task_loss=1.278, contrastive_loss=0.179, total=4151.84, n_correct=2727.52, ppl=4.51, accuracy=65.694, wps=15523.4, ups=1.87, wpb=8303.7, bsz=307, num_updates=23000, lr=9.32505e-05, gnorm=0.524, clip=0, loss_scale=32, train_wall=53, gb_free=16.5, wall=16141
2023-08-21 20:24:57 | INFO | train_inner | epoch 016:   1001 / 1474 loss=2.013, trans_loss=4.934, nll_loss=2.182, w2v_ctc_loss=0.736, task_loss=1.35, contrastive_loss=0.175, total=4112.79, n_correct=2692.43, ppl=4.54, accuracy=65.465, wps=15367.5, ups=1.87, wpb=8225.6, bsz=299.5, num_updates=23100, lr=9.30484e-05, gnorm=0.523, clip=0, loss_scale=32, train_wall=53, gb_free=14.4, wall=16195
2023-08-21 20:25:50 | INFO | train_inner | epoch 016:   1101 / 1474 loss=2.008, trans_loss=4.936, nll_loss=2.186, w2v_ctc_loss=0.73, task_loss=1.386, contrastive_loss=0.126, total=4111.6, n_correct=2692.57, ppl=4.55, accuracy=65.487, wps=15255.2, ups=1.86, wpb=8223.2, bsz=295.6, num_updates=23200, lr=9.28477e-05, gnorm=0.519, clip=0, loss_scale=32, train_wall=54, gb_free=14.3, wall=16249
2023-08-21 20:26:10 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-21 20:26:45 | INFO | train_inner | epoch 016:   1202 / 1474 loss=1.994, trans_loss=4.931, nll_loss=2.179, w2v_ctc_loss=0.715, task_loss=1.362, contrastive_loss=0.092, total=4137.51, n_correct=2717.39, ppl=4.53, accuracy=65.677, wps=15126, ups=1.83, wpb=8275, bsz=299.7, num_updates=23300, lr=9.26482e-05, gnorm=0.513, clip=0, loss_scale=16, train_wall=54, gb_free=15.1, wall=16304
2023-08-21 20:27:39 | INFO | train_inner | epoch 016:   1302 / 1474 loss=2.017, trans_loss=4.93, nll_loss=2.177, w2v_ctc_loss=0.73, task_loss=1.282, contrastive_loss=0.276, total=4149.14, n_correct=2723.8, ppl=4.52, accuracy=65.647, wps=15476.2, ups=1.86, wpb=8298.3, bsz=311.9, num_updates=23400, lr=9.245e-05, gnorm=0.524, clip=0, loss_scale=16, train_wall=53, gb_free=10.9, wall=16357
2023-08-21 20:28:33 | INFO | train_inner | epoch 016:   1402 / 1474 loss=1.999, trans_loss=4.929, nll_loss=2.176, w2v_ctc_loss=0.723, task_loss=1.237, contrastive_loss=0.129, total=4200.01, n_correct=2762.91, ppl=4.52, accuracy=65.783, wps=15607.7, ups=1.86, wpb=8400, bsz=322.2, num_updates=23500, lr=9.22531e-05, gnorm=0.514, clip=0, loss_scale=16, train_wall=53, gb_free=16.5, wall=16411
2023-08-21 20:29:11 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 20:29:34 | INFO | dev_st | epoch 016 | valid on 'dev_st' subset | loss 4.011 | trans_loss 5.183 | nll_loss 2.447 | w2v_ctc_loss 1.367 | task_loss 4.581 | contrastive_loss 0.499 | total 4003.4 | n_correct 2649.6 | ppl 5.45 | accuracy 66.184 | uer 18.854 | wer 20.555 | raw_wer 20.555 | bleu 21.76 | wps 2445.3 | wpb 4003.4 | bsz 141.8 | num_updates 23572 | best_bleu 21.76
2023-08-21 20:29:34 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 16 @ 23572 updates
2023-08-21 20:29:34 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 20:29:38 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 20:29:43 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 16 @ 23572 updates, score 21.76) (writing took 8.829380949959159 seconds)
2023-08-21 20:29:43 | INFO | fairseq_cli.train | end of epoch 16 (average epoch stats below)
2023-08-21 20:29:43 | INFO | train | epoch 016 | loss 2.003 | trans_loss 4.927 | nll_loss 2.173 | w2v_ctc_loss 0.722 | task_loss 1.307 | contrastive_loss 0.172 | total 4137.02 | n_correct 2719.08 | ppl 4.51 | accuracy 65.726 | wps 14724.4 | ups 1.78 | wpb 8274 | bsz 305.1 | num_updates 23572 | lr 9.21121e-05 | gnorm 0.52 | clip 0 | loss_scale 16 | train_wall 783 | gb_free 15.1 | wall 16481
2023-08-21 20:29:43 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 20:29:43 | INFO | fairseq.trainer | begin training epoch 17
2023-08-21 20:29:43 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 20:30:05 | INFO | train_inner | epoch 017:     28 / 1474 loss=2.014, trans_loss=4.914, nll_loss=2.157, w2v_ctc_loss=0.709, task_loss=1.34, contrastive_loss=0.415, total=4141.79, n_correct=2731.4, ppl=4.46, accuracy=65.947, wps=8923.1, ups=1.08, wpb=8283.6, bsz=301.5, num_updates=23600, lr=9.20575e-05, gnorm=0.523, clip=0, loss_scale=16, train_wall=53, gb_free=15.7, wall=16504
2023-08-21 20:30:59 | INFO | train_inner | epoch 017:    128 / 1474 loss=1.982, trans_loss=4.903, nll_loss=2.141, w2v_ctc_loss=0.712, task_loss=1.349, contrastive_loss=0.083, total=4110.88, n_correct=2719.02, ppl=4.41, accuracy=66.142, wps=15401.9, ups=1.87, wpb=8221.8, bsz=295.4, num_updates=23700, lr=9.1863e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=53, gb_free=16, wall=16557
2023-08-21 20:31:52 | INFO | train_inner | epoch 017:    228 / 1474 loss=2.015, trans_loss=4.905, nll_loss=2.145, w2v_ctc_loss=0.706, task_loss=1.223, contrastive_loss=0.403, total=4171.95, n_correct=2757.52, ppl=4.42, accuracy=66.097, wps=15576.8, ups=1.87, wpb=8343.9, bsz=320.4, num_updates=23800, lr=9.16698e-05, gnorm=0.522, clip=0, loss_scale=16, train_wall=53, gb_free=15.5, wall=16611
2023-08-21 20:32:45 | INFO | train_inner | epoch 017:    328 / 1474 loss=2.012, trans_loss=4.91, nll_loss=2.15, w2v_ctc_loss=0.706, task_loss=1.301, contrastive_loss=0.425, total=4157.94, n_correct=2745.81, ppl=4.44, accuracy=66.038, wps=15670.4, ups=1.88, wpb=8315.9, bsz=305, num_updates=23900, lr=9.14779e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=53, gb_free=14, wall=16664
2023-08-21 20:33:39 | INFO | train_inner | epoch 017:    428 / 1474 loss=1.983, trans_loss=4.908, nll_loss=2.149, w2v_ctc_loss=0.712, task_loss=1.3, contrastive_loss=0.083, total=4141.8, n_correct=2742.84, ppl=4.44, accuracy=66.223, wps=15345.2, ups=1.85, wpb=8283.6, bsz=306.7, num_updates=24000, lr=9.12871e-05, gnorm=0.517, clip=0, loss_scale=16, train_wall=54, gb_free=16.9, wall=16718
2023-08-21 20:33:39 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 20:34:02 | INFO | dev_st | epoch 017 | valid on 'dev_st' subset | loss 4.007 | trans_loss 5.18 | nll_loss 2.443 | w2v_ctc_loss 1.375 | task_loss 4.563 | contrastive_loss 0.478 | total 4003.4 | n_correct 2650.5 | ppl 5.44 | accuracy 66.206 | uer 18.568 | wer 20.193 | raw_wer 20.193 | bleu 21.71 | wps 2487.4 | wpb 4003.4 | bsz 141.8 | num_updates 24000 | best_bleu 21.76
2023-08-21 20:34:02 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 17 @ 24000 updates
2023-08-21 20:34:02 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_17_24000.pt
2023-08-21 20:34:04 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_17_24000.pt
2023-08-21 20:34:09 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_17_24000.pt (epoch 17 @ 24000 updates, score 21.71) (writing took 6.750649441964924 seconds)
2023-08-21 20:35:04 | INFO | train_inner | epoch 017:    528 / 1474 loss=1.993, trans_loss=4.913, nll_loss=2.155, w2v_ctc_loss=0.711, task_loss=1.36, contrastive_loss=0.162, total=4180.09, n_correct=2759.66, ppl=4.45, accuracy=66.019, wps=9943.8, ups=1.19, wpb=8360.2, bsz=307.5, num_updates=24100, lr=9.10975e-05, gnorm=0.515, clip=0, loss_scale=16, train_wall=54, gb_free=16.8, wall=16802
2023-08-21 20:35:57 | INFO | train_inner | epoch 017:    628 / 1474 loss=1.982, trans_loss=4.912, nll_loss=2.154, w2v_ctc_loss=0.709, task_loss=1.312, contrastive_loss=0.074, total=4166.6, n_correct=2756.05, ppl=4.45, accuracy=66.146, wps=15608.2, ups=1.87, wpb=8333.2, bsz=302.3, num_updates=24200, lr=9.09091e-05, gnorm=0.508, clip=0, loss_scale=16, train_wall=53, gb_free=15.3, wall=16855
2023-08-21 20:36:50 | INFO | train_inner | epoch 017:    728 / 1474 loss=2.001, trans_loss=4.916, nll_loss=2.158, w2v_ctc_loss=0.728, task_loss=1.29, contrastive_loss=0.154, total=4168.97, n_correct=2749.24, ppl=4.46, accuracy=65.945, wps=15663.2, ups=1.88, wpb=8337.9, bsz=308.4, num_updates=24300, lr=9.07218e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=53, gb_free=16.6, wall=16908
2023-08-21 20:37:43 | INFO | train_inner | epoch 017:    828 / 1474 loss=1.986, trans_loss=4.912, nll_loss=2.153, w2v_ctc_loss=0.713, task_loss=1.312, contrastive_loss=0.097, total=4097.38, n_correct=2709.58, ppl=4.45, accuracy=66.13, wps=15476.3, ups=1.89, wpb=8194.8, bsz=297.3, num_updates=24400, lr=9.05357e-05, gnorm=0.515, clip=0, loss_scale=16, train_wall=53, gb_free=10, wall=16961
2023-08-21 20:38:36 | INFO | train_inner | epoch 017:    928 / 1474 loss=1.983, trans_loss=4.911, nll_loss=2.153, w2v_ctc_loss=0.709, task_loss=1.29, contrastive_loss=0.092, total=4105.01, n_correct=2713.59, ppl=4.45, accuracy=66.104, wps=15604.9, ups=1.9, wpb=8210, bsz=304.1, num_updates=24500, lr=9.03508e-05, gnorm=0.521, clip=0, loss_scale=16, train_wall=52, gb_free=16.3, wall=17014
2023-08-21 20:39:29 | INFO | train_inner | epoch 017:   1028 / 1474 loss=1.987, trans_loss=4.911, nll_loss=2.154, w2v_ctc_loss=0.716, task_loss=1.304, contrastive_loss=0.097, total=4105.88, n_correct=2711.61, ppl=4.45, accuracy=66.042, wps=15345.1, ups=1.87, wpb=8211.8, bsz=303.4, num_updates=24600, lr=9.0167e-05, gnorm=0.517, clip=0, loss_scale=16, train_wall=53, gb_free=15.6, wall=17068
2023-08-21 20:40:22 | INFO | train_inner | epoch 017:   1128 / 1474 loss=1.981, trans_loss=4.909, nll_loss=2.149, w2v_ctc_loss=0.706, task_loss=1.334, contrastive_loss=0.085, total=4095.58, n_correct=2710.49, ppl=4.44, accuracy=66.181, wps=15530.7, ups=1.9, wpb=8191.2, bsz=298.5, num_updates=24700, lr=8.99843e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=52, gb_free=14.8, wall=17120
2023-08-21 20:41:17 | INFO | train_inner | epoch 017:   1228 / 1474 loss=2.032, trans_loss=4.921, nll_loss=2.165, w2v_ctc_loss=0.707, task_loss=1.282, contrastive_loss=0.537, total=4162.14, n_correct=2738.12, ppl=4.49, accuracy=65.786, wps=15267, ups=1.83, wpb=8324.3, bsz=320.2, num_updates=24800, lr=8.98027e-05, gnorm=0.529, clip=0, loss_scale=16, train_wall=54, gb_free=15.6, wall=17175
2023-08-21 20:42:10 | INFO | train_inner | epoch 017:   1328 / 1474 loss=1.998, trans_loss=4.914, nll_loss=2.157, w2v_ctc_loss=0.701, task_loss=1.3, contrastive_loss=0.232, total=4149.03, n_correct=2739.38, ppl=4.46, accuracy=66.025, wps=15573.4, ups=1.88, wpb=8298.1, bsz=306.7, num_updates=24900, lr=8.96221e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=53, gb_free=16.5, wall=17228
2023-08-21 20:43:03 | INFO | train_inner | epoch 017:   1428 / 1474 loss=1.983, trans_loss=4.914, nll_loss=2.157, w2v_ctc_loss=0.709, task_loss=1.308, contrastive_loss=0.083, total=4117.13, n_correct=2720.46, ppl=4.46, accuracy=66.077, wps=15374.1, ups=1.87, wpb=8234.3, bsz=303.7, num_updates=25000, lr=8.94427e-05, gnorm=0.522, clip=0, loss_scale=16, train_wall=53, gb_free=17.1, wall=17282
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:0')
2023-08-21 20:43:28 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:3')
2023-08-21 20:43:52 | INFO | dev_st | epoch 017 | valid on 'dev_st' subset | loss 3.994 | trans_loss 5.177 | nll_loss 2.441 | w2v_ctc_loss 1.331 | task_loss 4.547 | contrastive_loss 0.494 | total 4003.4 | n_correct 2647.4 | ppl 5.43 | accuracy 66.129 | uer 18.31 | wer 20.055 | raw_wer 20.055 | bleu 21.89 | wps 2348.5 | wpb 4003.4 | bsz 141.8 | num_updates 25046 | best_bleu 21.89
2023-08-21 20:43:52 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 17 @ 25046 updates
2023-08-21 20:43:52 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 20:43:56 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 20:44:01 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 17 @ 25046 updates, score 21.89) (writing took 9.004876404069364 seconds)
2023-08-21 20:44:01 | INFO | fairseq_cli.train | end of epoch 17 (average epoch stats below)
2023-08-21 20:44:01 | INFO | train | epoch 017 | loss 1.994 | trans_loss 4.911 | nll_loss 2.152 | w2v_ctc_loss 0.711 | task_loss 1.305 | contrastive_loss 0.184 | total 4138.65 | n_correct 2734.77 | ppl 4.45 | accuracy 66.079 | wps 14223 | ups 1.72 | wpb 8277.3 | bsz 305.7 | num_updates 25046 | lr 8.93605e-05 | gnorm 0.518 | clip 0 | loss_scale 16 | train_wall 781 | gb_free 16 | wall 17339
2023-08-21 20:44:01 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 20:44:01 | INFO | fairseq.trainer | begin training epoch 18
2023-08-21 20:44:01 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 20:44:38 | INFO | train_inner | epoch 018:     54 / 1474 loss=1.98, trans_loss=4.902, nll_loss=2.141, w2v_ctc_loss=0.709, task_loss=1.331, contrastive_loss=0.098, total=4138.21, n_correct=2744.58, ppl=4.41, accuracy=66.323, wps=8774.6, ups=1.06, wpb=8276.4, bsz=303.2, num_updates=25100, lr=8.92644e-05, gnorm=0.515, clip=0, loss_scale=16, train_wall=54, gb_free=17.4, wall=17376
2023-08-21 20:45:32 | INFO | train_inner | epoch 018:    154 / 1474 loss=1.99, trans_loss=4.884, nll_loss=2.117, w2v_ctc_loss=0.683, task_loss=1.238, contrastive_loss=0.334, total=4158.88, n_correct=2769.79, ppl=4.34, accuracy=66.599, wps=15435.1, ups=1.86, wpb=8317.8, bsz=314, num_updates=25200, lr=8.90871e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=53, gb_free=16.4, wall=17430
2023-08-21 20:46:25 | INFO | train_inner | epoch 018:    254 / 1474 loss=1.966, trans_loss=4.886, nll_loss=2.12, w2v_ctc_loss=0.696, task_loss=1.264, contrastive_loss=0.082, total=4164.11, n_correct=2773.3, ppl=4.35, accuracy=66.6, wps=15561.8, ups=1.87, wpb=8328.2, bsz=312.5, num_updates=25300, lr=8.89108e-05, gnorm=0.512, clip=0, loss_scale=32, train_wall=53, gb_free=14.5, wall=17483
2023-08-21 20:47:19 | INFO | train_inner | epoch 018:    354 / 1474 loss=1.972, trans_loss=4.892, nll_loss=2.128, w2v_ctc_loss=0.692, task_loss=1.32, contrastive_loss=0.106, total=4163.13, n_correct=2767.79, ppl=4.37, accuracy=66.483, wps=15493.8, ups=1.86, wpb=8326.3, bsz=301.5, num_updates=25400, lr=8.87357e-05, gnorm=0.516, clip=0, loss_scale=32, train_wall=53, gb_free=17.3, wall=17537
2023-08-21 20:48:13 | INFO | train_inner | epoch 018:    454 / 1474 loss=1.996, trans_loss=4.9, nll_loss=2.137, w2v_ctc_loss=0.7, task_loss=1.395, contrastive_loss=0.292, total=4087.83, n_correct=2710.72, ppl=4.4, accuracy=66.312, wps=15068.5, ups=1.84, wpb=8175.7, bsz=295.3, num_updates=25500, lr=8.85615e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=54, gb_free=15.9, wall=17591
2023-08-21 20:49:07 | INFO | train_inner | epoch 018:    554 / 1474 loss=1.963, trans_loss=4.882, nll_loss=2.116, w2v_ctc_loss=0.686, task_loss=1.173, contrastive_loss=0.105, total=4204.41, n_correct=2806.95, ppl=4.33, accuracy=66.762, wps=15668.5, ups=1.86, wpb=8408.8, bsz=328, num_updates=25600, lr=8.83883e-05, gnorm=0.511, clip=0, loss_scale=32, train_wall=53, gb_free=17.1, wall=17645
2023-08-21 20:50:01 | INFO | train_inner | epoch 018:    654 / 1474 loss=1.997, trans_loss=4.905, nll_loss=2.145, w2v_ctc_loss=0.713, task_loss=1.347, contrastive_loss=0.241, total=4096.81, n_correct=2713, ppl=4.42, accuracy=66.222, wps=15236.3, ups=1.86, wpb=8193.6, bsz=298.9, num_updates=25700, lr=8.82162e-05, gnorm=0.527, clip=0, loss_scale=32, train_wall=53, gb_free=16.3, wall=17699
2023-08-21 20:50:54 | INFO | train_inner | epoch 018:    754 / 1474 loss=2.007, trans_loss=4.901, nll_loss=2.14, w2v_ctc_loss=0.707, task_loss=1.241, contrastive_loss=0.418, total=4208.29, n_correct=2792.04, ppl=4.41, accuracy=66.346, wps=15608.4, ups=1.85, wpb=8416.6, bsz=322.8, num_updates=25800, lr=8.80451e-05, gnorm=0.516, clip=0, loss_scale=32, train_wall=54, gb_free=17.5, wall=17753
2023-08-21 20:51:48 | INFO | train_inner | epoch 018:    854 / 1474 loss=1.973, trans_loss=4.897, nll_loss=2.134, w2v_ctc_loss=0.701, task_loss=1.323, contrastive_loss=0.071, total=4166.81, n_correct=2766.82, ppl=4.39, accuracy=66.401, wps=15549.6, ups=1.87, wpb=8333.6, bsz=301.9, num_updates=25900, lr=8.7875e-05, gnorm=0.514, clip=0, loss_scale=32, train_wall=53, gb_free=12.1, wall=17806
2023-08-21 20:52:41 | INFO | train_inner | epoch 018:    954 / 1474 loss=1.968, trans_loss=4.891, nll_loss=2.127, w2v_ctc_loss=0.688, task_loss=1.214, contrastive_loss=0.105, total=4142.65, n_correct=2756.59, ppl=4.37, accuracy=66.542, wps=15612.8, ups=1.88, wpb=8285.3, bsz=316.1, num_updates=26000, lr=8.77058e-05, gnorm=0.516, clip=0, loss_scale=32, train_wall=53, gb_free=14.4, wall=17859
2023-08-21 20:52:41 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 20:53:04 | INFO | dev_st | epoch 018 | valid on 'dev_st' subset | loss 4 | trans_loss 5.174 | nll_loss 2.437 | w2v_ctc_loss 1.357 | task_loss 4.555 | contrastive_loss 0.491 | total 4003.4 | n_correct 2655.9 | ppl 5.42 | accuracy 66.341 | uer 18.488 | wer 20.126 | raw_wer 20.126 | bleu 21.45 | wps 2503.3 | wpb 4003.4 | bsz 141.8 | num_updates 26000 | best_bleu 21.89
2023-08-21 20:53:04 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 18 @ 26000 updates
2023-08-21 20:53:04 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_18_26000.pt
2023-08-21 20:53:06 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_18_26000.pt
2023-08-21 20:53:10 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_18_26000.pt (epoch 18 @ 26000 updates, score 21.45) (writing took 6.712036077980883 seconds)
2023-08-21 20:54:04 | INFO | train_inner | epoch 018:   1054 / 1474 loss=1.972, trans_loss=4.895, nll_loss=2.132, w2v_ctc_loss=0.693, task_loss=1.357, contrastive_loss=0.088, total=4137.77, n_correct=2746.74, ppl=4.38, accuracy=66.382, wps=9939.7, ups=1.2, wpb=8275.5, bsz=300.5, num_updates=26100, lr=8.75376e-05, gnorm=0.515, clip=0, loss_scale=32, train_wall=53, gb_free=17, wall=17943
2023-08-21 20:54:58 | INFO | train_inner | epoch 018:   1154 / 1474 loss=1.993, trans_loss=4.888, nll_loss=2.123, w2v_ctc_loss=0.701, task_loss=1.235, contrastive_loss=0.297, total=4153.69, n_correct=2762.6, ppl=4.36, accuracy=66.51, wps=15520.7, ups=1.87, wpb=8307.4, bsz=314.9, num_updates=26200, lr=8.73704e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=53, gb_free=14.7, wall=17996
2023-08-21 20:55:51 | INFO | train_inner | epoch 018:   1254 / 1474 loss=1.978, trans_loss=4.907, nll_loss=2.147, w2v_ctc_loss=0.701, task_loss=1.402, contrastive_loss=0.079, total=4087.62, n_correct=2706.8, ppl=4.43, accuracy=66.219, wps=15428, ups=1.89, wpb=8175.2, bsz=287.1, num_updates=26300, lr=8.72041e-05, gnorm=0.52, clip=0, loss_scale=32, train_wall=53, gb_free=16.3, wall=18049
2023-08-21 20:56:44 | INFO | train_inner | epoch 018:   1354 / 1474 loss=1.991, trans_loss=4.906, nll_loss=2.147, w2v_ctc_loss=0.722, task_loss=1.391, contrastive_loss=0.121, total=4070.69, n_correct=2692.93, ppl=4.43, accuracy=66.154, wps=15349.2, ups=1.89, wpb=8141.4, bsz=291.7, num_updates=26400, lr=8.70388e-05, gnorm=0.54, clip=0, loss_scale=32, train_wall=53, gb_free=17, wall=18102
2023-08-21 20:57:38 | INFO | train_inner | epoch 018:   1454 / 1474 loss=1.981, trans_loss=4.902, nll_loss=2.141, w2v_ctc_loss=0.711, task_loss=1.377, contrastive_loss=0.095, total=4113.2, n_correct=2726.94, ppl=4.41, accuracy=66.297, wps=15250.3, ups=1.85, wpb=8226.4, bsz=297.5, num_updates=26500, lr=8.68744e-05, gnorm=0.528, clip=0, loss_scale=32, train_wall=54, gb_free=16.1, wall=18156
2023-08-21 20:57:49 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 20:58:12 | INFO | dev_st | epoch 018 | valid on 'dev_st' subset | loss 3.998 | trans_loss 5.172 | nll_loss 2.433 | w2v_ctc_loss 1.36 | task_loss 4.553 | contrastive_loss 0.487 | total 4003.4 | n_correct 2659.9 | ppl 5.4 | accuracy 66.441 | uer 18.151 | wer 19.817 | raw_wer 19.817 | bleu 22.11 | wps 2398.1 | wpb 4003.4 | bsz 141.8 | num_updates 26520 | best_bleu 22.11
2023-08-21 20:58:12 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 18 @ 26520 updates
2023-08-21 20:58:12 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 20:58:16 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 20:58:21 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 18 @ 26520 updates, score 22.11) (writing took 8.84279046591837 seconds)
2023-08-21 20:58:21 | INFO | fairseq_cli.train | end of epoch 18 (average epoch stats below)
2023-08-21 20:58:21 | INFO | train | epoch 018 | loss 1.982 | trans_loss 4.895 | nll_loss 2.133 | w2v_ctc_loss 0.699 | task_loss 1.304 | contrastive_loss 0.18 | total 4138.65 | n_correct 2748.62 | ppl 4.38 | accuracy 66.413 | wps 14185.4 | ups 1.71 | wpb 8277.3 | bsz 305.7 | num_updates 26520 | lr 8.68417e-05 | gnorm 0.52 | clip 0 | loss_scale 32 | train_wall 785 | gb_free 15.5 | wall 18199
2023-08-21 20:58:21 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 20:58:21 | INFO | fairseq.trainer | begin training epoch 19
2023-08-21 20:58:21 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 20:59:11 | INFO | train_inner | epoch 019:     80 / 1474 loss=1.975, trans_loss=4.879, nll_loss=2.111, w2v_ctc_loss=0.692, task_loss=1.308, contrastive_loss=0.197, total=4102.06, n_correct=2735.92, ppl=4.32, accuracy=66.696, wps=8798.9, ups=1.07, wpb=8204.1, bsz=296.9, num_updates=26600, lr=8.6711e-05, gnorm=0.52, clip=0, loss_scale=32, train_wall=53, gb_free=17.1, wall=18250
2023-08-21 21:00:05 | INFO | train_inner | epoch 019:    180 / 1474 loss=1.975, trans_loss=4.879, nll_loss=2.112, w2v_ctc_loss=0.7, task_loss=1.211, contrastive_loss=0.163, total=4227.7, n_correct=2820.27, ppl=4.32, accuracy=66.709, wps=15700.5, ups=1.86, wpb=8455.4, bsz=324.8, num_updates=26700, lr=8.65485e-05, gnorm=0.517, clip=0, loss_scale=32, train_wall=53, gb_free=16.6, wall=18303
2023-08-21 21:00:58 | INFO | train_inner | epoch 019:    280 / 1474 loss=1.957, trans_loss=4.87, nll_loss=2.099, w2v_ctc_loss=0.688, task_loss=1.289, contrastive_loss=0.072, total=4187.34, n_correct=2802.54, ppl=4.28, accuracy=66.929, wps=15720.7, ups=1.88, wpb=8374.7, bsz=306.4, num_updates=26800, lr=8.63868e-05, gnorm=0.509, clip=0, loss_scale=32, train_wall=53, gb_free=15.4, wall=18357
2023-08-21 21:01:52 | INFO | train_inner | epoch 019:    380 / 1474 loss=1.981, trans_loss=4.874, nll_loss=2.105, w2v_ctc_loss=0.687, task_loss=1.285, contrastive_loss=0.272, total=4170.52, n_correct=2785.71, ppl=4.3, accuracy=66.795, wps=15667.6, ups=1.88, wpb=8341, bsz=311, num_updates=26900, lr=8.62261e-05, gnorm=0.522, clip=0, loss_scale=32, train_wall=53, gb_free=15.9, wall=18410
2023-08-21 21:02:45 | INFO | train_inner | epoch 019:    480 / 1474 loss=1.97, trans_loss=4.884, nll_loss=2.117, w2v_ctc_loss=0.703, task_loss=1.335, contrastive_loss=0.093, total=4113.89, n_correct=2745.38, ppl=4.34, accuracy=66.734, wps=15452.3, ups=1.88, wpb=8227.8, bsz=301.5, num_updates=27000, lr=8.60663e-05, gnorm=0.526, clip=0, loss_scale=32, train_wall=53, gb_free=16.8, wall=18463
2023-08-21 21:03:38 | INFO | train_inner | epoch 019:    580 / 1474 loss=1.972, trans_loss=4.877, nll_loss=2.108, w2v_ctc_loss=0.687, task_loss=1.273, contrastive_loss=0.223, total=4128.58, n_correct=2758.47, ppl=4.31, accuracy=66.814, wps=15479.1, ups=1.87, wpb=8257.2, bsz=306.2, num_updates=27100, lr=8.59074e-05, gnorm=0.521, clip=0, loss_scale=32, train_wall=53, gb_free=16.3, wall=18516
2023-08-21 21:04:31 | INFO | train_inner | epoch 019:    680 / 1474 loss=1.955, trans_loss=4.881, nll_loss=2.115, w2v_ctc_loss=0.677, task_loss=1.189, contrastive_loss=0.081, total=4201.56, n_correct=2809.05, ppl=4.33, accuracy=66.857, wps=15756.6, ups=1.88, wpb=8403.1, bsz=321.5, num_updates=27200, lr=8.57493e-05, gnorm=0.511, clip=0, loss_scale=32, train_wall=53, gb_free=17.5, wall=18570
2023-08-21 21:05:25 | INFO | train_inner | epoch 019:    780 / 1474 loss=1.965, trans_loss=4.879, nll_loss=2.111, w2v_ctc_loss=0.693, task_loss=1.345, contrastive_loss=0.092, total=4124.03, n_correct=2753.33, ppl=4.32, accuracy=66.763, wps=15500.2, ups=1.88, wpb=8248.1, bsz=299, num_updates=27300, lr=8.55921e-05, gnorm=0.517, clip=0, loss_scale=32, train_wall=53, gb_free=17.1, wall=18623
2023-08-21 21:06:18 | INFO | train_inner | epoch 019:    880 / 1474 loss=1.968, trans_loss=4.887, nll_loss=2.122, w2v_ctc_loss=0.697, task_loss=1.299, contrastive_loss=0.086, total=4177.8, n_correct=2778.57, ppl=4.35, accuracy=66.508, wps=15666.6, ups=1.87, wpb=8355.6, bsz=309.6, num_updates=27400, lr=8.54358e-05, gnorm=0.517, clip=0, loss_scale=64, train_wall=53, gb_free=14.5, wall=18676
2023-08-21 21:07:09 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 32.0
2023-08-21 21:07:13 | INFO | train_inner | epoch 019:    981 / 1474 loss=1.982, trans_loss=4.891, nll_loss=2.127, w2v_ctc_loss=0.695, task_loss=1.36, contrastive_loss=0.21, total=4059.98, n_correct=2702.71, ppl=4.37, accuracy=66.57, wps=14668.6, ups=1.81, wpb=8120, bsz=296.7, num_updates=27500, lr=8.52803e-05, gnorm=0.526, clip=0, loss_scale=32, train_wall=55, gb_free=16.3, wall=18732
2023-08-21 21:08:06 | INFO | train_inner | epoch 019:   1081 / 1474 loss=1.975, trans_loss=4.891, nll_loss=2.126, w2v_ctc_loss=0.69, task_loss=1.395, contrastive_loss=0.157, total=4036.97, n_correct=2683.57, ppl=4.37, accuracy=66.475, wps=15204.1, ups=1.88, wpb=8073.9, bsz=291, num_updates=27600, lr=8.51257e-05, gnorm=0.529, clip=0, loss_scale=32, train_wall=53, gb_free=14.3, wall=18785
2023-08-21 21:09:01 | INFO | train_inner | epoch 019:   1181 / 1474 loss=1.996, trans_loss=4.89, nll_loss=2.125, w2v_ctc_loss=0.7, task_loss=1.319, contrastive_loss=0.316, total=4137.49, n_correct=2749.52, ppl=4.36, accuracy=66.454, wps=15251.1, ups=1.84, wpb=8275, bsz=307.7, num_updates=27700, lr=8.49719e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=54, gb_free=14.3, wall=18839
2023-08-21 21:09:54 | INFO | train_inner | epoch 019:   1281 / 1474 loss=1.971, trans_loss=4.889, nll_loss=2.125, w2v_ctc_loss=0.69, task_loss=1.322, contrastive_loss=0.117, total=4141.89, n_correct=2756.87, ppl=4.36, accuracy=66.561, wps=15555.4, ups=1.88, wpb=8283.8, bsz=300.1, num_updates=27800, lr=8.48189e-05, gnorm=0.515, clip=0, loss_scale=32, train_wall=53, gb_free=15.2, wall=18892
2023-08-21 21:10:47 | INFO | train_inner | epoch 019:   1381 / 1474 loss=1.968, trans_loss=4.884, nll_loss=2.118, w2v_ctc_loss=0.695, task_loss=1.33, contrastive_loss=0.093, total=4133.26, n_correct=2755.96, ppl=4.34, accuracy=66.678, wps=15549.6, ups=1.88, wpb=8266.5, bsz=301, num_updates=27900, lr=8.46668e-05, gnorm=0.519, clip=0, loss_scale=32, train_wall=53, gb_free=15.8, wall=18946
2023-08-21 21:11:37 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 21:12:01 | INFO | dev_st | epoch 019 | valid on 'dev_st' subset | loss 3.995 | trans_loss 5.169 | nll_loss 2.426 | w2v_ctc_loss 1.357 | task_loss 4.563 | contrastive_loss 0.493 | total 4003.4 | n_correct 2667.2 | ppl 5.37 | accuracy 66.623 | uer 18.39 | wer 20.07 | raw_wer 20.07 | bleu 22.43 | wps 2305.2 | wpb 4003.4 | bsz 141.8 | num_updates 27993 | best_bleu 22.43
2023-08-21 21:12:01 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 19 @ 27993 updates
2023-08-21 21:12:01 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 21:12:05 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt
2023-08-21 21:12:09 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_best.pt (epoch 19 @ 27993 updates, score 22.43) (writing took 8.78217072202824 seconds)
2023-08-21 21:12:10 | INFO | fairseq_cli.train | end of epoch 19 (average epoch stats below)
2023-08-21 21:12:10 | INFO | train | epoch 019 | loss 1.972 | trans_loss 4.882 | nll_loss 2.115 | w2v_ctc_loss 0.692 | task_loss 1.306 | contrastive_loss 0.155 | total 4136.54 | n_correct 2758.97 | ppl 4.33 | accuracy 66.698 | wps 14706 | ups 1.78 | wpb 8273.1 | bsz 304.9 | num_updates 27993 | lr 8.4526e-05 | gnorm 0.52 | clip 0 | loss_scale 32 | train_wall 782 | gb_free 17 | wall 19028
2023-08-21 21:12:10 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 21:12:10 | INFO | fairseq.trainer | begin training epoch 20
2023-08-21 21:12:10 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 21:12:21 | INFO | train_inner | epoch 020:      7 / 1474 loss=1.974, trans_loss=4.875, nll_loss=2.106, w2v_ctc_loss=0.684, task_loss=1.318, contrastive_loss=0.261, total=4119.08, n_correct=2753.73, ppl=4.31, accuracy=66.853, wps=8793.8, ups=1.07, wpb=8238.2, bsz=304.1, num_updates=28000, lr=8.45154e-05, gnorm=0.52, clip=0, loss_scale=32, train_wall=53, gb_free=15.8, wall=19039
2023-08-21 21:12:21 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 21:12:44 | INFO | dev_st | epoch 020 | valid on 'dev_st' subset | loss 3.99 | trans_loss 5.167 | nll_loss 2.424 | w2v_ctc_loss 1.344 | task_loss 4.577 | contrastive_loss 0.491 | total 4003.4 | n_correct 2668.5 | ppl 5.37 | accuracy 66.656 | uer 18.35 | wer 20.085 | raw_wer 20.085 | bleu 22.17 | wps 2384.7 | wpb 4003.4 | bsz 141.8 | num_updates 28000 | best_bleu 22.43
2023-08-21 21:12:44 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 20 @ 28000 updates
2023-08-21 21:12:44 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_20_28000.pt
2023-08-21 21:12:46 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_20_28000.pt
2023-08-21 21:12:51 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_20_28000.pt (epoch 20 @ 28000 updates, score 22.17) (writing took 6.611174587975256 seconds)
2023-08-21 21:13:45 | INFO | train_inner | epoch 020:    107 / 1474 loss=1.946, trans_loss=4.856, nll_loss=2.081, w2v_ctc_loss=0.67, task_loss=1.258, contrastive_loss=0.101, total=4195.03, n_correct=2823.96, ppl=4.23, accuracy=67.317, wps=9991.5, ups=1.19, wpb=8390.1, bsz=313.7, num_updates=28100, lr=8.43649e-05, gnorm=0.513, clip=0, loss_scale=32, train_wall=53, gb_free=14.6, wall=19123
2023-08-21 21:14:39 | INFO | train_inner | epoch 020:    207 / 1474 loss=1.965, trans_loss=4.865, nll_loss=2.093, w2v_ctc_loss=0.684, task_loss=1.353, contrastive_loss=0.211, total=4154.14, n_correct=2784.89, ppl=4.27, accuracy=67.039, wps=15340.2, ups=1.85, wpb=8308.3, bsz=301, num_updates=28200, lr=8.42152e-05, gnorm=0.518, clip=0, loss_scale=32, train_wall=54, gb_free=16.9, wall=19177
2023-08-21 21:15:33 | INFO | train_inner | epoch 020:    307 / 1474 loss=1.945, trans_loss=4.859, nll_loss=2.086, w2v_ctc_loss=0.675, task_loss=1.178, contrastive_loss=0.083, total=4188.05, n_correct=2818.35, ppl=4.25, accuracy=67.295, wps=15588.7, ups=1.86, wpb=8376.1, bsz=326.2, num_updates=28300, lr=8.40663e-05, gnorm=0.511, clip=0, loss_scale=32, train_wall=53, gb_free=15.2, wall=19231
2023-08-21 21:16:26 | INFO | train_inner | epoch 020:    407 / 1474 loss=1.949, trans_loss=4.857, nll_loss=2.082, w2v_ctc_loss=0.676, task_loss=1.32, contrastive_loss=0.082, total=4115.16, n_correct=2763.27, ppl=4.24, accuracy=67.149, wps=15417.2, ups=1.87, wpb=8230.3, bsz=297, num_updates=28400, lr=8.39181e-05, gnorm=0.518, clip=0, loss_scale=32, train_wall=53, gb_free=15.1, wall=19284
2023-08-21 21:17:20 | INFO | train_inner | epoch 020:    507 / 1474 loss=1.971, trans_loss=4.871, nll_loss=2.101, w2v_ctc_loss=0.676, task_loss=1.331, contrastive_loss=0.262, total=4108.46, n_correct=2752.76, ppl=4.29, accuracy=67.002, wps=15368.1, ups=1.87, wpb=8216.9, bsz=300.4, num_updates=28500, lr=8.37708e-05, gnorm=0.518, clip=0, loss_scale=32, train_wall=53, gb_free=16.1, wall=19338
2023-08-21 21:18:13 | INFO | train_inner | epoch 020:    607 / 1474 loss=1.977, trans_loss=4.871, nll_loss=2.1, w2v_ctc_loss=0.685, task_loss=1.369, contrastive_loss=0.256, total=4094.9, n_correct=2742.22, ppl=4.29, accuracy=66.967, wps=15315.4, ups=1.87, wpb=8189.8, bsz=296.1, num_updates=28600, lr=8.36242e-05, gnorm=0.527, clip=0, loss_scale=32, train_wall=53, gb_free=11.4, wall=19391
2023-08-21 21:19:06 | INFO | train_inner | epoch 020:    707 / 1474 loss=1.959, trans_loss=4.872, nll_loss=2.102, w2v_ctc_loss=0.692, task_loss=1.299, contrastive_loss=0.074, total=4140.23, n_correct=2770.43, ppl=4.29, accuracy=66.915, wps=15615.7, ups=1.89, wpb=8280.5, bsz=300.6, num_updates=28700, lr=8.34784e-05, gnorm=0.517, clip=0, loss_scale=32, train_wall=53, gb_free=15.7, wall=19444
2023-08-21 21:19:59 | INFO | train_inner | epoch 020:    807 / 1474 loss=1.957, trans_loss=4.872, nll_loss=2.102, w2v_ctc_loss=0.688, task_loss=1.292, contrastive_loss=0.078, total=4140.66, n_correct=2773.04, ppl=4.29, accuracy=66.971, wps=15548.5, ups=1.88, wpb=8281.3, bsz=305.6, num_updates=28800, lr=8.33333e-05, gnorm=0.516, clip=0, loss_scale=32, train_wall=53, gb_free=17.2, wall=19498
2023-08-21 21:20:54 | INFO | train_inner | epoch 020:    907 / 1474 loss=2.019, trans_loss=4.881, nll_loss=2.115, w2v_ctc_loss=0.687, task_loss=1.246, contrastive_loss=0.647, total=4157.15, n_correct=2769.44, ppl=4.33, accuracy=66.619, wps=15202.7, ups=1.83, wpb=8314.3, bsz=322.6, num_updates=28900, lr=8.3189e-05, gnorm=0.529, clip=0, loss_scale=32, train_wall=54, gb_free=17.4, wall=19552
2023-08-21 21:21:48 | INFO | train_inner | epoch 020:   1007 / 1474 loss=1.952, trans_loss=4.87, nll_loss=2.1, w2v_ctc_loss=0.674, task_loss=1.284, contrastive_loss=0.088, total=4171.86, n_correct=2794.9, ppl=4.29, accuracy=66.994, wps=15472.7, ups=1.85, wpb=8343.7, bsz=308.6, num_updates=29000, lr=8.30455e-05, gnorm=0.515, clip=0, loss_scale=32, train_wall=54, gb_free=15.2, wall=19606
2023-08-21 21:22:42 | INFO | train_inner | epoch 020:   1107 / 1474 loss=1.986, trans_loss=4.874, nll_loss=2.105, w2v_ctc_loss=0.682, task_loss=1.258, contrastive_loss=0.347, total=4162.96, n_correct=2785.04, ppl=4.3, accuracy=66.9, wps=15557.3, ups=1.87, wpb=8325.9, bsz=314.9, num_updates=29100, lr=8.29027e-05, gnorm=0.526, clip=0, loss_scale=32, train_wall=53, gb_free=16.7, wall=19660
2023-08-21 21:23:35 | INFO | train_inner | epoch 020:   1207 / 1474 loss=1.958, trans_loss=4.862, nll_loss=2.089, w2v_ctc_loss=0.695, task_loss=1.429, contrastive_loss=0.071, total=4033.74, n_correct=2700.26, ppl=4.25, accuracy=66.942, wps=15031.7, ups=1.86, wpb=8067.5, bsz=285.2, num_updates=29200, lr=8.27606e-05, gnorm=0.523, clip=0, loss_scale=32, train_wall=53, gb_free=16.9, wall=19714
2023-08-21 21:24:29 | INFO | train_inner | epoch 020:   1307 / 1474 loss=1.958, trans_loss=4.876, nll_loss=2.108, w2v_ctc_loss=0.684, task_loss=1.378, contrastive_loss=0.076, total=4124.42, n_correct=2758.14, ppl=4.31, accuracy=66.873, wps=15368.3, ups=1.86, wpb=8248.8, bsz=297, num_updates=29300, lr=8.26192e-05, gnorm=0.523, clip=0, loss_scale=32, train_wall=53, gb_free=15.4, wall=19767
2023-08-21 21:25:22 | INFO | train_inner | epoch 020:   1407 / 1474 loss=1.961, trans_loss=4.876, nll_loss=2.107, w2v_ctc_loss=0.689, task_loss=1.384, contrastive_loss=0.077, total=4114.1, n_correct=2748.83, ppl=4.31, accuracy=66.815, wps=15353.1, ups=1.87, wpb=8228.2, bsz=293.7, num_updates=29400, lr=8.24786e-05, gnorm=0.528, clip=0, loss_scale=32, train_wall=53, gb_free=14, wall=19821
2023-08-21 21:25:58 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 21:26:22 | INFO | dev_st | epoch 020 | valid on 'dev_st' subset | loss 3.976 | trans_loss 5.167 | nll_loss 2.425 | w2v_ctc_loss 1.302 | task_loss 4.548 | contrastive_loss 0.48 | total 4003.4 | n_correct 2665.1 | ppl 5.37 | accuracy 66.571 | uer 17.793 | wer 19.552 | raw_wer 19.552 | bleu 22.39 | wps 2246.9 | wpb 4003.4 | bsz 141.8 | num_updates 29467 | best_bleu 22.43
2023-08-21 21:26:22 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 20 @ 29467 updates
2023-08-21 21:26:22 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.3905.pt
2023-08-21 21:26:24 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.3905.pt
2023-08-21 21:26:28 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.3905.pt (epoch 20 @ 29467 updates, score 22.39) (writing took 5.653414622996934 seconds)
2023-08-21 21:26:28 | INFO | fairseq_cli.train | end of epoch 20 (average epoch stats below)
2023-08-21 21:26:28 | INFO | train | epoch 020 | loss 1.964 | trans_loss 4.869 | nll_loss 2.098 | w2v_ctc_loss 0.682 | task_loss 1.303 | contrastive_loss 0.176 | total 4138.65 | n_correct 2772.33 | ppl 4.28 | accuracy 66.986 | wps 14215.8 | ups 1.72 | wpb 8277.3 | bsz 305.7 | num_updates 29467 | lr 8.23848e-05 | gnorm 0.52 | clip 0 | loss_scale 32 | train_wall 784 | gb_free 15.7 | wall 19886
2023-08-21 21:26:28 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 21:26:28 | INFO | fairseq.trainer | begin training epoch 21
2023-08-21 21:26:28 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 21:26:53 | INFO | train_inner | epoch 021:     33 / 1474 loss=1.974, trans_loss=4.869, nll_loss=2.099, w2v_ctc_loss=0.676, task_loss=1.23, contrastive_loss=0.303, total=4155.01, n_correct=2782.95, ppl=4.28, accuracy=66.978, wps=9149.8, ups=1.1, wpb=8310, bsz=317.6, num_updates=29500, lr=8.23387e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=53, gb_free=15.9, wall=19912
2023-08-21 21:27:17 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 32.0
2023-08-21 21:27:48 | INFO | train_inner | epoch 021:    134 / 1474 loss=1.94, trans_loss=4.847, nll_loss=2.069, w2v_ctc_loss=0.672, task_loss=1.26, contrastive_loss=0.076, total=4168.09, n_correct=2812.33, ppl=4.2, accuracy=67.473, wps=15350.4, ups=1.84, wpb=8336.2, bsz=310.2, num_updates=29600, lr=8.21995e-05, gnorm=0.518, clip=0, loss_scale=32, train_wall=54, gb_free=16.6, wall=19966
2023-08-21 21:28:40 | INFO | train_inner | epoch 021:    234 / 1474 loss=1.948, trans_loss=4.85, nll_loss=2.074, w2v_ctc_loss=0.661, task_loss=1.238, contrastive_loss=0.205, total=4155.31, n_correct=2803.33, ppl=4.21, accuracy=67.464, wps=15733.4, ups=1.89, wpb=8310.6, bsz=312.6, num_updates=29700, lr=8.2061e-05, gnorm=0.512, clip=0, loss_scale=32, train_wall=52, gb_free=16.4, wall=20019
2023-08-21 21:29:34 | INFO | train_inner | epoch 021:    334 / 1474 loss=1.961, trans_loss=4.857, nll_loss=2.083, w2v_ctc_loss=0.678, task_loss=1.292, contrastive_loss=0.208, total=4151.51, n_correct=2789.43, ppl=4.24, accuracy=67.191, wps=15388.3, ups=1.85, wpb=8303, bsz=310.8, num_updates=29800, lr=8.19232e-05, gnorm=0.52, clip=0, loss_scale=32, train_wall=54, gb_free=15.2, wall=20073
2023-08-21 21:30:27 | INFO | train_inner | epoch 021:    434 / 1474 loss=1.939, trans_loss=4.851, nll_loss=2.075, w2v_ctc_loss=0.665, task_loss=1.262, contrastive_loss=0.069, total=4180.85, n_correct=2817.85, ppl=4.21, accuracy=67.399, wps=15821.9, ups=1.89, wpb=8361.7, bsz=306.8, num_updates=29900, lr=8.17861e-05, gnorm=0.514, clip=0, loss_scale=32, train_wall=52, gb_free=15.3, wall=20126
2023-08-21 21:31:21 | INFO | train_inner | epoch 021:    534 / 1474 loss=1.942, trans_loss=4.846, nll_loss=2.069, w2v_ctc_loss=0.676, task_loss=1.358, contrastive_loss=0.064, total=4083.98, n_correct=2753.35, ppl=4.19, accuracy=67.418, wps=15313.9, ups=1.87, wpb=8168, bsz=295.1, num_updates=30000, lr=8.16497e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=53, gb_free=12.6, wall=20179
2023-08-21 21:31:21 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 21:31:44 | INFO | dev_st | epoch 021 | valid on 'dev_st' subset | loss 3.984 | trans_loss 5.173 | nll_loss 2.433 | w2v_ctc_loss 1.31 | task_loss 4.564 | contrastive_loss 0.487 | total 4003.4 | n_correct 2658.1 | ppl 5.4 | accuracy 66.396 | uer 17.936 | wer 19.779 | raw_wer 19.779 | bleu 22.1 | wps 2341.9 | wpb 4003.4 | bsz 141.8 | num_updates 30000 | best_bleu 22.43
2023-08-21 21:31:44 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 21 @ 30000 updates
2023-08-21 21:31:44 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_21_30000.pt
2023-08-21 21:31:47 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_21_30000.pt
2023-08-21 21:31:51 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_21_30000.pt (epoch 21 @ 30000 updates, score 22.1) (writing took 6.773506538942456 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:0')
2023-08-21 21:32:45 | INFO | train_inner | epoch 021:    634 / 1474 loss=1.971, trans_loss=4.851, nll_loss=2.076, w2v_ctc_loss=0.667, task_loss=1.287, contrastive_loss=0.401, total=4215.41, n_correct=2839.52, ppl=4.22, accuracy=67.36, wps=9945, ups=1.18, wpb=8430.8, bsz=315.4, num_updates=30100, lr=8.15139e-05, gnorm=0.521, clip=0, loss_scale=32, train_wall=53, gb_free=10.8, wall=20264
2023-08-21 21:33:39 | INFO | train_inner | epoch 021:    734 / 1474 loss=1.951, trans_loss=4.86, nll_loss=2.088, w2v_ctc_loss=0.67, task_loss=1.294, contrastive_loss=0.12, total=4152.97, n_correct=2789.67, ppl=4.25, accuracy=67.173, wps=15488.4, ups=1.86, wpb=8305.9, bsz=309.3, num_updates=30200, lr=8.13788e-05, gnorm=0.519, clip=0, loss_scale=32, train_wall=53, gb_free=16, wall=20317
2023-08-21 21:34:33 | INFO | train_inner | epoch 021:    834 / 1474 loss=1.963, trans_loss=4.869, nll_loss=2.098, w2v_ctc_loss=0.68, task_loss=1.381, contrastive_loss=0.148, total=4066.93, n_correct=2725.6, ppl=4.28, accuracy=67.019, wps=15195.8, ups=1.87, wpb=8133.9, bsz=294.4, num_updates=30300, lr=8.12444e-05, gnorm=0.528, clip=0, loss_scale=32, train_wall=53, gb_free=16.6, wall=20371
2023-08-21 21:35:26 | INFO | train_inner | epoch 021:    934 / 1474 loss=1.946, trans_loss=4.854, nll_loss=2.079, w2v_ctc_loss=0.674, task_loss=1.302, contrastive_loss=0.093, total=4103.34, n_correct=2762.44, ppl=4.22, accuracy=67.322, wps=15405.6, ups=1.88, wpb=8206.7, bsz=301, num_updates=30400, lr=8.11107e-05, gnorm=0.524, clip=0, loss_scale=32, train_wall=53, gb_free=13.6, wall=20424
2023-08-21 21:36:19 | INFO | train_inner | epoch 021:   1034 / 1474 loss=1.949, trans_loss=4.863, nll_loss=2.091, w2v_ctc_loss=0.676, task_loss=1.327, contrastive_loss=0.088, total=4099.86, n_correct=2757.54, ppl=4.26, accuracy=67.259, wps=15470.1, ups=1.89, wpb=8199.7, bsz=298.8, num_updates=30500, lr=8.09776e-05, gnorm=0.523, clip=0, loss_scale=32, train_wall=53, gb_free=10.9, wall=20477
2023-08-21 21:37:12 | INFO | train_inner | epoch 021:   1134 / 1474 loss=1.952, trans_loss=4.856, nll_loss=2.082, w2v_ctc_loss=0.68, task_loss=1.406, contrastive_loss=0.098, total=4120.75, n_correct=2769.08, ppl=4.23, accuracy=67.198, wps=15479.2, ups=1.88, wpb=8241.5, bsz=293.5, num_updates=30600, lr=8.08452e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=53, gb_free=15.3, wall=20530
2023-08-21 21:38:05 | INFO | train_inner | epoch 021:   1234 / 1474 loss=1.959, trans_loss=4.859, nll_loss=2.085, w2v_ctc_loss=0.673, task_loss=1.239, contrastive_loss=0.193, total=4154.73, n_correct=2789.83, ppl=4.24, accuracy=67.148, wps=15663.7, ups=1.89, wpb=8309.5, bsz=311.6, num_updates=30700, lr=8.07134e-05, gnorm=0.524, clip=0, loss_scale=32, train_wall=53, gb_free=12.2, wall=20583
2023-08-21 21:38:59 | INFO | train_inner | epoch 021:   1334 / 1474 loss=1.948, trans_loss=4.857, nll_loss=2.084, w2v_ctc_loss=0.671, task_loss=1.263, contrastive_loss=0.113, total=4147.17, n_correct=2793.56, ppl=4.24, accuracy=67.361, wps=15462.8, ups=1.86, wpb=8294.3, bsz=311.9, num_updates=30800, lr=8.05823e-05, gnorm=0.514, clip=0, loss_scale=32, train_wall=53, gb_free=15.8, wall=20637
2023-08-21 21:39:52 | INFO | train_inner | epoch 021:   1434 / 1474 loss=1.974, trans_loss=4.868, nll_loss=2.097, w2v_ctc_loss=0.693, task_loss=1.371, contrastive_loss=0.209, total=4133.93, n_correct=2766.63, ppl=4.28, accuracy=66.925, wps=15378.4, ups=1.86, wpb=8267.9, bsz=304.5, num_updates=30900, lr=8.04518e-05, gnorm=0.53, clip=0, loss_scale=32, train_wall=53, gb_free=15.1, wall=20691
2023-08-21 21:40:14 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:7')
2023-08-21 21:40:37 | INFO | dev_st | epoch 021 | valid on 'dev_st' subset | loss 3.986 | trans_loss 5.169 | nll_loss 2.428 | w2v_ctc_loss 1.332 | task_loss 4.588 | contrastive_loss 0.475 | total 4003.4 | n_correct 2661.8 | ppl 5.38 | accuracy 66.488 | uer 18.013 | wer 19.828 | raw_wer 19.828 | bleu 22 | wps 2419.1 | wpb 4003.4 | bsz 141.8 | num_updates 30940 | best_bleu 22.43
2023-08-21 21:40:37 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 21 @ 30940 updates
2023-08-21 21:40:37 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0009.pt
2023-08-21 21:40:40 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0009.pt
2023-08-21 21:40:43 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0009.pt (epoch 21 @ 30940 updates, score 22.0) (writing took 5.964600273990072 seconds)
2023-08-21 21:40:43 | INFO | fairseq_cli.train | end of epoch 21 (average epoch stats below)
2023-08-21 21:40:43 | INFO | train | epoch 021 | loss 1.954 | trans_loss 4.856 | nll_loss 2.082 | w2v_ctc_loss 0.674 | task_loss 1.306 | contrastive_loss 0.158 | total 4137.02 | n_correct 2782.79 | ppl 4.23 | accuracy 67.266 | wps 14246.4 | ups 1.72 | wpb 8274 | bsz 305.1 | num_updates 30940 | lr 8.03998e-05 | gnorm 0.521 | clip 0 | loss_scale 32 | train_wall 782 | gb_free 15.1 | wall 20742
2023-08-21 21:40:44 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 21:40:44 | INFO | fairseq.trainer | begin training epoch 22
2023-08-21 21:40:44 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 21:41:23 | INFO | train_inner | epoch 022:     60 / 1474 loss=1.939, trans_loss=4.842, nll_loss=2.063, w2v_ctc_loss=0.671, task_loss=1.325, contrastive_loss=0.065, total=4128.84, n_correct=2792.06, ppl=4.18, accuracy=67.623, wps=9150.2, ups=1.11, wpb=8257.7, bsz=297.7, num_updates=31000, lr=8.03219e-05, gnorm=0.515, clip=0, loss_scale=32, train_wall=53, gb_free=13.8, wall=20781
2023-08-21 21:42:17 | INFO | train_inner | epoch 022:    160 / 1474 loss=1.952, trans_loss=4.841, nll_loss=2.061, w2v_ctc_loss=0.669, task_loss=1.314, contrastive_loss=0.217, total=4123.35, n_correct=2785.6, ppl=4.17, accuracy=67.557, wps=15235.5, ups=1.85, wpb=8246.7, bsz=310.3, num_updates=31100, lr=8.01927e-05, gnorm=0.521, clip=0, loss_scale=32, train_wall=54, gb_free=14.3, wall=20835
2023-08-21 21:43:10 | INFO | train_inner | epoch 022:    260 / 1474 loss=1.929, trans_loss=4.833, nll_loss=2.052, w2v_ctc_loss=0.654, task_loss=1.147, contrastive_loss=0.102, total=4267.16, n_correct=2895.05, ppl=4.15, accuracy=67.845, wps=15957.4, ups=1.87, wpb=8534.3, bsz=329.9, num_updates=31200, lr=8.00641e-05, gnorm=0.499, clip=0, loss_scale=32, train_wall=53, gb_free=16.2, wall=20889
2023-08-21 21:43:42 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-21 21:44:06 | INFO | train_inner | epoch 022:    361 / 1474 loss=1.965, trans_loss=4.846, nll_loss=2.069, w2v_ctc_loss=0.67, task_loss=1.35, contrastive_loss=0.297, total=4163.56, n_correct=2804.33, ppl=4.19, accuracy=67.354, wps=15078.6, ups=1.81, wpb=8327.1, bsz=304, num_updates=31300, lr=7.99361e-05, gnorm=0.518, clip=0, loss_scale=16, train_wall=55, gb_free=14.8, wall=20944
2023-08-21 21:44:59 | INFO | train_inner | epoch 022:    461 / 1474 loss=1.955, trans_loss=4.847, nll_loss=2.07, w2v_ctc_loss=0.671, task_loss=1.372, contrastive_loss=0.181, total=4132.96, n_correct=2787.23, ppl=4.2, accuracy=67.439, wps=15415.7, ups=1.86, wpb=8265.9, bsz=297.5, num_updates=31400, lr=7.98087e-05, gnorm=0.533, clip=0, loss_scale=16, train_wall=53, gb_free=16.6, wall=20998
2023-08-21 21:45:53 | INFO | train_inner | epoch 022:    561 / 1474 loss=1.934, trans_loss=4.839, nll_loss=2.059, w2v_ctc_loss=0.663, task_loss=1.305, contrastive_loss=0.08, total=4158.17, n_correct=2811.9, ppl=4.17, accuracy=67.623, wps=15489.5, ups=1.86, wpb=8316.3, bsz=307.8, num_updates=31500, lr=7.96819e-05, gnorm=0.517, clip=0, loss_scale=16, train_wall=53, gb_free=16.2, wall=21051
2023-08-21 21:46:46 | INFO | train_inner | epoch 022:    661 / 1474 loss=1.946, trans_loss=4.836, nll_loss=2.056, w2v_ctc_loss=0.655, task_loss=1.244, contrastive_loss=0.252, total=4139.66, n_correct=2803.44, ppl=4.16, accuracy=67.722, wps=15701.4, ups=1.9, wpb=8279.3, bsz=311.1, num_updates=31600, lr=7.95557e-05, gnorm=0.515, clip=0, loss_scale=16, train_wall=52, gb_free=15.8, wall=21104
2023-08-21 21:47:39 | INFO | train_inner | epoch 022:    761 / 1474 loss=1.94, trans_loss=4.841, nll_loss=2.061, w2v_ctc_loss=0.672, task_loss=1.339, contrastive_loss=0.086, total=4167.89, n_correct=2814.31, ppl=4.17, accuracy=67.524, wps=15565, ups=1.87, wpb=8335.8, bsz=303.9, num_updates=31700, lr=7.94301e-05, gnorm=0.516, clip=0, loss_scale=16, train_wall=53, gb_free=12.4, wall=21158
2023-08-21 21:48:33 | INFO | train_inner | epoch 022:    861 / 1474 loss=1.945, trans_loss=4.852, nll_loss=2.077, w2v_ctc_loss=0.675, task_loss=1.414, contrastive_loss=0.068, total=4075.79, n_correct=2738.08, ppl=4.22, accuracy=67.179, wps=15159, ups=1.86, wpb=8151.6, bsz=289, num_updates=31800, lr=7.93052e-05, gnorm=0.532, clip=0, loss_scale=16, train_wall=53, gb_free=15.9, wall=21211
2023-08-21 21:49:08 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 8.0
2023-08-21 21:49:27 | INFO | train_inner | epoch 022:    962 / 1474 loss=1.936, trans_loss=4.841, nll_loss=2.062, w2v_ctc_loss=0.663, task_loss=1.303, contrastive_loss=0.083, total=4142.95, n_correct=2800.52, ppl=4.18, accuracy=67.597, wps=15307.2, ups=1.85, wpb=8285.9, bsz=306.2, num_updates=31900, lr=7.91808e-05, gnorm=0.515, clip=0, loss_scale=8, train_wall=54, gb_free=14.3, wall=21265
2023-08-21 21:50:20 | INFO | train_inner | epoch 022:   1062 / 1474 loss=1.959, trans_loss=4.838, nll_loss=2.059, w2v_ctc_loss=0.656, task_loss=1.25, contrastive_loss=0.393, total=4152.13, n_correct=2806.65, ppl=4.17, accuracy=67.595, wps=15576.9, ups=1.88, wpb=8304.3, bsz=313.8, num_updates=32000, lr=7.90569e-05, gnorm=0.514, clip=0, loss_scale=8, train_wall=53, gb_free=15.7, wall=21319
2023-08-21 21:50:20 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 21:50:43 | INFO | dev_st | epoch 022 | valid on 'dev_st' subset | loss 3.987 | trans_loss 5.166 | nll_loss 2.425 | w2v_ctc_loss 1.336 | task_loss 4.577 | contrastive_loss 0.493 | total 4003.4 | n_correct 2666 | ppl 5.37 | accuracy 66.593 | uer 17.901 | wer 19.742 | raw_wer 19.742 | bleu 22.18 | wps 2485.3 | wpb 4003.4 | bsz 141.8 | num_updates 32000 | best_bleu 22.43
2023-08-21 21:50:43 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 22 @ 32000 updates
2023-08-21 21:50:43 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_22_32000.pt
2023-08-21 21:50:46 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_22_32000.pt
2023-08-21 21:50:50 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_22_32000.pt (epoch 22 @ 32000 updates, score 22.18) (writing took 6.954971436061896 seconds)
2023-08-21 21:51:44 | INFO | train_inner | epoch 022:   1162 / 1474 loss=1.961, trans_loss=4.862, nll_loss=2.089, w2v_ctc_loss=0.679, task_loss=1.352, contrastive_loss=0.171, total=4102.27, n_correct=2754.52, ppl=4.26, accuracy=67.146, wps=9856.8, ups=1.2, wpb=8204.5, bsz=296.1, num_updates=32100, lr=7.89337e-05, gnorm=0.525, clip=0, loss_scale=8, train_wall=53, gb_free=16.4, wall=21402
2023-08-21 21:52:37 | INFO | train_inner | epoch 022:   1262 / 1474 loss=1.95, trans_loss=4.857, nll_loss=2.084, w2v_ctc_loss=0.67, task_loss=1.209, contrastive_loss=0.138, total=4179.1, n_correct=2809.85, ppl=4.24, accuracy=67.236, wps=15636.4, ups=1.87, wpb=8358.2, bsz=321.7, num_updates=32200, lr=7.8811e-05, gnorm=0.522, clip=0, loss_scale=8, train_wall=53, gb_free=16.7, wall=21455
2023-08-21 21:53:30 | INFO | train_inner | epoch 022:   1362 / 1474 loss=1.946, trans_loss=4.841, nll_loss=2.063, w2v_ctc_loss=0.664, task_loss=1.304, contrastive_loss=0.204, total=4061.14, n_correct=2742.96, ppl=4.18, accuracy=67.542, wps=15377.5, ups=1.89, wpb=8122.3, bsz=299.1, num_updates=32300, lr=7.86889e-05, gnorm=0.519, clip=0, loss_scale=8, train_wall=52, gb_free=16.6, wall=21508
2023-08-21 21:54:23 | INFO | train_inner | epoch 022:   1462 / 1474 loss=1.95, trans_loss=4.857, nll_loss=2.082, w2v_ctc_loss=0.68, task_loss=1.395, contrastive_loss=0.093, total=4083.08, n_correct=2745.15, ppl=4.23, accuracy=67.232, wps=15275.8, ups=1.87, wpb=8166.2, bsz=289.3, num_updates=32400, lr=7.85674e-05, gnorm=0.526, clip=0, loss_scale=8, train_wall=53, gb_free=15.8, wall=21562
2023-08-21 21:54:30 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 21:54:53 | INFO | dev_st | epoch 022 | valid on 'dev_st' subset | loss 3.965 | trans_loss 5.159 | nll_loss 2.413 | w2v_ctc_loss 1.292 | task_loss 4.535 | contrastive_loss 0.465 | total 4003.4 | n_correct 2668.6 | ppl 5.33 | accuracy 66.658 | uer 17.846 | wer 19.701 | raw_wer 19.701 | bleu 22.28 | wps 2379.1 | wpb 4003.4 | bsz 141.8 | num_updates 32412 | best_bleu 22.43
2023-08-21 21:54:53 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 22 @ 32412 updates
2023-08-21 21:54:53 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2801.pt
2023-08-21 21:54:56 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2801.pt
2023-08-21 21:54:59 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2801.pt (epoch 22 @ 32412 updates, score 22.28) (writing took 5.769880574080162 seconds)
2023-08-21 21:54:59 | INFO | fairseq_cli.train | end of epoch 22 (average epoch stats below)
2023-08-21 21:54:59 | INFO | train | epoch 022 | loss 1.947 | trans_loss 4.845 | nll_loss 2.067 | w2v_ctc_loss 0.668 | task_loss 1.306 | contrastive_loss 0.165 | total 4137.58 | n_correct 2792.14 | ppl 4.19 | accuracy 67.482 | wps 14229.3 | ups 1.72 | wpb 8275.2 | bsz 305.2 | num_updates 32412 | lr 7.85529e-05 | gnorm 0.52 | clip 0 | loss_scale 8 | train_wall 782 | gb_free 11.2 | wall 21598
2023-08-21 21:55:00 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 21:55:00 | INFO | fairseq.trainer | begin training epoch 23
2023-08-21 21:55:00 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 21:55:54 | INFO | train_inner | epoch 023:     88 / 1474 loss=1.931, trans_loss=4.827, nll_loss=2.044, w2v_ctc_loss=0.666, task_loss=1.324, contrastive_loss=0.075, total=4093.3, n_correct=2775.41, ppl=4.13, accuracy=67.804, wps=9049.7, ups=1.11, wpb=8186.6, bsz=301.3, num_updates=32500, lr=7.84465e-05, gnorm=0.516, clip=0, loss_scale=8, train_wall=53, gb_free=15.6, wall=21652
2023-08-21 21:56:48 | INFO | train_inner | epoch 023:    188 / 1474 loss=1.927, trans_loss=4.823, nll_loss=2.038, w2v_ctc_loss=0.657, task_loss=1.39, contrastive_loss=0.073, total=4116.26, n_correct=2794.28, ppl=4.11, accuracy=67.884, wps=15349.3, ups=1.86, wpb=8232.5, bsz=294.4, num_updates=32600, lr=7.8326e-05, gnorm=0.515, clip=0, loss_scale=8, train_wall=53, gb_free=16.7, wall=21706
2023-08-21 21:57:41 | INFO | train_inner | epoch 023:    288 / 1474 loss=1.943, trans_loss=4.834, nll_loss=2.053, w2v_ctc_loss=0.652, task_loss=1.312, contrastive_loss=0.218, total=4148.03, n_correct=2812.2, ppl=4.15, accuracy=67.796, wps=15433.4, ups=1.86, wpb=8296.1, bsz=305.7, num_updates=32700, lr=7.82062e-05, gnorm=0.52, clip=0, loss_scale=8, train_wall=53, gb_free=17, wall=21760
2023-08-21 21:58:34 | INFO | train_inner | epoch 023:    388 / 1474 loss=1.926, trans_loss=4.824, nll_loss=2.04, w2v_ctc_loss=0.657, task_loss=1.348, contrastive_loss=0.064, total=4115.99, n_correct=2794.69, ppl=4.11, accuracy=67.898, wps=15483.2, ups=1.88, wpb=8232, bsz=294.1, num_updates=32800, lr=7.80869e-05, gnorm=0.514, clip=0, loss_scale=8, train_wall=53, gb_free=15.6, wall=21813
2023-08-21 21:59:28 | INFO | train_inner | epoch 023:    488 / 1474 loss=1.938, trans_loss=4.833, nll_loss=2.051, w2v_ctc_loss=0.654, task_loss=1.276, contrastive_loss=0.167, total=4156.5, n_correct=2817.32, ppl=4.14, accuracy=67.781, wps=15548.1, ups=1.87, wpb=8313, bsz=312.2, num_updates=32900, lr=7.79681e-05, gnorm=0.519, clip=0, loss_scale=8, train_wall=53, gb_free=17, wall=21866
2023-08-21 22:00:21 | INFO | train_inner | epoch 023:    588 / 1474 loss=1.924, trans_loss=4.826, nll_loss=2.043, w2v_ctc_loss=0.656, task_loss=1.231, contrastive_loss=0.069, total=4174.84, n_correct=2837.68, ppl=4.12, accuracy=67.971, wps=15762.2, ups=1.89, wpb=8349.7, bsz=316.3, num_updates=33000, lr=7.78499e-05, gnorm=0.516, clip=0, loss_scale=8, train_wall=53, gb_free=16.8, wall=21919
2023-08-21 22:01:14 | INFO | train_inner | epoch 023:    688 / 1474 loss=1.939, trans_loss=4.835, nll_loss=2.054, w2v_ctc_loss=0.658, task_loss=1.312, contrastive_loss=0.142, total=4139.68, n_correct=2802.39, ppl=4.15, accuracy=67.696, wps=15529, ups=1.88, wpb=8279.4, bsz=302.2, num_updates=33100, lr=7.77322e-05, gnorm=0.516, clip=0, loss_scale=8, train_wall=53, gb_free=16.3, wall=21973
2023-08-21 22:02:07 | INFO | train_inner | epoch 023:    788 / 1474 loss=1.937, trans_loss=4.837, nll_loss=2.057, w2v_ctc_loss=0.665, task_loss=1.314, contrastive_loss=0.098, total=4147.97, n_correct=2806.18, ppl=4.16, accuracy=67.652, wps=15604.7, ups=1.88, wpb=8295.9, bsz=305.8, num_updates=33200, lr=7.76151e-05, gnorm=0.514, clip=0, loss_scale=8, train_wall=53, gb_free=16.6, wall=22026
2023-08-21 22:03:01 | INFO | train_inner | epoch 023:    888 / 1474 loss=1.943, trans_loss=4.829, nll_loss=2.047, w2v_ctc_loss=0.657, task_loss=1.189, contrastive_loss=0.247, total=4182.69, n_correct=2836.71, ppl=4.13, accuracy=67.82, wps=15713.9, ups=1.88, wpb=8365.4, bsz=325, num_updates=33300, lr=7.74984e-05, gnorm=0.518, clip=0, loss_scale=8, train_wall=53, gb_free=16.4, wall=22079
2023-08-21 22:03:54 | INFO | train_inner | epoch 023:    988 / 1474 loss=1.975, trans_loss=4.834, nll_loss=2.053, w2v_ctc_loss=0.655, task_loss=1.305, contrastive_loss=0.575, total=4165.01, n_correct=2818.87, ppl=4.15, accuracy=67.68, wps=15490.6, ups=1.86, wpb=8330, bsz=309.6, num_updates=33400, lr=7.73823e-05, gnorm=0.518, clip=0, loss_scale=8, train_wall=53, gb_free=17.4, wall=22133
2023-08-21 22:04:48 | INFO | train_inner | epoch 023:   1088 / 1474 loss=1.941, trans_loss=4.84, nll_loss=2.061, w2v_ctc_loss=0.672, task_loss=1.385, contrastive_loss=0.082, total=4092.37, n_correct=2764.49, ppl=4.17, accuracy=67.552, wps=15140.7, ups=1.85, wpb=8184.7, bsz=290.8, num_updates=33500, lr=7.72667e-05, gnorm=0.523, clip=0, loss_scale=8, train_wall=54, gb_free=17, wall=22187
2023-08-21 22:05:42 | INFO | train_inner | epoch 023:   1188 / 1474 loss=1.935, trans_loss=4.841, nll_loss=2.063, w2v_ctc_loss=0.667, task_loss=1.3, contrastive_loss=0.07, total=4164.9, n_correct=2812.16, ppl=4.18, accuracy=67.52, wps=15480.3, ups=1.86, wpb=8329.8, bsz=309.2, num_updates=33600, lr=7.71517e-05, gnorm=0.516, clip=0, loss_scale=8, train_wall=53, gb_free=13.3, wall=22241
2023-08-21 22:06:36 | INFO | train_inner | epoch 023:   1288 / 1474 loss=1.929, trans_loss=4.833, nll_loss=2.052, w2v_ctc_loss=0.657, task_loss=1.267, contrastive_loss=0.086, total=4136.96, n_correct=2802.88, ppl=4.15, accuracy=67.752, wps=15483.2, ups=1.87, wpb=8273.9, bsz=309.8, num_updates=33700, lr=7.70371e-05, gnorm=0.521, clip=0, loss_scale=8, train_wall=53, gb_free=16.3, wall=22294
2023-08-21 22:07:29 | INFO | train_inner | epoch 023:   1388 / 1474 loss=1.949, trans_loss=4.846, nll_loss=2.069, w2v_ctc_loss=0.66, task_loss=1.316, contrastive_loss=0.191, total=4142.84, n_correct=2795.92, ppl=4.2, accuracy=67.488, wps=15404.8, ups=1.86, wpb=8285.7, bsz=304.8, num_updates=33800, lr=7.69231e-05, gnorm=0.522, clip=0, loss_scale=8, train_wall=53, gb_free=15.6, wall=22348
2023-08-21 22:08:16 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 22:08:40 | INFO | dev_st | epoch 023 | valid on 'dev_st' subset | loss 3.971 | trans_loss 5.16 | nll_loss 2.417 | w2v_ctc_loss 1.301 | task_loss 4.561 | contrastive_loss 0.481 | total 4003.4 | n_correct 2673.1 | ppl 5.34 | accuracy 66.771 | uer 17.586 | wer 19.362 | raw_wer 19.362 | bleu 22.04 | wps 2316.5 | wpb 4003.4 | bsz 141.8 | num_updates 33886 | best_bleu 22.43
2023-08-21 22:08:40 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 23 @ 33886 updates
2023-08-21 22:08:40 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0400.pt
2023-08-21 22:08:42 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0400.pt
2023-08-21 22:08:46 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.0400.pt (epoch 23 @ 33886 updates, score 22.04) (writing took 5.817612513084896 seconds)
2023-08-21 22:08:46 | INFO | fairseq_cli.train | end of epoch 23 (average epoch stats below)
2023-08-21 22:08:46 | INFO | train | epoch 023 | loss 1.94 | trans_loss 4.834 | nll_loss 2.053 | w2v_ctc_loss 0.659 | task_loss 1.305 | contrastive_loss 0.169 | total 4138.65 | n_correct 2802.62 | ppl 4.15 | accuracy 67.718 | wps 14763.3 | ups 1.78 | wpb 8277.3 | bsz 305.7 | num_updates 33886 | lr 7.68254e-05 | gnorm 0.519 | clip 0 | loss_scale 8 | train_wall 783 | gb_free 13.3 | wall 22424
2023-08-21 22:08:46 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 22:08:46 | INFO | fairseq.trainer | begin training epoch 24
2023-08-21 22:08:46 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 22:09:01 | INFO | train_inner | epoch 024:     14 / 1474 loss=1.966, trans_loss=4.845, nll_loss=2.068, w2v_ctc_loss=0.66, task_loss=1.319, contrastive_loss=0.344, total=4084.21, n_correct=2756.1, ppl=4.19, accuracy=67.482, wps=8948.9, ups=1.1, wpb=8168.4, bsz=303.7, num_updates=33900, lr=7.68095e-05, gnorm=0.539, clip=0, loss_scale=8, train_wall=54, gb_free=15, wall=22439
2023-08-21 22:09:54 | INFO | train_inner | epoch 024:    114 / 1474 loss=1.947, trans_loss=4.814, nll_loss=2.027, w2v_ctc_loss=0.642, task_loss=1.203, contrastive_loss=0.385, total=4168.61, n_correct=2839.95, ppl=4.07, accuracy=68.127, wps=15536, ups=1.86, wpb=8337.2, bsz=324.6, num_updates=34000, lr=7.66965e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=53, gb_free=10.9, wall=22493
2023-08-21 22:09:54 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 22:10:18 | INFO | dev_st | epoch 024 | valid on 'dev_st' subset | loss 3.974 | trans_loss 5.166 | nll_loss 2.421 | w2v_ctc_loss 1.299 | task_loss 4.563 | contrastive_loss 0.49 | total 4003.4 | n_correct 2661.3 | ppl 5.35 | accuracy 66.476 | uer 17.721 | wer 19.623 | raw_wer 19.623 | bleu 21.87 | wps 2386.2 | wpb 4003.4 | bsz 141.8 | num_updates 34000 | best_bleu 22.43
2023-08-21 22:10:18 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 24 @ 34000 updates
2023-08-21 22:10:18 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_24_34000.pt
2023-08-21 22:10:20 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_24_34000.pt
2023-08-21 22:10:24 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_24_34000.pt (epoch 24 @ 34000 updates, score 21.87) (writing took 5.732466111890972 seconds)
2023-08-21 22:11:18 | INFO | train_inner | epoch 024:    214 / 1474 loss=1.956, trans_loss=4.82, nll_loss=2.036, w2v_ctc_loss=0.637, task_loss=1.137, contrastive_loss=0.483, total=4252.53, n_correct=2894.07, ppl=4.1, accuracy=68.055, wps=10157.7, ups=1.19, wpb=8505.1, bsz=341.3, num_updates=34100, lr=7.6584e-05, gnorm=0.516, clip=0, loss_scale=16, train_wall=54, gb_free=16.4, wall=22577
2023-08-21 22:12:11 | INFO | train_inner | epoch 024:    314 / 1474 loss=1.92, trans_loss=4.82, nll_loss=2.035, w2v_ctc_loss=0.651, task_loss=1.269, contrastive_loss=0.065, total=4138.44, n_correct=2815.34, ppl=4.1, accuracy=68.029, wps=15599.3, ups=1.88, wpb=8276.9, bsz=307.1, num_updates=34200, lr=7.64719e-05, gnorm=0.523, clip=0, loss_scale=16, train_wall=53, gb_free=15.2, wall=22630
2023-08-21 22:13:05 | INFO | train_inner | epoch 024:    414 / 1474 loss=1.958, trans_loss=4.82, nll_loss=2.035, w2v_ctc_loss=0.662, task_loss=1.38, contrastive_loss=0.327, total=4153.83, n_correct=2821.08, ppl=4.1, accuracy=67.915, wps=15454.4, ups=1.86, wpb=8307.7, bsz=298.4, num_updates=34300, lr=7.63604e-05, gnorm=0.526, clip=0, loss_scale=16, train_wall=53, gb_free=15.8, wall=22683
2023-08-21 22:13:59 | INFO | train_inner | epoch 024:    514 / 1474 loss=1.935, trans_loss=4.82, nll_loss=2.035, w2v_ctc_loss=0.654, task_loss=1.331, contrastive_loss=0.197, total=4141.88, n_correct=2817.45, ppl=4.1, accuracy=68.023, wps=15401.5, ups=1.86, wpb=8283.8, bsz=302.6, num_updates=34400, lr=7.62493e-05, gnorm=0.512, clip=0, loss_scale=16, train_wall=53, gb_free=14.7, wall=22737
2023-08-21 22:14:52 | INFO | train_inner | epoch 024:    614 / 1474 loss=1.924, trans_loss=4.82, nll_loss=2.036, w2v_ctc_loss=0.643, task_loss=1.311, contrastive_loss=0.115, total=4162.06, n_correct=2831.04, ppl=4.1, accuracy=68.02, wps=15537.9, ups=1.87, wpb=8324.1, bsz=308.1, num_updates=34500, lr=7.61387e-05, gnorm=0.516, clip=0, loss_scale=16, train_wall=53, gb_free=16.4, wall=22791
2023-08-21 22:15:46 | INFO | train_inner | epoch 024:    714 / 1474 loss=1.936, trans_loss=4.828, nll_loss=2.045, w2v_ctc_loss=0.654, task_loss=1.348, contrastive_loss=0.15, total=4097.35, n_correct=2780.09, ppl=4.13, accuracy=67.851, wps=15409, ups=1.88, wpb=8194.7, bsz=293.8, num_updates=34600, lr=7.60286e-05, gnorm=0.522, clip=0, loss_scale=16, train_wall=53, gb_free=16.9, wall=22844
2023-08-21 22:16:39 | INFO | train_inner | epoch 024:    814 / 1474 loss=1.928, trans_loss=4.831, nll_loss=2.049, w2v_ctc_loss=0.654, task_loss=1.302, contrastive_loss=0.096, total=4124.25, n_correct=2798.91, ppl=4.14, accuracy=67.865, wps=15343.4, ups=1.86, wpb=8248.5, bsz=308.2, num_updates=34700, lr=7.5919e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=53, gb_free=15.6, wall=22898
2023-08-21 22:17:32 | INFO | train_inner | epoch 024:    914 / 1474 loss=1.931, trans_loss=4.828, nll_loss=2.044, w2v_ctc_loss=0.664, task_loss=1.453, contrastive_loss=0.058, total=4041.44, n_correct=2737.39, ppl=4.12, accuracy=67.733, wps=15254.3, ups=1.89, wpb=8082.9, bsz=280.5, num_updates=34800, lr=7.58098e-05, gnorm=0.524, clip=0, loss_scale=16, train_wall=53, gb_free=15.8, wall=22951
2023-08-21 22:18:25 | INFO | train_inner | epoch 024:   1014 / 1474 loss=1.926, trans_loss=4.828, nll_loss=2.045, w2v_ctc_loss=0.654, task_loss=1.36, contrastive_loss=0.066, total=4128.8, n_correct=2805.15, ppl=4.13, accuracy=67.941, wps=15556.5, ups=1.88, wpb=8257.6, bsz=296.5, num_updates=34900, lr=7.57011e-05, gnorm=0.515, clip=0, loss_scale=16, train_wall=53, gb_free=14.7, wall=23004
2023-08-21 22:19:19 | INFO | train_inner | epoch 024:   1114 / 1474 loss=1.93, trans_loss=4.816, nll_loss=2.03, w2v_ctc_loss=0.659, task_loss=1.262, contrastive_loss=0.14, total=4130.49, n_correct=2811.37, ppl=4.08, accuracy=68.064, wps=15524.5, ups=1.88, wpb=8261, bsz=308.9, num_updates=35000, lr=7.55929e-05, gnorm=0.523, clip=0, loss_scale=16, train_wall=53, gb_free=15.6, wall=23057
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:0')
2023-08-21 22:20:12 | INFO | train_inner | epoch 024:   1214 / 1474 loss=1.928, trans_loss=4.826, nll_loss=2.043, w2v_ctc_loss=0.651, task_loss=1.293, contrastive_loss=0.115, total=4157.47, n_correct=2824.37, ppl=4.12, accuracy=67.935, wps=15537, ups=1.87, wpb=8314.9, bsz=311.2, num_updates=35100, lr=7.54851e-05, gnorm=0.521, clip=0, loss_scale=16, train_wall=53, gb_free=12.3, wall=23110
2023-08-21 22:21:06 | INFO | train_inner | epoch 024:   1314 / 1474 loss=1.932, trans_loss=4.83, nll_loss=2.048, w2v_ctc_loss=0.665, task_loss=1.387, contrastive_loss=0.072, total=4107.23, n_correct=2785.29, ppl=4.13, accuracy=67.814, wps=15239.3, ups=1.86, wpb=8214.5, bsz=294.3, num_updates=35200, lr=7.53778e-05, gnorm=0.524, clip=0, loss_scale=16, train_wall=53, gb_free=17.2, wall=23164
2023-08-21 22:21:59 | INFO | train_inner | epoch 024:   1414 / 1474 loss=1.932, trans_loss=4.832, nll_loss=2.051, w2v_ctc_loss=0.666, task_loss=1.364, contrastive_loss=0.069, total=4094.39, n_correct=2776.49, ppl=4.14, accuracy=67.812, wps=15404.7, ups=1.88, wpb=8188.8, bsz=292.9, num_updates=35300, lr=7.5271e-05, gnorm=0.521, clip=0, loss_scale=16, train_wall=53, gb_free=15.7, wall=23218
2023-08-21 22:22:31 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:4')
2023-08-21 22:22:54 | INFO | dev_st | epoch 024 | valid on 'dev_st' subset | loss 3.971 | trans_loss 5.157 | nll_loss 2.411 | w2v_ctc_loss 1.312 | task_loss 4.586 | contrastive_loss 0.48 | total 4003.4 | n_correct 2677.8 | ppl 5.32 | accuracy 66.888 | uer 17.54 | wer 19.265 | raw_wer 19.265 | bleu 22.26 | wps 2364.6 | wpb 4003.4 | bsz 141.8 | num_updates 35360 | best_bleu 22.43
2023-08-21 22:22:54 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 24 @ 35360 updates
2023-08-21 22:22:54 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2602.pt
2023-08-21 22:22:57 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2602.pt
2023-08-21 22:23:00 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2602.pt (epoch 24 @ 35360 updates, score 22.26) (writing took 5.9333956820191815 seconds)
2023-08-21 22:23:01 | INFO | fairseq_cli.train | end of epoch 24 (average epoch stats below)
2023-08-21 22:23:01 | INFO | train | epoch 024 | loss 1.934 | trans_loss 4.824 | nll_loss 2.04 | w2v_ctc_loss 0.653 | task_loss 1.305 | contrastive_loss 0.167 | total 4138.65 | n_correct 2812.21 | ppl 4.11 | accuracy 67.95 | wps 14275.9 | ups 1.72 | wpb 8277.3 | bsz 305.7 | num_updates 35360 | lr 7.52071e-05 | gnorm 0.52 | clip 0 | loss_scale 16 | train_wall 782 | gb_free 15.6 | wall 23279
2023-08-21 22:23:01 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 22:23:01 | INFO | fairseq.trainer | begin training epoch 25
2023-08-21 22:23:01 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 22:23:29 | INFO | train_inner | epoch 025:     40 / 1474 loss=1.916, trans_loss=4.815, nll_loss=2.029, w2v_ctc_loss=0.644, task_loss=1.254, contrastive_loss=0.078, total=4165.57, n_correct=2844.56, ppl=4.08, accuracy=68.287, wps=9264.9, ups=1.11, wpb=8331.1, bsz=311.2, num_updates=35400, lr=7.51646e-05, gnorm=0.513, clip=0, loss_scale=16, train_wall=53, gb_free=12.7, wall=23307
2023-08-21 22:24:22 | INFO | train_inner | epoch 025:    140 / 1474 loss=1.91, trans_loss=4.803, nll_loss=2.013, w2v_ctc_loss=0.639, task_loss=1.265, contrastive_loss=0.078, total=4135.43, n_correct=2829.19, ppl=4.04, accuracy=68.413, wps=15554.3, ups=1.88, wpb=8270.9, bsz=308.9, num_updates=35500, lr=7.50587e-05, gnorm=0.513, clip=0, loss_scale=16, train_wall=53, gb_free=17.4, wall=23361
2023-08-21 22:25:17 | INFO | train_inner | epoch 025:    240 / 1474 loss=1.917, trans_loss=4.809, nll_loss=2.021, w2v_ctc_loss=0.648, task_loss=1.343, contrastive_loss=0.083, total=4116.13, n_correct=2811.3, ppl=4.06, accuracy=68.3, wps=15145.6, ups=1.84, wpb=8232.3, bsz=303, num_updates=35600, lr=7.49532e-05, gnorm=0.525, clip=0, loss_scale=16, train_wall=54, gb_free=16.9, wall=23415
2023-08-21 22:26:10 | INFO | train_inner | epoch 025:    340 / 1474 loss=1.924, trans_loss=4.808, nll_loss=2.018, w2v_ctc_loss=0.643, task_loss=1.391, contrastive_loss=0.148, total=4141.49, n_correct=2824.61, ppl=4.05, accuracy=68.203, wps=15465.9, ups=1.87, wpb=8283, bsz=294.2, num_updates=35700, lr=7.48481e-05, gnorm=0.518, clip=0, loss_scale=16, train_wall=53, gb_free=14.8, wall=23469
2023-08-21 22:27:04 | INFO | train_inner | epoch 025:    440 / 1474 loss=1.948, trans_loss=4.809, nll_loss=2.02, w2v_ctc_loss=0.66, task_loss=1.36, contrastive_loss=0.298, total=4167.4, n_correct=2840.89, ppl=4.06, accuracy=68.169, wps=15475.4, ups=1.86, wpb=8334.8, bsz=297.7, num_updates=35800, lr=7.47435e-05, gnorm=0.525, clip=0, loss_scale=16, train_wall=53, gb_free=15.4, wall=23522
2023-08-21 22:27:58 | INFO | train_inner | epoch 025:    540 / 1474 loss=1.92, trans_loss=4.82, nll_loss=2.035, w2v_ctc_loss=0.646, task_loss=1.272, contrastive_loss=0.082, total=4160.61, n_correct=2833.83, ppl=4.1, accuracy=68.111, wps=15510, ups=1.86, wpb=8321.2, bsz=313.9, num_updates=35900, lr=7.46393e-05, gnorm=0.517, clip=0, loss_scale=16, train_wall=53, gb_free=17.2, wall=23576
2023-08-21 22:28:51 | INFO | train_inner | epoch 025:    640 / 1474 loss=1.929, trans_loss=4.807, nll_loss=2.019, w2v_ctc_loss=0.649, task_loss=1.291, contrastive_loss=0.211, total=4153.68, n_correct=2831.83, ppl=4.05, accuracy=68.176, wps=15626.1, ups=1.88, wpb=8307.4, bsz=309.6, num_updates=36000, lr=7.45356e-05, gnorm=0.518, clip=0, loss_scale=32, train_wall=53, gb_free=16.1, wall=23629
2023-08-21 22:28:51 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 22:29:14 | INFO | dev_st | epoch 025 | valid on 'dev_st' subset | loss 3.994 | trans_loss 5.163 | nll_loss 2.418 | w2v_ctc_loss 1.371 | task_loss 4.55 | contrastive_loss 0.486 | total 4003.4 | n_correct 2671.3 | ppl 5.35 | accuracy 66.726 | uer 17.97 | wer 19.82 | raw_wer 19.82 | bleu 21.79 | wps 2403.8 | wpb 4003.4 | bsz 141.8 | num_updates 36000 | best_bleu 22.43
2023-08-21 22:29:14 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 25 @ 36000 updates
2023-08-21 22:29:14 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_25_36000.pt
2023-08-21 22:29:16 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_25_36000.pt
2023-08-21 22:29:20 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_25_36000.pt (epoch 25 @ 36000 updates, score 21.79) (writing took 5.702262500999495 seconds)
2023-08-21 22:30:14 | INFO | train_inner | epoch 025:    740 / 1474 loss=1.93, trans_loss=4.806, nll_loss=2.018, w2v_ctc_loss=0.647, task_loss=1.322, contrastive_loss=0.197, total=4128.34, n_correct=2816.21, ppl=4.05, accuracy=68.217, wps=9989.8, ups=1.21, wpb=8256.7, bsz=301.3, num_updates=36100, lr=7.44323e-05, gnorm=0.524, clip=0, loss_scale=32, train_wall=53, gb_free=16.7, wall=23712
2023-08-21 22:31:07 | INFO | train_inner | epoch 025:    840 / 1474 loss=1.918, trans_loss=4.815, nll_loss=2.029, w2v_ctc_loss=0.645, task_loss=1.201, contrastive_loss=0.096, total=4182.4, n_correct=2851.51, ppl=4.08, accuracy=68.179, wps=15596.1, ups=1.86, wpb=8364.8, bsz=326, num_updates=36200, lr=7.43294e-05, gnorm=0.51, clip=0, loss_scale=32, train_wall=53, gb_free=17.4, wall=23766
2023-08-21 22:32:01 | INFO | train_inner | epoch 025:    940 / 1474 loss=1.931, trans_loss=4.816, nll_loss=2.031, w2v_ctc_loss=0.647, task_loss=1.237, contrastive_loss=0.207, total=4155.21, n_correct=2832, ppl=4.09, accuracy=68.155, wps=15474.2, ups=1.86, wpb=8310.4, bsz=317, num_updates=36300, lr=7.4227e-05, gnorm=0.522, clip=0, loss_scale=32, train_wall=53, gb_free=13.6, wall=23819
2023-08-21 22:32:56 | INFO | train_inner | epoch 025:   1040 / 1474 loss=1.952, trans_loss=4.822, nll_loss=2.038, w2v_ctc_loss=0.642, task_loss=1.296, contrastive_loss=0.428, total=4177.7, n_correct=2841.17, ppl=4.11, accuracy=68.008, wps=15278.4, ups=1.83, wpb=8355.4, bsz=309.8, num_updates=36400, lr=7.41249e-05, gnorm=0.524, clip=0, loss_scale=32, train_wall=54, gb_free=15.3, wall=23874
2023-08-21 22:33:49 | INFO | train_inner | epoch 025:   1140 / 1474 loss=1.917, trans_loss=4.814, nll_loss=2.027, w2v_ctc_loss=0.644, task_loss=1.412, contrastive_loss=0.06, total=4039.24, n_correct=2754.01, ppl=4.08, accuracy=68.181, wps=15115.6, ups=1.87, wpb=8078.5, bsz=285.2, num_updates=36500, lr=7.40233e-05, gnorm=0.519, clip=0, loss_scale=32, train_wall=53, gb_free=16, wall=23927
2023-08-21 22:34:42 | INFO | train_inner | epoch 025:   1240 / 1474 loss=1.92, trans_loss=4.821, nll_loss=2.036, w2v_ctc_loss=0.647, task_loss=1.324, contrastive_loss=0.073, total=4090.59, n_correct=2785.18, ppl=4.1, accuracy=68.087, wps=15539.6, ups=1.9, wpb=8181.2, bsz=295.7, num_updates=36600, lr=7.39221e-05, gnorm=0.517, clip=0, loss_scale=32, train_wall=52, gb_free=16.8, wall=23980
2023-08-21 22:35:35 | INFO | train_inner | epoch 025:   1340 / 1474 loss=1.935, trans_loss=4.814, nll_loss=2.027, w2v_ctc_loss=0.647, task_loss=1.274, contrastive_loss=0.259, total=4164.34, n_correct=2838.17, ppl=4.08, accuracy=68.154, wps=15630.8, ups=1.88, wpb=8328.7, bsz=310.1, num_updates=36700, lr=7.38213e-05, gnorm=0.515, clip=0, loss_scale=32, train_wall=53, gb_free=16.4, wall=24033
2023-08-21 22:36:29 | INFO | train_inner | epoch 025:   1440 / 1474 loss=1.937, trans_loss=4.831, nll_loss=2.049, w2v_ctc_loss=0.655, task_loss=1.356, contrastive_loss=0.148, total=4099.11, n_correct=2776.36, ppl=4.14, accuracy=67.731, wps=15093.5, ups=1.84, wpb=8198.2, bsz=299.3, num_updates=36800, lr=7.3721e-05, gnorm=0.53, clip=0, loss_scale=32, train_wall=54, gb_free=11.8, wall=24088
2023-08-21 22:36:48 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 22:37:11 | INFO | dev_st | epoch 025 | valid on 'dev_st' subset | loss 3.973 | trans_loss 5.159 | nll_loss 2.414 | w2v_ctc_loss 1.315 | task_loss 4.573 | contrastive_loss 0.481 | total 4003.4 | n_correct 2673.8 | ppl 5.33 | accuracy 66.788 | uer 17.702 | wer 19.746 | raw_wer 19.746 | bleu 21.73 | wps 2425.2 | wpb 4003.4 | bsz 141.8 | num_updates 36834 | best_bleu 22.43
2023-08-21 22:37:11 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 25 @ 36834 updates
2023-08-21 22:37:11 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-21 22:37:15 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-21 22:37:16 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt (epoch 25 @ 36834 updates, score 21.73) (writing took 4.629692644928582 seconds)
2023-08-21 22:37:16 | INFO | fairseq_cli.train | end of epoch 25 (average epoch stats below)
2023-08-21 22:37:16 | INFO | train | epoch 025 | loss 1.927 | trans_loss 4.814 | nll_loss 2.027 | w2v_ctc_loss 0.647 | task_loss 1.304 | contrastive_loss 0.166 | total 4138.65 | n_correct 2820.68 | ppl 4.08 | accuracy 68.155 | wps 14270 | ups 1.72 | wpb 8277.3 | bsz 305.7 | num_updates 36834 | lr 7.36869e-05 | gnorm 0.519 | clip 0 | loss_scale 32 | train_wall 785 | gb_free 13.8 | wall 24134
2023-08-21 22:37:16 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 22:37:16 | INFO | fairseq.trainer | begin training epoch 26
2023-08-21 22:37:16 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 22:37:59 | INFO | train_inner | epoch 026:     66 / 1474 loss=1.91, trans_loss=4.799, nll_loss=2.007, w2v_ctc_loss=0.63, task_loss=1.225, contrastive_loss=0.118, total=4180.21, n_correct=2862.86, ppl=4.02, accuracy=68.486, wps=9359.9, ups=1.12, wpb=8360.4, bsz=318.3, num_updates=36900, lr=7.3621e-05, gnorm=0.512, clip=0, loss_scale=32, train_wall=54, gb_free=16.6, wall=24177
2023-08-21 22:38:53 | INFO | train_inner | epoch 026:    166 / 1474 loss=1.942, trans_loss=4.8, nll_loss=2.01, w2v_ctc_loss=0.623, task_loss=1.143, contrastive_loss=0.48, total=4270.78, n_correct=2924.8, ppl=4.03, accuracy=68.484, wps=15698.5, ups=1.84, wpb=8541.6, bsz=340.4, num_updates=37000, lr=7.35215e-05, gnorm=0.511, clip=0, loss_scale=32, train_wall=54, gb_free=14.8, wall=24231
2023-08-21 22:39:47 | INFO | train_inner | epoch 026:    266 / 1474 loss=1.927, trans_loss=4.797, nll_loss=2.005, w2v_ctc_loss=0.645, task_loss=1.294, contrastive_loss=0.237, total=4125.04, n_correct=2821.29, ppl=4.01, accuracy=68.394, wps=15346.6, ups=1.86, wpb=8250.1, bsz=307.1, num_updates=37100, lr=7.34223e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=53, gb_free=14.7, wall=24285
2023-08-21 22:40:40 | INFO | train_inner | epoch 026:    366 / 1474 loss=1.917, trans_loss=4.8, nll_loss=2.009, w2v_ctc_loss=0.639, task_loss=1.249, contrastive_loss=0.149, total=4165.74, n_correct=2851.03, ppl=4.03, accuracy=68.44, wps=15621.6, ups=1.88, wpb=8331.5, bsz=314.7, num_updates=37200, lr=7.33236e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=53, gb_free=16.5, wall=24338
2023-08-21 22:41:33 | INFO | train_inner | epoch 026:    466 / 1474 loss=1.922, trans_loss=4.79, nll_loss=1.997, w2v_ctc_loss=0.638, task_loss=1.243, contrastive_loss=0.248, total=4170.23, n_correct=2863.32, ppl=3.99, accuracy=68.661, wps=15782.1, ups=1.89, wpb=8340.5, bsz=315.4, num_updates=37300, lr=7.32252e-05, gnorm=0.515, clip=0, loss_scale=32, train_wall=52, gb_free=17.5, wall=24391
2023-08-21 22:42:27 | INFO | train_inner | epoch 026:    566 / 1474 loss=1.918, trans_loss=4.804, nll_loss=2.013, w2v_ctc_loss=0.65, task_loss=1.315, contrastive_loss=0.092, total=4155.02, n_correct=2838.47, ppl=4.04, accuracy=68.314, wps=15429.7, ups=1.86, wpb=8310, bsz=303.9, num_updates=37400, lr=7.31272e-05, gnorm=0.521, clip=0, loss_scale=32, train_wall=53, gb_free=17.4, wall=24445
2023-08-21 22:43:21 | INFO | train_inner | epoch 026:    666 / 1474 loss=1.909, trans_loss=4.802, nll_loss=2.012, w2v_ctc_loss=0.634, task_loss=1.329, contrastive_loss=0.068, total=4136.96, n_correct=2829.27, ppl=4.03, accuracy=68.39, wps=15416, ups=1.86, wpb=8273.9, bsz=299.2, num_updates=37500, lr=7.30297e-05, gnorm=0.518, clip=0, loss_scale=32, train_wall=53, gb_free=15, wall=24499
2023-08-21 22:44:14 | INFO | train_inner | epoch 026:    766 / 1474 loss=1.936, trans_loss=4.807, nll_loss=2.018, w2v_ctc_loss=0.64, task_loss=1.327, contrastive_loss=0.286, total=4086.28, n_correct=2785.72, ppl=4.05, accuracy=68.173, wps=15304.8, ups=1.87, wpb=8172.6, bsz=298.5, num_updates=37600, lr=7.29325e-05, gnorm=0.526, clip=0, loss_scale=32, train_wall=53, gb_free=14.7, wall=24552
2023-08-21 22:45:07 | INFO | train_inner | epoch 026:    866 / 1474 loss=1.916, trans_loss=4.803, nll_loss=2.013, w2v_ctc_loss=0.647, task_loss=1.29, contrastive_loss=0.091, total=4183.26, n_correct=2857.65, ppl=4.03, accuracy=68.312, wps=15681.7, ups=1.87, wpb=8366.5, bsz=308.1, num_updates=37700, lr=7.28357e-05, gnorm=0.517, clip=0, loss_scale=32, train_wall=53, gb_free=17, wall=24606
2023-08-21 22:46:01 | INFO | train_inner | epoch 026:    966 / 1474 loss=1.922, trans_loss=4.808, nll_loss=2.019, w2v_ctc_loss=0.631, task_loss=1.345, contrastive_loss=0.198, total=4137.96, n_correct=2825.97, ppl=4.05, accuracy=68.294, wps=15409, ups=1.86, wpb=8275.9, bsz=299, num_updates=37800, lr=7.27393e-05, gnorm=0.521, clip=0, loss_scale=32, train_wall=53, gb_free=16.5, wall=24659
2023-08-21 22:46:54 | INFO | train_inner | epoch 026:   1066 / 1474 loss=1.911, trans_loss=4.804, nll_loss=2.015, w2v_ctc_loss=0.641, task_loss=1.369, contrastive_loss=0.065, total=4120.53, n_correct=2820.35, ppl=4.04, accuracy=68.446, wps=15461.8, ups=1.88, wpb=8241.1, bsz=294.3, num_updates=37900, lr=7.26433e-05, gnorm=0.508, clip=0, loss_scale=32, train_wall=53, gb_free=16.3, wall=24713
2023-08-21 22:47:48 | INFO | train_inner | epoch 026:   1166 / 1474 loss=1.923, trans_loss=4.812, nll_loss=2.024, w2v_ctc_loss=0.641, task_loss=1.365, contrastive_loss=0.145, total=4113.86, n_correct=2805.26, ppl=4.07, accuracy=68.19, wps=15261.5, ups=1.85, wpb=8227.7, bsz=298.5, num_updates=38000, lr=7.25476e-05, gnorm=0.524, clip=0, loss_scale=32, train_wall=53, gb_free=16.2, wall=24767
2023-08-21 22:47:48 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 22:48:11 | INFO | dev_st | epoch 026 | valid on 'dev_st' subset | loss 3.982 | trans_loss 5.164 | nll_loss 2.419 | w2v_ctc_loss 1.334 | task_loss 4.595 | contrastive_loss 0.482 | total 4003.4 | n_correct 2666.9 | ppl 5.35 | accuracy 66.616 | uer 17.686 | wer 19.515 | raw_wer 19.515 | bleu 22.22 | wps 2423.3 | wpb 4003.4 | bsz 141.8 | num_updates 38000 | best_bleu 22.43
2023-08-21 22:48:11 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 26 @ 38000 updates
2023-08-21 22:48:11 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_26_38000.pt
2023-08-21 22:48:14 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_26_38000.pt
2023-08-21 22:48:18 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_26_38000.pt (epoch 26 @ 38000 updates, score 22.22) (writing took 6.750999548006803 seconds)
2023-08-21 22:49:12 | INFO | train_inner | epoch 026:   1266 / 1474 loss=1.928, trans_loss=4.823, nll_loss=2.038, w2v_ctc_loss=0.663, task_loss=1.457, contrastive_loss=0.07, total=3996.19, n_correct=2713.22, ppl=4.11, accuracy=67.895, wps=9507.8, ups=1.19, wpb=7992.4, bsz=279.3, num_updates=38100, lr=7.24524e-05, gnorm=0.528, clip=0, loss_scale=64, train_wall=53, gb_free=17.4, wall=24851
2023-08-21 22:50:06 | INFO | train_inner | epoch 026:   1366 / 1474 loss=1.912, trans_loss=4.811, nll_loss=2.024, w2v_ctc_loss=0.634, task_loss=1.3, contrastive_loss=0.088, total=4159.74, n_correct=2844.51, ppl=4.07, accuracy=68.382, wps=15423, ups=1.85, wpb=8319.5, bsz=311.4, num_updates=38200, lr=7.23575e-05, gnorm=0.514, clip=0, loss_scale=64, train_wall=54, gb_free=16.8, wall=24905
2023-08-21 22:50:59 | INFO | train_inner | epoch 026:   1466 / 1474 loss=1.907, trans_loss=4.805, nll_loss=2.016, w2v_ctc_loss=0.631, task_loss=1.234, contrastive_loss=0.082, total=4165.66, n_correct=2851.01, ppl=4.04, accuracy=68.441, wps=15641.3, ups=1.88, wpb=8331.3, bsz=317.5, num_updates=38300, lr=7.22629e-05, gnorm=0.515, clip=0, loss_scale=64, train_wall=53, gb_free=15.7, wall=24958
2023-08-21 22:51:04 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 22:51:27 | INFO | dev_st | epoch 026 | valid on 'dev_st' subset | loss 3.966 | trans_loss 5.158 | nll_loss 2.412 | w2v_ctc_loss 1.302 | task_loss 4.586 | contrastive_loss 0.465 | total 4003.4 | n_correct 2671.9 | ppl 5.32 | accuracy 66.741 | uer 17.601 | wer 19.369 | raw_wer 19.369 | bleu 22.03 | wps 2464.6 | wpb 4003.4 | bsz 141.8 | num_updates 38308 | best_bleu 22.43
2023-08-21 22:51:27 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 26 @ 38308 updates
2023-08-21 22:51:27 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-21 22:51:31 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-21 22:51:31 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt (epoch 26 @ 38308 updates, score 22.03) (writing took 4.59312787593808 seconds)
2023-08-21 22:51:31 | INFO | fairseq_cli.train | end of epoch 26 (average epoch stats below)
2023-08-21 22:51:31 | INFO | train | epoch 026 | loss 1.92 | trans_loss 4.804 | nll_loss 2.014 | w2v_ctc_loss 0.639 | task_loss 1.303 | contrastive_loss 0.164 | total 4138.65 | n_correct 2829.3 | ppl 4.04 | accuracy 68.363 | wps 14257.6 | ups 1.72 | wpb 8277.3 | bsz 305.7 | num_updates 38308 | lr 7.22554e-05 | gnorm 0.519 | clip 0 | loss_scale 64 | train_wall 784 | gb_free 15.6 | wall 24990
2023-08-21 22:51:32 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 22:51:32 | INFO | fairseq.trainer | begin training epoch 27
2023-08-21 22:51:32 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 22:52:27 | INFO | train_inner | epoch 027:     92 / 1474 loss=1.893, trans_loss=4.772, nll_loss=1.971, w2v_ctc_loss=0.625, task_loss=1.407, contrastive_loss=0.053, total=4054.57, n_correct=2798.62, ppl=3.92, accuracy=69.024, wps=9253.5, ups=1.14, wpb=8109.1, bsz=282.4, num_updates=38400, lr=7.21688e-05, gnorm=0.519, clip=0, loss_scale=64, train_wall=52, gb_free=15.9, wall=25045
2023-08-21 22:53:20 | INFO | train_inner | epoch 027:    192 / 1474 loss=1.898, trans_loss=4.784, nll_loss=1.989, w2v_ctc_loss=0.626, task_loss=1.237, contrastive_loss=0.091, total=4195.2, n_correct=2885.6, ppl=3.97, accuracy=68.783, wps=15751.3, ups=1.88, wpb=8390.4, bsz=323.2, num_updates=38500, lr=7.2075e-05, gnorm=0.519, clip=0, loss_scale=64, train_wall=53, gb_free=16.8, wall=25099
2023-08-21 22:54:14 | INFO | train_inner | epoch 027:    292 / 1474 loss=1.903, trans_loss=4.791, nll_loss=1.996, w2v_ctc_loss=0.633, task_loss=1.305, contrastive_loss=0.07, total=4162.23, n_correct=2861.63, ppl=3.99, accuracy=68.752, wps=15401.6, ups=1.85, wpb=8324.5, bsz=305.5, num_updates=38600, lr=7.19816e-05, gnorm=0.519, clip=0, loss_scale=64, train_wall=54, gb_free=16.7, wall=25153
2023-08-21 22:54:19 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 32.0
2023-08-21 22:55:10 | INFO | train_inner | epoch 027:    393 / 1474 loss=1.919, trans_loss=4.794, nll_loss=2.001, w2v_ctc_loss=0.639, task_loss=1.405, contrastive_loss=0.203, total=4052.96, n_correct=2779.56, ppl=4, accuracy=68.581, wps=14641.2, ups=1.81, wpb=8105.9, bsz=288.5, num_updates=38700, lr=7.18885e-05, gnorm=0.52, clip=0, loss_scale=32, train_wall=55, gb_free=17.3, wall=25208
2023-08-21 22:56:04 | INFO | train_inner | epoch 027:    493 / 1474 loss=1.928, trans_loss=4.802, nll_loss=2.012, w2v_ctc_loss=0.632, task_loss=1.192, contrastive_loss=0.288, total=4249.35, n_correct=2909.02, ppl=4.03, accuracy=68.458, wps=15667.2, ups=1.84, wpb=8498.7, bsz=331.9, num_updates=38800, lr=7.17958e-05, gnorm=0.517, clip=0, loss_scale=32, train_wall=54, gb_free=11.6, wall=25262
2023-08-21 22:56:57 | INFO | train_inner | epoch 027:    593 / 1474 loss=1.917, trans_loss=4.793, nll_loss=2, w2v_ctc_loss=0.638, task_loss=1.276, contrastive_loss=0.173, total=4133.39, n_correct=2834.54, ppl=4, accuracy=68.577, wps=15498.4, ups=1.87, wpb=8266.8, bsz=312, num_updates=38900, lr=7.17035e-05, gnorm=0.535, clip=0, loss_scale=32, train_wall=53, gb_free=11.6, wall=25316
2023-08-21 22:57:51 | INFO | train_inner | epoch 027:    693 / 1474 loss=1.915, trans_loss=4.798, nll_loss=2.006, w2v_ctc_loss=0.638, task_loss=1.303, contrastive_loss=0.131, total=4162.71, n_correct=2850.44, ppl=4.02, accuracy=68.476, wps=15584.6, ups=1.87, wpb=8325.4, bsz=305.4, num_updates=39000, lr=7.16115e-05, gnorm=0.516, clip=0, loss_scale=32, train_wall=53, gb_free=15.9, wall=25369
2023-08-21 22:58:44 | INFO | train_inner | epoch 027:    793 / 1474 loss=1.91, trans_loss=4.794, nll_loss=2.001, w2v_ctc_loss=0.643, task_loss=1.374, contrastive_loss=0.071, total=4103.81, n_correct=2810.16, ppl=4, accuracy=68.477, wps=15512.4, ups=1.89, wpb=8207.6, bsz=294.2, num_updates=39100, lr=7.15199e-05, gnorm=0.523, clip=0, loss_scale=32, train_wall=53, gb_free=15.9, wall=25422
2023-08-21 22:59:37 | INFO | train_inner | epoch 027:    893 / 1474 loss=1.905, trans_loss=4.8, nll_loss=2.009, w2v_ctc_loss=0.63, task_loss=1.361, contrastive_loss=0.059, total=4101.56, n_correct=2811.07, ppl=4.02, accuracy=68.537, wps=15373.3, ups=1.87, wpb=8203.1, bsz=292.1, num_updates=39200, lr=7.14286e-05, gnorm=0.518, clip=0, loss_scale=32, train_wall=53, gb_free=17.4, wall=25475
2023-08-21 23:00:31 | INFO | train_inner | epoch 027:    993 / 1474 loss=1.936, trans_loss=4.8, nll_loss=2.009, w2v_ctc_loss=0.63, task_loss=1.264, contrastive_loss=0.414, total=4199.56, n_correct=2877.34, ppl=4.03, accuracy=68.515, wps=15450.4, ups=1.84, wpb=8399.1, bsz=316.8, num_updates=39300, lr=7.13376e-05, gnorm=0.51, clip=0, loss_scale=32, train_wall=54, gb_free=11.2, wall=25530
2023-08-21 23:01:25 | INFO | train_inner | epoch 027:   1093 / 1474 loss=1.903, trans_loss=4.792, nll_loss=1.999, w2v_ctc_loss=0.629, task_loss=1.311, contrastive_loss=0.086, total=4150.97, n_correct=2849.45, ppl=4, accuracy=68.645, wps=15563.1, ups=1.87, wpb=8301.9, bsz=305, num_updates=39400, lr=7.1247e-05, gnorm=0.523, clip=0, loss_scale=32, train_wall=53, gb_free=11.6, wall=25583
2023-08-21 23:02:18 | INFO | train_inner | epoch 027:   1193 / 1474 loss=1.913, trans_loss=4.799, nll_loss=2.007, w2v_ctc_loss=0.642, task_loss=1.362, contrastive_loss=0.09, total=4103.06, n_correct=2808.25, ppl=4.02, accuracy=68.443, wps=15298, ups=1.86, wpb=8206.1, bsz=297.7, num_updates=39500, lr=7.11568e-05, gnorm=0.526, clip=0, loss_scale=32, train_wall=53, gb_free=16.2, wall=25637
2023-08-21 23:03:12 | INFO | train_inner | epoch 027:   1293 / 1474 loss=1.924, trans_loss=4.801, nll_loss=2.01, w2v_ctc_loss=0.638, task_loss=1.398, contrastive_loss=0.197, total=4062.52, n_correct=2774.29, ppl=4.03, accuracy=68.29, wps=15276, ups=1.88, wpb=8125, bsz=292.2, num_updates=39600, lr=7.10669e-05, gnorm=0.529, clip=0, loss_scale=32, train_wall=53, gb_free=16.2, wall=25690
2023-08-21 23:04:04 | INFO | train_inner | epoch 027:   1393 / 1474 loss=1.912, trans_loss=4.799, nll_loss=2.009, w2v_ctc_loss=0.629, task_loss=1.232, contrastive_loss=0.158, total=4152, n_correct=2846.86, ppl=4.02, accuracy=68.566, wps=15756.4, ups=1.9, wpb=8304, bsz=312.5, num_updates=39700, lr=7.09773e-05, gnorm=0.519, clip=0, loss_scale=32, train_wall=52, gb_free=16.3, wall=25743
2023-08-21 23:04:47 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 23:05:11 | INFO | dev_st | epoch 027 | valid on 'dev_st' subset | loss 3.974 | trans_loss 5.155 | nll_loss 2.41 | w2v_ctc_loss 1.333 | task_loss 4.574 | contrastive_loss 0.472 | total 4003.4 | n_correct 2676.2 | ppl 5.31 | accuracy 66.848 | uer 17.777 | wer 19.589 | raw_wer 19.589 | bleu 22.11 | wps 2381.4 | wpb 4003.4 | bsz 141.8 | num_updates 39781 | best_bleu 22.43
2023-08-21 23:05:11 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 27 @ 39781 updates
2023-08-21 23:05:11 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.1101.pt
2023-08-21 23:05:13 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.1101.pt
2023-08-21 23:05:16 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.1101.pt (epoch 27 @ 39781 updates, score 22.11) (writing took 5.658812304958701 seconds)
2023-08-21 23:05:17 | INFO | fairseq_cli.train | end of epoch 27 (average epoch stats below)
2023-08-21 23:05:17 | INFO | train | epoch 027 | loss 1.912 | trans_loss 4.794 | nll_loss 2.001 | w2v_ctc_loss 0.633 | task_loss 1.307 | contrastive_loss 0.147 | total 4136.97 | n_correct 2837.46 | ppl 4 | accuracy 68.588 | wps 14768.9 | ups 1.78 | wpb 8273.9 | bsz 305.1 | num_updates 39781 | lr 7.0905e-05 | gnorm 0.521 | clip 0 | loss_scale 32 | train_wall 783 | gb_free 17.5 | wall 25815
2023-08-21 23:05:17 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 23:05:17 | INFO | fairseq.trainer | begin training epoch 28
2023-08-21 23:05:17 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 23:05:34 | INFO | train_inner | epoch 028:     19 / 1474 loss=1.899, trans_loss=4.79, nll_loss=1.997, w2v_ctc_loss=0.627, task_loss=1.26, contrastive_loss=0.073, total=4108.43, n_correct=2824.04, ppl=3.99, accuracy=68.738, wps=9170.3, ups=1.12, wpb=8216.9, bsz=305.1, num_updates=39800, lr=7.08881e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=53, gb_free=15.9, wall=25832
2023-08-21 23:06:27 | INFO | train_inner | epoch 028:    119 / 1474 loss=1.893, trans_loss=4.768, nll_loss=1.966, w2v_ctc_loss=0.627, task_loss=1.362, contrastive_loss=0.065, total=4113.41, n_correct=2845.88, ppl=3.91, accuracy=69.185, wps=15406.7, ups=1.87, wpb=8226.8, bsz=293.9, num_updates=39900, lr=7.07992e-05, gnorm=0.521, clip=0, loss_scale=32, train_wall=53, gb_free=16.5, wall=25886
2023-08-21 23:07:21 | INFO | train_inner | epoch 028:    219 / 1474 loss=1.893, trans_loss=4.778, nll_loss=1.981, w2v_ctc_loss=0.621, task_loss=1.234, contrastive_loss=0.076, total=4191.56, n_correct=2891.38, ppl=3.95, accuracy=68.981, wps=15690.4, ups=1.87, wpb=8383.1, bsz=315.2, num_updates=40000, lr=7.07107e-05, gnorm=0.509, clip=0, loss_scale=32, train_wall=53, gb_free=14.7, wall=25939
2023-08-21 23:07:21 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 23:07:44 | INFO | dev_st | epoch 028 | valid on 'dev_st' subset | loss 3.981 | trans_loss 5.162 | nll_loss 2.417 | w2v_ctc_loss 1.339 | task_loss 4.59 | contrastive_loss 0.472 | total 4003.4 | n_correct 2676 | ppl 5.34 | accuracy 66.843 | uer 17.665 | wer 19.582 | raw_wer 19.582 | bleu 22.24 | wps 2463.5 | wpb 4003.4 | bsz 141.8 | num_updates 40000 | best_bleu 22.43
2023-08-21 23:07:44 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 28 @ 40000 updates
2023-08-21 23:07:44 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_28_40000.pt
2023-08-21 23:07:46 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_28_40000.pt
2023-08-21 23:07:50 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_28_40000.pt (epoch 28 @ 40000 updates, score 22.24) (writing took 6.780040748999454 seconds)
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:0')
2023-08-21 23:08:04 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-21 23:08:46 | INFO | train_inner | epoch 028:    320 / 1474 loss=1.937, trans_loss=4.787, nll_loss=1.992, w2v_ctc_loss=0.622, task_loss=1.326, contrastive_loss=0.524, total=4127.08, n_correct=2836.06, ppl=3.98, accuracy=68.718, wps=9738.8, ups=1.18, wpb=8254.2, bsz=308.8, num_updates=40100, lr=7.06225e-05, gnorm=0.526, clip=0, loss_scale=16, train_wall=54, gb_free=12.8, wall=26024
2023-08-21 23:09:39 | INFO | train_inner | epoch 028:    420 / 1474 loss=1.9, trans_loss=4.781, nll_loss=1.984, w2v_ctc_loss=0.634, task_loss=1.347, contrastive_loss=0.057, total=4089.84, n_correct=2817.19, ppl=3.96, accuracy=68.883, wps=15380, ups=1.88, wpb=8179.7, bsz=295.7, num_updates=40200, lr=7.05346e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=53, gb_free=16.1, wall=26077
2023-08-21 23:10:32 | INFO | train_inner | epoch 028:    520 / 1474 loss=1.897, trans_loss=4.78, nll_loss=1.983, w2v_ctc_loss=0.625, task_loss=1.357, contrastive_loss=0.075, total=4098.92, n_correct=2822.34, ppl=3.95, accuracy=68.856, wps=15445.9, ups=1.88, wpb=8197.8, bsz=295.7, num_updates=40300, lr=7.0447e-05, gnorm=0.515, clip=0, loss_scale=16, train_wall=53, gb_free=16.6, wall=26130
2023-08-21 23:11:25 | INFO | train_inner | epoch 028:    620 / 1474 loss=1.903, trans_loss=4.793, nll_loss=1.999, w2v_ctc_loss=0.632, task_loss=1.316, contrastive_loss=0.072, total=4180.1, n_correct=2871.14, ppl=4, accuracy=68.686, wps=15578.6, ups=1.86, wpb=8360.2, bsz=305.3, num_updates=40400, lr=7.03598e-05, gnorm=0.513, clip=0, loss_scale=16, train_wall=53, gb_free=16.2, wall=26184
2023-08-21 23:12:19 | INFO | train_inner | epoch 028:    720 / 1474 loss=1.919, trans_loss=4.792, nll_loss=1.999, w2v_ctc_loss=0.622, task_loss=1.177, contrastive_loss=0.284, total=4191.62, n_correct=2881.35, ppl=4, accuracy=68.741, wps=15630, ups=1.86, wpb=8383.2, bsz=329.2, num_updates=40500, lr=7.02728e-05, gnorm=0.523, clip=0, loss_scale=16, train_wall=53, gb_free=16.6, wall=26237
2023-08-21 23:13:12 | INFO | train_inner | epoch 028:    820 / 1474 loss=1.894, trans_loss=4.784, nll_loss=1.989, w2v_ctc_loss=0.621, task_loss=1.29, contrastive_loss=0.061, total=4088.91, n_correct=2815.76, ppl=3.97, accuracy=68.863, wps=15410.1, ups=1.88, wpb=8177.8, bsz=304.3, num_updates=40600, lr=7.01862e-05, gnorm=0.523, clip=0, loss_scale=16, train_wall=53, gb_free=16.6, wall=26291
2023-08-21 23:14:06 | INFO | train_inner | epoch 028:    920 / 1474 loss=1.917, trans_loss=4.793, nll_loss=1.999, w2v_ctc_loss=0.634, task_loss=1.353, contrastive_loss=0.174, total=4117.01, n_correct=2817.88, ppl=4, accuracy=68.445, wps=15254.4, ups=1.85, wpb=8234, bsz=299.7, num_updates=40700, lr=7.01e-05, gnorm=0.526, clip=0, loss_scale=16, train_wall=54, gb_free=14.9, wall=26344
2023-08-21 23:15:00 | INFO | train_inner | epoch 028:   1020 / 1474 loss=1.926, trans_loss=4.79, nll_loss=1.996, w2v_ctc_loss=0.637, task_loss=1.267, contrastive_loss=0.27, total=4182.85, n_correct=2869.78, ppl=3.99, accuracy=68.608, wps=15667.1, ups=1.87, wpb=8365.7, bsz=312, num_updates=40800, lr=7.0014e-05, gnorm=0.531, clip=0, loss_scale=16, train_wall=53, gb_free=16, wall=26398
2023-08-21 23:15:53 | INFO | train_inner | epoch 028:   1120 / 1474 loss=1.898, trans_loss=4.783, nll_loss=1.987, w2v_ctc_loss=0.625, task_loss=1.251, contrastive_loss=0.094, total=4220.16, n_correct=2899.63, ppl=3.96, accuracy=68.709, wps=15752.4, ups=1.87, wpb=8440.3, bsz=321, num_updates=40900, lr=6.99284e-05, gnorm=0.512, clip=0, loss_scale=16, train_wall=53, gb_free=15.5, wall=26451
2023-08-21 23:16:46 | INFO | train_inner | epoch 028:   1220 / 1474 loss=1.897, trans_loss=4.79, nll_loss=1.995, w2v_ctc_loss=0.62, task_loss=1.296, contrastive_loss=0.073, total=4092.46, n_correct=2813.09, ppl=3.99, accuracy=68.738, wps=15415.3, ups=1.88, wpb=8184.9, bsz=303.1, num_updates=41000, lr=6.9843e-05, gnorm=0.521, clip=0, loss_scale=16, train_wall=53, gb_free=17.3, wall=26505
2023-08-21 23:17:40 | INFO | train_inner | epoch 028:   1320 / 1474 loss=1.909, trans_loss=4.789, nll_loss=1.994, w2v_ctc_loss=0.637, task_loss=1.427, contrastive_loss=0.098, total=4084.55, n_correct=2804.57, ppl=3.98, accuracy=68.663, wps=15147.5, ups=1.85, wpb=8169.1, bsz=285.1, num_updates=41100, lr=6.9758e-05, gnorm=0.522, clip=0, loss_scale=16, train_wall=54, gb_free=15.4, wall=26559
2023-08-21 23:18:34 | INFO | train_inner | epoch 028:   1420 / 1474 loss=1.908, trans_loss=4.788, nll_loss=1.993, w2v_ctc_loss=0.625, task_loss=1.358, contrastive_loss=0.147, total=4154.09, n_correct=2851.52, ppl=3.98, accuracy=68.644, wps=15482.5, ups=1.86, wpb=8308.2, bsz=299.3, num_updates=41200, lr=6.96733e-05, gnorm=0.516, clip=0, loss_scale=16, train_wall=53, gb_free=15.6, wall=26612
2023-08-21 23:19:03 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:5')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:1')
2023-08-21 23:19:26 | INFO | dev_st | epoch 028 | valid on 'dev_st' subset | loss 3.967 | trans_loss 5.162 | nll_loss 2.417 | w2v_ctc_loss 1.279 | task_loss 4.59 | contrastive_loss 0.492 | total 4003.4 | n_correct 2672.8 | ppl 5.34 | accuracy 66.763 | uer 17.275 | wer 19.03 | raw_wer 19.03 | bleu 22.03 | wps 2419.2 | wpb 4003.4 | bsz 141.8 | num_updates 41254 | best_bleu 22.43
2023-08-21 23:19:26 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 28 @ 41254 updates
2023-08-21 23:19:26 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-21 23:19:30 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-21 23:19:30 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt (epoch 28 @ 41254 updates, score 22.03) (writing took 4.526409309939481 seconds)
2023-08-21 23:19:30 | INFO | fairseq_cli.train | end of epoch 28 (average epoch stats below)
2023-08-21 23:19:30 | INFO | train | epoch 028 | loss 1.906 | trans_loss 4.785 | nll_loss 1.99 | w2v_ctc_loss 0.627 | task_loss 1.306 | contrastive_loss 0.146 | total 4137.55 | n_correct 2845.54 | ppl 3.97 | accuracy 68.773 | wps 14276.4 | ups 1.73 | wpb 8275.1 | bsz 305.2 | num_updates 41254 | lr 6.96277e-05 | gnorm 0.52 | clip 0 | loss_scale 16 | train_wall 782 | gb_free 16.1 | wall 26669
2023-08-21 23:19:31 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 23:19:31 | INFO | fairseq.trainer | begin training epoch 29
2023-08-21 23:19:31 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 23:20:03 | INFO | train_inner | epoch 029:     46 / 1474 loss=1.897, trans_loss=4.777, nll_loss=1.98, w2v_ctc_loss=0.629, task_loss=1.252, contrastive_loss=0.09, total=4169.12, n_correct=2875.93, ppl=3.94, accuracy=68.982, wps=9378.5, ups=1.12, wpb=8338.2, bsz=316.4, num_updates=41300, lr=6.95889e-05, gnorm=0.522, clip=0, loss_scale=16, train_wall=53, gb_free=16, wall=26701
2023-08-21 23:20:57 | INFO | train_inner | epoch 029:    146 / 1474 loss=1.902, trans_loss=4.777, nll_loss=1.979, w2v_ctc_loss=0.628, task_loss=1.299, contrastive_loss=0.121, total=4105.72, n_correct=2830.41, ppl=3.94, accuracy=68.938, wps=15266.3, ups=1.86, wpb=8211.4, bsz=304.1, num_updates=41400, lr=6.95048e-05, gnorm=0.527, clip=0, loss_scale=16, train_wall=53, gb_free=15.6, wall=26755
2023-08-21 23:21:51 | INFO | train_inner | epoch 029:    246 / 1474 loss=1.909, trans_loss=4.768, nll_loss=1.968, w2v_ctc_loss=0.609, task_loss=1.191, contrastive_loss=0.295, total=4199.67, n_correct=2904.67, ppl=3.91, accuracy=69.164, wps=15545, ups=1.85, wpb=8399.3, bsz=330.5, num_updates=41500, lr=6.9421e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=54, gb_free=15.3, wall=26809
2023-08-21 23:22:44 | INFO | train_inner | epoch 029:    346 / 1474 loss=1.903, trans_loss=4.786, nll_loss=1.99, w2v_ctc_loss=0.635, task_loss=1.397, contrastive_loss=0.07, total=4095.17, n_correct=2816.97, ppl=3.97, accuracy=68.788, wps=15274.1, ups=1.86, wpb=8190.3, bsz=291.2, num_updates=41600, lr=6.93375e-05, gnorm=0.525, clip=0, loss_scale=16, train_wall=53, gb_free=16.3, wall=26863
2023-08-21 23:23:38 | INFO | train_inner | epoch 029:    446 / 1474 loss=1.881, trans_loss=4.756, nll_loss=1.952, w2v_ctc_loss=0.613, task_loss=1.252, contrastive_loss=0.059, total=4157.44, n_correct=2884.94, ppl=3.87, accuracy=69.392, wps=15386.1, ups=1.85, wpb=8314.9, bsz=307.7, num_updates=41700, lr=6.92543e-05, gnorm=0.516, clip=0, loss_scale=16, train_wall=54, gb_free=16.1, wall=26917
2023-08-21 23:24:32 | INFO | train_inner | epoch 029:    546 / 1474 loss=1.918, trans_loss=4.783, nll_loss=1.987, w2v_ctc_loss=0.627, task_loss=1.387, contrastive_loss=0.231, total=4150.87, n_correct=2854.1, ppl=3.96, accuracy=68.759, wps=15394.7, ups=1.85, wpb=8301.7, bsz=294.9, num_updates=41800, lr=6.91714e-05, gnorm=0.525, clip=0, loss_scale=16, train_wall=53, gb_free=15.4, wall=26971
2023-08-21 23:25:26 | INFO | train_inner | epoch 029:    646 / 1474 loss=1.917, trans_loss=4.774, nll_loss=1.976, w2v_ctc_loss=0.618, task_loss=1.234, contrastive_loss=0.381, total=4143.02, n_correct=2858.42, ppl=3.93, accuracy=68.994, wps=15533.2, ups=1.87, wpb=8286, bsz=318.6, num_updates=41900, lr=6.90889e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=53, gb_free=16.7, wall=27024
2023-08-21 23:26:20 | INFO | train_inner | epoch 029:    746 / 1474 loss=1.903, trans_loss=4.773, nll_loss=1.973, w2v_ctc_loss=0.617, task_loss=1.201, contrastive_loss=0.204, total=4249.79, n_correct=2934.42, ppl=3.93, accuracy=69.049, wps=15676.9, ups=1.84, wpb=8499.6, bsz=330, num_updates=42000, lr=6.90066e-05, gnorm=0.512, clip=0, loss_scale=16, train_wall=54, gb_free=16.2, wall=27078
2023-08-21 23:26:20 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 23:26:43 | INFO | dev_st | epoch 029 | valid on 'dev_st' subset | loss 3.984 | trans_loss 5.159 | nll_loss 2.415 | w2v_ctc_loss 1.354 | task_loss 4.554 | contrastive_loss 0.473 | total 4003.4 | n_correct 2672.1 | ppl 5.33 | accuracy 66.746 | uer 17.785 | wer 19.567 | raw_wer 19.567 | bleu 21.99 | wps 2398.6 | wpb 4003.4 | bsz 141.8 | num_updates 42000 | best_bleu 22.43
2023-08-21 23:26:43 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 29 @ 42000 updates
2023-08-21 23:26:43 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_29_42000.pt
2023-08-21 23:26:46 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_29_42000.pt
2023-08-21 23:26:49 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_29_42000.pt (epoch 29 @ 42000 updates, score 21.99) (writing took 5.696470193914138 seconds)
2023-08-21 23:27:42 | INFO | train_inner | epoch 029:    846 / 1474 loss=1.897, trans_loss=4.786, nll_loss=1.991, w2v_ctc_loss=0.622, task_loss=1.447, contrastive_loss=0.058, total=4027.19, n_correct=2769.22, ppl=3.97, accuracy=68.763, wps=9753.7, ups=1.21, wpb=8054.4, bsz=280.6, num_updates=42100, lr=6.89246e-05, gnorm=0.523, clip=0, loss_scale=32, train_wall=53, gb_free=16.9, wall=27161
2023-08-21 23:28:35 | INFO | train_inner | epoch 029:    946 / 1474 loss=1.899, trans_loss=4.783, nll_loss=1.986, w2v_ctc_loss=0.631, task_loss=1.328, contrastive_loss=0.072, total=4082.14, n_correct=2811.63, ppl=3.96, accuracy=68.876, wps=15387.6, ups=1.88, wpb=8164.3, bsz=296.3, num_updates=42200, lr=6.88428e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=53, gb_free=15, wall=27214
2023-08-21 23:29:29 | INFO | train_inner | epoch 029:   1046 / 1474 loss=1.902, trans_loss=4.774, nll_loss=1.976, w2v_ctc_loss=0.616, task_loss=1.298, contrastive_loss=0.211, total=4148.18, n_correct=2865, ppl=3.93, accuracy=69.066, wps=15471.3, ups=1.86, wpb=8296.4, bsz=308.2, num_updates=42300, lr=6.87614e-05, gnorm=0.516, clip=0, loss_scale=32, train_wall=53, gb_free=15.6, wall=27267
2023-08-21 23:30:22 | INFO | train_inner | epoch 029:   1146 / 1474 loss=1.901, trans_loss=4.787, nll_loss=1.992, w2v_ctc_loss=0.632, task_loss=1.431, contrastive_loss=0.053, total=4063.95, n_correct=2794, ppl=3.98, accuracy=68.751, wps=15277, ups=1.88, wpb=8127.9, bsz=283, num_updates=42400, lr=6.86803e-05, gnorm=0.517, clip=0, loss_scale=32, train_wall=53, gb_free=12.8, wall=27321
2023-08-21 23:30:31 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-21 23:31:16 | INFO | train_inner | epoch 029:   1247 / 1474 loss=1.898, trans_loss=4.787, nll_loss=1.991, w2v_ctc_loss=0.628, task_loss=1.334, contrastive_loss=0.061, total=4147.28, n_correct=2853.27, ppl=3.98, accuracy=68.799, wps=15412.9, ups=1.86, wpb=8294.6, bsz=298.6, num_updates=42500, lr=6.85994e-05, gnorm=0.515, clip=0, loss_scale=16, train_wall=53, gb_free=15.1, wall=27374
2023-08-21 23:32:10 | INFO | train_inner | epoch 029:   1347 / 1474 loss=1.899, trans_loss=4.772, nll_loss=1.972, w2v_ctc_loss=0.612, task_loss=1.283, contrastive_loss=0.178, total=4168.02, n_correct=2878.86, ppl=3.92, accuracy=69.07, wps=15473.8, ups=1.86, wpb=8336, bsz=310.2, num_updates=42600, lr=6.85189e-05, gnorm=0.521, clip=0, loss_scale=16, train_wall=53, gb_free=16.2, wall=27428
2023-08-21 23:33:03 | INFO | train_inner | epoch 029:   1447 / 1474 loss=1.911, trans_loss=4.777, nll_loss=1.979, w2v_ctc_loss=0.627, task_loss=1.272, contrastive_loss=0.243, total=4166.06, n_correct=2870.51, ppl=3.94, accuracy=68.902, wps=15685.7, ups=1.88, wpb=8332.1, bsz=313.1, num_updates=42700, lr=6.84386e-05, gnorm=0.523, clip=0, loss_scale=16, train_wall=53, gb_free=16.5, wall=27481
2023-08-21 23:33:17 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 23:33:40 | INFO | dev_st | epoch 029 | valid on 'dev_st' subset | loss 3.979 | trans_loss 5.156 | nll_loss 2.407 | w2v_ctc_loss 1.35 | task_loss 4.585 | contrastive_loss 0.463 | total 4003.4 | n_correct 2675.3 | ppl 5.3 | accuracy 66.826 | uer 17.248 | wer 19.198 | raw_wer 19.198 | bleu 22.2 | wps 2501 | wpb 4003.4 | bsz 141.8 | num_updates 42727 | best_bleu 22.43
2023-08-21 23:33:40 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 29 @ 42727 updates
2023-08-21 23:33:40 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2009.pt
2023-08-21 23:33:42 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2009.pt
2023-08-21 23:33:46 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2009.pt (epoch 29 @ 42727 updates, score 22.2) (writing took 5.752600467065349 seconds)
2023-08-21 23:33:46 | INFO | fairseq_cli.train | end of epoch 29 (average epoch stats below)
2023-08-21 23:33:46 | INFO | train | epoch 029 | loss 1.902 | trans_loss 4.777 | nll_loss 1.979 | w2v_ctc_loss 0.622 | task_loss 1.304 | contrastive_loss 0.159 | total 4137.85 | n_correct 2853.49 | ppl 3.94 | accuracy 68.961 | wps 14251.2 | ups 1.72 | wpb 8275.7 | bsz 305.5 | num_updates 42727 | lr 6.8417e-05 | gnorm 0.52 | clip 0 | loss_scale 16 | train_wall 784 | gb_free 15.7 | wall 27524
2023-08-21 23:33:46 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 23:33:46 | INFO | fairseq.trainer | begin training epoch 30
2023-08-21 23:33:46 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 23:34:33 | INFO | train_inner | epoch 030:     73 / 1474 loss=1.902, trans_loss=4.765, nll_loss=1.964, w2v_ctc_loss=0.607, task_loss=1.242, contrastive_loss=0.276, total=4175.11, n_correct=2889.5, ppl=3.9, accuracy=69.208, wps=9316.3, ups=1.12, wpb=8350.2, bsz=318.6, num_updates=42800, lr=6.83586e-05, gnorm=0.524, clip=0, loss_scale=16, train_wall=53, gb_free=16.7, wall=27571
2023-08-21 23:35:26 | INFO | train_inner | epoch 030:    173 / 1474 loss=1.888, trans_loss=4.752, nll_loss=1.947, w2v_ctc_loss=0.614, task_loss=1.224, contrastive_loss=0.134, total=4202.64, n_correct=2920.19, ppl=3.86, accuracy=69.485, wps=15724.9, ups=1.87, wpb=8405.3, bsz=318.3, num_updates=42900, lr=6.82789e-05, gnorm=0.518, clip=0, loss_scale=16, train_wall=53, gb_free=16.3, wall=27624
2023-08-21 23:36:19 | INFO | train_inner | epoch 030:    273 / 1474 loss=1.889, trans_loss=4.768, nll_loss=1.966, w2v_ctc_loss=0.623, task_loss=1.347, contrastive_loss=0.056, total=4120.21, n_correct=2853.79, ppl=3.91, accuracy=69.263, wps=15507.3, ups=1.88, wpb=8240.4, bsz=294.9, num_updates=43000, lr=6.81994e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=53, gb_free=14.8, wall=27678
2023-08-21 23:37:13 | INFO | train_inner | epoch 030:    373 / 1474 loss=1.88, trans_loss=4.758, nll_loss=1.954, w2v_ctc_loss=0.611, task_loss=1.303, contrastive_loss=0.061, total=4178.23, n_correct=2901.02, ppl=3.87, accuracy=69.432, wps=15561, ups=1.86, wpb=8356.5, bsz=307.5, num_updates=43100, lr=6.81203e-05, gnorm=0.513, clip=0, loss_scale=16, train_wall=53, gb_free=9.5, wall=27731
2023-08-21 23:38:06 | INFO | train_inner | epoch 030:    473 / 1474 loss=1.893, trans_loss=4.764, nll_loss=1.962, w2v_ctc_loss=0.607, task_loss=1.25, contrastive_loss=0.179, total=4124.47, n_correct=2857.99, ppl=3.9, accuracy=69.294, wps=15636.2, ups=1.9, wpb=8248.9, bsz=312.6, num_updates=43200, lr=6.80414e-05, gnorm=0.518, clip=0, loss_scale=16, train_wall=52, gb_free=17.2, wall=27784
2023-08-21 23:38:59 | INFO | train_inner | epoch 030:    573 / 1474 loss=1.892, trans_loss=4.769, nll_loss=1.969, w2v_ctc_loss=0.618, task_loss=1.265, contrastive_loss=0.102, total=4168.41, n_correct=2879.66, ppl=3.91, accuracy=69.083, wps=15678.1, ups=1.88, wpb=8336.8, bsz=312.4, num_updates=43300, lr=6.79628e-05, gnorm=0.526, clip=0, loss_scale=16, train_wall=53, gb_free=16.9, wall=27837
2023-08-21 23:39:53 | INFO | train_inner | epoch 030:    673 / 1474 loss=1.898, trans_loss=4.77, nll_loss=1.97, w2v_ctc_loss=0.626, task_loss=1.289, contrastive_loss=0.121, total=4187.95, n_correct=2888.43, ppl=3.92, accuracy=68.97, wps=15457.4, ups=1.85, wpb=8375.9, bsz=315, num_updates=43400, lr=6.78844e-05, gnorm=0.528, clip=0, loss_scale=16, train_wall=54, gb_free=15.4, wall=27891
2023-08-21 23:40:47 | INFO | train_inner | epoch 030:    773 / 1474 loss=1.921, trans_loss=4.777, nll_loss=1.979, w2v_ctc_loss=0.63, task_loss=1.33, contrastive_loss=0.291, total=4105.32, n_correct=2824.81, ppl=3.94, accuracy=68.809, wps=15323.6, ups=1.87, wpb=8210.6, bsz=302.6, num_updates=43500, lr=6.78064e-05, gnorm=0.533, clip=0, loss_scale=16, train_wall=53, gb_free=12.5, wall=27945
2023-08-21 23:41:40 | INFO | train_inner | epoch 030:    873 / 1474 loss=1.895, trans_loss=4.775, nll_loss=1.977, w2v_ctc_loss=0.621, task_loss=1.347, contrastive_loss=0.081, total=4102.11, n_correct=2830.71, ppl=3.94, accuracy=69.006, wps=15406.5, ups=1.88, wpb=8204.2, bsz=295.6, num_updates=43600, lr=6.77285e-05, gnorm=0.529, clip=0, loss_scale=16, train_wall=53, gb_free=17, wall=27998
2023-08-21 23:42:33 | INFO | train_inner | epoch 030:    973 / 1474 loss=1.896, trans_loss=4.776, nll_loss=1.977, w2v_ctc_loss=0.626, task_loss=1.34, contrastive_loss=0.08, total=4129.98, n_correct=2846.61, ppl=3.94, accuracy=68.926, wps=15441.6, ups=1.87, wpb=8260, bsz=300.4, num_updates=43700, lr=6.7651e-05, gnorm=0.521, clip=0, loss_scale=16, train_wall=53, gb_free=15.9, wall=28052
2023-08-21 23:43:28 | INFO | train_inner | epoch 030:   1073 / 1474 loss=1.913, trans_loss=4.777, nll_loss=1.978, w2v_ctc_loss=0.623, task_loss=1.462, contrastive_loss=0.247, total=4101.17, n_correct=2824.35, ppl=3.94, accuracy=68.867, wps=15145.5, ups=1.85, wpb=8202.3, bsz=282.3, num_updates=43800, lr=6.75737e-05, gnorm=0.524, clip=0, loss_scale=16, train_wall=54, gb_free=15.3, wall=28106
2023-08-21 23:44:21 | INFO | train_inner | epoch 030:   1173 / 1474 loss=1.896, trans_loss=4.769, nll_loss=1.969, w2v_ctc_loss=0.605, task_loss=1.255, contrastive_loss=0.197, total=4168.36, n_correct=2884.93, ppl=3.91, accuracy=69.21, wps=15503.5, ups=1.86, wpb=8336.7, bsz=314, num_updates=43900, lr=6.74967e-05, gnorm=0.522, clip=0, loss_scale=16, train_wall=53, gb_free=15.6, wall=28160
2023-08-21 23:45:15 | INFO | train_inner | epoch 030:   1273 / 1474 loss=1.897, trans_loss=4.777, nll_loss=1.979, w2v_ctc_loss=0.626, task_loss=1.441, contrastive_loss=0.068, total=4036.17, n_correct=2779.1, ppl=3.94, accuracy=68.855, wps=14948.9, ups=1.85, wpb=8072.3, bsz=284.3, num_updates=44000, lr=6.742e-05, gnorm=0.536, clip=0, loss_scale=16, train_wall=54, gb_free=15.4, wall=28214
2023-08-21 23:45:15 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 23:45:39 | INFO | dev_st | epoch 030 | valid on 'dev_st' subset | loss 3.981 | trans_loss 5.156 | nll_loss 2.409 | w2v_ctc_loss 1.346 | task_loss 4.566 | contrastive_loss 0.48 | total 4003.4 | n_correct 2679 | ppl 5.31 | accuracy 66.918 | uer 17.482 | wer 19.38 | raw_wer 19.38 | bleu 22.26 | wps 2419.8 | wpb 4003.4 | bsz 141.8 | num_updates 44000 | best_bleu 22.43
2023-08-21 23:45:39 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 30 @ 44000 updates
2023-08-21 23:45:39 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_30_44000.pt
2023-08-21 23:45:41 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_30_44000.pt
2023-08-21 23:45:46 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_30_44000.pt (epoch 30 @ 44000 updates, score 22.26) (writing took 7.251006125006825 seconds)
2023-08-21 23:46:40 | INFO | train_inner | epoch 030:   1373 / 1474 loss=1.887, trans_loss=4.77, nll_loss=1.971, w2v_ctc_loss=0.616, task_loss=1.227, contrastive_loss=0.082, total=4165.07, n_correct=2882.34, ppl=3.92, accuracy=69.203, wps=9888.9, ups=1.19, wpb=8330.1, bsz=321.6, num_updates=44100, lr=6.73435e-05, gnorm=0.524, clip=0, loss_scale=16, train_wall=53, gb_free=16.3, wall=28298
2023-08-21 23:47:33 | INFO | train_inner | epoch 030:   1473 / 1474 loss=1.912, trans_loss=4.772, nll_loss=1.974, w2v_ctc_loss=0.605, task_loss=1.224, contrastive_loss=0.387, total=4141.76, n_correct=2861.84, ppl=3.93, accuracy=69.097, wps=15488.7, ups=1.87, wpb=8283.5, bsz=314.3, num_updates=44200, lr=6.72673e-05, gnorm=0.529, clip=0, loss_scale=16, train_wall=53, gb_free=15.9, wall=28351
2023-08-21 23:47:34 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-21 23:47:56 | INFO | dev_st | epoch 030 | valid on 'dev_st' subset | loss 3.976 | trans_loss 5.159 | nll_loss 2.412 | w2v_ctc_loss 1.325 | task_loss 4.568 | contrastive_loss 0.475 | total 4003.4 | n_correct 2675.1 | ppl 5.32 | accuracy 66.821 | uer 17.538 | wer 19.38 | raw_wer 19.38 | bleu 22.42 | wps 2502.3 | wpb 4003.4 | bsz 141.8 | num_updates 44201 | best_bleu 22.43
2023-08-21 23:47:56 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 30 @ 44201 updates
2023-08-21 23:47:56 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.4204.pt
2023-08-21 23:47:59 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.4204.pt
2023-08-21 23:48:02 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.4204.pt (epoch 30 @ 44201 updates, score 22.42) (writing took 5.882307986030355 seconds)
2023-08-21 23:48:02 | INFO | fairseq_cli.train | end of epoch 30 (average epoch stats below)
2023-08-21 23:48:02 | INFO | train | epoch 030 | loss 1.897 | trans_loss 4.769 | nll_loss 1.969 | w2v_ctc_loss 0.617 | task_loss 1.304 | contrastive_loss 0.16 | total 4138.65 | n_correct 2860.42 | ppl 3.91 | accuracy 69.115 | wps 14241.2 | ups 1.72 | wpb 8277.3 | bsz 305.7 | num_updates 44201 | lr 6.72665e-05 | gnorm 0.524 | clip 0 | loss_scale 16 | train_wall 783 | gb_free 16.7 | wall 28381
2023-08-21 23:48:03 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-21 23:48:03 | INFO | fairseq.trainer | begin training epoch 31
2023-08-21 23:48:03 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-21 23:49:03 | INFO | train_inner | epoch 031:     99 / 1474 loss=1.885, trans_loss=4.758, nll_loss=1.953, w2v_ctc_loss=0.617, task_loss=1.396, contrastive_loss=0.061, total=4054.44, n_correct=2811.34, ppl=3.87, accuracy=69.34, wps=9060.6, ups=1.12, wpb=8108.9, bsz=288.2, num_updates=44300, lr=6.71913e-05, gnorm=0.524, clip=0, loss_scale=16, train_wall=53, gb_free=16.1, wall=28441
2023-08-21 23:49:56 | INFO | train_inner | epoch 031:    199 / 1474 loss=1.887, trans_loss=4.759, nll_loss=1.956, w2v_ctc_loss=0.613, task_loss=1.337, contrastive_loss=0.105, total=4147.4, n_correct=2875.24, ppl=3.88, accuracy=69.326, wps=15523.1, ups=1.87, wpb=8294.8, bsz=302.2, num_updates=44400, lr=6.71156e-05, gnorm=0.523, clip=0, loss_scale=16, train_wall=53, gb_free=16.4, wall=28494
2023-08-21 23:50:50 | INFO | train_inner | epoch 031:    299 / 1474 loss=1.893, trans_loss=4.755, nll_loss=1.949, w2v_ctc_loss=0.61, task_loss=1.331, contrastive_loss=0.186, total=4149.21, n_correct=2880.87, ppl=3.86, accuracy=69.432, wps=15327.6, ups=1.85, wpb=8298.4, bsz=301.6, num_updates=44500, lr=6.70402e-05, gnorm=0.521, clip=0, loss_scale=32, train_wall=54, gb_free=15.7, wall=28549
2023-08-21 23:51:44 | INFO | train_inner | epoch 031:    399 / 1474 loss=1.886, trans_loss=4.765, nll_loss=1.962, w2v_ctc_loss=0.61, task_loss=1.425, contrastive_loss=0.068, total=4092.62, n_correct=2834.99, ppl=3.9, accuracy=69.271, wps=15294.4, ups=1.87, wpb=8185.2, bsz=285.6, num_updates=44600, lr=6.6965e-05, gnorm=0.526, clip=0, loss_scale=32, train_wall=53, gb_free=16.9, wall=28602
2023-08-21 23:52:38 | INFO | train_inner | epoch 031:    499 / 1474 loss=1.887, trans_loss=4.761, nll_loss=1.958, w2v_ctc_loss=0.62, task_loss=1.363, contrastive_loss=0.075, total=4111.85, n_correct=2846.08, ppl=3.89, accuracy=69.217, wps=15223, ups=1.85, wpb=8223.7, bsz=300.3, num_updates=44700, lr=6.689e-05, gnorm=0.524, clip=0, loss_scale=32, train_wall=54, gb_free=10.5, wall=28656
2023-08-21 23:53:31 | INFO | train_inner | epoch 031:    599 / 1474 loss=1.882, trans_loss=4.758, nll_loss=1.954, w2v_ctc_loss=0.612, task_loss=1.363, contrastive_loss=0.064, total=4083.44, n_correct=2832.96, ppl=3.88, accuracy=69.377, wps=15276.4, ups=1.87, wpb=8166.9, bsz=294.5, num_updates=44800, lr=6.68153e-05, gnorm=0.52, clip=0, loss_scale=32, train_wall=53, gb_free=16.4, wall=28710
2023-08-21 23:54:24 | INFO | train_inner | epoch 031:    699 / 1474 loss=1.877, trans_loss=4.756, nll_loss=1.952, w2v_ctc_loss=0.604, task_loss=1.241, contrastive_loss=0.066, total=4213.98, n_correct=2926.49, ppl=3.87, accuracy=69.447, wps=15816.6, ups=1.88, wpb=8428, bsz=315.7, num_updates=44900, lr=6.67409e-05, gnorm=0.514, clip=0, loss_scale=32, train_wall=53, gb_free=15.8, wall=28763
2023-08-21 23:55:18 | INFO | train_inner | epoch 031:    799 / 1474 loss=1.902, trans_loss=4.767, nll_loss=1.966, w2v_ctc_loss=0.615, task_loss=1.365, contrastive_loss=0.191, total=4097.37, n_correct=2830.09, ppl=3.91, accuracy=69.071, wps=15275, ups=1.86, wpb=8194.7, bsz=295.8, num_updates=45000, lr=6.66667e-05, gnorm=0.528, clip=0, loss_scale=32, train_wall=53, gb_free=12.4, wall=28816
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:0')
2023-08-21 23:56:12 | INFO | train_inner | epoch 031:    899 / 1474 loss=1.884, trans_loss=4.752, nll_loss=1.946, w2v_ctc_loss=0.613, task_loss=1.36, contrastive_loss=0.09, total=4096.72, n_correct=2843.61, ppl=3.85, accuracy=69.412, wps=15297.7, ups=1.87, wpb=8193.4, bsz=296.1, num_updates=45100, lr=6.65927e-05, gnorm=0.53, clip=0, loss_scale=32, train_wall=53, gb_free=16.9, wall=28870
2023-08-21 23:57:05 | INFO | train_inner | epoch 031:    999 / 1474 loss=1.901, trans_loss=4.769, nll_loss=1.969, w2v_ctc_loss=0.609, task_loss=1.228, contrastive_loss=0.253, total=4187.84, n_correct=2899.13, ppl=3.91, accuracy=69.227, wps=15659.7, ups=1.87, wpb=8375.7, bsz=319.5, num_updates=45200, lr=6.6519e-05, gnorm=0.522, clip=0, loss_scale=32, train_wall=53, gb_free=16.9, wall=28924
2023-08-21 23:57:59 | INFO | train_inner | epoch 031:   1099 / 1474 loss=1.892, trans_loss=4.764, nll_loss=1.962, w2v_ctc_loss=0.61, task_loss=1.274, contrastive_loss=0.141, total=4149.44, n_correct=2874.43, ppl=3.9, accuracy=69.273, wps=15462.2, ups=1.86, wpb=8298.9, bsz=315, num_updates=45300, lr=6.64455e-05, gnorm=0.524, clip=0, loss_scale=32, train_wall=53, gb_free=17.2, wall=28977
2023-08-21 23:58:52 | INFO | train_inner | epoch 031:   1199 / 1474 loss=1.907, trans_loss=4.763, nll_loss=1.961, w2v_ctc_loss=0.603, task_loss=1.22, contrastive_loss=0.384, total=4189.76, n_correct=2901.35, ppl=3.89, accuracy=69.249, wps=15721.9, ups=1.88, wpb=8379.5, bsz=321.3, num_updates=45400, lr=6.63723e-05, gnorm=0.521, clip=0, loss_scale=32, train_wall=53, gb_free=12.8, wall=29030
2023-08-21 23:59:45 | INFO | train_inner | epoch 031:   1299 / 1474 loss=1.885, trans_loss=4.769, nll_loss=1.969, w2v_ctc_loss=0.616, task_loss=1.169, contrastive_loss=0.074, total=4227.44, n_correct=2927.08, ppl=3.91, accuracy=69.24, wps=15882.2, ups=1.88, wpb=8454.9, bsz=326.3, num_updates=45500, lr=6.62994e-05, gnorm=0.514, clip=0, loss_scale=32, train_wall=53, gb_free=16, wall=29084
2023-08-22 00:00:32 | INFO | fairseq.trainer | NOTE: gradient overflow detected, ignoring gradient, setting loss scale to: 16.0
2023-08-22 00:00:40 | INFO | train_inner | epoch 031:   1400 / 1474 loss=1.903, trans_loss=4.763, nll_loss=1.961, w2v_ctc_loss=0.613, task_loss=1.217, contrastive_loss=0.271, total=4162.83, n_correct=2882.66, ppl=3.89, accuracy=69.248, wps=15300.3, ups=1.84, wpb=8325.7, bsz=319.1, num_updates=45600, lr=6.62266e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=54, gb_free=16.2, wall=29138
2023-08-22 00:01:19 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:2')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:1')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:6')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:7')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:4')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:3')
mt_weight tensor(0.5000)
asr_weight tensor(0.2118, device='cuda:5')
2023-08-22 00:01:42 | INFO | dev_st | epoch 031 | valid on 'dev_st' subset | loss 3.972 | trans_loss 5.156 | nll_loss 2.407 | w2v_ctc_loss 1.32 | task_loss 4.573 | contrastive_loss 0.477 | total 4003.4 | n_correct 2675.4 | ppl 5.3 | accuracy 66.828 | uer 17.134 | wer 19.045 | raw_wer 19.045 | bleu 22.33 | wps 2458.6 | wpb 4003.4 | bsz 141.8 | num_updates 45674 | best_bleu 22.43
2023-08-22 00:01:42 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 31 @ 45674 updates
2023-08-22 00:01:42 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.3305.pt
2023-08-22 00:01:45 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.3305.pt
2023-08-22 00:01:48 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.3305.pt (epoch 31 @ 45674 updates, score 22.33) (writing took 5.843665036023594 seconds)
2023-08-22 00:01:48 | INFO | fairseq_cli.train | end of epoch 31 (average epoch stats below)
2023-08-22 00:01:48 | INFO | train | epoch 031 | loss 1.891 | trans_loss 4.762 | nll_loss 1.959 | w2v_ctc_loss 0.612 | task_loss 1.306 | contrastive_loss 0.143 | total 4136.77 | n_correct 2866.34 | ppl 3.89 | accuracy 69.289 | wps 14757.4 | ups 1.78 | wpb 8273.5 | bsz 305.1 | num_updates 45674 | lr 6.61729e-05 | gnorm 0.523 | clip 0 | loss_scale 16 | train_wall 783 | gb_free 11.7 | wall 29207
2023-08-22 00:01:48 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 00:01:48 | INFO | fairseq.trainer | begin training epoch 32
2023-08-22 00:01:48 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 00:02:09 | INFO | train_inner | epoch 032:     26 / 1474 loss=1.883, trans_loss=4.758, nll_loss=1.955, w2v_ctc_loss=0.617, task_loss=1.377, contrastive_loss=0.058, total=4040.88, n_correct=2801.25, ppl=3.88, accuracy=69.323, wps=9018.4, ups=1.12, wpb=8081.8, bsz=288.7, num_updates=45700, lr=6.61541e-05, gnorm=0.532, clip=0, loss_scale=16, train_wall=53, gb_free=15.1, wall=29228
2023-08-22 00:03:03 | INFO | train_inner | epoch 032:    126 / 1474 loss=1.865, trans_loss=4.736, nll_loss=1.926, w2v_ctc_loss=0.591, task_loss=1.205, contrastive_loss=0.074, total=4222.14, n_correct=2947.59, ppl=3.8, accuracy=69.813, wps=15750.6, ups=1.87, wpb=8444.3, bsz=322.6, num_updates=45800, lr=6.60819e-05, gnorm=0.516, clip=0, loss_scale=16, train_wall=53, gb_free=15.1, wall=29281
2023-08-22 00:03:57 | INFO | train_inner | epoch 032:    226 / 1474 loss=1.879, trans_loss=4.756, nll_loss=1.951, w2v_ctc_loss=0.607, task_loss=1.239, contrastive_loss=0.087, total=4159.77, n_correct=2888.68, ppl=3.87, accuracy=69.443, wps=15433.6, ups=1.86, wpb=8319.5, bsz=320.8, num_updates=45900, lr=6.60098e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=53, gb_free=15.9, wall=29335
2023-08-22 00:04:51 | INFO | train_inner | epoch 032:    326 / 1474 loss=1.869, trans_loss=4.74, nll_loss=1.931, w2v_ctc_loss=0.597, task_loss=1.235, contrastive_loss=0.077, total=4179.65, n_correct=2917.66, ppl=3.81, accuracy=69.806, wps=15565.8, ups=1.86, wpb=8359.3, bsz=313.8, num_updates=46000, lr=6.5938e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=53, gb_free=15.9, wall=29389
2023-08-22 00:04:51 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 00:05:14 | INFO | dev_st | epoch 032 | valid on 'dev_st' subset | loss 3.985 | trans_loss 5.167 | nll_loss 2.422 | w2v_ctc_loss 1.336 | task_loss 4.575 | contrastive_loss 0.479 | total 4003.4 | n_correct 2674.6 | ppl 5.36 | accuracy 66.808 | uer 17.296 | wer 18.918 | raw_wer 18.918 | bleu 22.16 | wps 2431.1 | wpb 4003.4 | bsz 141.8 | num_updates 46000 | best_bleu 22.43
2023-08-22 00:05:14 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 32 @ 46000 updates
2023-08-22 00:05:14 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_32_46000.pt
2023-08-22 00:05:16 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_32_46000.pt
2023-08-22 00:05:19 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_32_46000.pt (epoch 32 @ 46000 updates, score 22.16) (writing took 5.639503026963212 seconds)
2023-08-22 00:06:13 | INFO | train_inner | epoch 032:    426 / 1474 loss=1.875, trans_loss=4.744, nll_loss=1.936, w2v_ctc_loss=0.607, task_loss=1.274, contrastive_loss=0.076, total=4172.34, n_correct=2903.17, ppl=3.83, accuracy=69.581, wps=10124.7, ups=1.21, wpb=8344.7, bsz=309.9, num_updates=46100, lr=6.58665e-05, gnorm=0.517, clip=0, loss_scale=16, train_wall=53, gb_free=16.8, wall=29471
2023-08-22 00:07:07 | INFO | train_inner | epoch 032:    526 / 1474 loss=1.895, trans_loss=4.756, nll_loss=1.951, w2v_ctc_loss=0.608, task_loss=1.273, contrastive_loss=0.219, total=4191.15, n_correct=2905.65, ppl=3.87, accuracy=69.328, wps=15437.5, ups=1.84, wpb=8382.3, bsz=315.1, num_updates=46200, lr=6.57952e-05, gnorm=0.518, clip=0, loss_scale=16, train_wall=54, gb_free=14.6, wall=29526
2023-08-22 00:08:02 | INFO | train_inner | epoch 032:    626 / 1474 loss=1.881, trans_loss=4.755, nll_loss=1.95, w2v_ctc_loss=0.607, task_loss=1.363, contrastive_loss=0.084, total=4138.05, n_correct=2874.3, ppl=3.86, accuracy=69.46, wps=15276, ups=1.85, wpb=8276.1, bsz=299.5, num_updates=46300, lr=6.57241e-05, gnorm=0.517, clip=0, loss_scale=16, train_wall=54, gb_free=12.9, wall=29580
2023-08-22 00:08:55 | INFO | train_inner | epoch 032:    726 / 1474 loss=1.881, trans_loss=4.757, nll_loss=1.952, w2v_ctc_loss=0.615, task_loss=1.322, contrastive_loss=0.061, total=4156.23, n_correct=2884.97, ppl=3.87, accuracy=69.413, wps=15422.7, ups=1.86, wpb=8312.5, bsz=303, num_updates=46400, lr=6.56532e-05, gnorm=0.52, clip=0, loss_scale=16, train_wall=53, gb_free=16.1, wall=29634
2023-08-22 00:09:48 | INFO | train_inner | epoch 032:    826 / 1474 loss=1.877, trans_loss=4.753, nll_loss=1.947, w2v_ctc_loss=0.606, task_loss=1.351, contrastive_loss=0.058, total=4112.3, n_correct=2857.49, ppl=3.86, accuracy=69.486, wps=15553, ups=1.89, wpb=8224.6, bsz=293.9, num_updates=46500, lr=6.55826e-05, gnorm=0.519, clip=0, loss_scale=16, train_wall=52, gb_free=15.5, wall=29687
2023-08-22 00:10:42 | INFO | train_inner | epoch 032:    926 / 1474 loss=1.876, trans_loss=4.753, nll_loss=1.948, w2v_ctc_loss=0.602, task_loss=1.349, contrastive_loss=0.057, total=4139.37, n_correct=2876.77, ppl=3.86, accuracy=69.498, wps=15325.7, ups=1.85, wpb=8278.7, bsz=298.6, num_updates=46600, lr=6.55122e-05, gnorm=0.524, clip=0, loss_scale=16, train_wall=54, gb_free=12.3, wall=29741
2023-08-22 00:11:36 | INFO | train_inner | epoch 032:   1026 / 1474 loss=1.897, trans_loss=4.759, nll_loss=1.955, w2v_ctc_loss=0.609, task_loss=1.282, contrastive_loss=0.239, total=4121.85, n_correct=2856.6, ppl=3.88, accuracy=69.304, wps=15507, ups=1.88, wpb=8243.7, bsz=306.1, num_updates=46700, lr=6.5442e-05, gnorm=0.521, clip=0, loss_scale=16, train_wall=53, gb_free=16.4, wall=29794
2023-08-22 00:12:29 | INFO | train_inner | epoch 032:   1126 / 1474 loss=1.891, trans_loss=4.757, nll_loss=1.952, w2v_ctc_loss=0.612, task_loss=1.551, contrastive_loss=0.125, total=4015.59, n_correct=2782.32, ppl=3.87, accuracy=69.288, wps=15008.8, ups=1.87, wpb=8031.2, bsz=270.1, num_updates=46800, lr=6.5372e-05, gnorm=0.533, clip=0, loss_scale=16, train_wall=53, gb_free=16.8, wall=29847
2023-08-22 00:13:23 | INFO | train_inner | epoch 032:   1226 / 1474 loss=1.913, trans_loss=4.768, nll_loss=1.967, w2v_ctc_loss=0.61, task_loss=1.289, contrastive_loss=0.318, total=4153.44, n_correct=2870.62, ppl=3.91, accuracy=69.114, wps=15388.3, ups=1.85, wpb=8306.9, bsz=310.8, num_updates=46900, lr=6.53023e-05, gnorm=0.526, clip=0, loss_scale=16, train_wall=54, gb_free=15.9, wall=29901
2023-08-22 00:14:16 | INFO | train_inner | epoch 032:   1326 / 1474 loss=1.881, trans_loss=4.757, nll_loss=1.952, w2v_ctc_loss=0.612, task_loss=1.34, contrastive_loss=0.057, total=4075.86, n_correct=2825.51, ppl=3.87, accuracy=69.323, wps=15351.8, ups=1.88, wpb=8151.7, bsz=295.4, num_updates=47000, lr=6.52328e-05, gnorm=0.528, clip=0, loss_scale=16, train_wall=53, gb_free=16.4, wall=29954
2023-08-22 00:15:10 | INFO | train_inner | epoch 032:   1426 / 1474 loss=1.927, trans_loss=4.761, nll_loss=1.958, w2v_ctc_loss=0.622, task_loss=1.301, contrastive_loss=0.514, total=4116.4, n_correct=2850.44, ppl=3.89, accuracy=69.246, wps=15413.4, ups=1.87, wpb=8232.8, bsz=307.6, num_updates=47100, lr=6.51635e-05, gnorm=0.533, clip=0, loss_scale=16, train_wall=53, gb_free=16.4, wall=30008
2023-08-22 00:15:35 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 00:15:58 | INFO | dev_st | epoch 032 | valid on 'dev_st' subset | loss 3.983 | trans_loss 5.161 | nll_loss 2.416 | w2v_ctc_loss 1.343 | task_loss 4.562 | contrastive_loss 0.474 | total 4003.4 | n_correct 2676.4 | ppl 5.34 | accuracy 66.853 | uer 17.421 | wer 19.239 | raw_wer 19.239 | bleu 22.26 | wps 2498 | wpb 4003.4 | bsz 141.8 | num_updates 47148 | best_bleu 22.43
2023-08-22 00:15:58 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 32 @ 47148 updates
2023-08-22 00:15:58 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2606.pt
2023-08-22 00:16:02 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2606.pt
2023-08-22 00:16:06 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint.best_bleu_22.2606.pt (epoch 32 @ 47148 updates, score 22.26) (writing took 7.788386911968701 seconds)
2023-08-22 00:16:06 | INFO | fairseq_cli.train | end of epoch 32 (average epoch stats below)
2023-08-22 00:16:06 | INFO | train | epoch 032 | loss 1.887 | trans_loss 4.754 | nll_loss 1.948 | w2v_ctc_loss 0.607 | task_loss 1.304 | contrastive_loss 0.156 | total 4138.65 | n_correct 2873.85 | ppl 3.86 | accuracy 69.439 | wps 14232.2 | ups 1.72 | wpb 8277.3 | bsz 305.7 | num_updates 47148 | lr 6.51303e-05 | gnorm 0.523 | clip 0 | loss_scale 16 | train_wall 784 | gb_free 16 | wall 30064
2023-08-22 00:16:06 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 00:16:06 | INFO | fairseq.trainer | begin training epoch 33
2023-08-22 00:16:06 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 00:16:41 | INFO | train_inner | epoch 033:     52 / 1474 loss=1.894, trans_loss=4.751, nll_loss=1.946, w2v_ctc_loss=0.6, task_loss=1.228, contrastive_loss=0.255, total=4149.21, n_correct=2882.74, ppl=3.85, accuracy=69.477, wps=9081.5, ups=1.09, wpb=8298.4, bsz=320.5, num_updates=47200, lr=6.50945e-05, gnorm=0.536, clip=0, loss_scale=16, train_wall=53, gb_free=16.7, wall=30099
2023-08-22 00:17:34 | INFO | train_inner | epoch 033:    152 / 1474 loss=1.863, trans_loss=4.734, nll_loss=1.922, w2v_ctc_loss=0.588, task_loss=1.401, contrastive_loss=0.047, total=4073.9, n_correct=2844.48, ppl=3.79, accuracy=69.822, wps=15273.9, ups=1.87, wpb=8147.8, bsz=284.8, num_updates=47300, lr=6.50256e-05, gnorm=0.514, clip=0, loss_scale=16, train_wall=53, gb_free=14.8, wall=30153
2023-08-22 00:18:28 | INFO | train_inner | epoch 033:    252 / 1474 loss=1.901, trans_loss=4.741, nll_loss=1.933, w2v_ctc_loss=0.597, task_loss=1.108, contrastive_loss=0.355, total=4280.14, n_correct=2984.97, ppl=3.82, accuracy=69.74, wps=15800.7, ups=1.85, wpb=8560.3, bsz=346.5, num_updates=47400, lr=6.4957e-05, gnorm=0.526, clip=0, loss_scale=16, train_wall=54, gb_free=16.1, wall=30207
2023-08-22 00:19:22 | INFO | train_inner | epoch 033:    352 / 1474 loss=1.877, trans_loss=4.745, nll_loss=1.938, w2v_ctc_loss=0.606, task_loss=1.336, contrastive_loss=0.085, total=4120.27, n_correct=2867.3, ppl=3.83, accuracy=69.59, wps=15493.1, ups=1.88, wpb=8240.5, bsz=300.7, num_updates=47500, lr=6.48886e-05, gnorm=0.525, clip=0, loss_scale=16, train_wall=53, gb_free=16.9, wall=30260
2023-08-22 00:20:15 | INFO | train_inner | epoch 033:    452 / 1474 loss=1.86, trans_loss=4.732, nll_loss=1.92, w2v_ctc_loss=0.591, task_loss=1.237, contrastive_loss=0.057, total=4141.22, n_correct=2898.01, ppl=3.78, accuracy=69.98, wps=15545.7, ups=1.88, wpb=8282.4, bsz=310.8, num_updates=47600, lr=6.48204e-05, gnorm=0.518, clip=0, loss_scale=16, train_wall=53, gb_free=16, wall=30313
2023-08-22 00:21:08 | INFO | train_inner | epoch 033:    552 / 1474 loss=1.881, trans_loss=4.748, nll_loss=1.94, w2v_ctc_loss=0.609, task_loss=1.358, contrastive_loss=0.091, total=4133.59, n_correct=2874.56, ppl=3.84, accuracy=69.541, wps=15456.6, ups=1.87, wpb=8267.2, bsz=294, num_updates=47700, lr=6.47524e-05, gnorm=0.524, clip=0, loss_scale=32, train_wall=53, gb_free=14.8, wall=30367
2023-08-22 00:22:02 | INFO | train_inner | epoch 033:    652 / 1474 loss=1.889, trans_loss=4.758, nll_loss=1.953, w2v_ctc_loss=0.604, task_loss=1.335, contrastive_loss=0.159, total=4157.63, n_correct=2884.91, ppl=3.87, accuracy=69.388, wps=15447.3, ups=1.86, wpb=8315.3, bsz=301.6, num_updates=47800, lr=6.46846e-05, gnorm=0.519, clip=0, loss_scale=32, train_wall=53, gb_free=17.4, wall=30421
2023-08-22 00:22:56 | INFO | train_inner | epoch 033:    752 / 1474 loss=1.884, trans_loss=4.753, nll_loss=1.946, w2v_ctc_loss=0.621, task_loss=1.416, contrastive_loss=0.059, total=4070.75, n_correct=2827.12, ppl=3.85, accuracy=69.45, wps=15260.1, ups=1.87, wpb=8141.5, bsz=287.2, num_updates=47900, lr=6.46171e-05, gnorm=0.535, clip=0, loss_scale=32, train_wall=53, gb_free=16, wall=30474
2023-08-22 00:23:49 | INFO | train_inner | epoch 033:    852 / 1474 loss=1.872, trans_loss=4.739, nll_loss=1.93, w2v_ctc_loss=0.584, task_loss=1.241, contrastive_loss=0.19, total=4130.24, n_correct=2886.46, ppl=3.81, accuracy=69.886, wps=15506.9, ups=1.88, wpb=8260.5, bsz=316.3, num_updates=48000, lr=6.45497e-05, gnorm=0.509, clip=0, loss_scale=32, train_wall=53, gb_free=16.2, wall=30527
2023-08-22 00:23:49 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 00:24:13 | INFO | dev_st | epoch 033 | valid on 'dev_st' subset | loss 3.986 | trans_loss 5.16 | nll_loss 2.414 | w2v_ctc_loss 1.353 | task_loss 4.58 | contrastive_loss 0.488 | total 4003.4 | n_correct 2677.1 | ppl 5.33 | accuracy 66.871 | uer 17.32 | wer 19.19 | raw_wer 19.19 | bleu 22.23 | wps 2293.1 | wpb 4003.4 | bsz 141.8 | num_updates 48000 | best_bleu 22.43
2023-08-22 00:24:13 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 33 @ 48000 updates
2023-08-22 00:24:13 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_33_48000.pt
2023-08-22 00:24:15 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_33_48000.pt
2023-08-22 00:24:19 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_33_48000.pt (epoch 33 @ 48000 updates, score 22.23) (writing took 6.855894203064963 seconds)
2023-08-22 00:25:13 | INFO | train_inner | epoch 033:    952 / 1474 loss=1.88, trans_loss=4.75, nll_loss=1.944, w2v_ctc_loss=0.614, task_loss=1.299, contrastive_loss=0.075, total=4151.18, n_correct=2887.59, ppl=3.85, accuracy=69.561, wps=9865.6, ups=1.19, wpb=8302.4, bsz=308.3, num_updates=48100, lr=6.44826e-05, gnorm=0.525, clip=0, loss_scale=32, train_wall=53, gb_free=10.8, wall=30611
2023-08-22 00:26:07 | INFO | train_inner | epoch 033:   1052 / 1474 loss=1.897, trans_loss=4.745, nll_loss=1.938, w2v_ctc_loss=0.605, task_loss=1.308, contrastive_loss=0.277, total=4140.1, n_correct=2878.18, ppl=3.83, accuracy=69.52, wps=15280.6, ups=1.85, wpb=8280.2, bsz=307.6, num_updates=48200, lr=6.44157e-05, gnorm=0.53, clip=0, loss_scale=32, train_wall=54, gb_free=11.1, wall=30666
2023-08-22 00:27:01 | INFO | train_inner | epoch 033:   1152 / 1474 loss=1.894, trans_loss=4.756, nll_loss=1.952, w2v_ctc_loss=0.598, task_loss=1.308, contrastive_loss=0.255, total=4182.67, n_correct=2903.3, ppl=3.87, accuracy=69.413, wps=15532.8, ups=1.86, wpb=8365.3, bsz=309.5, num_updates=48300, lr=6.43489e-05, gnorm=0.526, clip=0, loss_scale=32, train_wall=53, gb_free=17.2, wall=30719
2023-08-22 00:27:55 | INFO | train_inner | epoch 033:   1252 / 1474 loss=1.876, trans_loss=4.744, nll_loss=1.936, w2v_ctc_loss=0.609, task_loss=1.371, contrastive_loss=0.065, total=4110.02, n_correct=2861.68, ppl=3.83, accuracy=69.627, wps=15321.1, ups=1.86, wpb=8220, bsz=294.4, num_updates=48400, lr=6.42824e-05, gnorm=0.52, clip=0, loss_scale=32, train_wall=53, gb_free=16.3, wall=30773
2023-08-22 00:28:48 | INFO | train_inner | epoch 033:   1352 / 1474 loss=1.876, trans_loss=4.749, nll_loss=1.943, w2v_ctc_loss=0.603, task_loss=1.279, contrastive_loss=0.091, total=4128.82, n_correct=2874.47, ppl=3.85, accuracy=69.62, wps=15386.5, ups=1.86, wpb=8257.6, bsz=312.4, num_updates=48500, lr=6.42161e-05, gnorm=0.526, clip=0, loss_scale=32, train_wall=53, gb_free=15.6, wall=30827
2023-08-22 00:29:42 | INFO | train_inner | epoch 033:   1452 / 1474 loss=1.901, trans_loss=4.748, nll_loss=1.942, w2v_ctc_loss=0.599, task_loss=1.299, contrastive_loss=0.388, total=4123.47, n_correct=2865.96, ppl=3.84, accuracy=69.504, wps=15326.3, ups=1.86, wpb=8246.9, bsz=308.9, num_updates=48600, lr=6.415e-05, gnorm=0.521, clip=0, loss_scale=32, train_wall=53, gb_free=16.2, wall=30881
2023-08-22 00:29:54 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 00:30:17 | INFO | dev_st | epoch 033 | valid on 'dev_st' subset | loss 3.977 | trans_loss 5.159 | nll_loss 2.41 | w2v_ctc_loss 1.331 | task_loss 4.576 | contrastive_loss 0.472 | total 4003.4 | n_correct 2679.8 | ppl 5.31 | accuracy 66.938 | uer 17.158 | wer 19.041 | raw_wer 19.041 | bleu 22.19 | wps 2358.6 | wpb 4003.4 | bsz 141.8 | num_updates 48622 | best_bleu 22.43
2023-08-22 00:30:17 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 33 @ 48622 updates
2023-08-22 00:30:17 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-22 00:30:22 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt
2023-08-22 00:30:22 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_last.pt (epoch 33 @ 48622 updates, score 22.19) (writing took 4.707257268019021 seconds)
2023-08-22 00:30:22 | INFO | fairseq_cli.train | end of epoch 33 (average epoch stats below)
2023-08-22 00:30:22 | INFO | train | epoch 033 | loss 1.882 | trans_loss 4.746 | nll_loss 1.938 | w2v_ctc_loss 0.602 | task_loss 1.304 | contrastive_loss 0.155 | total 4138.65 | n_correct 2881.27 | ppl 3.83 | accuracy 69.619 | wps 14245.2 | ups 1.72 | wpb 8277.3 | bsz 305.7 | num_updates 48622 | lr 6.41355e-05 | gnorm 0.523 | clip 0 | loss_scale 32 | train_wall 783 | gb_free 17.5 | wall 30920
2023-08-22 00:30:22 | INFO | fairseq.data.iterators | grouped total_num_itrs = 1474
2023-08-22 00:30:22 | INFO | fairseq.trainer | begin training epoch 34
2023-08-22 00:30:22 | INFO | fairseq_cli.train | Start iterating over samples
2023-08-22 00:31:11 | INFO | train_inner | epoch 034:     78 / 1474 loss=1.866, trans_loss=4.734, nll_loss=1.922, w2v_ctc_loss=0.597, task_loss=1.286, contrastive_loss=0.067, total=4128.94, n_correct=2884.84, ppl=3.79, accuracy=69.869, wps=9271.2, ups=1.12, wpb=8257.9, bsz=302.1, num_updates=48700, lr=6.40841e-05, gnorm=0.518, clip=0, loss_scale=32, train_wall=53, gb_free=14.8, wall=30970
2023-08-22 00:32:05 | INFO | train_inner | epoch 034:    178 / 1474 loss=1.864, trans_loss=4.725, nll_loss=1.911, w2v_ctc_loss=0.597, task_loss=1.364, contrastive_loss=0.069, total=4071.22, n_correct=2854.35, ppl=3.76, accuracy=70.11, wps=15187, ups=1.87, wpb=8142.4, bsz=295.1, num_updates=48800, lr=6.40184e-05, gnorm=0.521, clip=0, loss_scale=32, train_wall=53, gb_free=15.2, wall=31023
2023-08-22 00:32:59 | INFO | train_inner | epoch 034:    278 / 1474 loss=1.911, trans_loss=4.744, nll_loss=1.936, w2v_ctc_loss=0.594, task_loss=1.231, contrastive_loss=0.464, total=4237.89, n_correct=2952.37, ppl=3.83, accuracy=69.666, wps=15561.1, ups=1.84, wpb=8475.8, bsz=326.9, num_updates=48900, lr=6.39529e-05, gnorm=0.522, clip=0, loss_scale=32, train_wall=54, gb_free=10, wall=31078
2023-08-22 00:33:53 | INFO | train_inner | epoch 034:    378 / 1474 loss=1.879, trans_loss=4.729, nll_loss=1.917, w2v_ctc_loss=0.591, task_loss=1.23, contrastive_loss=0.249, total=4167, n_correct=2914.42, ppl=3.78, accuracy=69.94, wps=15585.9, ups=1.87, wpb=8334, bsz=319, num_updates=49000, lr=6.38877e-05, gnorm=0.528, clip=0, loss_scale=32, train_wall=53, gb_free=17, wall=31131
2023-08-22 00:34:46 | INFO | train_inner | epoch 034:    478 / 1474 loss=1.875, trans_loss=4.74, nll_loss=1.93, w2v_ctc_loss=0.61, task_loss=1.426, contrastive_loss=0.059, total=4071.65, n_correct=2838.18, ppl=3.81, accuracy=69.706, wps=15270.1, ups=1.88, wpb=8143.3, bsz=284.8, num_updates=49100, lr=6.38226e-05, gnorm=0.533, clip=0, loss_scale=32, train_wall=53, gb_free=11.1, wall=31185
2023-08-22 00:35:40 | INFO | train_inner | epoch 034:    578 / 1474 loss=1.863, trans_loss=4.727, nll_loss=1.914, w2v_ctc_loss=0.594, task_loss=1.324, contrastive_loss=0.061, total=4110.13, n_correct=2877.4, ppl=3.77, accuracy=70.008, wps=15399.8, ups=1.87, wpb=8220.3, bsz=299, num_updates=49200, lr=6.37577e-05, gnorm=0.519, clip=0, loss_scale=32, train_wall=53, gb_free=16.2, wall=31238
2023-08-22 00:36:33 | INFO | train_inner | epoch 034:    678 / 1474 loss=1.865, trans_loss=4.737, nll_loss=1.927, w2v_ctc_loss=0.594, task_loss=1.321, contrastive_loss=0.055, total=4128.65, n_correct=2885.38, ppl=3.8, accuracy=69.887, wps=15532.5, ups=1.88, wpb=8257.3, bsz=300.7, num_updates=49300, lr=6.3693e-05, gnorm=0.519, clip=0, loss_scale=32, train_wall=53, gb_free=17.5, wall=31291
2023-08-22 00:37:26 | INFO | train_inner | epoch 034:    778 / 1474 loss=1.886, trans_loss=4.755, nll_loss=1.95, w2v_ctc_loss=0.595, task_loss=1.368, contrastive_loss=0.182, total=4075.69, n_correct=2832.49, ppl=3.87, accuracy=69.497, wps=15253.7, ups=1.87, wpb=8151.4, bsz=294.5, num_updates=49400, lr=6.36285e-05, gnorm=0.53, clip=0, loss_scale=32, train_wall=53, gb_free=16.9, wall=31345
2023-08-22 00:38:20 | INFO | train_inner | epoch 034:    878 / 1474 loss=1.877, trans_loss=4.744, nll_loss=1.936, w2v_ctc_loss=0.602, task_loss=1.381, contrastive_loss=0.096, total=4104.97, n_correct=2862.41, ppl=3.83, accuracy=69.73, wps=15275.2, ups=1.86, wpb=8209.9, bsz=296.3, num_updates=49500, lr=6.35642e-05, gnorm=0.532, clip=0, loss_scale=32, train_wall=53, gb_free=17.5, wall=31398
2023-08-22 00:39:14 | INFO | train_inner | epoch 034:    978 / 1474 loss=1.876, trans_loss=4.745, nll_loss=1.937, w2v_ctc_loss=0.606, task_loss=1.277, contrastive_loss=0.09, total=4168.94, n_correct=2901.24, ppl=3.83, accuracy=69.592, wps=15522, ups=1.86, wpb=8337.9, bsz=312.8, num_updates=49600, lr=6.35001e-05, gnorm=0.524, clip=0, loss_scale=32, train_wall=53, gb_free=14.6, wall=31452
2023-08-22 00:40:07 | INFO | train_inner | epoch 034:   1078 / 1474 loss=1.871, trans_loss=4.741, nll_loss=1.931, w2v_ctc_loss=0.604, task_loss=1.255, contrastive_loss=0.063, total=4155.12, n_correct=2897.37, ppl=3.81, accuracy=69.73, wps=15678.9, ups=1.89, wpb=8310.2, bsz=309.1, num_updates=49700, lr=6.34361e-05, gnorm=0.516, clip=0, loss_scale=64, train_wall=53, gb_free=16.3, wall=31505
2023-08-22 00:41:00 | INFO | train_inner | epoch 034:   1178 / 1474 loss=1.872, trans_loss=4.741, nll_loss=1.932, w2v_ctc_loss=0.599, task_loss=1.348, contrastive_loss=0.083, total=4096.48, n_correct=2858.06, ppl=3.82, accuracy=69.769, wps=15385.3, ups=1.88, wpb=8193, bsz=297.2, num_updates=49800, lr=6.33724e-05, gnorm=0.528, clip=0, loss_scale=64, train_wall=53, gb_free=16.2, wall=31558
2023-08-22 00:41:54 | INFO | train_inner | epoch 034:   1278 / 1474 loss=1.869, trans_loss=4.739, nll_loss=1.929, w2v_ctc_loss=0.601, task_loss=1.318, contrastive_loss=0.056, total=4149.03, n_correct=2894.07, ppl=3.81, accuracy=69.753, wps=15453.6, ups=1.86, wpb=8298.1, bsz=299.7, num_updates=49900, lr=6.33089e-05, gnorm=0.52, clip=0, loss_scale=64, train_wall=53, gb_free=16, wall=31612
2023-08-22 00:42:48 | INFO | train_inner | epoch 034:   1378 / 1474 loss=1.89, trans_loss=4.75, nll_loss=1.943, w2v_ctc_loss=0.612, task_loss=1.246, contrastive_loss=0.172, total=4200.34, n_correct=2917.78, ppl=3.85, accuracy=69.465, wps=15548.9, ups=1.85, wpb=8400.7, bsz=321.9, num_updates=50000, lr=6.32456e-05, gnorm=0.526, clip=0, loss_scale=64, train_wall=54, gb_free=14.6, wall=31666
2023-08-22 00:42:48 | INFO | fairseq_cli.train | Stopping training due to num_updates: 50000 >= max_update: 50000
2023-08-22 00:42:48 | INFO | fairseq_cli.train | begin validation on "dev_st" subset
2023-08-22 00:43:11 | INFO | dev_st | epoch 034 | valid on 'dev_st' subset | loss 3.982 | trans_loss 5.161 | nll_loss 2.412 | w2v_ctc_loss 1.343 | task_loss 4.581 | contrastive_loss 0.477 | total 4003.4 | n_correct 2684.4 | ppl 5.32 | accuracy 67.053 | uer 17.45 | wer 19.295 | raw_wer 19.295 | bleu 22.42 | wps 2455.4 | wpb 4003.4 | bsz 141.8 | num_updates 50000 | best_bleu 22.43
2023-08-22 00:43:11 | INFO | fairseq.checkpoint_utils | Preparing to save checkpoint for epoch 34 @ 50000 updates
2023-08-22 00:43:11 | INFO | fairseq.trainer | Saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_34_50000.pt
2023-08-22 00:43:13 | INFO | fairseq.trainer | Finished saving checkpoint to /workspace/fairseq-AT/egs/pretrain-all/checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_34_50000.pt
2023-08-22 00:43:17 | INFO | fairseq.checkpoint_utils | Saved checkpoint ./checkpoints/mustc/st/ende_shrink_v2_merge_large_0821_doubleCL_AT_sentence_mixup0307_alpha1.5_mt0.5/checkpoint_34_50000.pt (epoch 34 @ 50000 updates, score 22.42) (writing took 6.696411663084291 seconds)
2023-08-22 00:43:18 | INFO | fairseq_cli.train | end of epoch 34 (average epoch stats below)
2023-08-22 00:43:18 | INFO | train | epoch 034 | loss 1.876 | trans_loss 4.739 | nll_loss 1.93 | w2v_ctc_loss 0.6 | task_loss 1.312 | contrastive_loss 0.13 | total 4133.33 | n_correct 2883.65 | ppl 3.81 | accuracy 69.766 | wps 14681.9 | ups 1.78 | wpb 8266.7 | bsz 304.3 | num_updates 50000 | lr 6.32456e-05 | gnorm 0.524 | clip 0 | loss_scale 64 | train_wall 732 | gb_free 14.6 | wall 31696
2023-08-22 00:43:18 | INFO | fairseq_cli.train | done training in 31650.7 seconds
/usr/lib/python3.8/multiprocessing/resource_tracker.py:216: UserWarning: resource_tracker: There appear to be 1472 leaked semaphore objects to clean up at shutdown
  warnings.warn('resource_tracker: There appear to be %d '
